/*! For license information please see main.cf59af38.js.LICENSE.txt */
(()=>{var e={5513:(e,t,n)=>{"use strict";n.d(t,{A:()=>ie});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),i=Math.abs,o=String.fromCharCode,s=Object.assign;function a(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function u(e,t){return 0|e.charCodeAt(t)}function d(e,t,n){return e.slice(t,n)}function h(e){return e.length}function f(e){return e.length}function p(e,t){return t.push(e),e}var m=1,g=1,v=0,y=0,w=0,b="";function _(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:m,column:g,length:s,return:""}}function S(e,t){return s(_("",null,null,"",null,null,0),e,{length:-e.length},t)}function I(){return w=y>0?u(b,--y):0,g--,10===w&&(g=1,m--),w}function x(){return w=y<v?u(b,y++):0,g++,10===w&&(g=1,m++),w}function k(){return u(b,y)}function E(){return y}function T(e,t){return d(b,e,t)}function C(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function A(e){return m=g=1,v=h(b=e),y=0,[]}function N(e){return b="",e}function R(e){return a(T(y-1,D(91===e?e+2:40===e?e+1:e)))}function P(e){for(;(w=k())&&w<33;)x();return C(e)>2||C(w)>3?"":" "}function O(e,t){for(;--t&&x()&&!(w<48||w>102||w>57&&w<65||w>70&&w<97););return T(e,E()+(t<6&&32==k()&&32==x()))}function D(e){for(;x();)switch(w){case e:return y;case 34:case 39:34!==e&&39!==e&&D(w);break;case 40:41===e&&D(e);break;case 92:x()}return y}function L(e,t){for(;x()&&e+w!==57&&(e+w!==84||47!==k()););return"/*"+T(t,y-1)+"*"+o(47===e?e:x())}function M(e){for(;!C(k());)x();return T(e,y)}var F="-ms-",j="-moz-",U="-webkit-",z="comm",V="rule",B="decl",q="@keyframes";function W(e,t){for(var n="",r=f(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function H(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case B:return e.return=e.return||e.value;case z:return"";case q:return e.return=e.value+"{"+W(e.children,r)+"}";case V:e.value=e.props.join(",")}return h(n=W(e.children,r))?e.return=e.value+"{"+n+"}":""}function K(e){return N(G("",null,null,null,[""],e=A(e),0,[0],e))}function G(e,t,n,r,i,s,a,d,f){for(var m=0,g=0,v=a,y=0,w=0,b=0,_=1,S=1,T=1,C=0,A="",N=i,D=s,F=r,j=A;S;)switch(b=C,C=x()){case 40:if(108!=b&&58==u(j,v-1)){-1!=c(j+=l(R(C),"&","&\f"),"&\f")&&(T=-1);break}case 34:case 39:case 91:j+=R(C);break;case 9:case 10:case 13:case 32:j+=P(b);break;case 92:j+=O(E()-1,7);continue;case 47:switch(k()){case 42:case 47:p($(L(x(),E()),t,n),f);break;default:j+="/"}break;case 123*_:d[m++]=h(j)*T;case 125*_:case 59:case 0:switch(C){case 0:case 125:S=0;case 59+g:-1==T&&(j=l(j,/\f/g,"")),w>0&&h(j)-v&&p(w>32?Y(j+";",r,n,v-1):Y(l(j," ","")+";",r,n,v-2),f);break;case 59:j+=";";default:if(p(F=Q(j,t,n,m,g,i,d,A,N=[],D=[],v),s),123===C)if(0===g)G(j,t,F,F,N,s,v,d,D);else switch(99===y&&110===u(j,3)?100:y){case 100:case 108:case 109:case 115:G(e,F,F,r&&p(Q(e,F,F,0,0,i,d,A,i,N=[],v),D),i,D,v,d,r?N:D);break;default:G(j,F,F,F,[""],D,0,d,D)}}m=g=w=0,_=T=1,A=j="",v=a;break;case 58:v=1+h(j),w=b;default:if(_<1)if(123==C)--_;else if(125==C&&0==_++&&125==I())continue;switch(j+=o(C),C*_){case 38:T=g>0?1:(j+="\f",-1);break;case 44:d[m++]=(h(j)-1)*T,T=1;break;case 64:45===k()&&(j+=R(x())),y=k(),g=v=h(A=j+=M(E())),C++;break;case 45:45===b&&2==h(j)&&(_=0)}}return s}function Q(e,t,n,r,o,s,c,u,h,p,m){for(var g=o-1,v=0===o?s:[""],y=f(v),w=0,b=0,S=0;w<r;++w)for(var I=0,x=d(e,g+1,g=i(b=c[w])),k=e;I<y;++I)(k=a(b>0?v[I]+" "+x:l(x,/&\f/g,v[I])))&&(h[S++]=k);return _(e,t,n,0===o?V:u,h,p,m)}function $(e,t,n){return _(e,t,n,z,o(w),d(e,2,-2),0)}function Y(e,t,n,r){return _(e,t,n,B,d(e,0,r),d(e,r+1,-1),r)}var X=function(e,t,n){for(var r=0,i=0;r=i,i=k(),38===r&&12===i&&(t[n]=1),!C(i);)x();return T(e,y)},J=function(e,t){return N(function(e,t){var n=-1,r=44;do{switch(C(r)){case 0:38===r&&12===k()&&(t[n]=1),e[n]+=X(y-1,t,n);break;case 2:e[n]+=R(r);break;case 4:if(44===r){e[++n]=58===k()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=o(r)}}while(r=x());return e}(A(e),t))},Z=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Z.get(n))&&!r){Z.set(e,!0);for(var i=[],o=J(t,i),s=n.props,a=0,l=0;a<o.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=i[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^u(e,0)?(((t<<2^u(e,0))<<2^u(e,1))<<2^u(e,2))<<2^u(e,3):0}(e,t)){case 5103:return U+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return U+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return U+e+j+e+F+e+e;case 6828:case 4268:return U+e+F+e+e;case 6165:return U+e+F+"flex-"+e+e;case 5187:return U+e+l(e,/(\w+).+(:[^]+)/,U+"box-$1$2"+F+"flex-$1$2")+e;case 5443:return U+e+F+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return U+e+F+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return U+e+F+l(e,"shrink","negative")+e;case 5292:return U+e+F+l(e,"basis","preferred-size")+e;case 6060:return U+"box-"+l(e,"-grow","")+U+e+F+l(e,"grow","positive")+e;case 4554:return U+l(e,/([^-])(transform)/g,"$1"+U+"$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,U+"$1"),/(image-set)/,U+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,U+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,U+"box-pack:$3"+F+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+U+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,U+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(u(e,t+1)){case 109:if(45!==u(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1"+U+"$2-$3$1"+j+(108==u(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?ne(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==u(e,t+1))break;case 6444:switch(u(e,h(e)-3-(~c(e,"!important")&&10))){case 107:return l(e,":",":"+U)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+U+(45===u(e,14)?"inline-":"")+"box$3$1"+U+"$2$3$1"+F+"$2box$3")+e}break;case 5936:switch(u(e,t+11)){case 114:return U+e+F+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return U+e+F+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return U+e+F+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return U+e+F+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case B:e.return=ne(e.value,e.length);break;case q:return W([S(e,{value:l(e.value,"@","@"+U)})],r);case V:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return W([S(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return W([S(e,{props:[l(t,/:(plac\w+)/,":"+U+"input-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,F+"input-$1")]})],r)}return""}))}}],ie=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||re;var o,s,a={},l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;l.push(e)}));var c,u,d=[H,(u=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],h=function(e){var t=f(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}([ee,te].concat(i,d));s=function(e,t,n,r){c=n,W(K(e?e+"{"+t.styles+"}":t.styles),h),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new r({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:s};return p.sheet.hydrate(l),p}},918:(e,t,n)=>{"use strict";function r(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{A:()=>r})},5756:(e,t,n)=>{"use strict";n.d(t,{C:()=>a,T:()=>c,i:()=>o,w:()=>l});var r=n(5043),i=n(5513),o=(n(2830),n(9436),!0),s=r.createContext("undefined"!==typeof HTMLElement?(0,i.A)({key:"css"}):null);var a=s.Provider,l=function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(s);return e(t,i,n)}))};o||(l=function(e){return function(t){var n=(0,r.useContext)(s);return null===n?(n=(0,i.A)({key:"css"}),r.createElement(s.Provider,{value:n},e(t,n))):e(t,n)}});var c=r.createContext({})},3290:(e,t,n)=>{"use strict";n.d(t,{AH:()=>c,i7:()=>u,mL:()=>l});var r=n(5756),i=n(5043),o=n(1722),s=n(9436),a=n(2830),l=(n(5513),n(219),(0,r.w)((function(e,t){var n=e.styles,l=(0,a.J)([n],void 0,i.useContext(r.T));if(!r.i){for(var c,u=l.name,d=l.styles,h=l.next;void 0!==h;)u+=" "+h.name,d+=h.styles,h=h.next;var f=!0===t.compat,p=t.insert("",{name:u,styles:d},t.sheet,f);return f?null:i.createElement("style",((c={})["data-emotion"]=t.key+"-global "+u,c.dangerouslySetInnerHTML={__html:p},c.nonce=t.sheet.nonce,c))}var m=i.useRef();return(0,s.i)((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,i=document.querySelector('style[data-emotion="'+e+" "+l.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==i&&(r=!0,i.setAttribute("data-emotion",e),n.hydrate([i])),m.current=[n,r],function(){n.flush()}}),[t]),(0,s.i)((function(){var e=m.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==l.next&&(0,o.sk)(t,l.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",l,n,!1)}}),[t,l.name]),null})));function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.J)(t)}var u=function(){var e=c.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},2830:(e,t,n)=>{"use strict";n.d(t,{J:()=>p});var r={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},i=n(918),o=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,a=function(e){return 45===e.charCodeAt(1)},l=function(e){return null!=e&&"boolean"!==typeof e},c=(0,i.A)((function(e){return a(e)?e:e.replace(o,"-$&").toLowerCase()})),u=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(s,(function(e,t,n){return h={name:t,styles:n,next:h},t}))}return 1===r[e]||a(e)||"number"!==typeof t||0===t?t:t+"px"};function d(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return h={name:n.name,styles:n.styles,next:h},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)h={name:r.name,styles:r.styles,next:h},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=d(e,t,n[i])+";";else for(var o in n){var s=n[o];if("object"!==typeof s)null!=t&&void 0!==t[s]?r+=o+"{"+t[s]+"}":l(s)&&(r+=c(o)+":"+u(o,s)+";");else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var a=d(e,t,s);switch(o){case"animation":case"animationName":r+=c(o)+":"+a+";";break;default:r+=o+"{"+a+"}"}}else for(var h=0;h<s.length;h++)l(s[h])&&(r+=c(o)+":"+u(o,s[h])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=h,o=n(e);return h=i,d(e,t,o)}}if(null==t)return n;var s=t[n];return void 0!==s?s:n}var h,f=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var p=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";h=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=d(n,t,o)):i+=o[0];for(var s=1;s<e.length;s++)i+=d(n,t,e[s]),r&&(i+=o[s]);f.lastIndex=0;for(var a,l="";null!==(a=f.exec(i));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:h}}},9436:(e,t,n)=>{"use strict";var r;n.d(t,{i:()=>a,s:()=>s});var i=n(5043),o=!!(r||(r=n.t(i,2))).useInsertionEffect&&(r||(r=n.t(i,2))).useInsertionEffect,s=o||function(e){return e()},a=o||i.useLayoutEffect},1722:(e,t,n)=>{"use strict";n.d(t,{Rk:()=>r,SF:()=>i,sk:()=>o});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var i=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},o=function(e,t,n){i(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+r:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}}},7713:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalStyles:()=>I,StyledEngineProvider:()=>S,ThemeContext:()=>l.T,css:()=>y.AH,default:()=>x,internal_processStyles:()=>k,keyframes:()=>y.i7});var r=n(8168),i=n(5043),o=n(918),s=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,a=(0,o.A)((function(e){return s.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),l=n(5756),c=n(1722),u=n(2830),d=n(9436),h=a,f=function(e){return"theme"!==e},p=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?h:f},m=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},g=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,c.SF)(t,n,r),(0,d.s)((function(){return(0,c.sk)(t,n,r)})),null},v=function e(t,n){var o,s,a=t.__emotion_real===t,d=a&&t.__emotion_base||t;void 0!==n&&(o=n.label,s=n.target);var h=m(t,n,a),f=h||p(d),v=!f("as");return function(){var y=arguments,w=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==o&&w.push("label:"+o+";"),null==y[0]||void 0===y[0].raw)w.push.apply(w,y);else{0,w.push(y[0][0]);for(var b=y.length,_=1;_<b;_++)w.push(y[_],y[0][_])}var S=(0,l.w)((function(e,t,n){var r=v&&e.as||d,o="",a=[],m=e;if(null==e.theme){for(var y in m={},e)m[y]=e[y];m.theme=i.useContext(l.T)}"string"===typeof e.className?o=(0,c.Rk)(t.registered,a,e.className):null!=e.className&&(o=e.className+" ");var b=(0,u.J)(w.concat(a),t.registered,m);o+=t.key+"-"+b.name,void 0!==s&&(o+=" "+s);var _=v&&void 0===h?p(r):f,S={};for(var I in e)v&&"as"===I||_(I)&&(S[I]=e[I]);return S.className=o,S.ref=n,i.createElement(i.Fragment,null,i.createElement(g,{cache:t,serialized:b,isStringTag:"string"===typeof r}),i.createElement(r,S))}));return S.displayName=void 0!==o?o:"Styled("+("string"===typeof d?d:d.displayName||d.name||"Component")+")",S.defaultProps=t.defaultProps,S.__emotion_real=S,S.__emotion_base=d,S.__emotion_styles=w,S.__emotion_forwardProp=h,Object.defineProperty(S,"toString",{value:function(){return"."+s}}),S.withComponent=function(t,i){return e(t,(0,r.A)({},n,i,{shouldForwardProp:m(S,i,!0)})).apply(void 0,w)},S}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){v[e]=v(e)}));var y=n(3290),w=n(5513),b=n(579);let _;function S(e){const{injectFirst:t,children:n}=e;return t&&_?(0,b.jsx)(l.C,{value:_,children:n}):n}function I(e){const{styles:t,defaultTheme:n={}}=e,r="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,b.jsx)(y.mL,{styles:r})}function x(e,t){return v(e,t)}"object"===typeof document&&(_=(0,w.A)({key:"css",prepend:!0}));const k=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},7266:(e,t,n)=>{"use strict";var r=n(4994);t.X4=f,t.e$=p,t.eM=function(e,t){const n=h(e),r=h(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},t.a=m;var i=r(n(7245)),o=r(n(5383));function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,o.default)(e,t,n)}function a(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}function l(e){if(e.type)return e;if("#"===e.charAt(0))return l(a(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,i.default)(9,e));let r,o=e.substring(t+1,e.length-1);if("color"===n){if(o=o.split(" "),r=o.shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,i.default)(10,r))}else o=o.split(",");return o=o.map((e=>parseFloat(e))),{type:n,values:o,colorSpace:r}}const c=e=>{const t=l(e);return t.values.slice(0,3).map(((e,n)=>-1!==t.type.indexOf("hsl")&&0!==n?"".concat(e,"%"):e)).join(" ")};function u(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function d(e){e=l(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const c=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",c.push(t[3])),u({type:a,values:c})}function h(e){let t="hsl"===(e=l(e)).type||"hsla"===e.type?l(d(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function f(e,t){return e=l(e),t=s(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,u(e)}function p(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return u(e)}function m(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return u(e)}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return h(e)>.5?p(e,t):m(e,t)}},8052:(e,t,n)=>{"use strict";var r=n(4994);t.Ay=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=m,rootShouldForwardProp:r=p,slotShouldForwardProp:l=p}=e,u=e=>(0,c.default)((0,i.default)({},e,{theme:v((0,i.default)({},e,{defaultTheme:n,themeId:t}))}));return u.__mui_systemSx=!0,function(e){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:d,slot:f,skipVariantsResolver:m,skipSx:b,overridesResolver:_=y(g(f))}=c,S=(0,o.default)(c,h),I=void 0!==m?m:f&&"Root"!==f&&"root"!==f||!1,x=b||!1;let k=p;"Root"===f||"root"===f?k=r:f?k=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(k=void 0);const E=(0,s.default)(e,(0,i.default)({shouldForwardProp:k,label:undefined},S)),T=e=>"function"===typeof e&&e.__emotion_real!==e||(0,a.isPlainObject)(e)?r=>w(e,(0,i.default)({},r,{theme:v({theme:r.theme,defaultTheme:n,themeId:t})})):e,C=function(r){let o=T(r);for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];const c=a?a.map(T):[];d&&_&&c.push((e=>{const r=v((0,i.default)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[d]||!r.components[d].styleOverrides)return null;const o=r.components[d].styleOverrides,s={};return Object.entries(o).forEach((t=>{let[n,o]=t;s[n]=w(o,(0,i.default)({},e,{theme:r}))})),_(e,s)})),d&&!I&&c.push((e=>{var r;const o=v((0,i.default)({},e,{defaultTheme:n,themeId:t}));return w({variants:null==o||null==(r=o.components)||null==(r=r[d])?void 0:r.variants},(0,i.default)({},e,{theme:o}))})),x||c.push(u);const h=c.length-a.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");o=[...r,...e],o.raw=[...r.raw,...e]}const f=E(o,...c);return e.muiName&&(f.muiName=e.muiName),f};return E.withConfig&&(C.withConfig=E.withConfig),C}};var i=r(n(4634)),o=r(n(4893)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(7713)),a=n(4534),l=(r(n(578)),r(n(2046)),r(n(4989))),c=r(n(3234));const u=["ownerState"],d=["variants"],h=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const m=(0,l.default)(),g=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function v(e){let{defaultTheme:t,theme:n,themeId:r}=e;return i=n,0===Object.keys(i).length?t:n[r]||n;var i}function y(e){return e?(t,n)=>n[e]:null}function w(e,t){let{ownerState:n}=t,r=(0,o.default)(t,u);const s="function"===typeof e?e((0,i.default)({ownerState:n},r)):e;if(Array.isArray(s))return s.flatMap((e=>w(e,(0,i.default)({ownerState:n},r))));if(s&&"object"===typeof s&&Array.isArray(s.variants)){const{variants:e=[]}=s;let t=(0,o.default)(s,d);return e.forEach((e=>{let o=!0;"function"===typeof e.props?o=e.props((0,i.default)({ownerState:n},r,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&r[t]!==e.props[t]&&(o=!1)})),o&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,i.default)({ownerState:n},r,n)):e.style))})),t}return s}},9751:(e,t,n)=>{"use strict";n.d(t,{EU:()=>a,NI:()=>s,iZ:()=>c,kW:()=>u,vf:()=>l,zu:()=>i});var r=n(3216);const i={xs:0,sm:600,md:900,lg:1200,xl:1536},o={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(i[e],"px)")};function s(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||o;return t.reduce(((r,i,o)=>(r[e.up(e.keys[o])]=n(t[o]),r)),{})}if("object"===typeof t){const e=r.breakpoints||o;return Object.keys(t).reduce(((r,o)=>{if(-1!==Object.keys(e.values||i).indexOf(o)){r[e.up(o)]=n(t[o],o)}else{const e=o;r[e]=t[e]}return r}),{})}return n(t)}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function l(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function c(e){const t=a(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];const s=[t,...i].reduce(((e,t)=>(0,r.A)(e,t)),{});return l(Object.keys(t),s)}function u(e){let{values:t,breakpoints:n,base:r}=e;const i=r||function(e,t){if("object"!==typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach(((t,r)=>{r<e.length&&(n[t]=!0)})):r.forEach((t=>{null!=e[t]&&(n[t]=!0)})),n}(t,n),o=Object.keys(i);if(0===o.length)return t;let s;return o.reduce(((e,n,r)=>(Array.isArray(t)?(e[n]=null!=t[r]?t[r]:t[s],s=r):"object"===typeof t?(e[n]=null!=t[n]?t[n]:t[s],s=n):e[n]=t,e)),{})}},9703:(e,t,n)=>{"use strict";function r(e,t){const n=this;if(n.vars&&"function"===typeof n.getColorSchemeSelector){return{[n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}}return n.palette.mode===e?t:{}}n.d(t,{A:()=>r})},4853:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(8587),i=n(8168);const o=["values","unit","step"],s=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>(0,i.A)({},e,{[t.key]:t.val})),{})};function a(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:a=5}=e,l=(0,r.A)(e,o),c=s(t),u=Object.keys(c);function d(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function h(e){const r="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(r-a/100).concat(n,")")}function f(e,r){const i=u.indexOf(r);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==i&&"number"===typeof t[u[i]]?t[u[i]]:r)-a/100).concat(n,")")}return(0,i.A)({keys:u,values:c,up:d,down:h,between:f,only:function(e){return u.indexOf(e)+1<u.length?f(e,u[u.indexOf(e)+1]):d(e)},not:function(e){const t=u.indexOf(e);return 0===t?d(u[1]):t===u.length-1?h(u[t]):f(e,u[u.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},l)}},8280:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(8168),i=n(8587),o=n(3216),s=n(4853);const a={borderRadius:4};var l=n(8604);var c=n(8812),u=n(7758),d=n(9703);const h=["breakpoints","palette","spacing","shape"];const f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:f,shape:p={}}=e,m=(0,i.A)(e,h),g=(0,s.A)(t),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=(0,l.LX)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(f);let y=(0,o.A)({breakpoints:g,direction:"ltr",components:{},palette:(0,r.A)({mode:"light"},n),spacing:v,shape:(0,r.A)({},a,p)},m);y.applyStyles=d.A;for(var w=arguments.length,b=new Array(w>1?w-1:0),_=1;_<w;_++)b[_-1]=arguments[_];return y=b.reduce(((e,t)=>(0,o.A)(e,t)),y),y.unstable_sxConfig=(0,r.A)({},u.A,null==m?void 0:m.unstable_sxConfig),y.unstable_sx=function(e){return(0,c.A)({sx:e,theme:this})},y}},4989:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,private_createBreakpoints:()=>i.A,unstable_applyStyles:()=>o.A});var r=n(8280),i=n(4853),o=n(9703)},3815:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(3216);const i=function(e,t){return t?(0,r.A)(e,t,{clone:!1}):e}},8604:(e,t,n)=>{"use strict";n.d(t,{LX:()=>p,MA:()=>f,_W:()=>m,Lc:()=>y,Ms:()=>w});var r=n(9751),i=n(7162),o=n(3815);const s={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!l[e])return[e];e=l[e]}const[t,n]=e.split(""),r=s[t],i=a[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})),u=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[...u,...d];function f(e,t,n,r){var o;const s=null!=(o=(0,i.Yn)(e,t,!1))?o:n;return"number"===typeof s?e=>"string"===typeof e?e:s*e:Array.isArray(s)?e=>"string"===typeof e?e:s[e]:"function"===typeof s?s:()=>{}}function p(e){return f(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function g(e,t,n,i){if(-1===t.indexOf(n))return null;const o=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=m(t,n),e)),{})}(c(n),i),s=e[n];return(0,r.NI)(e,s,o)}function v(e,t){const n=p(e.theme);return Object.keys(e).map((r=>g(e,t,r,n))).reduce(o.A,{})}function y(e){return v(e,u)}function w(e){return v(e,d)}function b(e){return v(e,h)}y.propTypes={},y.filterProps=u,w.propTypes={},w.filterProps=d,b.propTypes={},b.filterProps=h},7162:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a,BO:()=>s,Yn:()=>o});var r=n(410),i=n(9751);function o(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function s(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:o(e,n)||i,t&&(r=t(r,i,e)),r}const a=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:a,transform:l}=e,c=e=>{if(null==e[t])return null;const c=e[t],u=o(e.theme,a)||{};return(0,i.NI)(e,c,(e=>{let i=s(u,l,e);return e===i&&"string"===typeof e&&(i=s(u,l,"".concat(t).concat("default"===e?"":(0,r.A)(e)),e)),!1===n?i:{[n]:i}}))};return c.propTypes={},c.filterProps=[t],c}},7758:(e,t,n)=>{"use strict";n.d(t,{A:()=>D});var r=n(8604),i=n(7162),o=n(3815);const s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),i=e=>Object.keys(e).reduce(((t,n)=>r[n]?(0,o.A)(t,r[n](e)):t),{});return i.propTypes={},i.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),i};var a=n(9751);function l(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function c(e,t){return(0,i.Ay)({prop:e,themeKey:"borders",transform:t})}const u=c("border",l),d=c("borderTop",l),h=c("borderRight",l),f=c("borderBottom",l),p=c("borderLeft",l),m=c("borderColor"),g=c("borderTopColor"),v=c("borderRightColor"),y=c("borderBottomColor"),w=c("borderLeftColor"),b=c("outline",l),_=c("outlineColor"),S=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,r.MA)(e.theme,"shape.borderRadius",4,"borderRadius"),n=e=>({borderRadius:(0,r._W)(t,e)});return(0,a.NI)(e,e.borderRadius,n)}return null};S.propTypes={},S.filterProps=["borderRadius"];s(u,d,h,f,p,m,g,v,y,w,S,b,_);const I=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,r.MA)(e.theme,"spacing",8,"gap"),n=e=>({gap:(0,r._W)(t,e)});return(0,a.NI)(e,e.gap,n)}return null};I.propTypes={},I.filterProps=["gap"];const x=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,r.MA)(e.theme,"spacing",8,"columnGap"),n=e=>({columnGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.columnGap,n)}return null};x.propTypes={},x.filterProps=["columnGap"];const k=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,r.MA)(e.theme,"spacing",8,"rowGap"),n=e=>({rowGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.rowGap,n)}return null};k.propTypes={},k.filterProps=["rowGap"];s(I,x,k,(0,i.Ay)({prop:"gridColumn"}),(0,i.Ay)({prop:"gridRow"}),(0,i.Ay)({prop:"gridAutoFlow"}),(0,i.Ay)({prop:"gridAutoColumns"}),(0,i.Ay)({prop:"gridAutoRows"}),(0,i.Ay)({prop:"gridTemplateColumns"}),(0,i.Ay)({prop:"gridTemplateRows"}),(0,i.Ay)({prop:"gridTemplateAreas"}),(0,i.Ay)({prop:"gridArea"}));function E(e,t){return"grey"===t?t:e}s((0,i.Ay)({prop:"color",themeKey:"palette",transform:E}),(0,i.Ay)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:E}),(0,i.Ay)({prop:"backgroundColor",themeKey:"palette",transform:E}));function T(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const C=(0,i.Ay)({prop:"width",transform:T}),A=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const i=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||a.zu[t];return i?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:T(t)}};return(0,a.NI)(e,e.maxWidth,t)}return null};A.filterProps=["maxWidth"];const N=(0,i.Ay)({prop:"minWidth",transform:T}),R=(0,i.Ay)({prop:"height",transform:T}),P=(0,i.Ay)({prop:"maxHeight",transform:T}),O=(0,i.Ay)({prop:"minHeight",transform:T}),D=((0,i.Ay)({prop:"size",cssProperty:"width",transform:T}),(0,i.Ay)({prop:"size",cssProperty:"height",transform:T}),s(C,A,N,R,P,O,(0,i.Ay)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:S},color:{themeKey:"palette",transform:E},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:E},backgroundColor:{themeKey:"palette",transform:E},p:{style:r.Ms},pt:{style:r.Ms},pr:{style:r.Ms},pb:{style:r.Ms},pl:{style:r.Ms},px:{style:r.Ms},py:{style:r.Ms},padding:{style:r.Ms},paddingTop:{style:r.Ms},paddingRight:{style:r.Ms},paddingBottom:{style:r.Ms},paddingLeft:{style:r.Ms},paddingX:{style:r.Ms},paddingY:{style:r.Ms},paddingInline:{style:r.Ms},paddingInlineStart:{style:r.Ms},paddingInlineEnd:{style:r.Ms},paddingBlock:{style:r.Ms},paddingBlockStart:{style:r.Ms},paddingBlockEnd:{style:r.Ms},m:{style:r.Lc},mt:{style:r.Lc},mr:{style:r.Lc},mb:{style:r.Lc},ml:{style:r.Lc},mx:{style:r.Lc},my:{style:r.Lc},margin:{style:r.Lc},marginTop:{style:r.Lc},marginRight:{style:r.Lc},marginBottom:{style:r.Lc},marginLeft:{style:r.Lc},marginX:{style:r.Lc},marginY:{style:r.Lc},marginInline:{style:r.Lc},marginInlineStart:{style:r.Lc},marginInlineEnd:{style:r.Lc},marginBlock:{style:r.Lc},marginBlockStart:{style:r.Lc},marginBlockEnd:{style:r.Lc},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:I},rowGap:{style:k},columnGap:{style:x},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:T},maxWidth:{style:A},minWidth:{transform:T},height:{transform:T},maxHeight:{transform:T},minHeight:{transform:T},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},8698:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(8168),i=n(8587),o=n(3216),s=n(7758);const a=["sx"],l=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:s.A;return Object.keys(e).forEach((t=>{i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function c(e){const{sx:t}=e,n=(0,i.A)(e,a),{systemProps:s,otherProps:c}=l(n);let u;return u=Array.isArray(t)?[s,...t]:"function"===typeof t?function(){const e=t(...arguments);return(0,o.Q)(e)?(0,r.A)({},s,e):s}:(0,r.A)({},s,t),(0,r.A)({},c,{sx:u})}},3234:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,extendSxProp:()=>i.A,unstable_createStyleFunctionSx:()=>r.k,unstable_defaultSxConfig:()=>o.A});var r=n(8812),i=n(8698),o=n(7758)},8812:(e,t,n)=>{"use strict";n.d(t,{A:()=>u,k:()=>l});var r=n(410),i=n(3815),o=n(7162),s=n(9751),a=n(7758);function l(){function e(e,t,n,i){const a={[e]:t,theme:n},l=i[e];if(!l)return{[e]:t};const{cssProperty:c=e,themeKey:u,transform:d,style:h}=l;if(null==t)return null;if("typography"===u&&"inherit"===t)return{[e]:t};const f=(0,o.Yn)(n,u)||{};if(h)return h(a);return(0,s.NI)(a,t,(t=>{let n=(0,o.BO)(f,d,t);return t===n&&"string"===typeof t&&(n=(0,o.BO)(f,d,"".concat(e).concat("default"===t?"":(0,r.A)(t)),t)),!1===c?n:{[c]:n}}))}return function t(n){var r;const{sx:o,theme:l={}}=n||{};if(!o)return null;const c=null!=(r=l.unstable_sxConfig)?r:a.A;function u(n){let r=n;if("function"===typeof n)r=n(l);else if("object"!==typeof n)return n;if(!r)return null;const o=(0,s.EU)(l.breakpoints),a=Object.keys(o);let u=o;return Object.keys(r).forEach((n=>{const o=(a=r[n],d=l,"function"===typeof a?a(d):a);var a,d;if(null!==o&&void 0!==o)if("object"===typeof o)if(c[n])u=(0,i.A)(u,e(n,o,l,c));else{const e=(0,s.NI)({theme:l},o,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),i=new Set(r);return t.every((e=>i.size===Object.keys(e).length))}(e,o)?u=(0,i.A)(u,e):u[n]=t({sx:o,theme:l})}else u=(0,i.A)(u,e(n,o,l,c))})),(0,s.vf)(a,u)}return Array.isArray(o)?o.map(u):u(o)}}const c=l();c.filterProps=["sx"];const u=c},410:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(6632);function i(e){if("string"!==typeof e)throw new Error((0,r.A)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},578:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(410)},7040:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))}},5383:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(7040)},3216:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,Q:()=>i});var r=n(8168);function i(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function o(e){if(!i(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=o(e[n])})),t}function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const a=n.clone?(0,r.A)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((r=>{"__proto__"!==r&&(i(t[r])&&r in e&&i(e[r])?a[r]=s(e[r],t[r],n):n.clone?a[r]=i(t[r])?o(t[r]):t[r]:a[r]=t[r])})),a}},4534:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,isPlainObject:()=>r.Q});var r=n(3216)},6632:(e,t,n)=>{"use strict";function r(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{A:()=>r})},7245:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(6632)},2046:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,getFunctionName:()=>o});var r=n(2086);const i=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function o(e){const t="".concat(e).match(i);return t&&t[1]||""}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||o(e)||t}function a(e,t,n){const r=s(t);return e.displayName||(""!==r?"".concat(n,"(").concat(r,")"):n)}function l(e){if(null!=e){if("string"===typeof e)return e;if("function"===typeof e)return s(e,"Component");if("object"===typeof e)switch(e.$$typeof){case r.ForwardRef:return a(e,e.render,"ForwardRef");case r.Memo:return a(e,e.type,"memo");default:return}}}},219:(e,t,n)=>{"use strict";var r=n(3763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=l(t),m=l(n),g=0;g<s.length;++g){var v=s[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!a||!a[v])){var y=h(n,v);try{c(t,v,y)}catch(w){}}}}return t}},4983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function S(e){return _(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return S(e)||_(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===a||e===s||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===w||e.$$typeof===b||e.$$typeof===v)},t.typeOf=_},3763:(e,t,n)=>{"use strict";e.exports=n(4983)},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5173:(e,t,n)=>{e.exports=n(1497)()},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),S=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function V(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case S:return"Portal";case k:return"Profiler";case x:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ie=null,xe=null;function ke(e){if(e=wi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=_i(t),Se(e.stateNode,e.type,t))}}function Ee(e){Ie?xe?xe.push(e):xe=[e]:Ie=e}function Te(){if(Ie){var e=Ie,t=xe;if(xe=Ie=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Re(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==Ie||null!==xe)&&(Ae(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Oe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Oe=!1}function Le(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Fe=null,je=!1,Ue=null,ze={onError:function(e){Me=!0,Fe=e}};function Ve(e,t,n,r,i,o,s,a,l){Me=!1,Fe=null,Le.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return We(i),e;if(s===r)return We(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=dt(a):0!==(o&=s)&&(r=dt(o))}else 0!==(s=n&~i)?r=dt(s):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,St,It,xt,kt,Et=!1,Tt=[],Ct=null,At=null,Nt=null,Rt=new Map,Pt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void kt(e.priority,(function(){It(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function zt(){Et=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==At&&jt(At)&&(At=null),null!==Nt&&jt(Nt)&&(Nt=null),Rt.forEach(Ut),Pt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Bt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Vt(Ct,e),null!==At&&Vt(At,e),null!==Nt&&Vt(Nt,e),Rt.forEach(t),Pt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=wt,o=qt.transition;qt.transition=null;try{wt=1,Gt(e,t,n,r)}finally{wt=i,qt.transition=o}}function Kt(e,t,n,r){var i=wt,o=qt.transition;qt.transition=null;try{wt=4,Gt(e,t,n,r)}finally{wt=i,qt.transition=o}}function Gt(e,t,n,r){if(Wt){var i=$t(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Rt.set(o,Mt(Rt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pt.set(o,Mt(Pt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=wi(i);if(null!==o&&_t(o),null===(o=$t(e,t,n,r))&&Wr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=yi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=F({},cn,{view:0,detail:0}),hn=on(dn),fn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),mn=on(F({},fn,{dataTransfer:0})),gn=on(F({},dn,{relatedTarget:0})),vn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=on(yn),bn=on(F({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function kn(){return xn}var En=F({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(En),Cn=on(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=on(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Nn=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(Rn),On=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,Fn=u&&(!Dn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function zn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ee(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){jr(e,0)}function $n(e){if(G(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Hn(t,Gn,e,_e(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function or(e,t){if("click"===e)return $n(t)}function sr(e,t){if("input"===e||"change"===e)return $n(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Ir={},xr={};function kr(e){if(Ir[e])return Ir[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return Ir[e]=n[t];return e}u&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Er=kr("animationend"),Tr=kr("animationiteration"),Cr=kr("animationstart"),Ar=kr("transitionend"),Nr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Nr.set(e,t),l(t,[e])}for(var Or=0;Or<Rr.length;Or++){var Dr=Rr[Or];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Er,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(o(198));var u=Fe;Me=!1,Fe=null,je||(je=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=l}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,zr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=yi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Re((function(){var r=o,i=_e(n),s=[];e:{var a=Nr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Er:case Tr:case Cr:l=vn;break;case Ar:l=Nn;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Pe(p,h))&&u.push(Hr(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:bi(l),f=null==c?a:bi(c),(a=new u(m,p+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=h;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Qr(s,a,l,u,!1),null!==c&&null!==d&&Qr(s,d,c,u,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Yn;else if(Wn(a))if(Xn)g=sr;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?Hn(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?bi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(s,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Bn?zn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Bn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(v=Kr(r,w)).length&&(w=new bn(w,e,null,n,i),s.push({event:w,listeners:v}),y?w.data=y:null!==(y=Vn(n))&&(w.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&zn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}jr(s,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Pe(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Pe(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Pe(n,o))&&s.unshift(Hr(n,l,a)):i||null!=(l=Pe(n,o))&&s.push(Hr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function _i(e){return e[fi]||null}var Si=[],Ii=-1;function xi(e){return{current:e}}function ki(e){0>Ii||(e.current=Si[Ii],Si[Ii]=null,Ii--)}function Ei(e,t){Ii++,Si[Ii]=e.current,e.current=t}var Ti={},Ci=xi(Ti),Ai=xi(!1),Ni=Ti;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){ki(Ai),ki(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(o(168));Ei(Ci,t),Ei(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ci.current,Ei(Ci,e),Ei(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,ki(Ai),ki(Ci),Ei(Ci,e)):ki(Ai),Ei(Ai,n)}var ji=null,Ui=!1,zi=!1;function Vi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!zi&&null!==ji){zi=!0;var e=0,t=wt;try{var n=ji;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,Bi),i}finally{wt=t,zi=!1}}return null}var qi=[],Wi=0,Hi=null,Ki=0,Gi=[],Qi=0,$i=null,Yi=1,Xi="";function Ji(e,t){qi[Wi++]=Ki,qi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Yi=1<<32-st(t)+i|n<<i|r,Xi=o+e}else Yi=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===$i;)$i=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=b.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wo(e){return(0,e._init)(e._payload)}function bo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===I?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&wo(o)===t.type)?((r=i(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case S:return(t=jc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);yo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);yo(t,r)}return null}function m(i,o,a,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=s(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(i,d),io&&Ji(i,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(o=s(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Ji(i,m),c}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Ji(i,m),c}function g(i,a,l,c){var u=L(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,c);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),a=s(w,a,g),null===d?u=w:d.sibling=w,d=w,m=v}if(y.done)return n(i,m),io&&Ji(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return io&&Ji(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),io&&Ji(i,g),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===I&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case _:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===I){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&wo(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=vo(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===I?((o=Lc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Dc(s.type,s.key,s.props,null,r.mode,l)).ref=vo(r,o,s),l.return=r,r=l)}return a(r);case S:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=jc(s,r.mode,l)).return=r,r=o}return a(r);case P:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return m(r,o,s,l);if(L(s))return g(r,o,s,l);yo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Fc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var _o=bo(!0),So=bo(!1),Io=xi(null),xo=null,ko=null,Eo=null;function To(){Eo=ko=xo=null}function Co(e){var t=Io.current;ki(Io),e._currentValue=t}function Ao(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function No(e,t){xo=e,Eo=ko=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function Ro(e){var t=e._currentValue;if(Eo!==e)if(e={context:e,memoizedValue:t,next:null},null===ko){if(null===xo)throw Error(o(308));ko=e,xo.dependencies={lanes:0,firstContext:e}}else ko=ko.next=e;return t}var Po=null;function Oo(e){null===Po?Po=[e]:Po.push(e)}function Do(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Oo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Lo(e,r)}function Lo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mo=!1;function Fo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Lo(e,n)}return null===(i=r.interleaved)?(t.next=t,Oo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Lo(e,n)}function Vo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Bo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qo(e,t,n,r){var i=e.updateQueue;Mo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=F({},d,h);break e;case 2:Mo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ml|=s,e.lanes=s,e.memoizedState=d}}function Wo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Ho={},Ko=xi(Ho),Go=xi(Ho),Qo=xi(Ho);function $o(e){if(e===Ho)throw Error(o(174));return e}function Yo(e,t){switch(Ei(Qo,t),Ei(Go,e),Ei(Ko,Ho),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Ko),Ei(Ko,t)}function Xo(){ki(Ko),ki(Go),ki(Qo)}function Jo(e){$o(Qo.current);var t=$o(Ko.current),n=le(t,e.type);t!==n&&(Ei(Go,e),Ei(Ko,n))}function Zo(e){Go.current===e&&(ki(Ko),ki(Go))}var es=xi(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var is=b.ReactCurrentDispatcher,os=b.ReactCurrentBatchConfig,ss=0,as=null,ls=null,cs=null,us=!1,ds=!1,hs=0,fs=0;function ps(){throw Error(o(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,i,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=null===e||null===e.memoizedState?Zs:ea,e=n(r,i),ds){s=0;do{if(ds=!1,hs=0,25<=s)throw Error(o(301));s+=1,cs=ls=null,t.updateQueue=null,is.current=ta,e=n(r,i)}while(ds)}if(is.current=Js,t=null!==ls&&null!==ls.next,ss=0,cs=ls=as=null,us=!1,t)throw Error(o(300));return e}function vs(){var e=0!==hs;return hs=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=e:cs=cs.next=e,cs}function ws(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?as.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?as.memoizedState=cs=e:cs=cs.next=e}return cs}function bs(e,t){return"function"===typeof t?t(e):t}function _s(e){var t=ws(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ls,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((ss&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,as.lanes|=d,Ml|=d}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,as.lanes|=s,Ml|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ss(e){var t=ws(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(wa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Is(){}function xs(e,t){var n=as,r=ws(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,wa=!0),r=r.queue,Ms(Ts.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Rs(9,Es.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(o(349));0!==(30&ss)||ks(n,t,i)}return i}function ks(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Es(e,t,n,r){t.value=n,t.getSnapshot=r,Cs(t)&&As(e)}function Ts(e,t,n){return n((function(){Cs(t)&&As(e)}))}function Cs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function As(e){var t=Lo(e,1);null!==t&&nc(t,e,1,-1)}function Ns(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},t.queue=e,e=e.dispatch=Qs.bind(null,as,e),[t.memoizedState,e]}function Rs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ps(){return ws().memoizedState}function Os(e,t,n,r){var i=ys();as.flags|=e,i.memoizedState=Rs(1|t,n,void 0,void 0===r?null:r)}function Ds(e,t,n,r){var i=ws();r=void 0===r?null:r;var o=void 0;if(null!==ls){var s=ls.memoizedState;if(o=s.destroy,null!==r&&ms(r,s.deps))return void(i.memoizedState=Rs(t,n,o,r))}as.flags|=e,i.memoizedState=Rs(1|t,n,o,r)}function Ls(e,t){return Os(8390656,8,e,t)}function Ms(e,t){return Ds(2048,8,e,t)}function Fs(e,t){return Ds(4,2,e,t)}function js(e,t){return Ds(4,4,e,t)}function Us(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ds(4,4,Us.bind(null,t,e),n)}function Vs(){}function Bs(e,t){var n=ws();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qs(e,t){var n=ws();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ws(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),as.lanes|=n,Ml|=n,e.baseState=!0),t)}function Hs(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=os.transition;os.transition={};try{e(!1),t()}finally{wt=n,os.transition=r}}function Ks(){return ws().memoizedState}function Gs(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$s(e))Ys(t,n);else if(null!==(n=Do(e,t,n,r))){nc(n,e,r,ec()),Xs(n,t,r)}}function Qs(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($s(e))Ys(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,Oo(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Do(e,t,i,r))&&(nc(n,e,r,i=ec()),Xs(n,t,r))}}function $s(e){var t=e.alternate;return e===as||null!==t&&t===as}function Ys(e,t){ds=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xs(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Js={readContext:Ro,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},Zs={readContext:Ro,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Ro,useEffect:Ls,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Os(4194308,4,Us.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Os(4194308,4,e,t)},useInsertionEffect:function(e,t){return Os(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ys();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gs.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:Ns,useDebugValue:Vs,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=Ns(!1),t=e[0];return e=Hs.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,i=ys();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Al)throw Error(o(349));0!==(30&ss)||ks(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ls(Ts.bind(null,r,s,e),[e]),r.flags|=2048,Rs(9,Es.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=Al.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-st(Yi)-1)).toString(32)+n),0<(n=hs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ro,useCallback:Bs,useContext:Ro,useEffect:Ms,useImperativeHandle:zs,useInsertionEffect:Fs,useLayoutEffect:js,useMemo:qs,useReducer:_s,useRef:Ps,useState:function(){return _s(bs)},useDebugValue:Vs,useDeferredValue:function(e){return Ws(ws(),ls.memoizedState,e)},useTransition:function(){return[_s(bs)[0],ws().memoizedState]},useMutableSource:Is,useSyncExternalStore:xs,useId:Ks,unstable_isNewReconciler:!1},ta={readContext:Ro,useCallback:Bs,useContext:Ro,useEffect:Ms,useImperativeHandle:zs,useInsertionEffect:Fs,useLayoutEffect:js,useMemo:qs,useReducer:Ss,useRef:Ps,useState:function(){return Ss(bs)},useDebugValue:Vs,useDeferredValue:function(e){var t=ws();return null===ls?t.memoizedState=e:Ws(t,ls.memoizedState,e)},useTransition:function(){return[Ss(bs)[0],ws().memoizedState]},useMutableSource:Is,useSyncExternalStore:xs,useId:Ks,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Uo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=zo(e,o,i))&&(nc(t,e,i,r),Vo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Uo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=zo(e,o,i))&&(nc(t,e,i,r),Vo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Uo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=zo(e,i,r))&&(nc(t,e,r,n),Vo(t,e,r))}};function oa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function sa(e,t,n){var r=!1,i=Ti,o=t.contextType;return"object"===typeof o&&null!==o?o=Ro(o):(i=Pi(t)?Ni:Ci.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ti),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Fo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Ro(o):(o=Pi(t)?Ni:Ci.current,i.context=Ri(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ra(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),qo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ha="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Hl=r),da(0,t)},n}function pa(e,t,n){(n=Uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ha;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Uo(-1,1)).tag=2,zo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ya=b.ReactCurrentOwner,wa=!1;function ba(e,t,n,r){t.child=null===e?So(t,null,n,r):_o(t,e.child,n,r)}function _a(e,t,n,r,i){n=n.render;var o=t.ref;return No(t,i),r=gs(e,t,n,r,o,i),n=vs(),null===e||wa?(io&&n&&eo(t),t.flags|=1,ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function Sa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Pc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ia(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Wa(e,t,i)}return t.flags|=1,(e=Oc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ia(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Wa(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return Ea(e,t,n,r,i)}function xa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ol,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ol,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ei(Ol,Pl),Pl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ei(Ol,Pl),Pl|=r;return ba(e,t,i,n),t.child}function ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ea(e,t,n,r,i){var o=Pi(n)?Ni:Ci.current;return o=Ri(t,o),No(t,i),n=gs(e,t,n,r,o,i),r=vs(),null===e||wa?(io&&r&&eo(t),t.flags|=1,ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function Ta(e,t,n,r,i){if(Pi(n)){var o=!0;Mi(t)}else o=!1;if(No(t,i),null===t.stateNode)qa(e,t),sa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ro(c):c=Ri(t,c=Pi(n)?Ni:Ci.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,s,r,c),Mo=!1;var h=t.memoizedState;s.state=h,qo(t,r,s,i),l=t.memoizedState,a!==r||h!==l||Ai.current||Mo?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Mo||oa(t,n,a,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,jo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ro(l):l=Ri(t,l=Pi(n)?Ni:Ci.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&aa(t,s,r,l),Mo=!1,h=t.memoizedState,s.state=h,qo(t,r,s,i);var p=t.memoizedState;a!==d||h!==p||Ai.current||Mo?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(c=Mo||oa(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ca(e,t,n,r,o,i)}function Ca(e,t,n,r,i,o){ka(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Fi(t,n,!1),Wa(e,t,o);r=t.stateNode,ya.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=_o(t,e.child,null,o),t.child=_o(t,null,a,o)):ba(e,t,a,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Aa(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Yo(e,t.containerInfo)}function Na(e,t,n,r,i){return po(),mo(i),t.flags|=256,ba(e,t,n,r),t.child}var Ra,Pa,Oa,Da,La={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fa(e,t,n){var r,i=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ei(es,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Mc(l,i,0,null),e=Lc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ma(n),t.memoizedState=La,e):ja(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Ua(e,t,a,r=ua(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(s=Lc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&_o(t,e.child,null,a),t.child.memoizedState=Ma(a),t.memoizedState=La,s);if(0===(1&t.mode))return Ua(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ua(e,t,a,r=ua(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(r=Al)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Lo(e,i),nc(r,e,i,-1))}return mc(),Ua(e,t,a,r=ua(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),t=ja(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Oc(r,a):(a=Lc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ma(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=La,i}return e=(a=e.child).sibling,i=Oc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ja(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ua(e,t,n,r){return null!==r&&mo(r),_o(t,e.child,null,n),(e=ja(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function za(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ao(e.return,t,n)}function Va(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ba(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ba(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,n,t);else if(19===e.tag)za(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(es,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Va(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ts(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Va(t,!0,n,null,o);break;case"together":Va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ha(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return Pi(t.type)&&Oi(),Ka(t),null;case 3:return r=t.stateNode,Xo(),ki(Ai),ki(Ci),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Pa(e,t),Ka(t),null;case 5:Zo(t);var i=$o(Qo.current);if(n=t.type,null!==e&&null!=t.stateNode)Oa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ka(t),null}if(e=$o(Ko.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,s),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ur("invalid",r);break;case"textarea":ie(r,s),Ur("invalid",r)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,s,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Ra(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(s in ye(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Ur("scroll",e):null!=u&&w(e,s,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)Da(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=$o(Qo.current),$o(Ko.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ka(t),null;case 13:if(ki(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),s=!1}else null!==oo&&(sc(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return Xo(),Pa(e,t),null===e&&Br(t.stateNode.containerInfo),Ka(t),null;case 10:return Co(t.type._context),Ka(t),null;case 19:if(ki(es),null===(s=t.memoizedState))return Ka(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ha(s,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,Ha(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>Bl&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ha(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return Ka(t),null}else 2*Xe()-s.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=es.current,Ei(es,r?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qa(e,t){switch(to(t),t.tag){case 1:return Pi(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xo(),ki(Ai),ki(Ci),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(ki(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(es),null;case 4:return Xo(),null;case 10:return Co(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ra=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pa=function(){},Oa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$o(Ko.current);var o,s=null;switch(n){case"input":i=$(e,i),r=$(e,r),s=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Da=function(e,t,n,r){n!==r&&(t.flags|=4)};var $a=!1,Ya=!1,Xa="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){xc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){xc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ya||Za(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Ya&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&el(n,t,s),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Ya&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xc(n,t,a)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Ya=(r=Ya)||null!==n.memoizedState,hl(e,t,n),Ya=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));fl(s,a,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){xc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){xc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){xc(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){xc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&X(i,s),we(l,a);var u=we(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):w(i,d,h,u)}switch(l){case"input":J(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(g){xc(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){xc(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){xc(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=Xe())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ya=(u=Ya)||d,ml(t,e),Ya=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Ja=e,d=e.child;null!==d;){for(h=Ja=d;null!==Ja;){switch(p=(f=Ja).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Za(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){xc(r,n,g)}}break;case 5:Za(f,f.return);break;case 22:if(null!==f.memoizedState){_l(h);continue}}null!==p?(p.return=f,Ja=p):_l(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){xc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){xc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,al(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(o(161))}}catch(a){xc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Ja=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Ja;){var i=Ja,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||$a;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ya;a=$a;var c=Ya;if($a=s,(Ya=l)&&!c)for(Ja=i;null!==Ja;)l=(s=Ja).child,22===s.tag&&null!==s.memoizedState?Sl(i):null!==l?(l.return=s,Ja=l):Sl(i);for(;null!==o;)Ja=o,wl(o,t,n),o=o.sibling;Ja=i,$a=a,Ya=c}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Ja=o):bl(e)}}function bl(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ya||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ya)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Wo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(o(163))}Ya||512&t.flags&&il(t)}catch(f){xc(t,t.return,f)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function _l(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function Sl(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){xc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){xc(t,i,l)}}var o=t.return;try{il(t)}catch(l){xc(t,o,l)}break;case 5:var s=t.return;try{il(t)}catch(l){xc(t,s,l)}}}catch(l){xc(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var Il,xl=Math.ceil,kl=b.ReactCurrentDispatcher,El=b.ReactCurrentOwner,Tl=b.ReactCurrentBatchConfig,Cl=0,Al=null,Nl=null,Rl=0,Pl=0,Ol=xi(0),Dl=0,Ll=null,Ml=0,Fl=0,jl=0,Ul=null,zl=null,Vl=0,Bl=1/0,ql=null,Wl=!1,Hl=null,Kl=null,Gl=!1,Ql=null,$l=0,Yl=0,Xl=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Cl)?Xe():-1!==Jl?Jl:Jl=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Rl?Rl&-Rl:null!==go.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yl)throw Yl=0,Xl=null,Error(o(185));vt(e,n,r),0!==(2&Cl)&&e===Al||(e===Al&&(0===(2&Cl)&&(Fl|=n),4===Dl&&ac(e,Rl)),rc(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(Bl=Xe()+500,Ui&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ht(e,e===Al?Rl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(lc.bind(null,e)):Vi(lc.bind(null,e)),si((function(){0===(6&Cl)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Zl=0,0!==(6&Cl))throw Error(o(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===Al?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Cl;Cl|=2;var s=pc();for(Al===e&&Rl===t||(ql=null,Bl=Xe()+500,hc(e,t));;)try{yc();break}catch(l){fc(e,l)}To(),kl.current=s,Cl=i,null!==Nl?t=0:(Al=null,Rl=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ll,hc(e,0),ac(e,r),rc(e,Xe()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(s=pt(e))&&(r=s,t=oc(e,s))),1===t))throw n=Ll,hc(e,0),ac(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:_c(e,zl,ql);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Vl+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,zl,ql),t);break}_c(e,zl,ql);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xl(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,zl,ql),r);break}_c(e,zl,ql);break;default:throw Error(o(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=zl,zl=n,null!==t&&sc(t)),e}function sc(e){null===zl?zl=e:zl.push.apply(zl,e)}function ac(e,t){for(t&=~jl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Cl))throw Error(o(327));Sc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ll,hc(e,0),ac(e,t),rc(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,zl,ql),rc(e,Xe()),null}function cc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(Bl=Xe()+500,Ui&&Bi())}}function uc(e){null!==Ql&&0===Ql.tag&&0===(6&Cl)&&Sc();var t=Cl;Cl|=1;var n=Tl.transition,r=wt;try{if(Tl.transition=null,wt=1,e)return e()}finally{wt=r,Tl.transition=n,0===(6&(Cl=t))&&Bi()}}function dc(){Pl=Ol.current,ki(Ol)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nl)for(n=Nl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:Xo(),ki(Ai),ki(Ci),rs();break;case 5:Zo(r);break;case 4:Xo();break;case 13:case 19:ki(es);break;case 10:Co(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Al=e,Nl=e=Oc(e.current,null),Rl=Pl=t,Dl=0,Ll=null,jl=Fl=Ml=0,zl=Ul=null,null!==Po){for(t=0;t<Po.length;t++)if(null!==(r=(n=Po[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Po=null}return e}function fc(e,t){for(;;){var n=Nl;try{if(To(),is.current=Js,us){for(var r=as.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}us=!1}if(ss=0,cs=ls=as=null,ds=!1,hs=0,El.current=null,null===n||null===n.return){Dl=1,Ll=t,Nl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,va(p,a,l,0,t),1&p.mode&&ma(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(s,u,t),mc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=ga(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),mo(ca(c,l));break e}}s=c=ca(c,l),4!==Dl&&(Dl=2),null===Ul?Ul=[s]:Ul.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Bo(s,fa(0,c,t));break e;case 1:l=c;var y=s.type,w=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Kl||!Kl.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t,Bo(s,pa(s,l,t));break e}}s=s.return}while(null!==s)}bc(n)}catch(b){t=b,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function pc(){var e=kl.current;return kl.current=Js,null===e?Js:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Al||0===(268435455&Ml)&&0===(268435455&Fl)||ac(Al,Rl)}function gc(e,t){var n=Cl;Cl|=2;var r=pc();for(Al===e&&Rl===t||(ql=null,hc(e,t));;)try{vc();break}catch(i){fc(e,i)}if(To(),Cl=n,kl.current=r,null!==Nl)throw Error(o(261));return Al=null,Rl=0,Dl}function vc(){for(;null!==Nl;)wc(Nl)}function yc(){for(;null!==Nl&&!$e();)wc(Nl)}function wc(e){var t=Il(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?bc(e):Nl=t,El.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,Pl)))return void(Nl=n)}else{if(null!==(n=Qa(n,t)))return n.flags&=32767,void(Nl=n);if(null===e)return Dl=6,void(Nl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nl=t);Nl=t=e}while(null!==t);0===Dl&&(Dl=5)}function _c(e,t,n){var r=wt,i=Tl.transition;try{Tl.transition=null,wt=1,function(e,t,n,r){do{Sc()}while(null!==Ql);if(0!==(6&Cl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Al&&(Nl=Al=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Ac(tt,(function(){return Sc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Tl.transition,Tl.transition=null;var a=wt;wt=1;var l=Cl;Cl|=4,El.current=null,function(e,t){if(ei=Wt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(_){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===s&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(_){xc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Ye(),Cl=l,wt=a,Tl.transition=s}else e.current=n;if(Gl&&(Gl=!1,Ql=e,$l=i),s=e.pendingLanes,0===s&&(Kl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Hl,Hl=null,e;0!==(1&$l)&&0!==e.tag&&Sc(),s=e.pendingLanes,0!==(1&s)?e===Xl?Yl++:(Yl=0,Xl=e):Yl=0,Bi()}(e,t,n,r)}finally{Tl.transition=i,wt=r}return null}function Sc(){if(null!==Ql){var e=bt($l),t=Tl.transition,n=wt;try{if(Tl.transition=null,wt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,$l=0,0!==(6&Cl))throw Error(o(331));var i=Cl;for(Cl|=4,Ja=e.current;null!==Ja;){var s=Ja,a=s.child;if(0!==(16&Ja.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ja=u;null!==Ja;){var d=Ja;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Ja=h;else for(;null!==Ja;){var f=(d=Ja).sibling,p=d.return;if(ol(d),d===u){Ja=null;break}if(null!==f){f.return=p,Ja=f;break}Ja=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Ja=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(s=Ja).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Ja=y;break e}Ja=s.return}}var w=e.current;for(Ja=w;null!==Ja;){var b=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Ja=b;else e:for(a=w;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){xc(l,l.return,S)}if(l===a){Ja=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Ja=_;break e}Ja=l.return}}if(Cl=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{wt=n,Tl.transition=t}}return!1}function Ic(e,t,n){e=zo(e,t=fa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function xc(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=zo(t,e=pa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Rl&n)===n&&(4===Dl||3===Dl&&(130023424&Rl)===Rl&&500>Xe()-Vl?hc(e,0):jl|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Lo(e,t))&&(vt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ec(e,n)}function Ac(e,t){return Ge(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Nc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Pc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case I:return Lc(n.children,i,s,t);case x:a=8,i|=8;break;case k:return(e=Rc(12,n,t,2|i)).elementType=k,e.lanes=s,e;case A:return(e=Rc(13,n,t,i)).elementType=A,e.lanes=s,e;case N:return(e=Rc(19,n,t,i)).elementType=N,e.lanes=s,e;case O:return Mc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:a=10;break e;case T:a=9;break e;case C:a=11;break e;case R:a=14;break e;case P:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Rc(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Lc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,o,s,a,l){return e=new Uc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Rc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fo(o),e}function Vc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function Bc(e,t,n,r,i,o,s,a,l){return(e=zc(n,r,!0,e,0,o,0,a,l)).context=Vc(null),n=e.current,(o=Uo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,zo(n,o,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,o=ec(),s=tc(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Uo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zo(i,t,s))&&(nc(e,i,s,o),Vo(e,i,s)),s}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Il=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Aa(t),po();break;case 5:Jo(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:Yo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(Io,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fa(e,t,n):(Ei(es,1&es.current),null!==(e=Wa(e,t,n))?e.sibling:null);Ei(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ba(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,xa(e,t,n)}return Wa(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,io&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qa(e,t),e=t.pendingProps;var i=Ri(t,Ci.current);No(t,n),i=gs(null,t,r,e,i,n);var s=vs();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(s=!0,Mi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Fo(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=Ca(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),ba(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=na(r,e),i){case 0:t=Ea(null,t,r,e,n);break e;case 1:t=Ta(null,t,r,e,n);break e;case 11:t=_a(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,na(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Aa(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,jo(e,t),qo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Na(e,t,r,n,i=ca(Error(o(423)),t));break e}if(r!==i){t=Na(e,t,r,n,i=ca(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Wa(e,t,n);break e}ba(e,t,r,n)}t=t.child}return t;case 5:return Jo(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),ka(e,t),ba(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return Fa(e,t,n);case 4:return Yo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=_o(t,null,r,n):ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_a(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ei(Io,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ai.current){t=Wa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Uo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ao(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ao(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,No(t,n),r=r(i=Ro(i)),t.flags|=1,ba(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),Sa(e,t,r,i=na(r.type,i),n);case 15:return Ia(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),qa(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,No(t,n),sa(t,r,i),la(t,r,i,n),Ca(null,t,r,!0,e,n);case 19:return Ba(e,t,n);case 22:return xa(e,t,n)}throw Error(o(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Wc(s);a.call(e)}}qc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Wc(s);o.call(e)}}var s=Bc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),uc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Wc(l);a.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),uc((function(){qc(t,l,n,r)})),l}(n,t,e,i,r);return Wc(s)}$c.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));qc(e,t,null,null)},$c.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){qc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Xe()),0===(6&Cl)&&(Bl=Xe()+500,Bi()))}break;case 13:uc((function(){var t=Lo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Kc(e,1)}},St=function(e){if(13===e.tag){var t=Lo(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},It=function(e){if(13===e.tag){var t=tc(e),n=Lo(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},xt=function(){return wt},kt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(o(90));G(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ae=uc;var eu={usingClientEntryPoint:!1,Events:[wi,bi,_i,Ee,Te,cc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(o(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(o(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(o(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},5082:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case a:case s:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.ForwardRef=d,t.Memo=p},2086:(e,t,n)=>{"use strict";e.exports=n(5082)},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var _=Array.isArray,S=Object.prototype.hasOwnProperty,I={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,i)&&!x.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:I.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+C(l,0):o,_(s)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(s,t,i,"",(function(e){return e}))):null!=s&&(E(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",_(e))for(var c=0;c<e.length;c++){var u=o+C(a=e[c],c);l+=A(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=A(a=a.value,t,i,u=o+C(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:I};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=w,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=I.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!x.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,O(S);else{var t=r(u);null!==t&&D(_,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(E),E=-1),p=!0;var o=f;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(_,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var I,x=!1,k=null,E=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==k){var e=t.unstable_now();C=e;var n=!0;try{n=k(!0,e)}finally{n?I():(x=!1,k=null)}}else x=!1}if("function"===typeof w)I=function(){w(N)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=N,I=function(){P.postMessage(null)}}else I=function(){v(N,0)};function O(e){k=e,x||(x=!0,I())}function D(e,n){E=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(E),E=-1):g=!0,D(_,o-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,O(S))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},6440:e=>{"use strict";var t=function(){};e.exports=t},4634:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},4893:e=>{e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},8139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,o(n)))}return e}function o(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},8168:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{A:()=>r})},8587:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{A:()=>r})}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".a0e1c18e.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="type-runner:";n.l=(r,i,o,s)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[i];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,s=r[0],a=r[1],l=r[2],c=0;if(s.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunktype_runner=self.webpackChunktype_runner||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>An,SDK_VERSION:()=>Wr,_DEFAULT_ENTRY_NAME:()=>Cr,_addComponent:()=>Or,_addOrOverwriteComponent:()=>Dr,_apps:()=>Nr,_clearComponents:()=>zr,_components:()=>Pr,_getProvider:()=>Mr,_isFirebaseApp:()=>jr,_isFirebaseServerApp:()=>Ur,_registerComponent:()=>Lr,_removeServiceInstance:()=>Fr,_serverApps:()=>Rr,deleteApp:()=>$r,getApp:()=>Gr,getApps:()=>Qr,initializeApp:()=>Hr,initializeServerApp:()=>Kr,onLog:()=>Xr,registerVersion:()=>Yr,setLogLevel:()=>Jr});var t=n(5043),r=n.t(t,2),i=n(4391);function o(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var s=n(8587),a=n(8168);function l(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=l(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const c=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=l(e))&&(r&&(r+=" "),r+=t);return r};var u=n(3216);const d=e=>e,h=(()=>{let e=d;return{configure(t){e=t},generate:t=>e(t),reset(){e=d}}})(),f={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function p(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r=f[t];return r?"".concat(n,"-").concat(r):"".concat(h.generate(e),"-").concat(t)}function m(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach((i=>{r[i]=e[i].reduce(((e,r)=>{if(r){const i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}var g=n(7713),v=n(8280),y=n(8812);const w=["ownerState"],b=["variants"],_=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function S(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const I=(0,v.A)(),x=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function k(e){let{defaultTheme:t,theme:n,themeId:r}=e;return i=n,0===Object.keys(i).length?t:n[r]||n;var i}function E(e){return e?(t,n)=>n[e]:null}function T(e,t){let{ownerState:n}=t,r=(0,s.A)(t,w);const i="function"===typeof e?e((0,a.A)({ownerState:n},r)):e;if(Array.isArray(i))return i.flatMap((e=>T(e,(0,a.A)({ownerState:n},r))));if(i&&"object"===typeof i&&Array.isArray(i.variants)){const{variants:e=[]}=i;let t=(0,s.A)(i,b);return e.forEach((e=>{let i=!0;"function"===typeof e.props?i=e.props((0,a.A)({ownerState:n},r,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&r[t]!==e.props[t]&&(i=!1)})),i&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,a.A)({ownerState:n},r,n)):e.style))})),t}return i}const C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=I,rootShouldForwardProp:r=S,slotShouldForwardProp:i=S}=e,o=e=>(0,y.A)((0,a.A)({},e,{theme:k((0,a.A)({},e,{defaultTheme:n,themeId:t}))}));return o.__mui_systemSx=!0,function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,g.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:c,slot:d,skipVariantsResolver:h,skipSx:f,overridesResolver:p=E(x(d))}=l,m=(0,s.A)(l,_),v=void 0!==h?h:d&&"Root"!==d&&"root"!==d||!1,y=f||!1;let w=S;"Root"===d||"root"===d?w=r:d?w=i:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(w=void 0);const b=(0,g.default)(e,(0,a.A)({shouldForwardProp:w,label:undefined},m)),I=e=>"function"===typeof e&&e.__emotion_real!==e||(0,u.Q)(e)?r=>T(e,(0,a.A)({},r,{theme:k({theme:r.theme,defaultTheme:n,themeId:t})})):e,C=function(r){let i=I(r);for(var s=arguments.length,l=new Array(s>1?s-1:0),u=1;u<s;u++)l[u-1]=arguments[u];const d=l?l.map(I):[];c&&p&&d.push((e=>{const r=k((0,a.A)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[c]||!r.components[c].styleOverrides)return null;const i=r.components[c].styleOverrides,o={};return Object.entries(i).forEach((t=>{let[n,i]=t;o[n]=T(i,(0,a.A)({},e,{theme:r}))})),p(e,o)})),c&&!v&&d.push((e=>{var r;const i=k((0,a.A)({},e,{defaultTheme:n,themeId:t}));return T({variants:null==i||null==(r=i.components)||null==(r=r[c])?void 0:r.variants},(0,a.A)({},e,{theme:i}))})),y||d.push(o);const h=d.length-l.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");i=[...r,...e],i.raw=[...r.raw,...e]}const f=b(i,...d);return e.muiName&&(f.muiName=e.muiName),f};return b.withConfig&&(C.withConfig=b.withConfig),C}}(),A=C;function N(e,t){const n=(0,a.A)({},t);return Object.keys(e).forEach((r=>{if(r.toString().match(/^(components|slots)$/))n[r]=(0,a.A)({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},o=t[r];n[r]={},o&&Object.keys(o)?i&&Object.keys(i)?(n[r]=(0,a.A)({},o),Object.keys(i).forEach((e=>{n[r][e]=N(i[e],o[e])}))):n[r]=o:n[r]=i}else void 0===n[r]&&(n[r]=e[r])})),n}var R=n(5756);const P=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const n=t.useContext(R.T);return n&&(r=n,0!==Object.keys(r).length)?n:e;var r},O=(0,v.A)();const D=function(){return P(arguments.length>0&&void 0!==arguments[0]?arguments[0]:O)};function L(e){let{props:t,name:n,defaultTheme:r,themeId:i}=e,o=D(r);i&&(o=o[i]||o);const s=function(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?N(t.components[n].defaultProps,r):r}({theme:o,name:n,props:t});return s}var M=n(8698),F=n(9751),j=n(8604),U=n(579);const z=["component","direction","spacing","divider","children","className","useFlexGap"],V=(0,v.A)(),B=A("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function q(e){return L({props:e,name:"MuiStack",defaultTheme:V})}function W(e,n){const r=t.Children.toArray(e).filter(Boolean);return r.reduce(((e,i,o)=>(e.push(i),o<r.length-1&&e.push(t.cloneElement(n,{key:"separator-".concat(o)})),e)),[])}const H=e=>{let{ownerState:t,theme:n}=e,r=(0,a.A)({display:"flex",flexDirection:"column"},(0,F.NI)({theme:n},(0,F.kW)({values:t.direction,breakpoints:n.breakpoints.values}),(e=>({flexDirection:e}))));if(t.spacing){const e=(0,j.LX)(n),i=Object.keys(n.breakpoints.values).reduce(((e,n)=>(("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e)),{}),o=(0,F.kW)({values:t.direction,base:i}),s=(0,F.kW)({values:t.spacing,base:i});"object"===typeof o&&Object.keys(o).forEach(((e,t,n)=>{if(!o[e]){const r=t>0?o[n[t-1]]:"column";o[e]=r}}));const a=(n,r)=>{return t.useFlexGap?{gap:(0,j._W)(e,n)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{["margin".concat((i=r?o[r]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[i]))]:(0,j._W)(e,n)}};var i};r=(0,u.A)(r,(0,F.NI)({theme:n},s,a))}return r=(0,F.iZ)(n.breakpoints,r),r};var K=n(8052),G=n(6632),Q=n(7758);function $(e,t){return(0,a.A)({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var Y=n(7266);const X={black:"#000",white:"#fff"},J={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Z={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ee={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},te={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},ne={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},re={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ie={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},oe=["mode","contrastThreshold","tonalOffset"],se={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:X.white,default:X.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},ae={text:{primary:X.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:X.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function le(e,t,n,r){const i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,Y.a)(e.main,i):"dark"===t&&(e.dark=(0,Y.e$)(e.main,o)))}function ce(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=(0,s.A)(e,oe),o=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ne[200],light:ne[50],dark:ne[400]}:{main:ne[700],light:ne[400],dark:ne[800]}}(t),l=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Z[200],light:Z[50],dark:Z[400]}:{main:Z[500],light:Z[300],dark:Z[700]}}(t),c=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ee[500],light:ee[300],dark:ee[700]}:{main:ee[700],light:ee[400],dark:ee[800]}}(t),d=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:re[400],light:re[300],dark:re[700]}:{main:re[700],light:re[500],dark:re[900]}}(t),h=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ie[400],light:ie[300],dark:ie[700]}:{main:ie[800],light:ie[500],dark:ie[900]}}(t),f=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:te[400],light:te[300],dark:te[700]}:{main:"#ed6c02",light:te[500],dark:te[900]}}(t);function p(e){return(0,Y.eM)(e,ae.text.primary)>=n?ae.text.primary:se.text.primary}const m=e=>{let{color:t,name:n,mainShade:i=500,lightShade:o=300,darkShade:s=700}=e;if(t=(0,a.A)({},t),!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error((0,G.A)(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error((0,G.A)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return le(t,"light",o,r),le(t,"dark",s,r),t.contrastText||(t.contrastText=p(t.main)),t},g={dark:ae,light:se};return(0,u.A)((0,a.A)({common:(0,a.A)({},X),mode:t,primary:m({color:o,name:"primary"}),secondary:m({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:c,name:"error"}),warning:m({color:f,name:"warning"}),info:m({color:d,name:"info"}),success:m({color:h,name:"success"}),grey:J,contrastThreshold:n,getContrastText:p,augmentColor:m,tonalOffset:r},g[t]),i)}const ue=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const de={textTransform:"uppercase"},he='"Roboto", "Helvetica", "Arial", sans-serif';function fe(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=he,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:l=400,fontWeightMedium:c=500,fontWeightBold:d=700,htmlFontSize:h=16,allVariants:f,pxToRem:p}=n,m=(0,s.A)(n,ue);const g=i/14,v=p||(e=>"".concat(e/h*g,"rem")),y=(e,t,n,i,o)=>{return(0,a.A)({fontFamily:r,fontWeight:e,fontSize:v(t),lineHeight:n},r===he?{letterSpacing:"".concat((s=i/t,Math.round(1e5*s)/1e5),"em")}:{},o,f);var s},w={h1:y(o,96,1.167,-1.5),h2:y(o,60,1.2,-.5),h3:y(l,48,1.167,0),h4:y(l,34,1.235,.25),h5:y(l,24,1.334,0),h6:y(c,20,1.6,.15),subtitle1:y(l,16,1.75,.15),subtitle2:y(c,14,1.57,.1),body1:y(l,16,1.5,.15),body2:y(l,14,1.43,.15),button:y(c,14,1.75,.4,de),caption:y(l,12,1.66,.4),overline:y(l,12,2.66,1,de),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,u.A)((0,a.A)({htmlFontSize:h,pxToRem:v,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:l,fontWeightMedium:c,fontWeightBold:d},w),m,{clone:!1})}function pe(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const me=["none",pe(0,2,1,-1,0,1,1,0,0,1,3,0),pe(0,3,1,-2,0,2,2,0,0,1,5,0),pe(0,3,3,-2,0,3,4,0,0,1,8,0),pe(0,2,4,-1,0,4,5,0,0,1,10,0),pe(0,3,5,-1,0,5,8,0,0,1,14,0),pe(0,3,5,-1,0,6,10,0,0,1,18,0),pe(0,4,5,-2,0,7,10,1,0,2,16,1),pe(0,5,5,-3,0,8,10,1,0,3,14,2),pe(0,5,6,-3,0,9,12,1,0,3,16,2),pe(0,6,6,-3,0,10,14,1,0,4,18,3),pe(0,6,7,-4,0,11,15,1,0,4,20,3),pe(0,7,8,-4,0,12,17,2,0,5,22,4),pe(0,7,8,-4,0,13,19,2,0,5,24,4),pe(0,7,9,-4,0,14,21,2,0,5,26,4),pe(0,8,9,-5,0,15,22,2,0,6,28,5),pe(0,8,10,-5,0,16,24,2,0,6,30,5),pe(0,8,11,-5,0,17,26,2,0,6,32,5),pe(0,9,11,-5,0,18,28,2,0,7,34,6),pe(0,9,12,-6,0,19,29,2,0,7,36,6),pe(0,10,13,-6,0,20,31,3,0,8,38,7),pe(0,10,13,-6,0,21,33,3,0,8,40,7),pe(0,10,14,-6,0,22,35,3,0,8,42,7),pe(0,11,14,-7,0,23,36,3,0,9,44,8),pe(0,11,15,-7,0,24,38,3,0,9,46,8)],ge=["duration","easing","delay"],ve={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},ye={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function we(e){return"".concat(Math.round(e),"ms")}function be(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function _e(e){const t=(0,a.A)({},ve,e.easing),n=(0,a.A)({},ye,e.duration);return(0,a.A)({getAutoHeightDuration:be,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:o=t.easeInOut,delay:a=0}=r;(0,s.A)(r,ge);return(Array.isArray(e)?e:[e]).map((e=>"".concat(e," ").concat("string"===typeof i?i:we(i)," ").concat(o," ").concat("string"===typeof a?a:we(a)))).join(",")}},e,{easing:t,duration:n})}const Se={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Ie=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function xe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:r={},typography:i={}}=e,o=(0,s.A)(e,Ie);if(e.vars)throw new Error((0,G.A)(18));const l=ce(n),c=(0,v.A)(e);let d=(0,u.A)(c,{mixins:$(c.breakpoints,t),palette:l,shadows:me.slice(),typography:fe(l,i),transitions:_e(r),zIndex:(0,a.A)({},Se)});d=(0,u.A)(d,o);for(var h=arguments.length,f=new Array(h>1?h-1:0),p=1;p<h;p++)f[p-1]=arguments[p];return d=f.reduce(((e,t)=>(0,u.A)(e,t)),d),d.unstable_sxConfig=(0,a.A)({},Q.A,null==o?void 0:o.unstable_sxConfig),d.unstable_sx=function(e){return(0,y.A)({sx:e,theme:this})},d}const ke=xe,Ee=ke(),Te="$$material";const Ce=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},Ae=e=>Ce(e)&&"classes"!==e,Ne=(0,K.Ay)({themeId:Te,defaultTheme:Ee,rootShouldForwardProp:Ae});function Re(e){let{props:t,name:n}=e;return L({props:t,name:n,defaultTheme:Ee,themeId:Te})}const Pe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:n=B,useThemeProps:r=q,componentName:i="MuiStack"}=e,o=n(H),l=t.forwardRef((function(e,t){const n=r(e),l=(0,M.A)(n),{component:u="div",direction:d="column",spacing:h=0,divider:f,children:g,className:v,useFlexGap:y=!1}=l,w=(0,s.A)(l,z),b={direction:d,spacing:h,useFlexGap:y},_=m({root:["root"]},(e=>p(i,e)),{});return(0,U.jsx)(o,(0,a.A)({as:u,ownerState:b,ref:t,className:c(_.root,v)},w,{children:f?W(g,f):g}))}));return l}({createStyledComponent:Ne("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>Re({props:e,name:"MuiStack"})}),Oe=Pe;const De=n(410).A;function Le(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach((t=>{r[t]=p(e,t,n)})),r}function Me(e){return p("MuiTypography",e)}Le("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Fe=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],je=Ne("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(De(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((e=>{let{theme:t,ownerState:n}=e;return(0,a.A)({margin:0},"inherit"===n.variant&&{font:"inherit"},"inherit"!==n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),Ue={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},ze={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Ve=t.forwardRef((function(e,t){const n=Re({props:e,name:"MuiTypography"}),r=(e=>ze[e]||e)(n.color),i=(0,M.A)((0,a.A)({},n,{color:r})),{align:o="inherit",className:l,component:u,gutterBottom:d=!1,noWrap:h=!1,paragraph:f=!1,variant:p="body1",variantMapping:g=Ue}=i,v=(0,s.A)(i,Fe),y=(0,a.A)({},i,{align:o,color:r,className:l,component:u,gutterBottom:d,noWrap:h,paragraph:f,variant:p,variantMapping:g}),w=u||(f?"p":g[p]||Ue[p])||"span",b=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=e;return m({root:["root",o,"inherit"!==e.align&&"align".concat(De(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},Me,s)})(y);return(0,U.jsx)(je,(0,a.A)({as:w,ref:t,ownerState:y,className:c(b.root,l)},v))})),Be=Ve;var qe=n(3290);const We=["className","component"];const He=Le("MuiBox",["root"]),Ke=ke(),Ge=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:n,defaultTheme:r,defaultClassName:i="MuiBox-root",generateClassName:o}=e,l=(0,g.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(y.A);return t.forwardRef((function(e,t){const u=D(r),d=(0,M.A)(e),{className:h,component:f="div"}=d,p=(0,s.A)(d,We);return(0,U.jsx)(l,(0,a.A)({as:f,ref:t,className:c(h,o?o(i):i),theme:n&&u[n]||u},p))}))}({themeId:Te,defaultTheme:Ke,defaultClassName:He.root,generateClassName:h.generate}),Qe=Ge;var $e,Ye,Xe,Je;const Ze=e=>{let{headWidthPx:n,animationDuratonSecs:r,xyDistTravelVh:i,topOffsetVh:s,leftOffsetVw:a}=e;const l=n,c=l*(4/30),u=l*(4/30),d=2.8*l,h=l*(100/30),f=l,p=2.8*l,m=l*(100/30),g=i,v=r;var y=(0,qe.i7)($e||($e=o(["\n        0% {\n            transform: translate(0px) rotate(45deg);\n            width: 0px;\n            \n        }\n    \n        30% {\n            transform: translate(","px) rotate(45deg);\n            width: ","px;\n        }\n\n        40% {\n            filter: drop-shadow(0 0 2px white);\n        }\n\n        60% {\n            filter: drop-shadow(0 0 13px white);\n        }\n\n        70% {\n            filter: drop-shadow(0 0 6px white);\n        }\n\n        80% {\n            filter: drop-shadow(0 0 3px white);\n        }\n    \n        100% {\n            transform: translate(0px) rotate(45deg);\n            width: 0px;\n            filter: drop-shadow(0 0 20px white);\n        }\n        "])),p,f),w=(0,qe.i7)(Ye||(Ye=o(["\n        0% {\n            transform: translate(0px) rotate(-45deg);\n            width: 0px;\n        }\n    \n        30% {\n            transform: translate(","px) rotate(-45deg);\n            width: ","px;\n        }\n\n        40% {\n            filter: drop-shadow(0 0 2px white);\n        }\n\n        60% {\n            filter: drop-shadow(0 0 13px white);\n        }\n\n        70% {\n            filter: drop-shadow(0 0 6px white);\n        }\n\n        80% {\n            filter: drop-shadow(0 0 3px white);\n        }\n    \n        100% {\n            transform: translate(0px) rotate(-45deg);\n            width: 0px;\n            filter: drop-shadow(0 0 20px white);\n        }\n        "])),p,f),b=(0,qe.i7)(Xe||(Xe=o(["\n        0% {\n            width: 0px;\n        }\n    \n        30% {\n            width: ","px;\n        }\n\n        40% {\n            filter: drop-shadow(0 0 2px white);\n        }\n\n        60% {\n            filter: drop-shadow(0 0 13px white);\n        }\n\n        70% {\n            filter: drop-shadow(0 0 6px white);\n        }\n\n        80% {\n            filter: drop-shadow(0 0 3px white);\n        }\n    \n        100% {\n            width: 0px;\n            filter: drop-shadow(0 0 20px white);\n        }\n      "])),m),_=(0,qe.i7)(Je||(Je=o(["\n      0% {\n        transform: translateX(0vh) translateY(0vh) rotate(45deg);\n      }\n      100% {\n        transform: translateX(","vh) translateY(","vh) rotate(45deg);\n      }\n      "])),g,g);const S={position:"absolute",width:"".concat(l,"px"),height:"".concat(u,"px"),background:"linear-gradient(-45deg, rgba(0, 0, 255, 0), white, rgba(0, 0, 255, 0))",borderRadius:"100px",transform:"translate(".concat(d,"px) rotate(45deg)"),filter:"drop-shadow(0 0 6px white)",zIndex:-10,animation:"".concat(y," ").concat(v,"s ease-in-out infinite")},I={position:"absolute",width:"".concat(l,"px"),height:"".concat(u,"px"),background:"linear-gradient(-45deg, rgba(0, 0, 255, 0), white, rgba(0, 0, 255, 0))",borderRadius:"100px",transform:"translate(".concat(d,"px) rotate(-45deg)"),filter:"drop-shadow(0 0 6px white)",zIndex:-10,animation:"".concat(w," ").concat(v,"s ease-in-out infinite")},x={position:"absolute",width:"".concat(h,"px"),height:"".concat(c,"px"),background:"linear-gradient(-45deg, white, rgba(0, 0, 255, 0))",borderRadius:"100px",filter:"drop-shadow(0 0 6px white)",zIndex:-10,animation:"".concat(b," ").concat(v,"s ease-in-out infinite")},[k,E]=(0,t.useState)(!0);return(0,t.useEffect)((()=>{const e=setTimeout((()=>{E(!1)}),1e3*r);return()=>{clearTimeout(e)}}),[]),k?(0,U.jsxs)(Qe,{sx:{top:"".concat(s,"vh"),left:"".concat(a,"vw"),position:"absolute",animation:"".concat(_," ").concat(v,"s ease-in-out infinite"),zIndex:-10},children:[(0,U.jsx)(Qe,{sx:x}),(0,U.jsx)(Qe,{sx:I}),(0,U.jsx)(Qe,{sx:S})]}):(0,U.jsx)(U.Fragment,{})};var et,tt,nt,rt;async function it(e){const t=5*+e.wordCount;let n="";const r=[],i=e=>{if(1!=o(3))return e;const t=["!","@","#","$","%","^","&","*","(",")","-","_","+","=","~",",","<",">",".","?","/","\\",";",":",'"',"'","{","}","[","]","|","`"],n=t[o(t.length)],r=[];return r.push((()=>n+e+n)),r.push((()=>e+n)),r.push((()=>n+e)),r.push((()=>{const t=["[","{","(","<"],n=o(t.length);return t[n]+e+["]","}",")",">"][n]})),r.push((()=>{const r=t[o(t.length)];return n+e+r})),e=r[o(r.length)]()},o=e=>Math.ceil(Math.random()*e)-1,s=()=>c[o(c.length)],a=()=>{let t=u[o(u.length)].trim();return e.lowercaseEnabled||3!=o(4)||(t=t.charAt(0).toUpperCase()+t.substring(1)),e.symbolsEnabled&&(t=i(t)),t+" "},l=()=>{const t=o(10)+1;var n="";for(let e=0;e<t;e++)n+=o(10);return e.symbolsEnabled&&(n=i(n)),n+" "};if(e.sentencesEnabled){const e=await fetch("/constants/library.txt");var c=(await e.text()).split("\n");r.push(s)}if(e.wordsEnabled){const e=await fetch("/constants/words.txt");var u=(await e.text()).split("\n");r.push(a)}for(e.numbersEnabled&&r.push(l);n.length<t;)n+=r[o(r.length)]()+"";return e.lowercaseEnabled&&(n=n.toLowerCase()),e.symbolsEnabled||(n=n.replaceAll(/[^a-zA-Z0-9 ]/g,"")),(n+"").trim()}function ot(e,t,n,r,i){return(0,U.jsx)("span",{style:{color:n.toString(),backgroundColor:t.toString(),fontSize:i,whiteSpace:"pre-wrap"},children:e},r)}const st=(e,t)=>{const n=e+"vw",r=e*(14/30)+"vw",i=e*(20/30)+"vw",o=e*(100/30),s=.611570247*o,a=t+"px",l=t*(14/30)+"px",c=t*(20/30)+"px",u=t*(100/30),d=.611570247*u;return(0,U.jsxs)(Oe,{direction:"row",alignItems:"center",children:[lt("calc(".concat(u+"px + "+o+"vw",")"),"calc(".concat(d+"px + "+s+"vw",")"),"./svgFiles/novaTypeLogo.svg"),(0,U.jsxs)(Oe,{children:[(0,U.jsxs)(Oe,{flexDirection:"row",children:[(0,U.jsx)(Be,{fontSize:"calc(".concat(c+" + "+i,")"),children:"\xa0"}),(0,U.jsx)(Be,{color:"white",fontSize:"calc(".concat(a+" + "+n,")"),fontWeight:"bold",children:"Nova"}),(0,U.jsx)(Be,{color:"#9287B7",fontSize:"calc(".concat(a+" + "+n,")"),fontWeight:"bold",children:"Type"})]}),(0,U.jsxs)(Oe,{flexDirection:"row",children:[(0,U.jsx)(Be,{fontSize:"calc(".concat(c+" + "+i,")"),children:"\xa0"}),(0,U.jsx)(Be,{color:"#635985",fontSize:"calc(".concat(l+" + "+r,")"),fontWeight:"bold",children:"Make a Wish"})]})]})]})},at=(e,t,n,r,i)=>{var s=(0,qe.i7)(et||(et=o(["\n    from {\n      transform: translateX(0);\n    }\n    to {\n      transform: translateX(100vw); // Adjust the distance as needed\n    }\n  "]))),a=(0,qe.i7)(tt||(tt=o(["\n  from {\n    transform: translateX(-100vw);\n  }\n  to {\n    transform: translateX(0vw); // Adjust the distance as needed\n  }\n"])));return"backwards"===n&&(a=(0,qe.i7)(nt||(nt=o(["\n    from {\n      transform: translateX(100vw);\n    }\n    to {\n      transform: translateX(0vw); // Adjust the distance as needed\n    }\n  "]))),s=(0,qe.i7)(rt||(rt=o(["\n  from {\n    transform: translateX(0);\n  }\n  to {\n    transform: translateX(-100vw); // Adjust the distance as needed\n  }\n"])))),(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(Qe,{sx:{width:"100vw",height:e,animation:"".concat(s," ").concat(r,"s ").concat(n," linear infinite"),position:"absolute",bottom:"0",backgroundRepeat:"no-repeat",zIndex:-1},children:(0,U.jsx)(i,{width:"100vw",height:e,opacity:t})}),(0,U.jsx)(Qe,{sx:{width:"100vw",height:e,animation:"".concat(a," ").concat(r,"s ").concat(n," linear infinite"),position:"absolute",bottom:"0",backgroundRepeat:"no-repeat",zIndex:-1},children:(0,U.jsx)(i,{width:"100vw",height:e,opacity:t})})]})},lt=(e,t,n)=>(0,U.jsx)(Qe,{sx:{backgroundImage:'url("'.concat(n,'")'),backgroundSize:"contain",backgroundRepeat:"no-repeat",width:e,height:t}}),ct=(e,t,n,r,i)=>{var o=[],s=0;for(let a=0;a<e.length;a++)a>=+t.length?o.push(ot(e.charAt(a),"transparent","#9287B7",a,r)):t.charAt(a)===e.charAt(a)?(o.push(ot(e.charAt(a),"transparent","white",a,r)),s++):" "==e.charAt(a)?o.push(ot(t.charAt(a),"transparent","#FF007A",a,r)):o.push(ot(e.charAt(a),"transparent","red",a,r));return n&&i.setAccuracy(Math.round(s/i.typedSoFar.length*100)),(0,U.jsx)(U.Fragment,{children:o})},ut=(e,t)=>{const n=t-e+1;return Math.floor(Math.random()*n)+e},dt=()=>{const e=ut(-20,20),t=ut(-30,95),n=ut(3,6),r=ut(40,80),i=ut(15,30);return(0,U.jsx)(Ze,{headWidthPx:i,animationDuratonSecs:n,xyDistTravelVh:r,topOffsetVh:e,leftOffsetVw:t})};var ht=n(8139),ft=n.n(ht),pt=n(5173),mt=n.n(pt);const gt={type:mt().string,tooltip:mt().bool,as:mt().elementType},vt=t.forwardRef(((e,t)=>{let{as:n="div",className:r,type:i="valid",tooltip:o=!1,...s}=e;return(0,U.jsx)(n,{...s,ref:t,className:ft()(r,"".concat(i,"-").concat(o?"tooltip":"feedback"))})}));vt.displayName="Feedback",vt.propTypes=gt;const yt=vt,wt=t.createContext({}),bt=["xxl","xl","lg","md","sm","xs"],_t="xs",St=t.createContext({prefixes:{},breakpoints:bt,minBreakpoint:_t}),{Consumer:It,Provider:xt}=St;function kt(e,n){const{prefixes:r}=(0,t.useContext)(St);return e||r[n]||n}const Et=t.forwardRef(((e,n)=>{let{id:r,bsPrefix:i,className:o,type:s="checkbox",isValid:a=!1,isInvalid:l=!1,as:c="input",...u}=e;const{controlId:d}=(0,t.useContext)(wt);return i=kt(i,"form-check-input"),(0,U.jsx)(c,{...u,ref:n,type:s,id:r||d,className:ft()(o,i,a&&"is-valid",l&&"is-invalid")})}));Et.displayName="FormCheckInput";const Tt=Et,Ct=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,htmlFor:o,...s}=e;const{controlId:a}=(0,t.useContext)(wt);return r=kt(r,"form-check-label"),(0,U.jsx)("label",{...s,ref:n,htmlFor:o||a,className:ft()(i,r)})}));Ct.displayName="FormCheckLabel";const At=Ct;const Nt=t.forwardRef(((e,n)=>{let{id:r,bsPrefix:i,bsSwitchPrefix:o,inline:s=!1,reverse:a=!1,disabled:l=!1,isValid:c=!1,isInvalid:u=!1,feedbackTooltip:d=!1,feedback:h,feedbackType:f,className:p,style:m,title:g="",type:v="checkbox",label:y,children:w,as:b="input",..._}=e;i=kt(i,"form-check"),o=kt(o,"form-switch");const{controlId:S}=(0,t.useContext)(wt),I=(0,t.useMemo)((()=>({controlId:r||S})),[S,r]),x=!w&&null!=y&&!1!==y||function(e,n){return t.Children.toArray(e).some((e=>t.isValidElement(e)&&e.type===n))}(w,At),k=(0,U.jsx)(Tt,{..._,type:"switch"===v?"checkbox":v,ref:n,isValid:c,isInvalid:u,disabled:l,as:b});return(0,U.jsx)(wt.Provider,{value:I,children:(0,U.jsx)("div",{style:m,className:ft()(p,x&&i,s&&"".concat(i,"-inline"),a&&"".concat(i,"-reverse"),"switch"===v&&o),children:w||(0,U.jsxs)(U.Fragment,{children:[k,x&&(0,U.jsx)(At,{title:g,children:y}),h&&(0,U.jsx)(yt,{type:f,tooltip:d,children:h})]})})})}));Nt.displayName="FormCheck";const Rt=Object.assign(Nt,{Input:Tt,Label:At});n(6440);const Pt=t.forwardRef(((e,n)=>{let{bsPrefix:r,type:i,size:o,htmlSize:s,id:a,className:l,isValid:c=!1,isInvalid:u=!1,plaintext:d,readOnly:h,as:f="input",...p}=e;const{controlId:m}=(0,t.useContext)(wt);return r=kt(r,"form-control"),(0,U.jsx)(f,{...p,type:i,size:s,ref:n,readOnly:h,id:a||m,className:ft()(l,d?"".concat(r,"-plaintext"):r,o&&"".concat(r,"-").concat(o),"color"===i&&"".concat(r,"-color"),c&&"is-valid",u&&"is-invalid")})}));Pt.displayName="FormControl";const Ot=Object.assign(Pt,{Feedback:yt}),Dt=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=kt(r,"form-floating"),(0,U.jsx)(i,{ref:t,className:ft()(n,r),...o})}));Dt.displayName="FormFloating";const Lt=Dt,Mt=t.forwardRef(((e,n)=>{let{controlId:r,as:i="div",...o}=e;const s=(0,t.useMemo)((()=>({controlId:r})),[r]);return(0,U.jsx)(wt.Provider,{value:s,children:(0,U.jsx)(i,{...o,ref:n})})}));Mt.displayName="FormGroup";const Ft=Mt;function jt(e){let{as:n,bsPrefix:r,className:i,...o}=e;r=kt(r,"col");const s=function(){const{breakpoints:e}=(0,t.useContext)(St);return e}(),a=function(){const{minBreakpoint:e}=(0,t.useContext)(St);return e}(),l=[],c=[];return s.forEach((e=>{const t=o[e];let n,i,s;delete o[e],"object"===typeof t&&null!=t?({span:n,offset:i,order:s}=t):n=t;const u=e!==a?"-".concat(e):"";n&&l.push(!0===n?"".concat(r).concat(u):"".concat(r).concat(u,"-").concat(n)),null!=s&&c.push("order".concat(u,"-").concat(s)),null!=i&&c.push("offset".concat(u,"-").concat(i))})),[{...o,className:ft()(i,...l,...c)},{as:n,bsPrefix:r,spans:l}]}const Ut=t.forwardRef(((e,t)=>{const[{className:n,...r},{as:i="div",bsPrefix:o,spans:s}]=jt(e);return(0,U.jsx)(i,{...r,ref:t,className:ft()(n,!s.length&&o)})}));Ut.displayName="Col";const zt=Ut,Vt=t.forwardRef(((e,n)=>{let{as:r="label",bsPrefix:i,column:o=!1,visuallyHidden:s=!1,className:a,htmlFor:l,...c}=e;const{controlId:u}=(0,t.useContext)(wt);i=kt(i,"form-label");let d="col-form-label";"string"===typeof o&&(d="".concat(d," ").concat(d,"-").concat(o));const h=ft()(a,i,s&&"visually-hidden",o&&d);return l=l||u,o?(0,U.jsx)(zt,{ref:n,as:"label",className:h,htmlFor:l,...c}):(0,U.jsx)(r,{ref:n,className:h,htmlFor:l,...c})}));Vt.displayName="FormLabel";const Bt=Vt,qt=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,id:o,...s}=e;const{controlId:a}=(0,t.useContext)(wt);return r=kt(r,"form-range"),(0,U.jsx)("input",{...s,type:"range",ref:n,className:ft()(i,r),id:o||a})}));qt.displayName="FormRange";const Wt=qt,Ht=t.forwardRef(((e,n)=>{let{bsPrefix:r,size:i,htmlSize:o,className:s,isValid:a=!1,isInvalid:l=!1,id:c,...u}=e;const{controlId:d}=(0,t.useContext)(wt);return r=kt(r,"form-select"),(0,U.jsx)("select",{...u,size:o,ref:n,className:ft()(s,r,i&&"".concat(r,"-").concat(i),a&&"is-valid",l&&"is-invalid"),id:c||d})}));Ht.displayName="FormSelect";const Kt=Ht,Gt=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i="small",muted:o,...s}=e;return n=kt(n,"form-text"),(0,U.jsx)(i,{...s,ref:t,className:ft()(r,n,o&&"text-muted")})}));Gt.displayName="FormText";const Qt=Gt,$t=t.forwardRef(((e,t)=>(0,U.jsx)(Rt,{...e,ref:t,type:"switch"})));$t.displayName="Switch";const Yt=Object.assign($t,{Input:Rt.Input,Label:Rt.Label}),Xt=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,children:i,controlId:o,label:s,...a}=e;return n=kt(n,"form-floating"),(0,U.jsxs)(Ft,{ref:t,className:ft()(r,n),controlId:o,...a,children:[i,(0,U.jsx)("label",{htmlFor:o,children:s})]})}));Xt.displayName="FloatingLabel";const Jt=Xt,Zt={_ref:mt().any,validated:mt().bool,as:mt().elementType},en=t.forwardRef(((e,t)=>{let{className:n,validated:r,as:i="form",...o}=e;return(0,U.jsx)(i,{...o,ref:t,className:ft()(n,r&&"was-validated")})}));en.displayName="Form",en.propTypes=Zt;const tn=Object.assign(en,{Group:Ft,Control:Ot,Floating:Lt,Check:Rt,Switch:Yt,Label:Bt,Text:Qt,Range:Wt,Select:Kt,FloatingLabel:Jt});class nn{constructor(){this._fontSize=void 0,this._fontSize=20}setHistorySettings(e){let{fontSize:t}=e;this._fontSize=t}getFontSize(){return this._fontSize}setFontSize(e){this._fontSize=e}toDoc(){return{fontSize:this.getFontSize()}}}class rn{constructor(){this._fontSize=void 0,this._wordCount=void 0,this._numbersEnabled=void 0,this._sentencesEnabled=void 0,this._wordsEnabled=void 0,this._symbolsEnabled=void 0,this._lowercaseEnabled=void 0,this._fontSize=35,this._wordCount=25,this._numbersEnabled=!1,this._sentencesEnabled=!1,this._wordsEnabled=!0,this._symbolsEnabled=!1,this._lowercaseEnabled=!1}setSettings(e){let{fontSize:t,wordCount:n,numbersEnabled:r,sentencesEnabled:i,wordsEnabled:o,symbolsEnabled:s,lowercaseEnabled:a}=e;this._fontSize=t,this._wordCount=n,this._numbersEnabled=r,this._sentencesEnabled=i,this._wordsEnabled=o,this._symbolsEnabled=s,this._lowercaseEnabled=a}getFontSize(){return this._fontSize}getWordCount(){return this._wordCount}getNumbersEnabled(){return this._numbersEnabled}getSentencesEnabled(){return this._sentencesEnabled}getWordsEnabled(){return this._wordsEnabled}getSymbolsEnabled(){return this._symbolsEnabled}getLowercaseEnabled(){return this._lowercaseEnabled}setFontSize(e){this._fontSize=e}setWordCount(e){this._wordCount=e}setNumberEnabled(e){this._numbersEnabled=e}setSentencesEnabled(e){this._sentencesEnabled=e}setWordsEnabled(e){this._wordsEnabled=e}setSymbolsEnabled(e){this._symbolsEnabled=e}setLowercaseEnabled(e){this._lowercaseEnabled=e}toDoc(){return{fontSize:this.getFontSize(),wordCount:this.getWordCount(),numbersEnabled:this.getNumbersEnabled(),sentencesEnabled:this.getSentencesEnabled(),wordsEnabled:this.getWordsEnabled(),symbolsEnabled:this.getSymbolsEnabled(),lowercaseEnabled:this.getLowercaseEnabled()}}}class on{constructor(e){let{wpm:t,accuracy:n,generatedPrompt:r,typedPrompt:i,duration:o,startTime:s,endTime:a}=e;this._wpm=void 0,this._accuracy=void 0,this._generatedPrompt=void 0,this._typedPrompt=void 0,this._duration=void 0,this._startTime=void 0,this._endTime=void 0,this._wpm=t,this._accuracy=n,this._generatedPrompt=r,this._typedPrompt=i,this._duration=o,this._endTime=a,this._startTime=s}getWpm(){return this._wpm}getGeneratedPrompt(){return this._generatedPrompt}getTypedPrompt(){return this._typedPrompt}getDuration(){return this._duration}getStartTime(){return this._startTime}getEndTime(){return this._endTime}getAccuracy(){return this._accuracy}setWpm(e){this._wpm=e}setGeneratedPrompt(e){this._generatedPrompt=e}setTypedPrompt(e){this._typedPrompt=e}setDuration(e){this._duration=e}setStartTime(e){this._startTime=e}setEndTime(e){this._endTime=e}setAccuracy(e){this._accuracy=e}toDoc(){return{wpm:this.getWpm(),accuracy:this.getAccuracy(),generatedPrompt:this.getGeneratedPrompt(),typedPrompt:this.getTypedPrompt(),duration:this.getDuration(),startTime:this.getStartTime(),endTime:this.getEndTime()}}}const sn=new class{constructor(){this._settings=void 0,this._historySettings=void 0,this._typingStats=void 0,this._settings=new rn,this._historySettings=new nn,this._typingStats=[]}reset(){this._settings=new rn,this._historySettings=new nn,this._typingStats=[]}pushTypingStat(e){this._typingStats.push(e)}overrideWithTypingStatData(e){this._typingStats=[];for(let t of e){const e={...t};this.pushTypingStat(new on(e))}}overrideWithSettingsData(e){this._settings.setSettings(e)}overrideHistorySettings(e){this._historySettings.setHistorySettings(e)}getTypingStats(){return this._typingStats}clearTypingStats(){this._typingStats=[]}getSettings(){return this._settings}getHistorySettings(){return this._historySettings}setSettings(e){this._settings.setSettings(e)}typingStatsToDoc(){const e=[];for(let t of this.getTypingStats())e.push(t.toDoc());return console.log(e),{typingStats:e}}},an=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ln={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(an(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new cn;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class cn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const un=function(e){return function(e){const t=an(e);return ln.encodeByteArray(t,!0)}(e).replace(/\./g,"")},dn=function(e){try{return ln.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function hn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=hn(e[n],t[n]));return e}const fn=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,pn=()=>{try{return fn()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&dn(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},mn=e=>{var t,n;return null===(n=null===(t=pn())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},gn=()=>{var e;return null===(e=pn())||void 0===e?void 0:e.config},vn=e=>{var t;return null===(t=pn())||void 0===t?void 0:t["_".concat(e)]};class yn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function wn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function bn(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function _n(){var e;const t=null===(e=pn())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Sn(){return"object"===typeof self&&self.self===self}function In(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function xn(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function kn(){const e=wn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function En(){return!_n()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tn(){try{return"object"===typeof indexedDB}catch(e){return!1}}function Cn(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class An extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,An.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nn.prototype.create)}}class Nn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Rn,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new An(n,o,t)}}const Rn=/\{\$([^}]+)}/g;function Pn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function On(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Dn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Ln(n)&&Ln(o)){if(!Dn(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ln(e){return null!==e&&"object"===typeof e}function Mn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Fn(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function jn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Un(e,t){const n=new zn(e,t);return n.subscribe.bind(n)}class zn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Vn),void 0===r.error&&(r.error=Vn),void 0===r.complete&&(r.complete=Vn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Vn(){}const Bn=1e3,qn=2,Wn=144e5,Hn=.5;function Kn(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qn;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bn)*Math.pow(t,e),r=Math.round(Hn*n*(Math.random()-.5)*2);return Math.min(Wn,n+r)}function Gn(e){return e&&e._delegate?e._delegate:e}class Qn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $n="[DEFAULT]";class Yn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new yn;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:$n})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Xn(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n;return this.component?this.component.multipleInstances?e:$n:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function Xn(e){return e===$n?void 0:e}class Jn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Yn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Zn=[];var er;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(er||(er={}));const tr={debug:er.DEBUG,verbose:er.VERBOSE,info:er.INFO,warn:er.WARN,error:er.ERROR,silent:er.SILENT},nr=er.INFO,rr={[er.DEBUG]:"log",[er.VERBOSE]:"log",[er.INFO]:"info",[er.WARN]:"warn",[er.ERROR]:"error"},ir=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=rr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class or{constructor(e){this.name=e,this._logLevel=nr,this._logHandler=ir,this._userLogHandler=null,Zn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in er))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?tr[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,er.DEBUG,...t),this._logHandler(this,er.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,er.VERBOSE,...t),this._logHandler(this,er.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,er.INFO,...t),this._logHandler(this,er.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,er.WARN,...t),this._logHandler(this,er.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,er.ERROR,...t),this._logHandler(this,er.ERROR,...t)}}const sr=(e,t)=>t.some((t=>e instanceof t));let ar,lr;const cr=new WeakMap,ur=new WeakMap,dr=new WeakMap,hr=new WeakMap,fr=new WeakMap;let pr={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ur.get(e);if("objectStoreNames"===t)return e.objectStoreNames||dr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function mr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(lr||(lr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(yr(this),n),vr(cr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return vr(e.apply(yr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(yr(this),t,...r);return dr.set(o,t.sort?t.sort():[t]),vr(o)}}function gr(e){return"function"===typeof e?mr(e):(e instanceof IDBTransaction&&function(e){if(ur.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));ur.set(e,t)}(e),sr(e,ar||(ar=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,pr):e)}function vr(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(vr(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&cr.set(t,e)})).catch((()=>{})),fr.set(t,e),t}(e);if(hr.has(e))return hr.get(e);const t=gr(e);return t!==e&&(hr.set(e,t),fr.set(t,e)),t}const yr=e=>fr.get(e);function wr(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=vr(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(vr(s.result),e.oldVersion,e.newVersion,vr(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}const br=["get","getKey","getAll","getAllKeys","count"],_r=["put","add","delete","clear"],Sr=new Map;function Ir(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Sr.get(t))return Sr.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=_r.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!br.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return Sr.set(t,o),o}pr=(e=>({...e,get:(t,n,r)=>Ir(t,n)||e.get(t,n,r),has:(t,n)=>!!Ir(t,n)||e.has(t,n)}))(pr);class xr{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const kr="@firebase/app",Er="0.10.2",Tr=new or("@firebase/app"),Cr="[DEFAULT]",Ar={[kr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Nr=new Map,Rr=new Map,Pr=new Map;function Or(e,t){try{e.container.addComponent(t)}catch(n){Tr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Dr(e,t){e.container.addOrOverwriteComponent(t)}function Lr(e){const t=e.name;if(Pr.has(t))return Tr.debug("There were multiple attempts to register component ".concat(t,".")),!1;Pr.set(t,e);for(const n of Nr.values())Or(n,e);for(const n of Rr.values())Or(n,e);return!0}function Mr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Fr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cr;Mr(e,t).clearInstance(n)}function jr(e){return void 0!==e.options}function Ur(e){return void 0!==e.settings}function zr(){Pr.clear()}const Vr=new Nn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Br{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Qn("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}}class qr extends Br{constructor(e,t,n,r){const i=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,o={name:n,automaticDataCollectionEnabled:i};if(void 0!==e.apiKey)super(e,o,r);else{super(e.options,o,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},t),this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Yr(kr,Er,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){$r(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Vr.create("server-app-deleted")}}const Wr="10.11.1";function Hr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Cr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Vr.create("bad-app-name",{appName:String(i)});if(n||(n=gn()),!n)throw Vr.create("no-options");const o=Nr.get(i);if(o){if(Dn(n,o.options)&&Dn(r,o.config))return o;throw Vr.create("duplicate-app",{appName:i})}const s=new Jn(i);for(const l of Pr.values())s.addComponent(l);const a=new Br(n,r,s);return Nr.set(i,a),a}function Kr(e,t){if(Sn())throw Vr.create("invalid-server-app-environment");let n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=jr(e)?e.options:e;const r=Object.assign(Object.assign({},t),n);void 0!==r.releaseOnDeref&&delete r.releaseOnDeref;if(void 0!==t.releaseOnDeref&&"undefined"===typeof FinalizationRegistry)throw Vr.create("finalization-registry-not-supported",{});const i=""+(o=JSON.stringify(r),[...o].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0));var o;const s=Rr.get(i);if(s)return s.incRefCount(t.releaseOnDeref),s;const a=new Jn(i);for(const c of Pr.values())a.addComponent(c);const l=new qr(n,t,i,a);return Rr.set(i,l),l}function Gr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cr;const t=Nr.get(e);if(!t&&e===Cr&&gn())return Hr();if(!t)throw Vr.create("no-app",{appName:e});return t}function Qr(){return Array.from(Nr.values())}async function $r(e){let t=!1;const n=e.name;if(Nr.has(n))t=!0,Nr.delete(n);else if(Rr.has(n)){e.decRefCount()<=0&&(Rr.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Yr(e,t,n){var r;let i=null!==(r=Ar[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Tr.warn(e.join(" "))}Lr(new Qn("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function Xr(e,t){if(null!==e&&"function"!==typeof e)throw Vr.create("invalid-log-argument");!function(e,t){for(const n of Zn){let r=null;t&&t.level&&(r=tr[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];const a=o.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:er[n].toLowerCase(),message:a,args:o,type:t.name})}}}(e,t)}function Jr(e){var t;t=e,Zn.forEach((e=>{e.setLogLevel(t)}))}const Zr="firebase-heartbeat-database",ei=1,ti="firebase-heartbeat-store";let ni=null;function ri(){return ni||(ni=wr(Zr,ei,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ti)}catch(n){console.warn(n)}}}).catch((e=>{throw Vr.create("idb-open",{originalErrorMessage:e.message})}))),ni}async function ii(e,t){try{const n=(await ri()).transaction(ti,"readwrite"),r=n.objectStore(ti);await r.put(t,oi(e)),await n.done}catch(n){if(n instanceof An)Tr.warn(n.message);else{const e=Vr.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Tr.warn(e.message)}}}function oi(e){return"".concat(e.name,"!").concat(e.options.appId)}class si{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new li(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ai();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ai(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),ci(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ci(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=un(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function ai(){return(new Date).toISOString().substring(0,10)}class li{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Tn()&&Cn().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ri()).transaction(ti),n=await t.objectStore(ti).get(oi(e));return await t.done,n}catch(t){if(t instanceof An)Tr.warn(t.message);else{const e=Vr.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Tr.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ii(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ii(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ci(e){return un(JSON.stringify({version:2,heartbeats:e})).length}var ui;ui="",Lr(new Qn("platform-logger",(e=>new xr(e)),"PRIVATE")),Lr(new Qn("heartbeat",(e=>new si(e)),"PRIVATE")),Yr(kr,Er,ui),Yr(kr,Er,"esm2017"),Yr("fire-js","");function di(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function hi(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fi=hi,pi=new Nn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),mi=new or("@firebase/auth");function gi(e){if(mi.logLevel<=er.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];mi.error("Auth (".concat(Wr,"): ").concat(e),...n)}}function vi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Si(e,...n)}function yi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Si(e,...n)}function wi(e,t,n){const r=Object.assign(Object.assign({},fi()),{[t]:n});return new Nn("auth","Firebase",r).create(t,{appName:e.name})}function bi(e){return wi(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _i(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&vi(e,"argument-error"),wi(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Si(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return pi.create(e,...n)}function Ii(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Si(t,...r)}}function xi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw gi(t),new Error(t)}function ki(e,t){e||xi(t)}function Ei(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ti(){return"http:"===Ci()||"https:"===Ci()}function Ci(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Ai{constructor(e,t){this.shortDelay=e,this.longDelay=t,ki(t>e,"Short delay should be less than long delay!"),this.isMobile=bn()||xn()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ti()||In()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ni(e,t){ki(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Ri{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Pi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Oi=new Ai(3e4,6e4);function Di(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Li(e,t,n,r){return Mi(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=Mn(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Ri.fetch()(ji(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Mi(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Pi),t);try{const t=new zi(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Vi(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Vi(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Vi(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Vi(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw wi(e,a,s);vi(e,a)}}catch(i){if(i instanceof An)throw i;vi(e,"network-request-failed",{message:String(i)})}}async function Fi(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Li(e,t,n,r,i);return"mfaPendingCredential"in o&&vi(e,"multi-factor-auth-required",{_serverResponse:o}),o}function ji(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ni(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Ui(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zi{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(yi(this.auth,"network-request-failed"))),Oi.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vi(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=yi(e,t,r);return i.customData._tokenResponse=n,i}function Bi(e){return void 0!==e&&void 0!==e.enterprise}class qi{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ui(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Wi(e,t){return Li(e,"GET","/v2/recaptchaConfig",Di(e,t))}async function Hi(e,t){return Li(e,"POST","/v1/accounts:lookup",t)}function Ki(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Gi(e){return 1e3*Number(e)}function Qi(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return gi("JWT malformed, contained fewer than 3 sections"),null;try{const e=dn(n);return e?JSON.parse(e):(gi("Failed to decode base64 JWT payload"),null)}catch(i){return gi("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function $i(e){const t=Qi(e);return Ii(t,"internal-error"),Ii("undefined"!==typeof t.exp,"internal-error"),Ii("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Yi(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof An&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Xi{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Ji{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ki(this.lastLoginAt),this.creationTime=Ki(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Zi(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Yi(e,Hi(n,{idToken:r}));Ii(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?eo(o.providerUserInfo):[],a=(l=e.providerData,c=s,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ji(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function eo(e){return e.map((e=>{var{providerId:t}=e,n=di(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class to{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ii(e.idToken,"internal-error"),Ii("undefined"!==typeof e.idToken,"internal-error"),Ii("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):$i(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ii(0!==e.length,"internal-error");const t=$i(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Ii(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Mi(e,{},(async()=>{const n=Mn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=ji(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Ri.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new to;return n&&(Ii("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Ii("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Ii("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new to,this.toJSON())}_performRefresh(){return xi("not implemented")}}function no(e,t){Ii("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ro{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=di(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ji(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Yi(this,this.stsTokenManager.getToken(this.auth,e));return Ii(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Gn(e),r=await n.getIdToken(t),i=Qi(r);Ii(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ki(Gi(i.auth_time)),issuedAtTime:Ki(Gi(i.iat)),expirationTime:Ki(Gi(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Gn(e);await Zi(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Ii(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ro(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ii(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Zi(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ur(this.auth.app))return Promise.reject(bi(this.auth));const e=await this.getIdToken();return await Yi(this,async function(e,t){return Li(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:S}=t;Ii(y&&S,e,"internal-error");const I=to.fromJSON(this.name,S);Ii("string"===typeof y,e,"internal-error"),no(u,e.name),no(d,e.name),Ii("boolean"===typeof w,e,"internal-error"),Ii("boolean"===typeof b,e,"internal-error"),no(h,e.name),no(f,e.name),no(p,e.name),no(m,e.name),no(g,e.name),no(v,e.name);const x=new ro({uid:y,auth:e,email:d,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:I,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(x.providerData=_.map((e=>Object.assign({},e)))),m&&(x._redirectEventId=m),x}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new to;r.updateFromServerResponse(t);const i=new ro({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Zi(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Ii(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?eo(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new to;s.updateFromIdToken(n);const a=new ro({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Ji(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const io=new Map;function oo(e){ki(e instanceof Function,"Expected a class definition");let t=io.get(e);return t?(ki(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,io.set(e,t),t)}class so{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}so.type="NONE";const ao=so;function lo(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class co{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=lo(this.userKey,r.apiKey,i),this.fullPersistenceKey=lo("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ro._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new co(oo(ao),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||oo(ao);const o=lo(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=ro._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new co(i,e,n)):new co(i,e,n)}}function uo(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(mo(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ho(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(vo(t))return"Blackberry";if(yo(t))return"Webos";if(fo(t))return"Safari";if((t.includes("chrome/")||po(t))&&!t.includes("edge/"))return"Chrome";if(go(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ho(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn();return/firefox\//i.test(e)}function fo(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function po(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn();return/crios\//i.test(e)}function mo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn();return/iemobile/i.test(e)}function go(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn();return/android/i.test(e)}function vo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn();return/blackberry/i.test(e)}function yo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn();return/webos/i.test(e)}function wo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function bo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn();return wo(e)||go(e)||yo(e)||vo(e)||/windows phone/i.test(e)||mo(e)}function _o(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=uo(wn());break;case"Worker":t="".concat(uo(wn()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Wr,"/").concat(r)}class So{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Io{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class xo{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Eo(this),this.idTokenSubscription=new Eo(this),this.beforeStateQueue=new So(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pi,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=oo(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await co.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Hi(this,{idToken:e}),n=await ro._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ur(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ii(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Zi(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ur(this.app))return Promise.reject(bi(this));const t=e?Gn(e):null;return t&&Ii(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Ii(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Ur(this.app)?Promise.reject(bi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ur(this.app)?Promise.reject(bi(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(oo(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Li(e,"GET","/v2/passwordPolicy",Di(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Io(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Li(e,"POST","/v2/accounts:revokeToken",Di(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&oo(e)||this._popupRedirectResolver;Ii(t,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[oo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ii(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ii(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_o(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(mi.logLevel<=er.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];mi.warn("Auth (".concat(Wr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function ko(e){return Gn(e)}class Eo{constructor(e){this.auth=e,this.observer=null,this.addObserver=Un((e=>this.observer=e))}get next(){return Ii(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let To={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Co(e){return To.loadJS(e)}function Ao(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class No{constructor(e){this.type="recaptcha-enterprise",this.auth=ko(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Bi(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Wi(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new qi(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Bi(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=To.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Co(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Ro(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new No(e);let o;try{o=await i.verify(n)}catch(a){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Po(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ro(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Ro(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Oo(e,t,n){const r=ko(e);Ii(r._canInitEmulator,r,"emulator-config-failed"),Ii(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Do(t),{host:s,port:a}=function(e){const t=Do(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Lo(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Lo(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Do(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Lo(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Mo{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xi("not implemented")}_getIdTokenResponse(e){return xi("not implemented")}_linkToIdToken(e,t){return xi("not implemented")}_getReauthenticationResolver(e){return xi("not implemented")}}async function Fo(e,t){return Li(e,"POST","/v1/accounts:signUp",t)}async function jo(e,t){return Fi(e,"POST","/v1/accounts:signInWithPassword",Di(e,t))}class Uo extends Mo{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Uo(e,t,"password")}static _fromEmailAndCode(e,t){return new Uo(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Po(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",jo);case"emailLink":return async function(e,t){return Fi(e,"POST","/v1/accounts:signInWithEmailLink",Di(e,t))}(e,{email:this._email,oobCode:this._password});default:vi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Po(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fo);case"emailLink":return async function(e,t){return Fi(e,"POST","/v1/accounts:signInWithEmailLink",Di(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:vi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function zo(e,t){return Fi(e,"POST","/v1/accounts:signInWithIdp",Di(e,t))}class Vo extends Mo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Vo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=di(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Vo(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return zo(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,zo(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,zo(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Mn(t)}return e}}const Bo={USER_NOT_FOUND:"user-not-found"};class qo extends Mo{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new qo({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new qo({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Fi(e,"POST","/v1/accounts:signInWithPhoneNumber",Di(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Fi(e,"POST","/v1/accounts:signInWithPhoneNumber",Di(e,t));if(n.temporaryProof)throw Vi(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Fi(e,"POST","/v1/accounts:signInWithPhoneNumber",Di(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Bo)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new qo({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Wo{constructor(e){var t,n,r,i,o,s;const a=Fn(jn(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Ii(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Fn(jn(e)).link,n=t?Fn(jn(t)).deep_link_id:null,r=Fn(jn(e)).deep_link_id;return(r?Fn(jn(r)).link:null)||r||n||t||e}(e);try{return new Wo(t)}catch(n){return null}}}class Ho{constructor(){this.providerId=Ho.PROVIDER_ID}static credential(e,t){return Uo._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Wo.parseLink(t);return Ii(n,"argument-error"),Uo._fromEmailAndCode(e,n.code,n.tenantId)}}Ho.PROVIDER_ID="password",Ho.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ho.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ko{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Go extends Ko{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Qo extends Go{constructor(){super("facebook.com")}static credential(e){return Vo._fromParams({providerId:Qo.PROVIDER_ID,signInMethod:Qo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qo.credentialFromTaggedObject(e)}static credentialFromError(e){return Qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Qo.credential(t.oauthAccessToken)}catch(n){return null}}}Qo.FACEBOOK_SIGN_IN_METHOD="facebook.com",Qo.PROVIDER_ID="facebook.com";class $o extends Go{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Vo._fromParams({providerId:$o.PROVIDER_ID,signInMethod:$o.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return $o.credentialFromTaggedObject(e)}static credentialFromError(e){return $o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return $o.credential(n,r)}catch(i){return null}}}$o.GOOGLE_SIGN_IN_METHOD="google.com",$o.PROVIDER_ID="google.com";class Yo extends Go{constructor(){super("github.com")}static credential(e){return Vo._fromParams({providerId:Yo.PROVIDER_ID,signInMethod:Yo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yo.credentialFromTaggedObject(e)}static credentialFromError(e){return Yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Yo.credential(t.oauthAccessToken)}catch(n){return null}}}Yo.GITHUB_SIGN_IN_METHOD="github.com",Yo.PROVIDER_ID="github.com";class Xo extends Go{constructor(){super("twitter.com")}static credential(e,t){return Vo._fromParams({providerId:Xo.PROVIDER_ID,signInMethod:Xo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Xo.credentialFromTaggedObject(e)}static credentialFromError(e){return Xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Xo.credential(n,r)}catch(i){return null}}}Xo.TWITTER_SIGN_IN_METHOD="twitter.com",Xo.PROVIDER_ID="twitter.com";class Jo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ro._fromIdTokenResponse(e,n,r),o=Zo(n);return new Jo({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Zo(n);return new Jo({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Zo(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class es extends An{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,es.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new es(e,t,n,r)}}function ts(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw es._fromErrorAndOperation(e,n,t,r);throw n}))}async function ns(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Yi(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Jo._forOperation(e,"link",r)}async function rs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Ur(r.app))return Promise.reject(bi(r));const i="reauthenticate";try{const o=await Yi(e,ts(r,i,t,e),n);Ii(o.idToken,r,"internal-error");const s=Qi(o.idToken);Ii(s,r,"internal-error");const{sub:a}=s;return Ii(e.uid===a,r,"user-mismatch"),Jo._forOperation(e,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&vi(r,"user-mismatch"),o}}async function is(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ur(e.app))return Promise.reject(bi(e));const r="signIn",i=await ts(e,r,t),o=await Jo._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}new WeakMap;const os="__sak";class ss{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(os,"1"),this.storage.removeItem(os),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class as extends ss{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=wn();return fo(e)||wo(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=bo(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);kn()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}as.type="LOCAL";const ls=as;class cs extends ss{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}cs.type="SESSION";const us=cs;class ds{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new ds(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function hs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ds.receivers=[];class fs{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=hs("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function ps(){return window}function ms(){return"undefined"!==typeof ps().WorkerGlobalScope&&"function"===typeof ps().importScripts}const gs="firebaseLocalStorageDb",vs="firebaseLocalStorage",ys="fbase_key";class ws{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function bs(e,t){return e.transaction([vs],t?"readwrite":"readonly").objectStore(vs)}function _s(){const e=indexedDB.open(gs,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(vs,{keyPath:ys})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(vs)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(gs);return new ws(e).toPromise()}(),t(await _s()))}))}))}async function Ss(e,t,n){const r=bs(e,!0).put({[ys]:t,value:n});return new ws(r).toPromise()}function Is(e,t){const n=bs(e,!0).delete(t);return new ws(n).toPromise()}class xs{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await _s()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ms()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ds._getInstance(ms()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new fs(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _s();return await Ss(e,os,"1"),await Is(e,os),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ss(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=bs(e,!1).get(t),r=await new ws(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Is(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=bs(e,!1).getAll();return new ws(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}xs.type="LOCAL";const ks=xs;Ao("rcb"),new Ai(3e4,6e4);const Es="recaptcha";async function Ts(e,t,n){var r;const i=await n.verify();try{let o;if(Ii("string"===typeof i,e,"argument-error"),Ii(n.type===Es,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){Ii("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Li(e,"POST","/v2/accounts/mfaEnrollment:start",Di(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Ii("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;Ii(n,e,"missing-multi-factor-info");const s=await function(e,t){return Li(e,"POST","/v2/accounts/mfaSignIn:start",Di(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Li(e,"POST","/v1/accounts:sendVerificationCode",Di(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Cs{constructor(e){this.providerId=Cs.PROVIDER_ID,this.auth=ko(e)}verifyPhoneNumber(e,t){return Ts(this.auth,e,Gn(t))}static credential(e,t){return qo._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Cs.credentialFromTaggedObject(t)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?qo._fromTokenResponse(n,r):null}}function As(e,t){return t?oo(t):(Ii(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Cs.PROVIDER_ID="phone",Cs.PHONE_SIGN_IN_METHOD="phone";class Ns extends Mo{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return zo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Rs(e){return is(e.auth,new Ns(e),e.bypassAuthState)}function Ps(e){const{auth:t,user:n}=e;return Ii(n,t,"internal-error"),rs(n,new Ns(e),e.bypassAuthState)}async function Os(e){const{auth:t,user:n}=e;return Ii(n,t,"internal-error"),ns(n,new Ns(e),e.bypassAuthState)}class Ds{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Rs;case"linkViaPopup":case"linkViaRedirect":return Os;case"reauthViaPopup":case"reauthViaRedirect":return Ps;default:vi(this.auth,"internal-error")}}resolve(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ls=new Ai(2e3,1e4);class Ms extends Ds{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Ms.currentPopupAction&&Ms.currentPopupAction.cancel(),Ms.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ii(e,this.auth,"internal-error"),e}async onExecution(){ki(1===this.filter.length,"Popup operations only handle one event");const e=hs();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(yi(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ms.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ls.get())};e()}}Ms.currentPopupAction=null;const Fs="pendingRedirect",js=new Map;class Us extends Ds{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=js.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Bs(t),r=Vs(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}js.set(this.auth._key(),e)}return this.bypassAuthState||js.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function zs(e,t){js.set(e._key(),t)}function Vs(e){return oo(e._redirectPersistence)}function Bs(e){return lo(Fs,e.config.apiKey,e.name)}async function qs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ur(e.app))return Promise.reject(bi(e));const r=ko(e),i=As(r,t),o=new Us(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class Ws{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ks(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ks(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(yi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hs(e))}saveEventToCache(e){this.cachedEventUids.add(Hs(e)),this.lastProcessedEventTime=Date.now()}}function Hs(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Ks(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Gs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qs=/^https?/;async function $s(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Li(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Ys(r))return}catch(n){}vi(e,"unauthorized-domain")}function Ys(e){const t=Ei(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Qs.test(n))return!1;if(Gs.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Xs=new Ai(3e4,6e4);function Js(){const e=ps().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Zs(e){return new Promise(((t,n)=>{var r,i,o;function s(){Js(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Js(),n(yi(e,"network-request-failed"))},timeout:Xs.get()})}if(null===(i=null===(r=ps().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=ps().gapi)||void 0===o?void 0:o.load)){const t=Ao("iframefcb");return ps()[t]=()=>{gapi.load?s():n(yi(e,"network-request-failed"))},Co("".concat(To.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw ea=null,e}))}let ea=null;const ta=new Ai(5e3,15e3),na="__/auth/iframe",ra="emulator/auth/iframe",ia={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sa(e){const t=e.config;Ii(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ni(t,ra):"https://".concat(e.config.authDomain,"/").concat(na),r={apiKey:t.apiKey,appName:e.name,v:Wr},i=oa.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(Mn(r).slice(1))}async function aa(e){const t=await function(e){return ea=ea||Zs(e),ea}(e),n=ps().gapi;return Ii(n,e,"internal-error"),t.open({where:document.body,url:sa(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ia,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=yi(e,"network-request-failed"),o=ps().setTimeout((()=>{r(i)}),ta.get());function s(){ps().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const la={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ca{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function ua(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},la),{width:r.toString(),height:i.toString(),top:o,left:s}),c=wn().toLowerCase();n&&(a=po(c)?"_blank":n),ho(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return wo(arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new ca(null);const d=window.open(t||"",a,u);Ii(d,e,"popup-blocked");try{d.focus()}catch(h){}return new ca(d)}const da="__/auth/handler",ha="emulator/auth/handler",fa=encodeURIComponent("fac");async function pa(e,t,n,r,i,o){Ii(e.config.authDomain,e,"auth-domain-config-required"),Ii(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Wr,eventId:i};if(t instanceof Ko){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",On(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof Go){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(fa,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(da);return Ni(t,ha)}(e),"?").concat(Mn(a).slice(1)).concat(c)}const ma="webStorageSupport";const ga=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=us,this._completeRedirectFn=qs,this._overrideRedirectResult=zs}async _openPopup(e,t,n,r){var i;ki(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return ua(e,await pa(e,t,n,Ei(),r),hs())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){ps().location.href=e}(await pa(e,t,n,Ei(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(ki(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await aa(e),n=new Ws(e);return t.register("authEvent",(t=>{Ii(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ma,{type:ma},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ma];void 0!==i&&t(!!i),vi(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=$s(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return bo()||fo()||wo()}};var va="@firebase/auth",ya="1.7.2";class wa{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ii(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ba=vn("authIdTokenMaxAge")||300;let _a=null;var Sa;!function(e){To=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=yi("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Sa="Browser",Lr(new Qn("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ii(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:Sa,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_o(Sa)},c=new xo(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(oo);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Lr(new Qn("auth-internal",(e=>(e=>new wa(e))(ko(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Yr(va,ya,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Sa)),Yr(va,ya,"esm2017");Yr("firebase","10.11.1","app");const Ia="@firebase/installations",xa="0.6.6",ka=1e4,Ea="w:".concat(xa),Ta="FIS_v2",Ca="https://firebaseinstallations.googleapis.com/v1",Aa=36e5,Na=new Nn("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ra(e){return e instanceof An&&e.code.includes("request-failed")}function Pa(e){let{projectId:t}=e;return"".concat(Ca,"/projects/").concat(t,"/installations")}function Oa(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Da(e,t){const n=(await t.json()).error;return Na.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function La(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Ma(e,t){let{refreshToken:n}=t;const r=La(e);return r.append("Authorization",function(e){return"".concat(Ta," ").concat(e)}(n)),r}async function Fa(e){const t=await e();return t.status>=500&&t.status<600?e():t}function ja(e){return new Promise((t=>{setTimeout(t,e)}))}const Ua=/^[cdef][\w-]{21}$/,za="";function Va(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Ua.test(t)?t:za}catch(e){return za}}function Ba(e){return"".concat(e.appName,"!").concat(e.appId)}const qa=new Map;function Wa(e,t){const n=Ba(e);Ha(n,t),function(e,t){const n=Ga();n&&n.postMessage({key:e,fid:t});Qa()}(n,t)}function Ha(e,t){const n=qa.get(e);if(n)for(const r of n)r(t)}let Ka=null;function Ga(){return!Ka&&"BroadcastChannel"in self&&(Ka=new BroadcastChannel("[Firebase] FID Change"),Ka.onmessage=e=>{Ha(e.data.key,e.data.fid)}),Ka}function Qa(){0===qa.size&&Ka&&(Ka.close(),Ka=null)}const $a="firebase-installations-database",Ya=1,Xa="firebase-installations-store";let Ja=null;function Za(){return Ja||(Ja=wr($a,Ya,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Xa)}})),Ja}async function el(e,t){const n=Ba(e),r=(await Za()).transaction(Xa,"readwrite"),i=r.objectStore(Xa),o=await i.get(n);return await i.put(t,n),await r.done,o&&o.fid===t.fid||Wa(e,t.fid),t}async function tl(e){const t=Ba(e),n=(await Za()).transaction(Xa,"readwrite");await n.objectStore(Xa).delete(t),await n.done}async function nl(e,t){const n=Ba(e),r=(await Za()).transaction(Xa,"readwrite"),i=r.objectStore(Xa),o=await i.get(n),s=t(o);return void 0===s?await i.delete(n):await i.put(s,n),await r.done,!s||o&&o.fid===s.fid||Wa(e,s.fid),s}async function rl(e){let t;const n=await nl(e.appConfig,(n=>{const r=function(e){const t=e||{fid:Va(),registrationStatus:0};return sl(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Na.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const o=Pa(n),s=La(n),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const l={fid:i,authVersion:Ta,appId:n.appId,sdkVersion:Ea},c={method:"POST",headers:s,body:JSON.stringify(l)},u=await Fa((()=>fetch(o,c)));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Oa(e.authToken)}}throw await Da("Create Installation",u)}(e,t);return el(e.appConfig,n)}catch(n){throw Ra(n)&&409===n.customData.serverCode?await tl(e.appConfig):await el(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:il(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return n.fid===za?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function il(e){let t=await ol(e.appConfig);for(;1===t.registrationStatus;)await ja(100),t=await ol(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await rl(e);return n||t}return t}function ol(e){return nl(e,(e=>{if(!e)throw Na.create("installation-not-found");return sl(e)}))}function sl(e){return 1===(t=e).registrationStatus&&t.registrationTime+ka<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function al(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(Pa(e),"/").concat(n,"/authTokens:generate")}(n,t),o=Ma(n,t),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const a={installation:{sdkVersion:Ea,appId:n.appId}},l={method:"POST",headers:o,body:JSON.stringify(a)},c=await Fa((()=>fetch(i,l)));if(c.ok){return Oa(await c.json())}throw await Da("Generate Auth Token",c)}async function ll(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await nl(e.appConfig,(r=>{if(!ul(r))throw Na.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Aa}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await cl(e.appConfig);for(;1===n.authToken.requestStatus;)await ja(100),n=await cl(e.appConfig);const r=n.authToken;return 0===r.requestStatus?ll(e,t):r}(e,n),r;{if(!navigator.onLine)throw Na.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await al(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await el(e.appConfig,r),n}catch(n){if(!Ra(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await el(e.appConfig,n)}else await tl(e.appConfig);throw n}}(e,n),n}}));return t?await t:r.authToken}function cl(e){return nl(e,(e=>{if(!ul(e))throw Na.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+ka<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function ul(e){return void 0!==e&&2===e.registrationStatus}async function dl(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await rl(e);t&&await t}(n);return(await ll(n,t)).token}function hl(e){return Na.create("missing-app-config-values",{valueName:e})}const fl="installations",pl=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw hl("App Configuration");if(!e.name)throw hl("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw hl(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Mr(t,"heartbeat"),_delete:()=>Promise.resolve()}},ml=e=>{const t=Mr(e.getProvider("app").getImmediate(),fl).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await rl(t);return r?r.catch(console.error):ll(t).catch(console.error),n.fid}(t),getToken:e=>dl(t,e)}};Lr(new Qn(fl,pl,"PUBLIC")),Lr(new Qn("installations-internal",ml,"PRIVATE")),Yr(Ia,xa),Yr(Ia,xa,"esm2017");const gl="analytics",vl="firebase_id",yl="origin",wl=6e4,bl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_l="https://www.googletagmanager.com/gtag/js",Sl=new or("@firebase/analytics"),Il=new Nn("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function xl(e){if(!e.startsWith(_l)){const t=Il.create("invalid-gtag-resource",{gtagURL:e});return Sl.warn(t.message),""}return e}function kl(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function El(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:xl}),r=document.createElement("script"),i="".concat(_l,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Tl(e,t,n,r){return async function(i){try{for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];if("event"===i){const[r,i]=s;await async function(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await kl(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){o=[];break}o.push(i)}}0===o.length&&(o=Object.values(t)),await Promise.all(o),e("event",r,i||{})}catch(o){Sl.error(o)}}(e,t,n,r,i)}else if("config"===i){const[i,o]=s;await async function(e,t,n,r,i,o){const s=r[i];try{if(s)await t[s];else{const e=(await kl(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(a){Sl.error(a)}e("config",i,o)}(e,t,n,r,i,o)}else if("consent"===i){const[t]=s;e("consent","update",t)}else if("get"===i){const[t,n,r]=s;e("get",t,n,r)}else if("set"===i){const[t]=s;e("set",t)}else e(i,...s)}catch(l){Sl.error(l)}}}const Cl=30;const Al=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Nl(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Rl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Al,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw Il.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Il.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Ol;return setTimeout((async()=>{a.abort()}),void 0!==n?n:wl),Pl({appId:r,apiKey:i,measurementId:o},s,a,t)}async function Pl(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Al;var s;const{appId:a,measurementId:l}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(o),r(Il.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(n,r)}catch(c){if(l)return Sl.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===c||void 0===c?void 0:c.message,"]")),{appId:a,measurementId:l};throw c}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:Nl(r)},o=bl.replace("{app-id}",n),s=await fetch(o,i);if(200!==s.status&&304!==s.status){let e="";try{const n=await s.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw Il.create("config-fetch-failed",{httpStatus:s.status,responseMessage:e})}return s.json()}(e);return o.deleteThrottleMetadata(a),t}catch(c){const t=c;if(!function(e){if(!(e instanceof An)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(o.deleteThrottleMetadata(a),l)return Sl.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===t||void 0===t?void 0:t.message,"]")),{appId:a,measurementId:l};throw c}const r=503===Number(null===(s=null===t||void 0===t?void 0:t.customData)||void 0===s?void 0:s.httpStatus)?Kn(i,o.intervalMillis,Cl):Kn(i,o.intervalMillis),u={throttleEndTimeMillis:Date.now()+r,backoffCount:i+1};return o.setThrottleMetadata(a,u),Sl.debug("Calling attemptFetch again in ".concat(r," millis")),Pl(e,u,n,o)}}class Ol{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let Dl,Ll;function Ml(e){Ll=e}function Fl(e){Dl=e}async function jl(e,t,n,r,i,o,s){var a;const l=Rl(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Sl.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((e=>Sl.error(e))),t.push(l);const c=async function(){if(!Tn())return Sl.warn(Il.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Cn()}catch(e){return Sl.warn(Il.create("indexeddb-unavailable",{errorInfo:null===e||void 0===e?void 0:e.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(_l)&&n.src.includes(e))return n;return null})(o)||El(o,u.measurementId),Ll&&(i("consent","default",Ll),Ml(void 0)),i("js",new Date);const h=null!==(a=null===s||void 0===s?void 0:s.config)&&void 0!==a?a:{};return h[yl]="firebase",h.update=!0,null!=d&&(h[vl]=d),i("config",u.measurementId,h),Dl&&(i("set",Dl),Fl(void 0)),u.measurementId}class Ul{constructor(e){this.app=e}_delete(){return delete zl[this.app.options.appId],Promise.resolve()}}let zl={},Vl=[];const Bl={};let ql,Wl,Hl="dataLayer",Kl="gtag",Gl=!1;function Ql(){const e=[];if(In()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>"(".concat(t+1,") ").concat(e))).join(" "),n=Il.create("invalid-analytics-context",{errorInfo:t});Sl.warn(n.message)}}function $l(e,t,n){Ql();const r=e.options.appId;if(!r)throw Il.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Il.create("no-api-key");Sl.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=zl[r])throw Il.create("already-exists",{id:r});if(!Gl){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Hl);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=Tl(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(zl,Vl,Bl,Hl,Kl);Wl=e,ql=t,Gl=!0}zl[r]=jl(e,Vl,Bl,t,ql,Hl,n);return new Ul(e)}function Yl(e,t,n,r){e=Gn(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(Wl,zl[e.app.options.appId],t,n,r).catch((e=>Sl.error(e)))}const Xl="@firebase/analytics",Jl="0.10.2";Lr(new Qn(gl,((e,t)=>{let{options:n}=t;return $l(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),Lr(new Qn("analytics-internal",(function(e){try{const t=e.getProvider(gl).getImmediate();return{logEvent:(e,n,r)=>Yl(t,e,n,r)}}catch(t){throw Il.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),Yr(Xl,Jl),Yr(Xl,Jl,"esm2017");class Zl{constructor(e,t){this._delegate=e,this.firebase=t,Or(e,new Qn("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),$r(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cr;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cr;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Or(this._delegate,e)}_addOrOverwriteComponent(e){Dr(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ec=new Nn("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const tc=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=Hr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Pn(n,i.name))return n[i.name];const o=new t(i,r);return n[i.name]=o,o},app:i,registerVersion:Yr,setLogLevel:Jr,onLog:Xr,apps:null,SDK_VERSION:Wr,INTERNAL:{registerComponent:function(e){const n=e.name,o=n.replace("-compat","");if(Lr(e)&&"PUBLIC"===e.type){const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw ec.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&hn(s,e.serviceProps),r[o]=s,t.prototype[o]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Pn(n,e=e||Cr))throw ec.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(Zl);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){hn(n,e)},createSubscribe:Un,ErrorFactory:Nn,deepExtend:hn}),n}(),nc=new or("@firebase/app-compat");if(Sn()&&void 0!==self.firebase){nc.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&nc.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const rc=tc;!function(e){Yr("@firebase/app-compat","0.2.32",e)}();rc.registerVersion("firebase","10.11.1","app-compat");const ic={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},oc="EMAIL_SIGNIN",sc="PASSWORD_RESET",ac="RECOVER_EMAIL",lc="REVERT_SECOND_FACTOR_ADDITION",cc="VERIFY_AND_CHANGE_EMAIL",uc="VERIFY_EMAIL";function dc(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hc=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},fc=dc,pc=new Nn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),mc=new or("@firebase/auth");function gc(e){if(mc.logLevel<=er.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];mc.error("Auth (".concat(Wr,"): ").concat(e),...n)}}function vc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Sc(e,...n)}function yc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Sc(e,...n)}function wc(e,t,n){const r=Object.assign(Object.assign({},fc()),{[t]:n});return new Nn("auth","Firebase",r).create(t,{appName:e.name})}function bc(e){return wc(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _c(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&vc(e,"argument-error"),wc(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Sc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return pc.create(e,...n)}function Ic(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Sc(t,...r)}}function xc(e){const t="INTERNAL ASSERTION FAILED: "+e;throw gc(t),new Error(t)}function kc(e,t){e||xc(t)}function Ec(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Tc(){return"http:"===Cc()||"https:"===Cc()}function Cc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Ac{constructor(e,t){this.shortDelay=e,this.longDelay=t,kc(t>e,"Short delay should be less than long delay!"),this.isMobile=bn()||xn()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Tc()||In()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Nc(e,t){kc(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Rc{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void xc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void xc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void xc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Pc={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Oc=new Ac(3e4,6e4);function Dc(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Lc(e,t,n,r){return Mc(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=Mn(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Rc.fetch()(jc(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Mc(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Pc),t);try{const t=new zc(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Vc(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Vc(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Vc(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Vc(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw wc(e,a,s);vc(e,a)}}catch(i){if(i instanceof An)throw i;vc(e,"network-request-failed",{message:String(i)})}}async function Fc(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Lc(e,t,n,r,i);return"mfaPendingCredential"in o&&vc(e,"multi-factor-auth-required",{_serverResponse:o}),o}function jc(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Nc(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Uc(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zc{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(yc(this.auth,"network-request-failed"))),Oc.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vc(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=yc(e,t,r);return i.customData._tokenResponse=n,i}function Bc(e){return void 0!==e&&void 0!==e.getResponse}function qc(e){return void 0!==e&&void 0!==e.enterprise}class Wc{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Uc(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Hc(e,t){return Lc(e,"GET","/v2/recaptchaConfig",Dc(e,t))}async function Kc(e,t){return Lc(e,"POST","/v1/accounts:lookup",t)}function Gc(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Qc(e){return 1e3*Number(e)}function $c(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return gc("JWT malformed, contained fewer than 3 sections"),null;try{const e=dn(n);return e?JSON.parse(e):(gc("Failed to decode base64 JWT payload"),null)}catch(i){return gc("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function Yc(e){const t=$c(e);return Ic(t,"internal-error"),Ic("undefined"!==typeof t.exp,"internal-error"),Ic("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Xc(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof An&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Jc{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Zc{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gc(this.lastLoginAt),this.creationTime=Gc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function eu(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Xc(e,Kc(n,{idToken:r}));Ic(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?tu(o.providerUserInfo):[],a=(l=e.providerData,c=s,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Zc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function tu(e){return e.map((e=>{var{providerId:t}=e,n=di(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class nu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ic(e.idToken,"internal-error"),Ic("undefined"!==typeof e.idToken,"internal-error"),Ic("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Yc(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ic(0!==e.length,"internal-error");const t=Yc(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Ic(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Mc(e,{},(async()=>{const n=Mn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=jc(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Rc.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new nu;return n&&(Ic("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Ic("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Ic("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nu,this.toJSON())}_performRefresh(){return xc("not implemented")}}function ru(e,t){Ic("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class iu{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=di(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jc(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Zc(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Xc(this,this.stsTokenManager.getToken(this.auth,e));return Ic(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Gn(e),r=await n.getIdToken(t),i=$c(r);Ic(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Gc(Qc(i.auth_time)),issuedAtTime:Gc(Qc(i.iat)),expirationTime:Gc(Qc(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Gn(e);await eu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Ic(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new iu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ic(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await eu(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ur(this.auth.app))return Promise.reject(bc(this.auth));const e=await this.getIdToken();return await Xc(this,async function(e,t){return Lc(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:S}=t;Ic(y&&S,e,"internal-error");const I=nu.fromJSON(this.name,S);Ic("string"===typeof y,e,"internal-error"),ru(u,e.name),ru(d,e.name),Ic("boolean"===typeof w,e,"internal-error"),Ic("boolean"===typeof b,e,"internal-error"),ru(h,e.name),ru(f,e.name),ru(p,e.name),ru(m,e.name),ru(g,e.name),ru(v,e.name);const x=new iu({uid:y,auth:e,email:d,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:I,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(x.providerData=_.map((e=>Object.assign({},e)))),m&&(x._redirectEventId=m),x}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new nu;r.updateFromServerResponse(t);const i=new iu({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await eu(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Ic(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?tu(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new nu;s.updateFromIdToken(n);const a=new iu({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Zc(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const ou=new Map;function su(e){kc(e instanceof Function,"Expected a class definition");let t=ou.get(e);return t?(kc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ou.set(e,t),t)}class au{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}au.type="NONE";const lu=au;function cu(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class uu{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=cu(this.userKey,r.apiKey,i),this.fullPersistenceKey=cu("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?iu._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new uu(su(lu),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||su(lu);const o=cu(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=iu._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new uu(i,e,n)):new uu(i,e,n)}}function du(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(mu(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(hu(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(vu(t))return"Blackberry";if(yu(t))return"Webos";if(fu(t))return"Safari";if((t.includes("chrome/")||pu(t))&&!t.includes("edge/"))return"Chrome";if(gu(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function hu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn();return/firefox\//i.test(e)}function fu(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn();return/crios\//i.test(e)}function mu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn();return/iemobile/i.test(e)}function gu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn();return/android/i.test(e)}function vu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn();return/blackberry/i.test(e)}function yu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn();return/webos/i.test(e)}function wu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function bu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn();return wu(e)||gu(e)||yu(e)||vu(e)||/windows phone/i.test(e)||mu(e)}function _u(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=du(wn());break;case"Worker":t="".concat(du(wn()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Wr,"/").concat(r)}class Su{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Iu{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class xu{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Eu(this),this.idTokenSubscription=new Eu(this),this.beforeStateQueue=new Su(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pc,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=su(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await uu.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Kc(this,{idToken:e}),n=await iu._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ur(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ic(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await eu(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ur(this.app))return Promise.reject(bc(this));const t=e?Gn(e):null;return t&&Ic(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Ic(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Ur(this.app)?Promise.reject(bc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ur(this.app)?Promise.reject(bc(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(su(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Lc(e,"GET","/v2/passwordPolicy",Dc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Iu(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Lc(e,"POST","/v2/accounts:revokeToken",Dc(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&su(e)||this._popupRedirectResolver;Ic(t,this,"argument-error"),this.redirectPersistenceManager=await uu.create(this,[su(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ic(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ic(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_u(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(mc.logLevel<=er.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];mc.warn("Auth (".concat(Wr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function ku(e){return Gn(e)}class Eu{constructor(e){this.auth=e,this.observer=null,this.addObserver=Un((e=>this.observer=e))}get next(){return Ic(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Tu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Cu(e){return Tu.loadJS(e)}function Au(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Nu{constructor(e){this.type="recaptcha-enterprise",this.auth=ku(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;qc(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Hc(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Wc(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&qc(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Tu.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Cu(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Ru(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Nu(e);let o;try{o=await i.verify(n)}catch(a){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Pu(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ru(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Ru(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Ou(e,t,n){const r=ku(e);Ic(r._canInitEmulator,r,"emulator-config-failed"),Ic(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Du(t),{host:s,port:a}=function(e){const t=Du(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Lu(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Lu(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Du(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Lu(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Mu{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xc("not implemented")}_getIdTokenResponse(e){return xc("not implemented")}_linkToIdToken(e,t){return xc("not implemented")}_getReauthenticationResolver(e){return xc("not implemented")}}async function Fu(e,t){return Lc(e,"POST","/v1/accounts:resetPassword",Dc(e,t))}async function ju(e,t){return Lc(e,"POST","/v1/accounts:signUp",t)}async function Uu(e,t){return Fc(e,"POST","/v1/accounts:signInWithPassword",Dc(e,t))}async function zu(e,t){return Lc(e,"POST","/v1/accounts:sendOobCode",Dc(e,t))}async function Vu(e,t){return zu(e,t)}async function Bu(e,t){return zu(e,t)}class qu extends Mu{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new qu(e,t,"password")}static _fromEmailAndCode(e,t){return new qu(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Pu(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Uu);case"emailLink":return async function(e,t){return Fc(e,"POST","/v1/accounts:signInWithEmailLink",Dc(e,t))}(e,{email:this._email,oobCode:this._password});default:vc(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Pu(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ju);case"emailLink":return async function(e,t){return Fc(e,"POST","/v1/accounts:signInWithEmailLink",Dc(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:vc(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Wu(e,t){return Fc(e,"POST","/v1/accounts:signInWithIdp",Dc(e,t))}class Hu extends Mu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Hu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vc("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=di(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Hu(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Wu(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Wu(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Wu(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Mn(t)}return e}}const Ku={USER_NOT_FOUND:"user-not-found"};class Gu extends Mu{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Gu({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Gu({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Fc(e,"POST","/v1/accounts:signInWithPhoneNumber",Dc(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Fc(e,"POST","/v1/accounts:signInWithPhoneNumber",Dc(e,t));if(n.temporaryProof)throw Vc(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Fc(e,"POST","/v1/accounts:signInWithPhoneNumber",Dc(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ku)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Gu({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Qu{constructor(e){var t,n,r,i,o,s;const a=Fn(jn(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Ic(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Fn(jn(e)).link,n=t?Fn(jn(t)).deep_link_id:null,r=Fn(jn(e)).deep_link_id;return(r?Fn(jn(r)).link:null)||r||n||t||e}(e);try{return new Qu(t)}catch(n){return null}}}class $u{constructor(){this.providerId=$u.PROVIDER_ID}static credential(e,t){return qu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Qu.parseLink(t);return Ic(n,"argument-error"),qu._fromEmailAndCode(e,n.code,n.tenantId)}}$u.PROVIDER_ID="password",$u.EMAIL_PASSWORD_SIGN_IN_METHOD="password",$u.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Yu{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Xu extends Yu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ju extends Xu{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return Ic("providerId"in t&&"signInMethod"in t,"argument-error"),Hu._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Ic(e.idToken||e.accessToken,"argument-error"),Hu._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Ju.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ju.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:s,providerId:a}=t;if(!r&&!i&&!n&&!o)return null;if(!a)return null;try{return new Ju(a)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:o})}catch(l){return null}}}class Zu extends Xu{constructor(){super("facebook.com")}static credential(e){return Hu._fromParams({providerId:Zu.PROVIDER_ID,signInMethod:Zu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zu.credentialFromTaggedObject(e)}static credentialFromError(e){return Zu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Zu.credential(t.oauthAccessToken)}catch(n){return null}}}Zu.FACEBOOK_SIGN_IN_METHOD="facebook.com",Zu.PROVIDER_ID="facebook.com";class ed extends Xu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Hu._fromParams({providerId:ed.PROVIDER_ID,signInMethod:ed.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ed.credentialFromTaggedObject(e)}static credentialFromError(e){return ed.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ed.credential(n,r)}catch(i){return null}}}ed.GOOGLE_SIGN_IN_METHOD="google.com",ed.PROVIDER_ID="google.com";class td extends Xu{constructor(){super("github.com")}static credential(e){return Hu._fromParams({providerId:td.PROVIDER_ID,signInMethod:td.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return td.credentialFromTaggedObject(e)}static credentialFromError(e){return td.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return td.credential(t.oauthAccessToken)}catch(n){return null}}}td.GITHUB_SIGN_IN_METHOD="github.com",td.PROVIDER_ID="github.com";class nd extends Mu{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Wu(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Wu(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Wu(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new nd(n,i):null}static _create(e,t){return new nd(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class rd extends Yu{constructor(e){Ic(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return rd.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return rd.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=nd.fromJSON(e);return Ic(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return nd._create(r,n)}catch(i){return null}}}class id extends Xu{constructor(){super("twitter.com")}static credential(e,t){return Hu._fromParams({providerId:id.PROVIDER_ID,signInMethod:id.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return id.credentialFromTaggedObject(e)}static credentialFromError(e){return id.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return id.credential(n,r)}catch(i){return null}}}async function od(e,t){return Fc(e,"POST","/v1/accounts:signUp",Dc(e,t))}id.TWITTER_SIGN_IN_METHOD="twitter.com",id.PROVIDER_ID="twitter.com";class sd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await iu._fromIdTokenResponse(e,n,r),o=ad(n);return new sd({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ad(n);return new sd({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ad(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ld extends An{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ld.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ld(e,t,n,r)}}function cd(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw ld._fromErrorAndOperation(e,n,t,r);throw n}))}function ud(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function dd(e,t){const n=Gn(e);await fd(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Lc(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=ud(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function hd(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Xc(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return sd._forOperation(e,"link",r)}async function fd(e,t,n){await eu(t);const r=!1===e?"provider-already-linked":"no-such-provider";Ic(ud(t.providerData).has(n)===e,t.auth,r)}async function pd(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Ur(r.app))return Promise.reject(bc(r));const i="reauthenticate";try{const o=await Xc(e,cd(r,i,t,e),n);Ic(o.idToken,r,"internal-error");const s=$c(o.idToken);Ic(s,r,"internal-error");const{sub:a}=s;return Ic(e.uid===a,r,"user-mismatch"),sd._forOperation(e,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&vc(r,"user-mismatch"),o}}async function md(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ur(e.app))return Promise.reject(bc(e));const r="signIn",i=await cd(e,r,t),o=await sd._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function gd(e,t){return md(ku(e),t)}async function vd(e,t){const n=Gn(e);return await fd(!1,n,t.providerId),hd(n,t)}async function yd(e,t){return pd(Gn(e),t)}async function wd(e,t){if(Ur(e.app))return Promise.reject(bc(e));const n=ku(e),r=await async function(e,t){return Fc(e,"POST","/v1/accounts:signInWithCustomToken",Dc(e,t))}(n,{token:t,returnSecureToken:!0}),i=await sd._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class bd{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?_d._fromServerResponse(e,t):"totpInfo"in t?Sd._fromServerResponse(e,t):vc(e,"internal-error")}}class _d extends bd{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new _d(t)}}class Sd extends bd{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Sd(t)}}function Id(e,t,n){var r;Ic((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Ic("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ic(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Ic(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function xd(e){const t=ku(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function kd(e,t){await async function(e,t){return Lc(e,"POST","/v1/accounts:update",Dc(e,t))}(Gn(e),{oobCode:t})}async function Ed(e,t){const n=Gn(e),r=await Fu(n,{oobCode:t}),i=r.requestType;switch(Ic(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ic(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ic(r.mfaInfo,n,"internal-error");default:Ic(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=bd._fromServerResponse(ku(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function Td(e,t){const n={identifier:t,continueUri:Tc()?Ec():"http://localhost"},{signinMethods:r}=await async function(e,t){return Lc(e,"POST","/v1/accounts:createAuthUri",Dc(e,t))}(Gn(e),n);return r||[]}async function Cd(e,t){const n=Gn(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Id(n.auth,r,t);const{email:i}=await async function(e,t){return zu(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function Ad(e,t,n){const r=Gn(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Id(r.auth,i,n);const{email:o}=await async function(e,t){return zu(e,t)}(r.auth,i);o!==e.email&&await e.reload()}async function Nd(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=Gn(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await Xc(i,async function(e,t){return Lc(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}async function Rd(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await Xc(e,async function(e,t){return Lc(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(o,!0)}class Pd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Od extends Pd{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Dd extends Pd{constructor(e,t){super(e,"facebook.com",t)}}class Ld extends Od{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Md extends Pd{constructor(e,t){super(e,"google.com",t)}}class Fd extends Od{constructor(e,t,n){super(e,"twitter.com",t,n)}}function jd(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=$c(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Pd(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Dd(o,i);case"github.com":return new Ld(o,i);case"google.com":return new Md(o,i);case"twitter.com":return new Fd(o,i,e.screenName||null);case"custom":case"anonymous":return new Pd(o,null);default:return new Pd(o,r,i)}}(n)}class Ud{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new Ud("enroll",e,t)}static _fromMfaPendingCredential(e){return new Ud("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Ud._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Ud._fromIdtoken(e.multiFactorSession.idToken)}return null}}class zd{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=ku(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>bd._fromServerResponse(n,e)));Ic(r.mfaPendingCredential,n,"internal-error");const o=Ud._fromMfaPendingCredential(r.mfaPendingCredential);return new zd(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const s=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await sd._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Ic(t.user,n,"internal-error"),sd._forOperation(t.user,t.operationType,s);default:vc(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class Vd{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>bd._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new Vd(e)}async getSession(){return Ud._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await Xc(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await Xc(this.user,function(e,t){return Lc(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Dc(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(r){throw r}}}const Bd=new WeakMap;const qd="__sak";class Wd{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qd,"1"),this.storage.removeItem(qd),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Hd extends Wd{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=wn();return fu(e)||wu(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=bu(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);kn()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Hd.type="LOCAL";const Kd=Hd;class Gd extends Wd{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Gd.type="SESSION";const Qd=Gd;class $d{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new $d(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Yd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}$d.receivers=[];class Xd{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=Yd("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Jd(){return window}function Zd(){return"undefined"!==typeof Jd().WorkerGlobalScope&&"function"===typeof Jd().importScripts}const eh="firebaseLocalStorageDb",th="firebaseLocalStorage",nh="fbase_key";class rh{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function ih(e,t){return e.transaction([th],t?"readwrite":"readonly").objectStore(th)}function oh(){const e=indexedDB.open(eh,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(th,{keyPath:nh})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(th)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(eh);return new rh(e).toPromise()}(),t(await oh()))}))}))}async function sh(e,t,n){const r=ih(e,!0).put({[nh]:t,value:n});return new rh(r).toPromise()}function ah(e,t){const n=ih(e,!0).delete(t);return new rh(n).toPromise()}class lh{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await oh()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Zd()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$d._getInstance(Zd()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Xd(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await oh();return await sh(e,qd,"1"),await ah(e,qd),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>sh(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=ih(e,!1).get(t),r=await new rh(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>ah(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=ih(e,!1).getAll();return new rh(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}lh.type="LOCAL";const ch=lh;const uh=1e12;class dh{constructor(e){this.auth=e,this.counter=uh,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new hh(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||uh;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||uh;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||uh;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class hh{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;Ic(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const fh=Au("rcb"),ph=new Ac(3e4,6e4);class mh{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Jd().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Ic(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Bc(Jd().grecaptcha)?Promise.resolve(Jd().grecaptcha):new Promise(((n,r)=>{const i=Jd().setTimeout((()=>{r(yc(e,"network-request-failed"))}),ph.get());Jd()[fh]=()=>{Jd().clearTimeout(i),delete Jd()[fh];const o=Jd().grecaptcha;if(!o||!Bc(o))return void r(yc(e,"internal-error"));const s=o.render;o.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(o)};Cu("".concat(Tu.recaptchaV2Script,"?").concat(Mn({onload:fh,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(yc(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Jd().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class gh{async load(e){return new dh(e)}clearedOneInstance(){}}const vh="recaptcha",yh={theme:"light",type:"image"};class wh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},yh);this.parameters=n,this.type=vh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ku(e),this.isInvisible="invisible"===this.parameters.size,Ic("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;Ic(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new gh:new mh,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Ic(!this.parameters.sitekey,this.auth,"argument-error"),Ic(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ic("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=Jd()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){Ic(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Ic(Tc()&&!Zd(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Lc(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Ic(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Ic(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class bh{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Gu._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function _h(e,t,n){var r;const i=await n.verify();try{let o;if(Ic("string"===typeof i,e,"argument-error"),Ic(n.type===vh,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){Ic("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Lc(e,"POST","/v2/accounts/mfaEnrollment:start",Dc(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Ic("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;Ic(n,e,"missing-multi-factor-info");const s=await function(e,t){return Lc(e,"POST","/v2/accounts/mfaSignIn:start",Dc(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Lc(e,"POST","/v1/accounts:sendVerificationCode",Dc(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Sh{constructor(e){this.providerId=Sh.PROVIDER_ID,this.auth=ku(e)}verifyPhoneNumber(e,t){return _h(this.auth,e,Gn(t))}static credential(e,t){return Gu._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Sh.credentialFromTaggedObject(t)}static credentialFromError(e){return Sh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Gu._fromTokenResponse(n,r):null}}function Ih(e,t){return t?su(t):(Ic(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Sh.PROVIDER_ID="phone",Sh.PHONE_SIGN_IN_METHOD="phone";class xh extends Mu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Wu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Wu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function kh(e){return md(e.auth,new xh(e),e.bypassAuthState)}function Eh(e){const{auth:t,user:n}=e;return Ic(n,t,"internal-error"),pd(n,new xh(e),e.bypassAuthState)}async function Th(e){const{auth:t,user:n}=e;return Ic(n,t,"internal-error"),hd(n,new xh(e),e.bypassAuthState)}class Ch{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kh;case"linkViaPopup":case"linkViaRedirect":return Th;case"reauthViaPopup":case"reauthViaRedirect":return Eh;default:vc(this.auth,"internal-error")}}resolve(e){kc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){kc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ah=new Ac(2e3,1e4);class Nh extends Ch{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Nh.currentPopupAction&&Nh.currentPopupAction.cancel(),Nh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ic(e,this.auth,"internal-error"),e}async onExecution(){kc(1===this.filter.length,"Popup operations only handle one event");const e=Yd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(yc(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(yc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(yc(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ah.get())};e()}}Nh.currentPopupAction=null;const Rh="pendingRedirect",Ph=new Map;class Oh extends Ch{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ph.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Fh(t),r=Mh(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Ph.set(this.auth._key(),e)}return this.bypassAuthState||Ph.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Dh(e,t){return Mh(e)._set(Fh(t),"true")}function Lh(e,t){Ph.set(e._key(),t)}function Mh(e){return su(e._redirectPersistence)}function Fh(e){return cu(Rh,e.config.apiKey,e.name)}function jh(e,t,n){return async function(e,t,n){if(Ur(e.app))return Promise.reject(bc(e));const r=ku(e);_c(e,t,Yu),await r._initializationPromise;const i=Ih(r,n);return await Dh(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function Uh(e,t,n){return async function(e,t,n){const r=Gn(e);if(_c(r.auth,t,Yu),Ur(r.auth.app))return Promise.reject(bc(r.auth));await r.auth._initializationPromise;const i=Ih(r.auth,n);await Dh(i,r.auth);const o=await Bh(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}function zh(e,t,n){return async function(e,t,n){const r=Gn(e);_c(r.auth,t,Yu),await r.auth._initializationPromise;const i=Ih(r.auth,n);await fd(!1,r,t.providerId),await Dh(i,r.auth);const o=await Bh(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}async function Vh(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ur(e.app))return Promise.reject(bc(e));const r=ku(e),i=Ih(r,t),o=new Oh(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}async function Bh(e){const t=Yd("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class qh{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hh(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Hh(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(yc(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wh(e))}saveEventToCache(e){this.cachedEventUids.add(Wh(e)),this.lastProcessedEventTime=Date.now()}}function Wh(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Hh(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function Kh(e){return Lc(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const Gh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qh=/^https?/;function $h(e){const t=Ec(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Qh.test(n))return!1;if(Gh.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Yh=new Ac(3e4,6e4);function Xh(){const e=Jd().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Jh(e){return new Promise(((t,n)=>{var r,i,o;function s(){Xh(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Xh(),n(yc(e,"network-request-failed"))},timeout:Yh.get()})}if(null===(i=null===(r=Jd().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Jd().gapi)||void 0===o?void 0:o.load)){const t=Au("iframefcb");return Jd()[t]=()=>{gapi.load?s():n(yc(e,"network-request-failed"))},Cu("".concat(Tu.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw Zh=null,e}))}let Zh=null;const ef=new Ac(5e3,15e3),tf="__/auth/iframe",nf="emulator/auth/iframe",rf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},of=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sf(e){const t=e.config;Ic(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Nc(t,nf):"https://".concat(e.config.authDomain,"/").concat(tf),r={apiKey:t.apiKey,appName:e.name,v:Wr},i=of.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(Mn(r).slice(1))}async function af(e){const t=await function(e){return Zh=Zh||Jh(e),Zh}(e),n=Jd().gapi;return Ic(n,e,"internal-error"),t.open({where:document.body,url:sf(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rf,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=yc(e,"network-request-failed"),o=Jd().setTimeout((()=>{r(i)}),ef.get());function s(){Jd().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const lf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class cf{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function uf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},lf),{width:r.toString(),height:i.toString(),top:o,left:s}),c=wn().toLowerCase();n&&(a=pu(c)?"_blank":n),hu(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return wu(arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new cf(null);const d=window.open(t||"",a,u);Ic(d,e,"popup-blocked");try{d.focus()}catch(h){}return new cf(d)}const df="__/auth/handler",hf="emulator/auth/handler",ff=encodeURIComponent("fac");async function pf(e,t,n,r,i,o){Ic(e.config.authDomain,e,"auth-domain-config-required"),Ic(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Wr,eventId:i};if(t instanceof Yu){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",On(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof Xu){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(ff,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(df);return Nc(t,hf)}(e),"?").concat(Mn(a).slice(1)).concat(c)}const mf="webStorageSupport";const gf=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qd,this._completeRedirectFn=Vh,this._overrideRedirectResult=Lh}async _openPopup(e,t,n,r){var i;kc(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return uf(e,await pf(e,t,n,Ec(),r),Yd())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Jd().location.href=e}(await pf(e,t,n,Ec(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(kc(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await af(e),n=new qh(e);return t.register("authEvent",(t=>{Ic(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(mf,{type:mf},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[mf];void 0!==i&&t(!!i),vc(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Kh(e);for(const r of t)try{if($h(r))return}catch(n){}vc(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return bu()||fu()||wu()}};class vf{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return xc("unexpected MultiFactorSessionType")}}}class yf extends vf{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new yf(e)}_finalizeEnroll(e,t,n){return function(e,t){return Lc(e,"POST","/v2/accounts/mfaEnrollment:finalize",Dc(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Lc(e,"POST","/v2/accounts/mfaSignIn:finalize",Dc(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class wf{constructor(){}static assertion(e){return yf._fromCredential(e)}}wf.FACTOR_ID="phone";var bf="@firebase/auth",_f="1.7.2";class Sf{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ic(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}vn("authIdTokenMaxAge");function If(){return window}!function(e){Tu=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=yc("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function(e){Lr(new Qn("auth",((t,n)=>{let{options:r}=n;const i=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;Ic(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:a,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_u(e)},u=new xu(i,o,s,c);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(su);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(u,r),u}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Lr(new Qn("auth-internal",(e=>(e=>new Sf(e))(ku(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Yr(bf,_f,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(e)),Yr(bf,_f,"esm2017")}("Browser");async function xf(e,t,n){var r;const{BuildInfo:i}=If();kc(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(kc(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),s={};return wu()?s.ibi=i.packageName:gu()?s.apn=i.packageName:vc(e,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,pf(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,s)}function kf(e){const{cordova:t}=If();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const Ef=20;class Tf extends qh{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function Cf(e){const t=await Rf()._get(Pf(e));return t&&await Rf()._remove(Pf(e)),t}function Af(e,t){var n,r;const i=function(e){const t=Of(e),n=t.link?decodeURIComponent(t.link):void 0,r=Of(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Of(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Of(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=s?yc(s):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Nf(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Ef;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function Rf(){return su(Kd)}function Pf(e){return cu("authEvent",e.config.apiKey,e.name)}function Of(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return Fn(n.join("?"))}const Df=class{constructor(){this._redirectPersistence=Qd,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Vh,this._overrideRedirectResult=Lh}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Tf(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){vc(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,s,a,l,c,u;const d=If();Ic("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ic("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ic("function"===typeof(null===(o=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ic("function"===typeof(null===(l=null===(a=null===(s=null===d||void 0===d?void 0:d.cordova)||void 0===s?void 0:s.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ic("function"===typeof(null===(u=null===(c=null===d||void 0===d?void 0:d.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),Ph.clear(),await this._originValidation(e);const o=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Nf(),postBody:null,tenantId:e.tenantId,error:yc(e,"no-auth-event")}}(e,n,r);await function(e,t){return Rf()._set(Pf(e),t)}(e,o);const s=await xf(e,o,t);return async function(e,t,n){const{cordova:r}=If();let i=()=>{};try{await new Promise(((o,s)=>{let a=null;function l(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout((()=>{s(yc(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),gu()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await kf(s))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=If(),n={};wu()?n.iosBundleId=t.packageName:gu()?n.androidPackageName=t.packageName:vc(e,"operation-not-supported-in-this-environment"),await Kh(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=If(),o=setTimeout((async()=>{await Cf(e),t.onEvent(Lf())}),500),s=async n=>{clearTimeout(o);const r=await Cf(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=Af(r,n.url)),t.onEvent(i||Lf())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,s);const a=r,l="".concat(i.packageName.toLowerCase(),"://");If().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&s({url:e}),"function"===typeof a)try{a(e)}catch(t){console.error(t)}}}};function Lf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:yc("no-auth-event")}}function Mf(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Ff(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn();return!("file:"!==Mf()&&"ionic:"!==Mf()&&"capacitor:"!==Mf()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function jf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn();return kn()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn();return/Edge\/\d+/.test(e)}(e)}function Uf(){try{const e=self.localStorage,t=Yd();if(e)return e.setItem(t,"1"),e.removeItem(t),!jf()||Tn()}catch(e){return zf()&&Tn()}return!1}function zf(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Vf(){return("http:"===Mf()||"https:"===Mf()||In()||Ff())&&!(xn()||_n())&&Uf()&&!zf()}function Bf(){return Ff()&&"undefined"!==typeof document}const qf={LOCAL:"local",NONE:"none",SESSION:"session"},Wf=Ic,Hf="persistence";async function Kf(e){await e._initializationPromise;const t=Gf(),n=cu(Hf,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function Gf(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const Qf=Ic;class $f{constructor(){this.browserResolver=su(gf),this.cordovaResolver=su(Df),this.underlyingResolver=null,this._redirectPersistence=Qd,this._completeRedirectFn=Vh,this._overrideRedirectResult=Lh}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Bf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Qf(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Bf()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function Yf(e){return e.unwrap()}function Xf(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new tp(e,function(e,t){var n;const r=Gn(e),i=t;return Ic(t.customData.operationType,r,"argument-error"),Ic(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),zd._fromError(r,i)}(e,t))}else if(r){const e=Jf(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function Jf(e){const{_tokenResponse:t}=e instanceof An?e.customData:e;if(!t)return null;if(!(e instanceof An)&&"temporaryProof"in t&&"phoneNumber"in t)return Sh.credentialFromResult(e);const n=t.providerId;if(!n||n===ic.PASSWORD)return null;let r;switch(n){case ic.GOOGLE:r=ed;break;case ic.FACEBOOK:r=Zu;break;case ic.GITHUB:r=td;break;case ic.TWITTER:r=id;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:s,nonce:a}=t;return i||o||e||s?s?n.startsWith("saml.")?nd._create(n,s):Hu._fromParams({providerId:n,signInMethod:n,pendingToken:s,idToken:e,accessToken:i}):new Ju(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof An?r.credentialFromError(e):r.credentialFromResult(e)}function Zf(e,t){return t.catch((t=>{throw t instanceof An&&Xf(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,Jf(r)),additionalUserInfo:jd(e),user:np.getOrCreate(n)};var r}))}async function ep(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>Zf(e,n.confirm(t))}}class tp{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Zf(Yf(this.auth),this.resolver.resolveSignIn(e))}}class np{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=Gn(e);return Bd.has(t)||Bd.set(t,Vd._fromUser(t)),Bd.get(t)}(e)}static getOrCreate(e){return np.USER_MAP.has(e)||np.USER_MAP.set(e,new np(e)),np.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Zf(this.auth,vd(this._delegate,e))}async linkWithPhoneNumber(e,t){return ep(this.auth,async function(e,t,n){const r=Gn(e);await fd(!1,r,"phone");const i=await _h(r.auth,t,Gn(n));return new bh(i,(e=>vd(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return Zf(this.auth,async function(e,t,n){const r=Gn(e);_c(r.auth,t,Yu);const i=Ih(r.auth,n);return new Nh(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,$f))}async linkWithRedirect(e){return await Kf(ku(this.auth)),zh(this._delegate,e,$f)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Zf(this.auth,yd(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return ep(this.auth,async function(e,t,n){const r=Gn(e);if(Ur(r.auth.app))return Promise.reject(bc(r.auth));const i=await _h(r.auth,t,Gn(n));return new bh(i,(e=>yd(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return Zf(this.auth,async function(e,t,n){const r=Gn(e);if(Ur(r.auth.app))return Promise.reject(yc(r.auth,"operation-not-supported-in-this-environment"));_c(r.auth,t,Yu);const i=Ih(r.auth,n);return new Nh(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,$f))}async reauthenticateWithRedirect(e){return await Kf(ku(this.auth)),Uh(this._delegate,e,$f)}sendEmailVerification(e){return Cd(this._delegate,e)}async unlink(e){return await dd(this._delegate,e),this}updateEmail(e){return function(e,t){const n=Gn(e);return Ur(n.auth.app)?Promise.reject(bc(n.auth)):Rd(n,t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Rd(Gn(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){const n=Gn(e);if(Ur(n.auth.app))return Promise.reject(bc(n.auth));await hd(n,t)}(this._delegate,e)}updateProfile(e){return Nd(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Ad(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}np.USER_MAP=new WeakMap;const rp=Ic;class ip{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;rp(n,"invalid-api-key",{appName:e.name}),rp(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?$f:void 0;this._delegate=t.initialize({options:{persistence:sp(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(hc),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?np.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Ou(this._delegate,e,t)}applyActionCode(e){return kd(this._delegate,e)}checkActionCode(e){return Ed(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Fu(Gn(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&xd(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Zf(this._delegate,async function(e,t,n){if(Ur(e.app))return Promise.reject(bc(e));const r=ku(e),i=Pu(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",od),o=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&xd(e),t})),s=await sd._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Td(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Qu.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){rp(Vf(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await ku(e)._initializationPromise,Vh(e,t,!1)}(this._delegate,$f);return e?Zf(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){ku(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=op(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=op(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=ku(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){Ic(t.handleCodeInApp,r,"argument-error"),t&&Id(r,e,t)}(i,n),await Pu(r,i,"getOobCode",Bu)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=ku(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Id(r,i,n),await Pu(r,i,"getOobCode",Vu)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Wf(Object.values(qf).includes(t),e,"invalid-persistence-type"),xn()?Wf(t!==qf.SESSION,e,"unsupported-persistence-type"):_n()?Wf(t===qf.NONE,e,"unsupported-persistence-type"):zf()?Wf(t===qf.NONE||t===qf.LOCAL&&Tn(),e,"unsupported-persistence-type"):Wf(t===qf.NONE||Uf(),e,"unsupported-persistence-type")}(this._delegate,e),e){case qf.SESSION:t=Qd;break;case qf.LOCAL:t=await su(ch)._isAvailable()?ch:Kd;break;case qf.NONE:t=lu;break;default:return vc("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Zf(this._delegate,async function(e){var t;if(Ur(e.app))return Promise.reject(bc(e));const n=ku(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new sd({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await od(n,{returnSecureToken:!0}),i=await sd._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return Zf(this._delegate,gd(this._delegate,e))}signInWithCustomToken(e){return Zf(this._delegate,wd(this._delegate,e))}signInWithEmailAndPassword(e,t){return Zf(this._delegate,function(e,t,n){return Ur(e.app)?Promise.reject(bc(e)):gd(Gn(e),$u.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&xd(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Zf(this._delegate,async function(e,t,n){if(Ur(e.app))return Promise.reject(bc(e));const r=Gn(e),i=$u.credentialWithLink(t,n||Ec());return Ic(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),gd(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return ep(this._delegate,async function(e,t,n){if(Ur(e.app))return Promise.reject(bc(e));const r=ku(e),i=await _h(r,t,Gn(n));return new bh(i,(e=>gd(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return rp(Vf(),this._delegate,"operation-not-supported-in-this-environment"),Zf(this._delegate,async function(e,t,n){if(Ur(e.app))return Promise.reject(yc(e,"operation-not-supported-in-this-environment"));const r=ku(e);_c(e,t,Yu);const i=Ih(r,n);return new Nh(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,$f))}async signInWithRedirect(e){return rp(Vf(),this._delegate,"operation-not-supported-in-this-environment"),await Kf(this._delegate),jh(this._delegate,e,$f)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Ed(Gn(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function op(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&np.getOrCreate(e)),error:t,complete:n}}function sp(e,t){const n=function(e,t){const n=Gf();if(!n)return[];const r=cu(Hf,e,t);switch(n.getItem(r)){case qf.NONE:return[lu];case qf.LOCAL:return[ch,Qd];case qf.SESSION:return[Qd];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(ch)||n.push(ch),"undefined"!==typeof window)for(const r of[Kd,Qd])n.includes(r)||n.push(r);return n.includes(lu)||n.push(lu),n}ip.Persistence=qf;class ap{constructor(){this.providerId="phone",this._delegate=new Sh(Yf(rc.auth()))}static credential(e,t){return Sh.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}ap.PHONE_SIGN_IN_METHOD=Sh.PHONE_SIGN_IN_METHOD,ap.PROVIDER_ID=Sh.PROVIDER_ID;const lp=Ic;class cp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rc.app();var r;lp(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new wh(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var up;(up=rc).INTERNAL.registerComponent(new Qn("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new ip(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:oc,PASSWORD_RESET:sc,RECOVER_EMAIL:ac,REVERT_SECOND_FACTOR_ADDITION:lc,VERIFY_AND_CHANGE_EMAIL:cc,VERIFY_EMAIL:uc}},EmailAuthProvider:$u,FacebookAuthProvider:Zu,GithubAuthProvider:td,GoogleAuthProvider:ed,OAuthProvider:Ju,SAMLAuthProvider:rd,PhoneAuthProvider:ap,PhoneMultiFactorGenerator:wf,RecaptchaVerifier:cp,TwitterAuthProvider:id,Auth:ip,AuthCredential:Mu,Error:An}).setInstantiationMode("LAZY").setMultipleInstances(!1)),up.registerVersion("@firebase/auth-compat","0.5.7");var dp,hp="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},fp={},pp=pp||{},mp=hp||self;function gp(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function vp(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var yp="closure_uid_"+(1e9*Math.random()>>>0),wp=0;function bp(e,t,n){return e.call.apply(e.bind,arguments)}function _p(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Sp(e,t,n){return(Sp=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bp:_p).apply(null,arguments)}function Ip(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function xp(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function kp(){this.s=this.s,this.o=this.o}kp.prototype.s=!1,kp.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,yp)&&e[yp]||(e[yp]=++wp))},kp.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ep=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Tp(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Cp(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(gp(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Ap(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ap.prototype.h=function(){this.defaultPrevented=!0};var Np=function(){if(!mp.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};mp.addEventListener("test",e,t),mp.removeEventListener("test",e,t)}catch(n){}return e}();function Rp(e){return/^[\s\xa0]*$/.test(e)}function Pp(){var e=mp.navigator;return e&&(e=e.userAgent)?e:""}function Op(e){return-1!=Pp().indexOf(e)}function Dp(e){return Dp[" "](e),e}Dp[" "]=function(){};var Lp,Mp,Fp=Op("Opera"),jp=Op("Trident")||Op("MSIE"),Up=Op("Edge"),zp=Up||jp,Vp=Op("Gecko")&&!(-1!=Pp().toLowerCase().indexOf("webkit")&&!Op("Edge"))&&!(Op("Trident")||Op("MSIE"))&&!Op("Edge"),Bp=-1!=Pp().toLowerCase().indexOf("webkit")&&!Op("Edge");function qp(){var e=mp.document;return e?e.documentMode:void 0}e:{var Wp="",Hp=function(){var e=Pp();return Vp?/rv:([^\);]+)(\)|;)/.exec(e):Up?/Edge\/([\d\.]+)/.exec(e):jp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Bp?/WebKit\/(\S+)/.exec(e):Fp?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Hp&&(Wp=Hp?Hp[1]:""),jp){var Kp=qp();if(null!=Kp&&Kp>parseFloat(Wp)){Lp=String(Kp);break e}}Lp=Wp}if(mp.document&&jp){var Gp=qp();Mp=Gp||(parseInt(Lp,10)||void 0)}else Mp=void 0;var Qp=Mp;function $p(e,t){if(Ap.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Vp){e:{try{Dp(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Yp[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&$p.$.h.call(this)}}xp($p,Ap);var Yp={2:"touch",3:"pen",4:"mouse"};$p.prototype.h=function(){$p.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Xp="closure_listenable_"+(1e6*Math.random()|0),Jp=0;function Zp(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Jp,this.fa=this.ia=!1}function em(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function tm(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function nm(e){const t={};for(const n in e)t[n]=e[n];return t}const rm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function im(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<rm.length;t++)n=rm[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function om(e){this.src=e,this.g={},this.h=0}function sm(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Ep(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(em(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function am(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}om.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=am(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new Zp(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var lm="closure_lm_"+(1e6*Math.random()|0),cm={};function um(e,t,n,r,i){if(r&&r.once)return hm(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)um(e,t[o],n,r,i);return null}return n=wm(n),e&&e[Xp]?e.O(t,n,vp(r)?!!r.capture:!!r,i):dm(e,t,n,!1,r,i)}function dm(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=vp(i)?!!i.capture:!!i,a=vm(e);if(a||(e[lm]=a=new om(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=gm;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Np||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(mm(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function hm(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)hm(e,t[o],n,r,i);return null}return n=wm(n),e&&e[Xp]?e.P(t,n,vp(r)?!!r.capture:!!r,i):dm(e,t,n,!0,r,i)}function fm(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)fm(e,t[o],n,r,i);else r=vp(r)?!!r.capture:!!r,n=wm(n),e&&e[Xp]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=am(o=e.g[t],n,r,i))&&(em(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=vm(e))&&(t=e.g[t.toString()],e=-1,t&&(e=am(t,n,r,i)),(n=-1<e?t[e]:null)&&pm(n))}function pm(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Xp])sm(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(mm(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=vm(t))?(sm(n,e),0==n.h&&(n.src=null,t[lm]=null)):em(e)}}}function mm(e){return e in cm?cm[e]:cm[e]="on"+e}function gm(e,t){if(e.fa)e=!0;else{t=new $p(t,this);var n=e.listener,r=e.la||e.src;e.ia&&pm(e),e=n.call(r,t)}return e}function vm(e){return(e=e[lm])instanceof om?e:null}var ym="__closure_events_fn_"+(1e9*Math.random()>>>0);function wm(e){return"function"===typeof e?e:(e[ym]||(e[ym]=function(t){return e.handleEvent(t)}),e[ym])}function bm(){kp.call(this),this.i=new om(this),this.S=this,this.J=null}function _m(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Ap(t,e);else if(t instanceof Ap)t.target=t.target||e;else{var i=t;im(t=new Ap(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Sm(s,r,!0,t)&&i}if(i=Sm(s=t.g=e,r,!0,t)&&i,i=Sm(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Sm(s=t.g=n[o],r,!1,t)&&i}function Sm(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&sm(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}xp(bm,kp),bm.prototype[Xp]=!0,bm.prototype.removeEventListener=function(e,t,n,r){fm(this,e,t,n,r)},bm.prototype.N=function(){if(bm.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)em(n[r]);delete t.g[e],t.h--}}this.J=null},bm.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},bm.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Im=mp.JSON.stringify;function xm(){var e=Rm;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var km=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Em),(e=>e.reset()));class Em{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Tm(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Cm(e){mp.setTimeout((()=>{throw e}),0)}let Am,Nm=!1,Rm=new class{constructor(){this.h=this.g=null}add(e,t){const n=km.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Pm=()=>{const e=mp.Promise.resolve(void 0);Am=()=>{e.then(Om)}};var Om=()=>{for(var e;e=xm();){try{e.h.call(e.g)}catch(n){Cm(n)}var t=km;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Nm=!1};function Dm(e,t){bm.call(this),this.h=e||1,this.g=t||mp,this.j=Sp(this.qb,this),this.l=Date.now()}function Lm(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Mm(e,t,n){if("function"===typeof e)n&&(e=Sp(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Sp(e.handleEvent,e)}return 2147483647<Number(t)?-1:mp.setTimeout(e,t||0)}function Fm(e){e.g=Mm((()=>{e.g=null,e.i&&(e.i=!1,Fm(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}xp(Dm,bm),(dp=Dm.prototype).ga=!1,dp.T=null,dp.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),_m(this,"tick"),this.ga&&(Lm(this),this.start()))}},dp.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dp.N=function(){Dm.$.N.call(this),Lm(this),delete this.g};class jm extends kp{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Fm(this)}N(){super.N(),this.g&&(mp.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Um(e){kp.call(this),this.h=e,this.g={}}xp(Um,kp);var zm=[];function Vm(e,t,n,r){Array.isArray(n)||(n&&(zm[0]=n.toString()),n=zm);for(var i=0;i<n.length;i++){var o=um(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Bm(e){tm(e.g,(function(e,t){this.g.hasOwnProperty(t)&&pm(e)}),e),e.g={}}function qm(){this.g=!0}function Wm(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Im(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Um.prototype.N=function(){Um.$.N.call(this),Bm(this)},Um.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qm.prototype.Ea=function(){this.g=!1},qm.prototype.info=function(){};var Hm={},Km=null;function Gm(){return Km=Km||new bm}function Qm(e){Ap.call(this,Hm.Ta,e)}function $m(e){const t=Gm();_m(t,new Qm(t))}function Ym(e,t){Ap.call(this,Hm.STAT_EVENT,e),this.stat=t}function Xm(e){const t=Gm();_m(t,new Ym(t,e))}function Jm(e,t){Ap.call(this,Hm.Ua,e),this.size=t}function Zm(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return mp.setTimeout((function(){e()}),t)}Hm.Ta="serverreachability",xp(Qm,Ap),Hm.STAT_EVENT="statevent",xp(Ym,Ap),Hm.Ua="timingevent",xp(Jm,Ap);var eg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},tg={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ng(){}function rg(e){return e.h||(e.h=e.i())}function ig(){}ng.prototype.h=null;var og,sg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ag(){Ap.call(this,"d")}function lg(){Ap.call(this,"c")}function cg(){}function ug(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Um(this),this.P=hg,e=zp?125:void 0,this.V=new Dm(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new dg}function dg(){this.i=null,this.g="",this.h=!1}xp(ag,Ap),xp(lg,Ap),xp(cg,ng),cg.prototype.g=function(){return new XMLHttpRequest},cg.prototype.i=function(){return{}},og=new cg;var hg=45e3,fg={},pg={};function mg(e,t,n){e.L=1,e.A=Dg(Ag(t)),e.u=n,e.S=!0,gg(e,null)}function gg(e,t){e.G=Date.now(),bg(e),e.B=Ag(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Gg(n.i,"t",r),e.o=0,n=e.l.J,e.h=new dg,e.g=Qv(e.l,n?t:null,!e.u),0<e.O&&(e.M=new jm(Sp(e.Pa,e,e.g),e.O)),Vm(e.U,e.g,"readystatechange",e.nb),t=e.I?nm(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),$m(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function vg(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function yg(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=wg(e,n),r==pg){4==t&&(e.s=4,Xm(14),i=!1),Wm(e.j,e.m,null,"[Incomplete Response]");break}if(r==fg){e.s=4,Xm(15),Wm(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Wm(e.j,e.m,r,null),kg(e,r)}vg(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,Xm(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),zv(t),t.M=!0,Xm(11))):(Wm(e.j,e.m,n,"[Invalid Chunked Response]"),xg(e),Ig(e))}function wg(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?pg:(n=Number(t.substring(n,r)),isNaN(n)?fg:(r+=1)+n>t.length?pg:(t=t.slice(r,r+n),e.o=r+n,t))}function bg(e){e.Y=Date.now()+e.P,_g(e,e.P)}function _g(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Zm(Sp(e.lb,e),t)}function Sg(e){e.C&&(mp.clearTimeout(e.C),e.C=null)}function Ig(e){0==e.l.H||e.J||qv(e.l,e)}function xg(e){Sg(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Lm(e.V),Bm(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function kg(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||ev(n.i,e)))if(!e.K&&ev(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Bv(n),Pv(n)}Uv(n),Xm(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Zm(Sp(n.ib,n),6e3));if(1>=Zg(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Hv(n,11)}else if((e.K||n.g==e)&&Bv(n),!Rp(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(tv(o,o.h),o.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Og(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=Gv(r,r.J?r.pa:null,r.Y),s.K){nv(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(Sg(a),bg(a)),r.g=s}else jv(r);0<n.j.length&&Dv(n)}else"stop"!=c[0]&&"close"!=c[0]||Hv(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Hv(n,7):Rv(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}$m()}catch(c){}}function Eg(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(gp(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(gp(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(gp(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(dp=ug.prototype).setTimeout=function(e){this.P=e},dp.nb=function(e){e=e.target;const t=this.M;t&&3==kv(e)?t.l():this.Pa(e)},dp.Pa=function(e){try{if(e==this.g)e:{const u=kv(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||zp||this.g&&(this.h.h||this.g.ja()||Ev(this.g)))){this.J||4!=u||7==t||$m(),Sg(this);var n=this.g.da();this.ca=n;t:if(vg(this)){var r=Ev(this.g);e="";var i=r.length,o=4==kv(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){xg(this),Ig(this);var s="";break t}this.h.i=new mp.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rp(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,Xm(12),xg(this),Ig(this);break e}Wm(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kg(this,n)}this.S?(yg(this,u,s),zp&&this.i&&3==u&&(Vm(this.U,this.V,"tick",this.mb),this.V.start())):(Wm(this.j,this.m,s,null),kg(this,s)),4==u&&xg(this),this.i&&!this.J&&(4==u?qv(this.l,this):(this.i=!1,bg(this)))}else(function(e){const t={};e=(e.g&&2<=kv(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Rp(e[r]))continue;var n=Tm(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Xm(12)):(this.s=0,Xm(13)),xg(this),Ig(this)}}}catch(u){}},dp.mb=function(){if(this.g){var e=kv(this.g),t=this.g.ja();this.o<t.length&&(Sg(this),yg(this,e,t),this.i&&4!=e&&bg(this))}},dp.cancel=function(){this.J=!0,xg(this)},dp.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&($m(),Xm(17)),xg(this),this.s=2,Ig(this)):_g(this,this.Y-e)};var Tg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cg(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Cg){this.h=e.h,Ng(this,e.j),this.s=e.s,this.g=e.g,Rg(this,e.m),this.l=e.l;var t=e.i,n=new qg;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Pg(this,n),this.o=e.o}else e&&(t=String(e).match(Tg))?(this.h=!1,Ng(this,t[1]||"",!0),this.s=Lg(t[2]||""),this.g=Lg(t[3]||"",!0),Rg(this,t[4]),this.l=Lg(t[5]||"",!0),Pg(this,t[6]||"",!0),this.o=Lg(t[7]||"")):(this.h=!1,this.i=new qg(null,this.h))}function Ag(e){return new Cg(e)}function Ng(e,t,n){e.j=n?Lg(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Rg(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Pg(e,t,n){t instanceof qg?(e.i=t,function(e,t){t&&!e.j&&(Wg(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Hg(this,t),Gg(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Mg(t,Vg)),e.i=new qg(t,e.h))}function Og(e,t,n){e.i.set(t,n)}function Dg(e){return Og(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Lg(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Mg(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Fg),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Fg(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Cg.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Mg(t,jg,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Mg(t,jg,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Mg(n,"/"==n.charAt(0)?zg:Ug,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Mg(n,Bg)),e.join("")};var jg=/[#\/\?@]/g,Ug=/[#\?:]/g,zg=/[#\?]/g,Vg=/[#\?@]/g,Bg=/#/g;function qg(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Wg(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Hg(e,t){Wg(e),t=Qg(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Kg(e,t){return Wg(e),t=Qg(e,t),e.g.has(t)}function Gg(e,t,n){Hg(e,t),0<n.length&&(e.i=null,e.g.set(Qg(e,t),Tp(n)),e.h+=n.length)}function Qg(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(dp=qg.prototype).add=function(e,t){Wg(this),this.i=null,e=Qg(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},dp.forEach=function(e,t){Wg(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},dp.ta=function(){Wg(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},dp.Z=function(e){Wg(this);let t=[];if("string"===typeof e)Kg(this,e)&&(t=t.concat(this.g.get(Qg(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},dp.set=function(e,t){return Wg(this),this.i=null,Kg(this,e=Qg(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},dp.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},dp.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var $g=class{constructor(e,t){this.g=e,this.map=t}};function Yg(e){this.l=e||Xg,mp.PerformanceNavigationTiming?e=0<(e=mp.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(mp.g&&mp.g.Ka&&mp.g.Ka()&&mp.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Xg=10;function Jg(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Zg(e){return e.h?1:e.g?e.g.size:0}function ev(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function tv(e,t){e.g?e.g.add(t):e.h=t}function nv(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function rv(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Tp(e.i)}Yg.prototype.cancel=function(){if(this.i=rv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var iv,ov=class{stringify(e){return mp.JSON.stringify(e,void 0)}parse(e){return mp.JSON.parse(e,void 0)}};function sv(){this.g=new ov}function av(e,t,n){const r=n||"";try{Eg(e,(function(e,n){let i=e;vp(e)&&(i=Im(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function lv(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function cv(e){this.l=e.ec||null,this.j=e.ob||!1}function uv(e,t){bm.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=dv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xp(cv,ng),cv.prototype.g=function(){return new uv(this.l,this.j)},cv.prototype.i=(iv={},function(){return iv}),xp(uv,bm);var dv=0;function hv(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function fv(e){e.readyState=4,e.l=null,e.j=null,e.A=null,pv(e)}function pv(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(dp=uv.prototype).open=function(e,t){if(this.readyState!=dv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,pv(this)},dp.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||mp).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},dp.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fv(this)),this.readyState=dv},dp.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,pv(this)),this.g&&(this.readyState=3,pv(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof mp.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hv(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},dp.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?fv(this):pv(this),3==this.readyState&&hv(this)}},dp.Za=function(e){this.g&&(this.response=this.responseText=e,fv(this))},dp.Ya=function(e){this.g&&(this.response=e,fv(this))},dp.ka=function(){this.g&&fv(this)},dp.setRequestHeader=function(e,t){this.v.append(e,t)},dp.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},dp.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(uv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var mv=mp.JSON.parse;function gv(e){bm.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=vv,this.L=this.M=!1}xp(gv,bm);var vv="",yv=/^https?$/i,wv=["POST","PUT"];function bv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,_v(e),Iv(e)}function _v(e){e.F||(e.F=!0,_m(e,"complete"),_m(e,"error"))}function Sv(e){if(e.h&&"undefined"!=typeof pp&&(!e.C[1]||4!=kv(e)||2!=e.da()))if(e.v&&4==kv(e))Mm(e.La,0,e);else if(_m(e,"readystatechange"),4==kv(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(Tg)[1]||null;!i&&mp.self&&mp.self.location&&(i=mp.self.location.protocol.slice(0,-1)),r=!yv.test(i?i.toLowerCase():"")}n=r}if(n)_m(e,"complete"),_m(e,"success");else{e.m=6;try{var o=2<kv(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",_v(e)}}finally{Iv(e)}}}function Iv(e,t){if(e.g){xv(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||_m(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function xv(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(mp.clearTimeout(e.A),e.A=null)}function kv(e){return e.g?e.g.readyState:0}function Ev(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case vv:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Oy){return null}}function Tv(e){let t="";return tm(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Cv(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Tv(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Og(e,t,n))}function Av(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Nv(e){this.Ga=0,this.j=[],this.l=new qm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Av("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Av("baseRetryDelayMs",5e3,e),this.hb=Av("retryDelaySeedMs",1e4,e),this.eb=Av("forwardChannelMaxRetries",2,e),this.xa=Av("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Yg(e&&e.concurrentRequestLimit),this.Ja=new sv,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Rv(e){if(Ov(e),3==e.H){var t=e.W++,n=Ag(e.I);if(Og(n,"SID",e.K),Og(n,"RID",t),Og(n,"TYPE","terminate"),Mv(e,n),(t=new ug(e,e.l,t)).L=2,t.A=Dg(Ag(n)),n=!1,mp.navigator&&mp.navigator.sendBeacon)try{n=mp.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&mp.Image&&((new Image).src=t.A,n=!0),n||(t.g=Qv(t.l,null),t.g.ha(t.A)),t.G=Date.now(),bg(t)}Kv(e)}function Pv(e){e.g&&(zv(e),e.g.cancel(),e.g=null)}function Ov(e){Pv(e),e.u&&(mp.clearTimeout(e.u),e.u=null),Bv(e),e.i.cancel(),e.m&&("number"===typeof e.m&&mp.clearTimeout(e.m),e.m=null)}function Dv(e){if(!Jg(e.i)&&!e.m){e.m=!0;var t=e.Na;Am||Pm(),Nm||(Am(),Nm=!0),Rm.add(t,e),e.C=0}}function Lv(e,t){var n;n=t?t.m:e.W++;const r=Ag(e.I);Og(r,"SID",e.K),Og(r,"RID",n),Og(r,"AID",e.V),Mv(e,r),e.o&&e.s&&Cv(r,e.o,e.s),n=new ug(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Fv(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),tv(e.i,n),mg(n,r,t)}function Mv(e,t){e.na&&tm(e.na,(function(e,n){Og(t,n,e)})),e.h&&Eg({},(function(e,n){Og(t,n,e)}))}function Fv(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Sp(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{av(a,e,"req"+n+"_")}catch(Yw){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function jv(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Am||Pm(),Nm||(Am(),Nm=!0),Rm.add(t,e),e.A=0}}function Uv(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Zm(Sp(e.Ma,e),Wv(e,e.A)),e.A++,!0)}function zv(e){null!=e.B&&(mp.clearTimeout(e.B),e.B=null)}function Vv(e){e.g=new ug(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Ag(e.wa);Og(t,"RID","rpc"),Og(t,"SID",e.K),Og(t,"AID",e.V),Og(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Og(t,"TO",e.qa),Og(t,"TYPE","xmlhttp"),Mv(e,t),e.o&&e.s&&Cv(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Dg(Ag(t)),n.u=null,n.S=!0,gg(n,e)}function Bv(e){null!=e.v&&(mp.clearTimeout(e.v),e.v=null)}function qv(e,t){var n=null;if(e.g==t){Bv(e),zv(e),e.g=null;var r=2}else{if(!ev(e.i,t))return;n=t.F,nv(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;_m(r=Gm(),new Jm(r,n)),Dv(e)}else jv(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Zg(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Zm(Sp(e.Na,e,t),Wv(e,e.C)),e.C++,!0))}(e,t)||2==r&&Uv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Hv(e,5);break;case 4:Hv(e,10);break;case 3:Hv(e,6);break;default:Hv(e,2)}}function Wv(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Hv(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Sp(e.pb,e);n||(n=new Cg("//www.google.com/images/cleardot.gif"),mp.location&&"http"==mp.location.protocol||Ng(n,"https"),Dg(n)),function(e,t){const n=new qm;if(mp.Image){const r=new Image;r.onload=Ip(lv,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ip(lv,n,r,"TestLoadImage: error",!1,t),r.onabort=Ip(lv,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ip(lv,n,r,"TestLoadImage: timeout",!1,t),mp.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Xm(2);e.H=0,e.h&&e.h.za(t),Kv(e),Ov(e)}function Kv(e){if(e.H=0,e.ma=[],e.h){const t=rv(e.i);0==t.length&&0==e.j.length||(Cp(e.ma,t),Cp(e.ma,e.j),e.i.i.length=0,Tp(e.j),e.j.length=0),e.h.ya()}}function Gv(e,t,n){var r=n instanceof Cg?Ag(n):new Cg(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Rg(r,r.m);else{var i=mp.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Cg(null);r&&Ng(o,r),t&&(o.g=t),i&&Rg(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&Og(r,n,t),Og(r,"VER",e.ra),Mv(e,r),r}function Qv(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new gv(new cv({ob:n})):new gv(e.va)).Oa(e.J),t}function $v(){}function Yv(){if(jp&&!(10<=Number(Qp)))throw Error("Environmental error: no available transport.")}function Xv(e,t){bm.call(this),this.g=new Nv(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Rp(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Rp(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ey(this)}function Jv(e){ag.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Zv(){lg.call(this),this.status=1}function ey(e){this.g=e}function ty(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ny(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function ry(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(dp=gv.prototype).Oa=function(e){this.M=e},dp.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():og.g(),this.C=this.u?rg(this.u):rg(og),this.g.onreadystatechange=Sp(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void bv(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=mp.FormData&&e instanceof mp.FormData,!(0<=Ep(wv,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{xv(this),0<this.B&&((this.L=function(e){return jp&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Sp(this.ua,this)):this.A=Mm(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){bv(this,o)}},dp.ua=function(){"undefined"!=typeof pp&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_m(this,"timeout"),this.abort(8))},dp.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,_m(this,"complete"),_m(this,"abort"),Iv(this))},dp.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Iv(this,!0)),gv.$.N.call(this)},dp.La=function(){this.s||(this.G||this.v||this.l?Sv(this):this.kb())},dp.kb=function(){Sv(this)},dp.isActive=function(){return!!this.g},dp.da=function(){try{return 2<kv(this)?this.g.status:-1}catch(iv){return-1}},dp.ja=function(){try{return this.g?this.g.responseText:""}catch(iv){return""}},dp.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),mv(t)}},dp.Ia=function(){return this.m},dp.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(dp=Nv.prototype).ra=8,dp.H=1,dp.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new ug(this,this.l,e);let o=this.s;if(this.U&&(o?(o=nm(o),im(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Fv(this,i,t),Og(n=Ag(this.I),"RID",e),Og(n,"CVER",22),this.F&&Og(n,"X-HTTP-Session-Id",this.F),Mv(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Tv(o)))+"&"+t:this.o&&Cv(n,this.o,o)),tv(this.i,i),this.bb&&Og(n,"TYPE","init"),this.P?(Og(n,"$req",t),Og(n,"SID","null"),i.aa=!0,mg(i,n,null)):mg(i,n,t),this.H=2}}else 3==this.H&&(e?Lv(this,e):0==this.j.length||Jg(this.i)||Lv(this))},dp.Ma=function(){if(this.u=null,Vv(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Zm(Sp(this.jb,this),e)}},dp.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Xm(10),Pv(this),Vv(this))},dp.ib=function(){null!=this.v&&(this.v=null,Pv(this),Uv(this),Xm(19))},dp.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Xm(2)):(this.l.info("Failed to ping google.com"),Xm(1))},dp.isActive=function(){return!!this.h&&this.h.isActive(this)},(dp=$v.prototype).Ba=function(){},dp.Aa=function(){},dp.za=function(){},dp.ya=function(){},dp.isActive=function(){return!0},dp.Va=function(){},Yv.prototype.g=function(e,t){return new Xv(e,t)},xp(Xv,bm),Xv.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Xm(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Gv(e,null,e.Y),Dv(e)},Xv.prototype.close=function(){Rv(this.g)},Xv.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Im(e),e=n);t.j.push(new $g(t.fb++,e)),3==t.H&&Dv(t)},Xv.prototype.N=function(){this.g.h=null,delete this.j,Rv(this.g),delete this.g,Xv.$.N.call(this)},xp(Jv,ag),xp(Zv,lg),xp(ey,$v),ey.prototype.Ba=function(){_m(this.g,"a")},ey.prototype.Aa=function(e){_m(this.g,new Jv(e))},ey.prototype.za=function(e){_m(this.g,new Zv)},ey.prototype.ya=function(){_m(this.g,"b")},xp(ty,(function(){this.blockSize=-1})),ty.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ty.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)ny(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){ny(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){ny(this,r),i=0;break}}this.h=i,this.i+=t},ty.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var iy={};function oy(e){return-128<=e&&128>e?function(e,t){var n=iy;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new ry([0|e],0>e?-1:0)})):new ry([0|e],0>e?-1:0)}function sy(e){if(isNaN(e)||!isFinite(e))return ly;if(0>e)return fy(sy(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=ay;return new ry(t,0)}var ay=4294967296,ly=oy(0),cy=oy(1),uy=oy(16777216);function dy(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function hy(e){return-1==e.h}function fy(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new ry(n,~e.h).add(cy)}function py(e,t){return e.add(fy(t))}function my(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function gy(e,t){this.g=e,this.h=t}function vy(e,t){if(dy(t))throw Error("division by zero");if(dy(e))return new gy(ly,ly);if(hy(e))return t=vy(fy(e),t),new gy(fy(t.g),fy(t.h));if(hy(t))return t=vy(e,fy(t)),new gy(fy(t.g),t.h);if(30<e.g.length){if(hy(e)||hy(t))throw Error("slowDivide_ only works with positive integers.");for(var n=cy,r=t;0>=r.X(e);)n=yy(n),r=yy(r);var i=wy(n,1),o=wy(r,1);for(r=wy(r,2),n=wy(n,2);!dy(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=wy(r,1),n=wy(n,1)}return t=py(e,i.R(t)),new gy(i,t)}for(i=ly;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=sy(n)).R(t);hy(s)||0<s.X(e);)s=(o=sy(n-=r)).R(t);dy(o)&&(o=cy),i=i.add(o),e=py(e,s)}return new gy(i,e)}function yy(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new ry(n,e.h)}function wy(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new ry(i,e.h)}(dp=ry.prototype).ea=function(){if(hy(this))return-fy(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:ay+r)*t,t*=ay}return e},dp.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(dy(this))return"0";if(hy(this))return"-"+fy(this).toString(e);for(var t=sy(Math.pow(e,6)),n=this,r="";;){var i=vy(n,t).g,o=((0<(n=py(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(dy(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},dp.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},dp.X=function(e){return hy(e=py(this,e))?-1:dy(e)?0:1},dp.abs=function(){return hy(this)?fy(this):this},dp.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new ry(n,-2147483648&n[n.length-1]?-1:0)},dp.R=function(e){if(dy(this)||dy(e))return ly;if(hy(this))return hy(e)?fy(this).R(fy(e)):fy(fy(this).R(e));if(hy(e))return fy(this.R(fy(e)));if(0>this.X(uy)&&0>e.X(uy))return sy(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,my(n,2*r+2*i),n[2*r+2*i+1]+=o*l,my(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,my(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,my(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new ry(n,0)},dp.gb=function(e){return vy(this,e).h},dp.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new ry(n,this.h&e.h)},dp.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new ry(n,this.h|e.h)},dp.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new ry(n,this.h^e.h)},Yv.prototype.createWebChannel=Yv.prototype.g,Xv.prototype.send=Xv.prototype.u,Xv.prototype.open=Xv.prototype.m,Xv.prototype.close=Xv.prototype.close,eg.NO_ERROR=0,eg.TIMEOUT=8,eg.HTTP_ERROR=6,tg.COMPLETE="complete",ig.EventType=sg,sg.OPEN="a",sg.CLOSE="b",sg.ERROR="c",sg.MESSAGE="d",bm.prototype.listen=bm.prototype.O,gv.prototype.listenOnce=gv.prototype.P,gv.prototype.getLastError=gv.prototype.Sa,gv.prototype.getLastErrorCode=gv.prototype.Ia,gv.prototype.getStatus=gv.prototype.da,gv.prototype.getResponseJson=gv.prototype.Wa,gv.prototype.getResponseText=gv.prototype.ja,gv.prototype.send=gv.prototype.ha,gv.prototype.setWithCredentials=gv.prototype.Oa,ty.prototype.digest=ty.prototype.l,ty.prototype.reset=ty.prototype.reset,ty.prototype.update=ty.prototype.j,ry.prototype.add=ry.prototype.add,ry.prototype.multiply=ry.prototype.R,ry.prototype.modulo=ry.prototype.gb,ry.prototype.compare=ry.prototype.X,ry.prototype.toNumber=ry.prototype.ea,ry.prototype.toString=ry.prototype.toString,ry.prototype.getBits=ry.prototype.D,ry.fromNumber=sy,ry.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return fy(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=sy(Math.pow(n,8)),i=ly,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=sy(Math.pow(n,s)),i=i.R(s).add(sy(a))):i=(i=i.R(r)).add(sy(a))}return i};var by=fp.createWebChannelTransport=function(){return new Yv},_y=fp.getStatEventTarget=function(){return Gm()},Sy=fp.ErrorCode=eg,Iy=fp.EventType=tg,xy=fp.Event=Hm,ky=fp.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ey=fp.FetchXmlHttpFactory=cv,Ty=fp.WebChannel=ig,Cy=fp.XhrIo=gv,Ay=fp.Md5=ty,Ny=fp.Integer=ry;const Ry="@firebase/firestore";class Py{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Py.UNAUTHENTICATED=new Py(null),Py.GOOGLE_CREDENTIALS=new Py("google-credentials-uid"),Py.FIRST_PARTY=new Py("first-party-uid"),Py.MOCK_USER=new Py("mock-user");let Oy="10.11.1";const Dy=new or("@firebase/firestore");function Ly(){return Dy.logLevel}function My(e){if(Dy.logLevel<=er.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Uy);Dy.debug("Firestore (".concat(Oy,"): ").concat(e),...i)}}function Fy(e){if(Dy.logLevel<=er.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Uy);Dy.error("Firestore (".concat(Oy,"): ").concat(e),...i)}}function jy(e){if(Dy.logLevel<=er.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Uy);Dy.warn("Firestore (".concat(Oy,"): ").concat(e),...i)}}function Uy(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function zy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Oy,") INTERNAL ASSERTION FAILED: ")+e;throw Fy(t),new Error(t)}function Vy(e,t){e||zy()}function By(e,t){return e}const qy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Wy extends An{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Hy{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Ky{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Gy{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Py.UNAUTHENTICATED)))}shutdown(){}}class Qy{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class $y{constructor(e){this.t=e,this.currentUser=Py.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Hy;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Hy,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{My("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(My("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Hy)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(My("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Vy("string"==typeof t.accessToken),new Ky(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Vy(null===e||"string"==typeof e),new Py(e)}}class Yy{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Py.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Xy{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Yy(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Py.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Jy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zy{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&My("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,My("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{My("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):My("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Vy("string"==typeof e.token),this.R=e.token,new Jy(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ew(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class tw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=ew(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function nw(e,t){return e<t?-1:e>t?1:0}function rw(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function iw(e){return e+"\0"}class ow{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Wy(qy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Wy(qy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Wy(qy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Wy(qy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ow.fromMillis(Date.now())}static fromDate(e){return ow.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new ow(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?nw(this.nanoseconds,e.nanoseconds):nw(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class sw{constructor(e){this.timestamp=e}static fromTimestamp(e){return new sw(e)}static min(){return new sw(new ow(0,0))}static max(){return new sw(new ow(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class aw{constructor(e,t,n){void 0===t?t=0:t>e.length&&zy(),void 0===n?n=e.length-t:n>e.length-t&&zy(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===aw.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof aw?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class lw extends aw{construct(e,t,n){return new lw(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Wy(qy.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new lw(e)}static emptyPath(){return new lw([])}}const cw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class uw extends aw{construct(e,t,n){return new uw(e,t,n)}static isValidIdentifier(e){return cw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),uw.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new uw(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Wy(qy.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Wy(qy.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Wy(qy.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Wy(qy.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new uw(t)}static emptyPath(){return new uw([])}}class dw{constructor(e){this.path=e}static fromPath(e){return new dw(lw.fromString(e))}static fromName(e){return new dw(lw.fromString(e).popFirst(5))}static empty(){return new dw(lw.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===lw.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return lw.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dw(new lw(e.slice()))}}class hw{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function fw(e){return e.fields.find((e=>2===e.kind))}function pw(e){return e.fields.filter((e=>2!==e.kind))}hw.UNKNOWN_ID=-1;class mw{constructor(e,t){this.fieldPath=e,this.kind=t}}class gw{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new gw(0,ww.min())}}function vw(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=sw.fromTimestamp(1e9===r?new ow(n+1,0):new ow(n,r));return new ww(i,dw.empty(),t)}function yw(e){return new ww(e.readTime,e.key,-1)}class ww{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ww(sw.min(),dw.empty(),-1)}static max(){return new ww(sw.max(),dw.empty(),-1)}}function bw(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=dw.comparator(e.documentKey,t.documentKey),0!==n?n:nw(e.largestBatchId,t.largestBatchId))}const _w="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Sw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Iw(e){if(e.code!==qy.FAILED_PRECONDITION||e.message!==_w)throw e;My("LocalStore","Unexpectedly lost primary lease")}class xw{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&zy(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new xw(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof xw?t:xw.resolve(t)}catch(e){return xw.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):xw.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):xw.reject(t)}static resolve(e){return new xw(((t,n)=>{t(e)}))}static reject(e){return new xw(((t,n)=>{n(e)}))}static waitFor(e){return new xw(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=xw.resolve(!1);for(const n of e)t=t.next((e=>e?xw.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new xw(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new xw(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class kw{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Hy,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Aw(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=Dw(t.target.error);this.V.reject(new Aw(e,n))}}static open(e,t,n,r){try{return new kw(t,e.transaction(r,n))}catch(e){throw new Aw(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(My("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Rw(t)}}class Ew{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===Ew.S(wn())&&Fy("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return My("SimpleDb","Removing database:",e),Pw(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Tn())return!1;if(Ew.C())return!0;const e=wn(),t=Ew.S(e),n=0<t&&t<10,r=Tw(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(My("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Aw(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Wy(qy.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Wy(qy.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Aw(e,r))},r.onupgradeneeded=e=>{My("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.O(t,r.transaction,e.oldVersion,this.version).next((()=>{My("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.N&&(this.db.onversionchange=e=>this.N(e)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.M(e);const t=kw.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),xw.reject(e)))).toPromise();return o.catch((()=>{})),await t.m,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(My("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Tw(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Cw{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Pw(this.B.delete())}}class Aw extends Wy{constructor(e,t){super(qy.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Nw(e){return"IndexedDbTransactionError"===e.name}class Rw{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(My("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(My("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Pw(n)}add(e){return My("SimpleDb","ADD",this.store.name,e,e),Pw(this.store.add(e))}get(e){return Pw(this.store.get(e)).next((t=>(void 0===t&&(t=null),My("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return My("SimpleDb","DELETE",this.store.name,e),Pw(this.store.delete(e))}count(){return My("SimpleDb","COUNT",this.store.name),Pw(this.store.count())}U(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new xw(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}}G(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new xw(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}j(e,t){My("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.H=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}J(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Y(e){const t=this.cursor({});return new xw(((n,r)=>{t.onerror=e=>{const t=Dw(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new xw(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new Cw(i),s=t(i.primaryKey,i.value,o);if(s instanceof xw){const e=s.catch((e=>(o.done(),xw.reject(e))));n.push(e)}o.isDone?r():null===o.K?i.continue():i.continue(o.K)}})).next((()=>xw.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Pw(e){return new xw(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Dw(e.target.error);n(t)}}))}let Ow=!1;function Dw(e){const t=Ew.S(wn());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Wy("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Ow||(Ow=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Lw{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){My("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{My("IndexBackfiller","Documents written: ".concat(await this.Z.ee()))}catch(e){Nw(e)?My("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await Iw(e)}await this.X(6e4)}))}}class Mw{constructor(e,t){this.localStore=e,this.persistence=t}async ee(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.te(t,e)))}te(e,t){const n=new Set;let r=t,i=!0;return xw.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return My("IndexBackfiller","Processing collection: ".concat(t)),this.ne(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}ne(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.re(r,n))).next((n=>(My("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}re(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=yw(t);bw(r,n)>0&&(n=r)})),new ww(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Fw{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function jw(e){return null==e}function Uw(e){return 0===e&&1/e==-1/0}function zw(e){return"number"==typeof e&&Number.isInteger(e)&&!Uw(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Vw(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=qw(t)),t=Bw(e.get(n),t);return qw(t)}function Bw(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function qw(e){return e+"\x01\x01"}function Ww(e){const t=e.length;if(Vy(t>=2),2===t)return Vy("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),lw.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&zy(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:zy()}o=t+2}return new lw(r)}Fw.oe=-1;const Hw=["userId","batchId"];function Kw(e,t){return[e,Vw(t)]}function Gw(e,t,n){return[e,Vw(t),n]}const Qw={},$w=["prefixPath","collectionGroup","readTime","documentId"],Yw=["prefixPath","collectionGroup","documentId"],Xw=["collectionGroup","readTime","prefixPath","documentId"],Jw=["canonicalId","targetId"],Zw=["targetId","path"],eb=["path","targetId"],tb=["collectionId","parent"],nb=["indexId","uid"],rb=["uid","sequenceNumber"],ib=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ob=["indexId","uid","orderedDocumentKey"],sb=["userId","collectionPath","documentId"],ab=["userId","collectionPath","largestBatchId"],lb=["userId","collectionGroup","largestBatchId"],cb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ub=[...cb,"documentOverlays"],db=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],hb=db,fb=[...hb,"indexConfiguration","indexState","indexEntries"],pb=fb;class mb extends Sw{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function gb(e,t){const n=By(e);return Ew.F(n._e,t)}function vb(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function yb(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function wb(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class bb{constructor(e,t){this.comparator=e,this.root=t||Sb.EMPTY}insert(e,t){return new bb(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Sb.BLACK,null,null))}remove(e){return new bb(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sb.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _b(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _b(this.root,e,this.comparator,!1)}getReverseIterator(){return new _b(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _b(this.root,e,this.comparator,!0)}}class _b{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sb{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Sb.RED,this.left=null!=r?r:Sb.EMPTY,this.right=null!=i?i:Sb.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Sb(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Sb.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Sb.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sb.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sb.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw zy();if(this.right.isRed())throw zy();const e=this.left.check();if(e!==this.right.check())throw zy();return e+(this.isRed()?0:1)}}Sb.EMPTY=null,Sb.RED=!0,Sb.BLACK=!1,Sb.EMPTY=new class{constructor(){this.size=0}get key(){throw zy()}get value(){throw zy()}get color(){throw zy()}get left(){throw zy()}get right(){throw zy()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Sb(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ib{constructor(e){this.comparator=e,this.data=new bb(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xb(this.data.getIterator())}getIteratorFrom(e){return new xb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Ib))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ib(this.comparator);return t.data=e,t}}class xb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function kb(e){return e.hasNext()?e.getNext():void 0}class Eb{constructor(e){this.fields=e,e.sort(uw.comparator)}static empty(){return new Eb([])}unionWith(e){let t=new Ib(uw.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Eb(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return rw(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Tb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Cb{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Tb("Invalid base64 string: "+e):e}}(e);return new Cb(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Cb(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nw(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cb.EMPTY_BYTE_STRING=new Cb("");const Ab=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nb(e){if(Vy(!!e),"string"==typeof e){let t=0;const n=Ab.exec(e);if(Vy(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Rb(e.seconds),nanos:Rb(e.nanos)}}function Rb(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Pb(e){return"string"==typeof e?Cb.fromBase64String(e):Cb.fromUint8Array(e)}function Ob(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Db(e){const t=e.mapValue.fields.__previous_value__;return Ob(t)?Db(t):t}function Lb(e){const t=Nb(e.mapValue.fields.__local_write_time__.timestampValue);return new ow(t.seconds,t.nanos)}class Mb{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class Fb{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Fb("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Fb&&e.projectId===this.projectId&&e.database===this.database}}const jb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ub={nullValue:"NULL_VALUE"};function zb(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ob(e)?4:e_(e)?9007199254740991:10:zy()}function Vb(e,t){if(e===t)return!0;const n=zb(e);if(n!==zb(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Lb(e).isEqual(Lb(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Nb(e.timestampValue),r=Nb(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Pb(e.bytesValue).isEqual(Pb(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Rb(e.geoPointValue.latitude)===Rb(t.geoPointValue.latitude)&&Rb(e.geoPointValue.longitude)===Rb(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Rb(e.integerValue)===Rb(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Rb(e.doubleValue),r=Rb(t.doubleValue);return n===r?Uw(n)===Uw(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return rw(e.arrayValue.values||[],t.arrayValue.values||[],Vb);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(vb(n)!==vb(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Vb(n[i],r[i])))return!1;return!0}(e,t);default:return zy()}}function Bb(e,t){return void 0!==(e.values||[]).find((e=>Vb(e,t)))}function qb(e,t){if(e===t)return 0;const n=zb(e),r=zb(t);if(n!==r)return nw(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nw(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Rb(e.integerValue||e.doubleValue),r=Rb(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Wb(e.timestampValue,t.timestampValue);case 4:return Wb(Lb(e),Lb(t));case 5:return nw(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Pb(e),r=Pb(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=nw(n[i],r[i]);if(0!==e)return e}return nw(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=nw(Rb(e.latitude),Rb(t.latitude));return 0!==n?n:nw(Rb(e.longitude),Rb(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=qb(n[i],r[i]);if(e)return e}return nw(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===jb.mapValue&&t===jb.mapValue)return 0;if(e===jb.mapValue)return 1;if(t===jb.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=nw(r[s],o[s]);if(0!==e)return e;const t=qb(n[r[s]],i[o[s]]);if(0!==t)return t}return nw(r.length,o.length)}(e.mapValue,t.mapValue);default:throw zy()}}function Wb(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return nw(e,t);const n=Nb(e),r=Nb(t),i=nw(n.seconds,r.seconds);return 0!==i?i:nw(n.nanos,r.nanos)}function Hb(e){return Kb(e)}function Kb(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Nb(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Pb(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return dw.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Kb(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Kb(e.fields[i]));return n+"}"}(e.mapValue):zy()}function Gb(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Qb(e){return!!e&&"integerValue"in e}function $b(e){return!!e&&"arrayValue"in e}function Yb(e){return!!e&&"nullValue"in e}function Xb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Jb(e){return!!e&&"mapValue"in e}function Zb(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return yb(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Zb(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Zb(e.arrayValue.values[n]);return t}return Object.assign({},e)}function e_(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function t_(e){return"nullValue"in e?Ub:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Gb(Fb.empty(),dw.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:zy()}function n_(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Gb(Fb.empty(),dw.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?jb:zy()}function r_(e,t){const n=qb(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function i_(e,t){const n=qb(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class o_{constructor(e){this.value=e}static empty(){return new o_({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Jb(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zb(t)}setAll(e){let t=uw.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Zb(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Jb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vb(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Jb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){yb(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new o_(Zb(this.value))}}function s_(e){const t=[];return yb(e.fields,((e,n)=>{const r=new uw([e]);if(Jb(n)){const e=s_(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Eb(t)}class a_{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new a_(e,0,sw.min(),sw.min(),sw.min(),o_.empty(),0)}static newFoundDocument(e,t,n,r){return new a_(e,1,t,sw.min(),n,r,0)}static newNoDocument(e,t){return new a_(e,2,t,sw.min(),sw.min(),o_.empty(),0)}static newUnknownDocument(e,t){return new a_(e,3,t,sw.min(),sw.min(),o_.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(sw.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=o_.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=o_.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=sw.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof a_&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new a_(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class l_{constructor(e,t){this.position=e,this.inclusive=t}}function c_(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?dw.comparator(dw.fromName(s.referenceValue),n.key):qb(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function u_(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Vb(e.position[n],t.position[n]))return!1;return!0}class d_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function h_(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class f_{}class p_ extends f_{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new x_(e,t,n):"array-contains"===t?new C_(e,n):"in"===t?new A_(e,n):"not-in"===t?new N_(e,n):"array-contains-any"===t?new R_(e,n):new p_(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new k_(e,n):new E_(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(qb(t,this.value)):null!==t&&zb(this.value)===zb(t)&&this.matchesComparison(qb(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return zy()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class m_ extends f_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new m_(e,t)}matches(e){return g_(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function g_(e){return"and"===e.op}function v_(e){return"or"===e.op}function y_(e){return w_(e)&&g_(e)}function w_(e){for(const t of e.filters)if(t instanceof m_)return!1;return!0}function b_(e){if(e instanceof p_)return e.field.canonicalString()+e.op.toString()+Hb(e.value);if(y_(e))return e.filters.map((e=>b_(e))).join(",");{const t=e.filters.map((e=>b_(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function __(e,t){return e instanceof p_?function(e,t){return t instanceof p_&&e.op===t.op&&e.field.isEqual(t.field)&&Vb(e.value,t.value)}(e,t):e instanceof m_?function(e,t){return t instanceof m_&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&__(n,t.filters[r])),!0)}(e,t):void zy()}function S_(e,t){const n=e.filters.concat(t);return m_.create(n,e.op)}function I_(e){return e instanceof p_?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Hb(e.value))}(e):e instanceof m_?function(e){return e.op.toString()+" {"+e.getFilters().map(I_).join(" ,")+"}"}(e):"Filter"}class x_ extends p_{constructor(e,t,n){super(e,t,n),this.key=dw.fromName(n.referenceValue)}matches(e){const t=dw.comparator(e.key,this.key);return this.matchesComparison(t)}}class k_ extends p_{constructor(e,t){super(e,"in",t),this.keys=T_("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class E_ extends p_{constructor(e,t){super(e,"not-in",t),this.keys=T_("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function T_(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>dw.fromName(e.referenceValue)))}class C_ extends p_{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $b(t)&&Bb(t.arrayValue,this.value)}}class A_ extends p_{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Bb(this.value.arrayValue,t)}}class N_ extends p_{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Bb(this.value.arrayValue,t)}}class R_ extends p_{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$b(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Bb(this.value.arrayValue,e)))}}class P_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ue=null}}function O_(e){return new P_(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function D_(e){const t=By(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>b_(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),jw(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Hb(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Hb(e))).join(",")),t.ue=e}return t.ue}function L_(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!h_(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!__(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!u_(e.startAt,t.startAt)&&u_(e.endAt,t.endAt)}function M_(e){return dw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function F_(e,t){return e.filters.filter((e=>e instanceof p_&&e.field.isEqual(t)))}function j_(e,t,n){let r=Ub,i=!0;for(const o of F_(e,t)){let e=Ub,t=!0;switch(o.op){case"<":case"<=":e=t_(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=Ub}r_({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];r_({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function U_(e,t,n){let r=jb,i=!0;for(const o of F_(e,t)){let e=jb,t=!0;switch(o.op){case">=":case">":e=n_(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=jb}i_({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];i_({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class z_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function V_(e,t,n,r,i,o,s,a){return new z_(e,t,n,r,i,o,s,a)}function B_(e){return new z_(e)}function q_(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function W_(e){return null!==e.collectionGroup}function H_(e){const t=By(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Ib(uw.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new d_(r,n))})),e.has(uw.keyField().canonicalString())||t.ce.push(new d_(uw.keyField(),n))}return t.ce}function K_(e){const t=By(e);return t.le||(t.le=G_(t,H_(e))),t.le}function G_(e,t){if("F"===e.limitType)return O_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new d_(e.field,t)}));const n=e.endAt?new l_(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new l_(e.startAt.position,e.startAt.inclusive):null;return O_(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Q_(e,t){const n=e.filters.concat([t]);return new z_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function $_(e,t,n){return new z_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Y_(e,t){return L_(K_(e),K_(t))&&e.limitType===t.limitType}function X_(e){return"".concat(D_(K_(e)),"|lt:").concat(e.limitType)}function J_(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>I_(e))).join(", "),"]")),jw(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Hb(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Hb(e))).join(",")),"Target(".concat(t,")")}(K_(e)),"; limitType=").concat(e.limitType,")")}function Z_(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):dw.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of H_(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=c_(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,H_(e),t))&&!(e.endAt&&!function(e,t,n){const r=c_(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,H_(e),t))}(e,t)}function eS(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function tS(e){return(t,n)=>{let r=!1;for(const i of H_(e)){const e=nS(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function nS(e,t,n){const r=e.field.isKeyField()?dw.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?qb(r,i):zy()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return zy()}}class rS{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){yb(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return wb(this.inner)}size(){return this.innerSize}}const iS=new bb(dw.comparator);function oS(){return iS}const sS=new bb(dw.comparator);function aS(){let e=sS;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function lS(e){let t=sS;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function cS(){return dS()}function uS(){return dS()}function dS(){return new rS((e=>e.toString()),((e,t)=>e.isEqual(t)))}const hS=new bb(dw.comparator),fS=new Ib(dw.comparator);function pS(){let e=fS;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const mS=new Ib(nw);function gS(){return mS}function vS(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uw(t)?"-0":t}}function yS(e){return{integerValue:""+e}}function wS(e,t){return zw(t)?yS(t):vS(e,t)}class bS{constructor(){this._=void 0}}function _S(e,t,n){return e instanceof xS?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ob(t)&&(t=Db(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof kS?ES(e,t):e instanceof TS?CS(e,t):function(e,t){const n=IS(e,t),r=NS(n)+NS(e.Pe);return Qb(n)&&Qb(e.Pe)?yS(r):vS(e.serializer,r)}(e,t)}function SS(e,t,n){return e instanceof kS?ES(e,t):e instanceof TS?CS(e,t):n}function IS(e,t){return e instanceof AS?function(e){return Qb(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class xS extends bS{}class kS extends bS{constructor(e){super(),this.elements=e}}function ES(e,t){const n=RS(t);for(const r of e.elements)n.some((e=>Vb(e,r)))||n.push(r);return{arrayValue:{values:n}}}class TS extends bS{constructor(e){super(),this.elements=e}}function CS(e,t){let n=RS(t);for(const r of e.elements)n=n.filter((e=>!Vb(e,r)));return{arrayValue:{values:n}}}class AS extends bS{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function NS(e){return Rb(e.integerValue||e.doubleValue)}function RS(e){return $b(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class PS{constructor(e,t){this.field=e,this.transform=t}}class OS{constructor(e,t){this.version=e,this.transformResults=t}}class DS{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new DS}static exists(e){return new DS(void 0,e)}static updateTime(e){return new DS(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function LS(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class MS{}function FS(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new GS(e.key,DS.none()):new BS(e.key,e.data,DS.none());{const n=e.data,r=o_.empty();let i=new Ib(uw.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new qS(e.key,r,new Eb(i.toArray()),DS.none())}}function jS(e,t,n){e instanceof BS?function(e,t,n){const r=e.value.clone(),i=HS(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof qS?function(e,t,n){if(!LS(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=HS(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(WS(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function US(e,t,n,r){return e instanceof BS?function(e,t,n,r){if(!LS(e.precondition,t))return n;const i=e.value.clone(),o=KS(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof qS?function(e,t,n,r){if(!LS(e.precondition,t))return n;const i=KS(e.fieldTransforms,r,t),o=t.data;return o.setAll(WS(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return LS(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function zS(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=IS(r.transform,e||null);null!=i&&(null===n&&(n=o_.empty()),n.set(r.field,i))}return n||null}function VS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&rw(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof kS&&t instanceof kS||e instanceof TS&&t instanceof TS?rw(e.elements,t.elements,Vb):e instanceof AS&&t instanceof AS?Vb(e.Pe,t.Pe):e instanceof xS&&t instanceof xS}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class BS extends MS{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class qS extends MS{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function WS(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function HS(e,t,n){const r=new Map;Vy(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,SS(s,a,n[i]))}return r}function KS(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,_S(e,o,t))}return r}class GS extends MS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QS extends MS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $S{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&jS(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=US(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=US(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=uS();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=FS(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(sw.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),pS())}isEqual(e){return this.batchId===e.batchId&&rw(this.mutations,e.mutations,((e,t)=>VS(e,t)))&&rw(this.baseMutations,e.baseMutations,((e,t)=>VS(e,t)))}}class YS{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Vy(e.mutations.length===n.length);let r=hS;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new YS(e,t,n,r)}}class XS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class JS{constructor(e,t){this.count=e,this.unchangedNames=t}}var ZS,eI;function tI(e){switch(e){default:return zy();case qy.CANCELLED:case qy.UNKNOWN:case qy.DEADLINE_EXCEEDED:case qy.RESOURCE_EXHAUSTED:case qy.INTERNAL:case qy.UNAVAILABLE:case qy.UNAUTHENTICATED:return!1;case qy.INVALID_ARGUMENT:case qy.NOT_FOUND:case qy.ALREADY_EXISTS:case qy.PERMISSION_DENIED:case qy.FAILED_PRECONDITION:case qy.ABORTED:case qy.OUT_OF_RANGE:case qy.UNIMPLEMENTED:case qy.DATA_LOSS:return!0}}function nI(e){if(void 0===e)return Fy("GRPC error has no .code"),qy.UNKNOWN;switch(e){case ZS.OK:return qy.OK;case ZS.CANCELLED:return qy.CANCELLED;case ZS.UNKNOWN:return qy.UNKNOWN;case ZS.DEADLINE_EXCEEDED:return qy.DEADLINE_EXCEEDED;case ZS.RESOURCE_EXHAUSTED:return qy.RESOURCE_EXHAUSTED;case ZS.INTERNAL:return qy.INTERNAL;case ZS.UNAVAILABLE:return qy.UNAVAILABLE;case ZS.UNAUTHENTICATED:return qy.UNAUTHENTICATED;case ZS.INVALID_ARGUMENT:return qy.INVALID_ARGUMENT;case ZS.NOT_FOUND:return qy.NOT_FOUND;case ZS.ALREADY_EXISTS:return qy.ALREADY_EXISTS;case ZS.PERMISSION_DENIED:return qy.PERMISSION_DENIED;case ZS.FAILED_PRECONDITION:return qy.FAILED_PRECONDITION;case ZS.ABORTED:return qy.ABORTED;case ZS.OUT_OF_RANGE:return qy.OUT_OF_RANGE;case ZS.UNIMPLEMENTED:return qy.UNIMPLEMENTED;case ZS.DATA_LOSS:return qy.DATA_LOSS;default:return zy()}}(eI=ZS||(ZS={}))[eI.OK=0]="OK",eI[eI.CANCELLED=1]="CANCELLED",eI[eI.UNKNOWN=2]="UNKNOWN",eI[eI.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",eI[eI.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",eI[eI.NOT_FOUND=5]="NOT_FOUND",eI[eI.ALREADY_EXISTS=6]="ALREADY_EXISTS",eI[eI.PERMISSION_DENIED=7]="PERMISSION_DENIED",eI[eI.UNAUTHENTICATED=16]="UNAUTHENTICATED",eI[eI.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",eI[eI.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",eI[eI.ABORTED=10]="ABORTED",eI[eI.OUT_OF_RANGE=11]="OUT_OF_RANGE",eI[eI.UNIMPLEMENTED=12]="UNIMPLEMENTED",eI[eI.INTERNAL=13]="INTERNAL",eI[eI.UNAVAILABLE=14]="UNAVAILABLE",eI[eI.DATA_LOSS=15]="DATA_LOSS";let rI=null;function iI(){return new TextEncoder}const oI=new Ny([4294967295,4294967295],0);function sI(e){const t=iI().encode(e),n=new Ay;return n.update(t),new Uint8Array(n.digest())}function aI(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ny([n,r],0),new Ny([i,o],0)]}class lI{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new cI("Invalid padding: ".concat(t));if(n<0)throw new cI("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new cI("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new cI("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=Ny.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(Ny.fromNumber(n)));return 1===r.compare(oI)&&(r=new Ny([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=sI(e),[n,r]=aI(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new lI(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Ie)return;const t=sI(e),[n,r]=aI(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class cI extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class uI{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,dI.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new uI(sw.min(),r,new bb(nw),oS(),pS())}}class dI{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new dI(n,t,pS(),pS(),pS())}}class hI{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class fI{constructor(e,t){this.targetId=e,this.me=t}}class pI{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cb.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class mI{constructor(){this.fe=0,this.ge=yI(),this.pe=Cb.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=pS(),t=pS(),n=pS();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:zy()}})),new dI(this.pe,this.ye,e,t,n)}ve(){this.we=!1,this.ge=yI()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Vy(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class gI{constructor(e){this.Le=e,this.Be=new Map,this.ke=oS(),this.qe=vI(),this.Qe=new bb(nw)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:zy()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(M_(i))if(0===n){const e=new dw(i.path);this.Ue(t,e,a_.newNoDocument(e,sw.min()))}else Vy(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==rI||rI.et(function(e,t,n,r,i){var o,s,a,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(a=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=Pb(n).toUint8Array()}catch(e){if(e instanceof Tb)return jy("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new lI(o,r,i)}catch(e){return jy(e instanceof cI?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Ie?null:s}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&M_(i.target)){const t=new dw(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,a_.newNoDocument(t,e))}n.be&&(t.set(r,n.Ce()),n.ve())}}));let n=pS();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new uI(e,t,this.Qe,this.ke,n);return this.ke=oS(),this.qe=vI(),this.Qe=new bb(nw),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new mI,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Ib(nw),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||My("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new mI),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function vI(){return new bb(dw.comparator)}function yI(){return new bb(dw.comparator)}const wI={asc:"ASCENDING",desc:"DESCENDING"},bI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_I={and:"AND",or:"OR"};class SI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function II(e,t){return e.useProto3Json||jw(t)?t:{value:t}}function xI(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function kI(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function EI(e,t){return xI(e,t.toTimestamp())}function TI(e){return Vy(!!e),sw.fromTimestamp(function(e){const t=Nb(e);return new ow(t.seconds,t.nanos)}(e))}function CI(e,t){return AI(e,t).canonicalString()}function AI(e,t){const n=function(e){return new lw(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function NI(e){const t=lw.fromString(e);return Vy(JI(t)),t}function RI(e,t){return CI(e.databaseId,t.path)}function PI(e,t){const n=NI(t);if(n.get(1)!==e.databaseId.projectId)throw new Wy(qy.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Wy(qy.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new dw(MI(n))}function OI(e,t){return CI(e.databaseId,t)}function DI(e){const t=NI(e);return 4===t.length?lw.emptyPath():MI(t)}function LI(e){return new lw(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function MI(e){return Vy(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function FI(e,t,n){return{name:RI(e,t),fields:n.value.mapValue.fields}}function jI(e,t,n){const r=PI(e,t.name),i=TI(t.updateTime),o=t.createTime?TI(t.createTime):sw.min(),s=new o_({mapValue:{fields:t.fields}}),a=a_.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function UI(e,t){let n;if(t instanceof BS)n={update:FI(e,t.key,t.value)};else if(t instanceof GS)n={delete:RI(e,t.key)};else if(t instanceof qS)n={update:FI(e,t.key,t.data),updateMask:XI(t.fieldMask)};else{if(!(t instanceof QS))return zy();n={verify:RI(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof xS)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof kS)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof TS)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof AS)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw zy()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:EI(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:zy()}(e,t.precondition)),n}function zI(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?DS.updateTime(TI(e.updateTime)):void 0!==e.exists?DS.exists(e.exists):DS.none()}(t.currentDocument):DS.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Vy("REQUEST_TIME"===t.setToServerValue),n=new xS;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new kS(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new TS(e)}else"increment"in t?n=new AS(e,t.increment):zy();const r=uw.fromServerFormat(t.fieldPath);return new PS(r,n)}(e,t))):[];if(t.update){t.update.name;const i=PI(e,t.update.name),o=new o_({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Eb(t.map((e=>uw.fromServerFormat(e))))}(t.updateMask);return new qS(i,o,e,n,r)}return new BS(i,o,n,r)}if(t.delete){const r=PI(e,t.delete);return new GS(r,n)}if(t.verify){const r=PI(e,t.verify);return new QS(r,n)}return zy()}function VI(e,t){return{documents:[OI(e,t.path)]}}function BI(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=OI(e,i);const o=function(e){if(0!==e.length)return YI(m_.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:QI(e.field),direction:HI(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=II(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function qI(e){let t=DI(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Vy(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=WI(e);return t instanceof m_&&y_(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new d_($I(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,jw(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new l_(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new l_(n,t)}(n.endAt)),V_(t,i,s,o,a,"F",l,c)}function WI(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=$I(e.unaryFilter.field);return p_.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=$I(e.unaryFilter.field);return p_.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=$I(e.unaryFilter.field);return p_.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=$I(e.unaryFilter.field);return p_.create(i,"!=",{nullValue:"NULL_VALUE"});default:return zy()}}(e):void 0!==e.fieldFilter?function(e){return p_.create($I(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return zy()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return m_.create(e.compositeFilter.filters.map((e=>WI(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return zy()}}(e.compositeFilter.op))}(e):zy()}function HI(e){return wI[e]}function KI(e){return bI[e]}function GI(e){return _I[e]}function QI(e){return{fieldPath:e.canonicalString()}}function $I(e){return uw.fromServerFormat(e.fieldPath)}function YI(e){return e instanceof p_?function(e){if("=="===e.op){if(Xb(e.value))return{unaryFilter:{field:QI(e.field),op:"IS_NAN"}};if(Yb(e.value))return{unaryFilter:{field:QI(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Xb(e.value))return{unaryFilter:{field:QI(e.field),op:"IS_NOT_NAN"}};if(Yb(e.value))return{unaryFilter:{field:QI(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:QI(e.field),op:KI(e.op),value:e.value}}}(e):e instanceof m_?function(e){const t=e.getFilters().map((e=>YI(e)));return 1===t.length?t[0]:{compositeFilter:{op:GI(e.op),filters:t}}}(e):zy()}function XI(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function JI(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class ZI{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:sw.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:sw.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Cb.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new ZI(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ZI(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ZI(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ZI(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ex{constructor(e){this.ut=e}}function tx(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:nx(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:RI(e,t.key),fields:t.data.value.mapValue.fields,updateTime:xI(e,t.version.toTimestamp()),createTime:xI(e,t.createTime.toTimestamp())}}(e.ut,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:rx(t.version)};else{if(!t.isUnknownDocument())return zy();r.unknownDocument={path:n.path.toArray(),version:rx(t.version)}}return r}function nx(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function rx(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ix(e){const t=new ow(e.seconds,e.nanoseconds);return sw.fromTimestamp(t)}function ox(e,t){const n=(t.baseMutations||[]).map((t=>zI(e.ut,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>zI(e.ut,t))),i=ow.fromMillis(t.localWriteTimeMs);return new $S(t.batchId,i,n,r)}function sx(e){const t=ix(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?ix(e.lastLimboFreeSnapshotVersion):sw.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return Vy(1===e.documents.length),K_(B_(DI(e.documents[0])))}(e.query):function(e){return K_(qI(e))}(e.query),new ZI(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Cb.fromBase64String(e.resumeToken))}function ax(e,t){const n=rx(t.snapshotVersion),r=rx(t.lastLimboFreeSnapshotVersion);let i;i=M_(t.target)?VI(e.ut,t.target):BI(e.ut,t.target)._t;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:D_(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function lx(e){const t=qI({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?$_(t,t.limit,"L"):t}function cx(e,t){return new XS(t.largestBatchId,zI(e.ut,t.overlayMutation))}function ux(e,t){const n=t.path.lastSegment();return[e,Vw(t.path.popLast()),n]}function dx(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:rx(r.readTime),documentKey:Vw(r.documentKey.path),largestBatchId:r.largestBatchId}}class hx{getBundleMetadata(e,t){return fx(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:ix(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return fx(e).put(function(e){return{bundleId:e.id,createTime:rx(TI(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return px(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:lx(e.bundledQuery),readTime:ix(e.readTime)}}(e)}))}saveNamedQuery(e,t){return px(e).put(function(e){return{name:e.name,readTime:rx(TI(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function fx(e){return gb(e,"bundles")}function px(e){return gb(e,"namedQueries")}class mx{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){const n=t.uid||"";return new mx(e,n)}getOverlay(e,t){return gx(e).get(ux(this.userId,t)).next((e=>e?cx(this.serializer,e):null))}getOverlays(e,t){const n=cS();return xw.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new XS(t,i);r.push(this.lt(e,o))})),xw.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Vw(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(gx(e).j("collectionPathOverlayIndex",r))})),xw.waitFor(i)}getOverlaysForCollection(e,t,n){const r=cS(),i=Vw(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return gx(e).U("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=cx(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=cS();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return gx(e).J({index:"collectionGroupOverlayIndex",range:s},((e,t,n)=>{const s=cx(this.serializer,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()})).next((()=>i))}lt(e,t){return gx(e).put(function(e,t,n){const[r,i,o]=ux(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:UI(e.ut,n.mutation)}}(this.serializer,this.userId,t))}}function gx(e){return gb(e,"documentOverlays")}class vx{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Rb(e.integerValue));else if("doubleValue"in e){const n=Rb(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),Uw(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Tt(t,20),"string"==typeof n&&(n=Nb(n)),t.dt("".concat(n.seconds||"")),t.Et(n.nanos||0)}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Pb(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Tt(t,45),t.Et(n.latitude||0),t.Et(n.longitude||0)}else"mapValue"in e?e_(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):zy()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const n=e.fields||{};this.Tt(t,55);for(const r of Object.keys(n))this.At(r,t),this.Pt(n[r],t)}yt(e,t){const n=e.values||[];this.Tt(t,50);for(const r of n)this.Pt(r,t)}ft(e,t){this.Tt(t,37),dw.fromName(e).path.forEach((e=>{this.Tt(t,60),this.wt(e,t)}))}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function yx(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function wx(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=yx(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}vx.St=new vx;class bx{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Dt(n.value),n=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ft(n.value),n=t.next();this.Mt()}xt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Dt(e);else if(e<2048)this.Dt(960|e>>>6),this.Dt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e);else{const e=t.codePointAt(0);this.Dt(240|e>>>18),this.Dt(128|63&e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e)}}this.Ct()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ft(e);else if(e<2048)this.Ft(960|e>>>6),this.Ft(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e);else{const e=t.codePointAt(0);this.Ft(240|e>>>18),this.Ft(128|63&e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e)}}this.Mt()}Nt(e){const t=this.Lt(e),n=wx(t);this.Bt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Lt(e),n=wx(t);this.Bt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Bt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Lt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Bt(1),this.buffer[this.position++]=e}$t(e){this.Bt(1),this.buffer[this.position++]=~e}Bt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class _x{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class Sx{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Ix{constructor(){this.Wt=new bx,this.Gt=new _x(this.Wt),this.zt=new Sx(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class xx{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new xx(this.indexId,this.documentKey,this.arrayValue,n)}}function kx(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Ex(e.arrayValue,t.arrayValue),0!==n?n:(n=Ex(e.directionalValue,t.directionalValue),0!==n?n:dw.comparator(e.documentKey,t.documentKey)))}function Ex(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Tx{constructor(e){this.Jt=new Ib(((e,t)=>uw.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Jt=this.Jt.add(e):this.Zt.push(e)}}get Xt(){return this.Jt.size>1}en(e){if(Vy(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=fw(e);if(void 0!==t&&!this.tn(t))return!1;const n=pw(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.tn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Jt.size>0){const e=this.Jt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.nn(e,t)||!this.rn(this.Yt[o++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.Yt.length||!this.rn(this.Yt[o++],e))return!1}return!0}sn(){if(this.Xt)return null;let e=new Ib(uw.comparator);const t=[];for(const n of this.Zt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new mw(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new mw(n.field,0))}for(const n of this.Yt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new mw(n.field,"asc"===n.dir?0:1)));return new hw(hw.UNKNOWN_ID,this.collectionId,t,gw.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Cx(e){var t,n;if(Vy(e instanceof p_||e instanceof m_),e instanceof p_){if(e instanceof A_){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>p_.create(e.field,"==",t))))||[];return m_.create(r,"or")}return e}const r=e.filters.map((e=>Cx(e)));return m_.create(r,e.op)}function Ax(e){if(0===e.getFilters().length)return[];const t=Ox(Cx(e));return Vy(Px(t)),Nx(t)||Rx(t)?[t]:t.getFilters()}function Nx(e){return e instanceof p_}function Rx(e){return e instanceof m_&&y_(e)}function Px(e){return Nx(e)||Rx(e)||function(e){if(e instanceof m_&&v_(e)){for(const t of e.getFilters())if(!Nx(t)&&!Rx(t))return!1;return!0}return!1}(e)}function Ox(e){if(Vy(e instanceof p_||e instanceof m_),e instanceof p_)return e;if(1===e.filters.length)return Ox(e.filters[0]);const t=e.filters.map((e=>Ox(e)));let n=m_.create(t,e.op);return n=Mx(n),Px(n)?n:(Vy(n instanceof m_),Vy(g_(n)),Vy(n.filters.length>1),n.filters.reduce(((e,t)=>Dx(e,t))))}function Dx(e,t){let n;return Vy(e instanceof p_||e instanceof m_),Vy(t instanceof p_||t instanceof m_),n=e instanceof p_?t instanceof p_?function(e,t){return m_.create([e,t],"and")}(e,t):Lx(e,t):t instanceof p_?Lx(t,e):function(e,t){if(Vy(e.filters.length>0&&t.filters.length>0),g_(e)&&g_(t))return S_(e,t.getFilters());const n=v_(e)?e:t,r=v_(e)?t:e,i=n.filters.map((e=>Dx(e,r)));return m_.create(i,"or")}(e,t),Mx(n)}function Lx(e,t){if(g_(t))return S_(t,e.getFilters());{const n=t.filters.map((t=>Dx(e,t)));return m_.create(n,"or")}}function Mx(e){if(Vy(e instanceof p_||e instanceof m_),e instanceof p_)return e;const t=e.getFilters();if(1===t.length)return Mx(t[0]);if(w_(e))return e;const n=t.map((e=>Mx(e))),r=[];return n.forEach((t=>{t instanceof p_?r.push(t):t instanceof m_&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:m_.create(r,e.op)}class Fx{constructor(){this.on=new jx}addToCollectionParentIndex(e,t){return this.on.add(t),xw.resolve()}getCollectionParents(e,t){return xw.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return xw.resolve()}deleteFieldIndex(e,t){return xw.resolve()}deleteAllFieldIndexes(e){return xw.resolve()}createTargetIndexes(e,t){return xw.resolve()}getDocumentsMatchingTarget(e,t){return xw.resolve(null)}getIndexType(e,t){return xw.resolve(0)}getFieldIndexes(e,t){return xw.resolve([])}getNextCollectionGroupToUpdate(e){return xw.resolve(null)}getMinOffset(e,t){return xw.resolve(ww.min())}getMinOffsetFromCollectionGroup(e,t){return xw.resolve(ww.min())}updateCollectionGroup(e,t,n){return xw.resolve()}updateIndexEntries(e,t){return xw.resolve()}}class jx{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ib(lw.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ib(lw.comparator)).toArray()}}const Ux=new Uint8Array(0);class zx{constructor(e,t){this.databaseId=t,this._n=new jx,this.an=new rS((e=>D_(e)),((e,t)=>L_(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this._n.add(t)}));const i={collectionId:n,parent:Vw(r)};return Vx(e).put(i)}return xw.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[iw(t),""],!1,!0);return Vx(e).U(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Ww(r.parent))}return n}))}addFieldIndex(e,t){const n=qx(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Wx(e);return i.next((e=>{n.put(dx(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=qx(e),r=Wx(e),i=Bx(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=qx(e),n=Bx(e),r=Wx(e);return t.j().next((()=>n.j())).next((()=>r.j()))}createTargetIndexes(e,t){return xw.forEach(this.un(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new Tx(t).sn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=Bx(e);let r=!0;const i=new Map;return xw.forEach(this.un(t),(t=>this.cn(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=pS();const r=[];return xw.forEach(i,((i,o)=>{My("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(D_(t)));const s=function(e,t){const n=fw(t);if(void 0===n)return null;for(const r of F_(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),a=function(e,t){const n=new Map;for(const r of pw(t))for(const t of F_(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of pw(t)){const t=0===i.kind?j_(e,i.fieldPath,e.startAt):U_(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new l_(n,r)}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of pw(t)){const t=0===i.kind?U_(e,i.fieldPath,e.endAt):j_(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new l_(n,r)}(o,i),u=this.ln(i,o,l),d=this.ln(i,o,c),h=this.hn(i,o,a),f=this.Pn(i.indexId,s,u,l.inclusive,d,c.inclusive,h);return xw.forEach(f,(i=>n.G(i,t.limit).next((t=>{t.forEach((t=>{const n=dw.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return xw.resolve(null)}))}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:Ax(m_.create(e.filters,"and")).map((t=>O_(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.an.set(e,t),t)}Pn(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.In(t[u/l]):Ux,d=this.Tn(e,a,n[u%l],r),h=this.En(e,a,i[u%l],o),f=s.map((t=>this.Tn(e,a,t,!0)));c.push(...this.createRange(d,h,f))}return c}Tn(e,t,n,r){const i=new xx(e,dw.empty(),t,n);return r?i:i.Ht()}En(e,t,n,r){const i=new xx(e,dw.empty(),t,n);return r?i.Ht():i}cn(e,t){const n=new Tx(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.en(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.un(t);return xw.forEach(r,(t=>this.cn(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Ib(uw.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}dn(e,t){const n=new Ix;for(const r of pw(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.jt(r.kind);vx.St.ht(e,i)}return n.Ut()}In(e){const t=new Ix;return vx.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const n=new Ix;return vx.St.ht(Gb(this.databaseId,t),n.jt(function(e){const t=pw(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ut()}hn(e,t,n){if(null===n)return[];let r=[];r.push(new Ix);let i=0;for(const o of pw(e)){const e=n[i++];for(const n of r)if(this.Rn(t,o.fieldPath)&&$b(e))r=this.Vn(r,o,e);else{const t=n.jt(o.kind);vx.St.ht(e,t)}}return this.mn(r)}ln(e,t,n){return this.hn(e,t,n.position)}mn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Ut();return t}Vn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new Ix;n.seed(e.Ut()),vx.St.ht(o,n.jt(t.kind)),i.push(n)}return i}Rn(e,t){return!!e.filters.find((e=>e instanceof p_&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=qx(e),r=Wx(e);return(t?n.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.U()).next((e=>{const t=[];return xw.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new gw(t.sequenceNumber,new ww(ix(t.readTime),new dw(Ww(t.documentKey)),t.largestBatchId)):gw.empty(),r=e.fields.map((e=>{let[t,n]=e;return new mw(uw.fromServerFormat(t),n)}));return new hw(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:nw(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=qx(e),i=Wx(e);return this.fn(e).next((e=>r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>xw.forEach(t,(t=>i.put(dx(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return xw.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?xw.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),xw.forEach(i,(n=>this.gn(e,t,n).next((t=>{const i=this.pn(r,n);return t.isEqual(i)?xw.resolve():this.yn(e,r,n,t,i)})))))))}))}wn(e,t,n,r){return Bx(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(n,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,n,r){return Bx(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(n,t.key),t.key.path.toArray()])}gn(e,t,n){const r=Bx(e);let i=new Ib(kx);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.An(n,t)])},((e,r)=>{i=i.add(new xx(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}pn(e,t){let n=new Ib(kx);const r=this.dn(t,e);if(null==r)return n;const i=fw(t);if(null!=i){const o=e.data.field(i.fieldPath);if($b(o))for(const i of o.arrayValue.values||[])n=n.add(new xx(t.indexId,e.key,this.In(i),r))}else n=n.add(new xx(t.indexId,e.key,Ux,r));return n}yn(e,t,n,r,i){My("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=kb(o),l=kb(s);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=kb(s)):t?(i(a),a=kb(o)):(a=kb(o),l=kb(s))}}(r,i,kx,(r=>{o.push(this.wn(e,t,n,r))}),(r=>{o.push(this.Sn(e,t,n,r))})),xw.waitFor(o)}fn(e){let t=1;return Wx(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>kx(e,t))).filter(((e,t,n)=>!t||0!==kx(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=kx(o,e),i=kx(o,t);if(0===n)r[0]=e.Ht();else if(n>0&&i<0)r.push(o),r.push(o.Ht());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.bn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,Ux,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,Ux,[]];i.push(IDBKeyRange.bound(e,t))}return i}bn(e,t){return kx(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Hx)}getMinOffset(e,t){return xw.mapArray(this.un(t),(t=>this.cn(e,t).next((e=>e||zy())))).next(Hx)}}function Vx(e){return gb(e,"collectionParents")}function Bx(e){return gb(e,"indexEntries")}function qx(e){return gb(e,"indexConfiguration")}function Wx(e){return gb(e,"indexState")}function Hx(e){Vy(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;bw(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ww(t.readTime,t.documentKey,n)}const Kx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Gx{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Gx(e,Gx.DEFAULT_COLLECTION_PERCENTILE,Gx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Qx(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:s},((e,t,n)=>(a++,n.delete())));o.push(l.next((()=>{Vy(1===a)})));const c=[];for(const u of n.mutations){const e=Gw(t,u.key.path,n.batchId);o.push(i.delete(e)),c.push(u.key)}return xw.waitFor(o).next((()=>c))}function $x(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw zy();t=e.noDocument}return JSON.stringify(t).length}Gx.DEFAULT_COLLECTION_PERCENTILE=10,Gx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gx.DEFAULT=new Gx(41943040,Gx.DEFAULT_COLLECTION_PERCENTILE,Gx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gx.DISABLED=new Gx(-1,0,0);class Yx{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Dn={}}static ct(e,t,n,r){Vy(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Yx(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Jx(e).J({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Zx(e),o=Jx(e);return o.add({}).next((s=>{Vy("number"==typeof s);const a=new $S(s,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>UI(e.ut,t))),i=n.mutations.map((t=>UI(e.ut,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),c=[];let u=new Ib(((e,t)=>nw(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Gw(this.userId,e.key.path,s);u=u.add(e.key.path.popLast()),c.push(o.put(l)),c.push(i.put(t,Qw))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Dn[s]=a.keys()})),xw.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return Jx(e).get(t).next((e=>e?(Vy(e.userId===this.userId),ox(this.serializer,e)):null))}Cn(e,t){return this.Dn[t]?xw.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Dn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Jx(e).J({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Vy(t.batchId>=n),i=ox(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Jx(e).J({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Jx(e).U("userMutationsIndex",t).next((e=>e.map((e=>ox(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Kw(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Zx(e).J({range:r},((n,r,o)=>{const[s,a,l]=n,c=Ww(a);if(s===this.userId&&t.path.isEqual(c))return Jx(e).get(l).next((e=>{if(!e)throw zy();Vy(e.userId===this.userId),i.push(ox(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ib(nw);const r=[];return t.forEach((t=>{const i=Kw(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=Zx(e).J({range:o},((e,r,i)=>{const[o,s,a]=e,l=Ww(s);o===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(s)})),xw.waitFor(r).next((()=>this.vn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Kw(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new Ib(nw);return Zx(e).J({range:o},((e,t,i)=>{const[o,a,l]=e,c=Ww(a);o===this.userId&&n.isPrefixOf(c)?c.length===r&&(s=s.add(l)):i.done()})).next((()=>this.vn(e,s)))}vn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Jx(e).get(t).next((e=>{if(null===e)throw zy();Vy(e.userId===this.userId),n.push(ox(this.serializer,e))})))})),xw.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Qx(e._e,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Fn(t.batchId)})),xw.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return xw.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return Zx(e).J({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Ww(e[1]);r.push(t)}else n.done()})).next((()=>{Vy(0===r.length)}))}))}containsKey(e,t){return Xx(e,this.userId,t)}Mn(e){return ek(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Xx(e,t,n){const r=Kw(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Zx(e).J({range:o,H:!0},((e,n,r)=>{const[o,a,l]=e;o===t&&a===i&&(s=!0),r.done()})).next((()=>s))}function Jx(e){return gb(e,"mutations")}function Zx(e){return gb(e,"documentMutations")}function ek(e){return gb(e,"mutationQueues")}class tk{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new tk(0)}static Nn(){return new tk(-1)}}class nk{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Ln(e).next((t=>{const n=new tk(t.highestTargetId);return t.highestTargetId=n.next(),this.Bn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Ln(e).next((e=>sw.fromTimestamp(new ow(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Ln(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Ln(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Bn(e,r))))}addTargetData(e,t){return this.kn(e,t).next((()=>this.Ln(e).next((n=>(n.targetCount+=1,this.qn(t,n),this.Bn(e,n))))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>rk(e).delete(t.targetId))).next((()=>this.Ln(e))).next((t=>(Vy(t.targetCount>0),t.targetCount-=1,this.Bn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return rk(e).J(((o,s)=>{const a=sx(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>xw.waitFor(i))).next((()=>r))}forEachTarget(e,t){return rk(e).J(((e,n)=>{const r=sx(n);t(r)}))}Ln(e){return ik(e).get("targetGlobalKey").next((e=>(Vy(null!==e),e)))}Bn(e,t){return ik(e).put("targetGlobalKey",t)}kn(e,t){return rk(e).put(ax(this.serializer,t))}qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Ln(e).next((e=>e.targetCount))}getTargetData(e,t){const n=D_(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return rk(e).J({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=sx(n);L_(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=ok(e);return t.forEach((t=>{const o=Vw(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),xw.waitFor(r)}removeMatchingKeys(e,t,n){const r=ok(e);return xw.forEach(t,(t=>{const i=Vw(t.path);return xw.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=ok(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ok(e);let i=pS();return r.J({range:n,H:!0},((e,t,n)=>{const r=Ww(e[1]),o=new dw(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=Vw(t.path),r=IDBKeyRange.bound([n],[iw(n)],!1,!0);let i=0;return ok(e).J({index:"documentTargetsIndex",H:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}ot(e,t){return rk(e).get(t).next((e=>e?sx(e):null))}}function rk(e){return gb(e,"targets")}function ik(e){return gb(e,"targetGlobal")}function ok(e){return gb(e,"targetDocuments")}function sk(e,t){let[n,r]=e,[i,o]=t;const s=nw(n,i);return 0===s?nw(r,o):s}class ak{constructor(e){this.Qn=e,this.buffer=new Ib(sk),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();sk(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lk{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){My("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Nw(e)?My("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Iw(e)}await this.Gn(3e5)}))}}class ck{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return xw.resolve(Fw.oe);const n=new ak(t);return this.zn.forEachTarget(e,(e=>n.Un(e.sequenceNumber))).next((()=>this.zn.Hn(e,(e=>n.Un(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(My("LruGarbageCollector","Garbage collection skipped; disabled"),xw.resolve(Kx)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(My("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Kx):this.Jn(e,t)))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let n,r,i,o,s,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(My("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Ly()<=er.DEBUG&&My("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),xw.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function uk(e,t){return new ck(e,t)}class dk{constructor(e,t){this.db=e,this.garbageCollector=uk(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Yn(e){let t=0;return this.Hn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,((e,n)=>t(n)))}addReference(e,t,n){return hk(e,n)}removeReference(e,t,n){return hk(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return hk(e,t)}Xn(e,t){return function(e,t){let n=!1;return ek(e).Y((r=>Xx(e,r,t).next((e=>(e&&(n=!0),xw.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Zn(e,((o,s)=>{if(s<=t){const t=this.Xn(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,sw.min()),ok(e).delete(function(e){return[0,Vw(e.path)]}(o)))))}));r.push(t)}})).next((()=>xw.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return hk(e,t)}Zn(e,t){const n=ok(e);let r,i=Fw.oe;return n.J({index:"documentTargetsIndex"},((e,n)=>{let[o,s]=e,{path:a,sequenceNumber:l}=n;0===o?(i!==Fw.oe&&t(new dw(Ww(r)),i),i=l,r=a):i=Fw.oe})).next((()=>{i!==Fw.oe&&t(new dw(Ww(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function hk(e,t){return ok(e).put(function(e,t){return{targetId:0,path:Vw(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class fk{constructor(){this.changes=new rS((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,a_.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?xw.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class pk{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return yk(e).put(n)}removeEntry(e,t,n){return yk(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],nx(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.er(e,n))))}getEntry(e,t){let n=a_.newInvalidDocument(t);return yk(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(wk(t))},((e,r)=>{n=this.tr(t,r)})).next((()=>n))}nr(e,t){let n={size:0,document:a_.newInvalidDocument(t)};return yk(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(wk(t))},((e,r)=>{n={document:this.tr(t,r),size:$x(r)}})).next((()=>n))}getEntries(e,t){let n=oS();return this.rr(e,t,((e,t)=>{const r=this.tr(e,t);n=n.insert(e,r)})).next((()=>n))}ir(e,t){let n=oS(),r=new bb(dw.comparator);return this.rr(e,t,((e,t)=>{const i=this.tr(e,t);n=n.insert(e,i),r=r.insert(e,$x(t))})).next((()=>({documents:n,sr:r})))}rr(e,t,n){if(t.isEmpty())return xw.resolve();let r=new Ib(_k);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(wk(r.first()),wk(r.last())),o=r.getIterator();let s=o.getNext();return yk(e).J({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=dw.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&_k(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.$(wk(s)):r.done()})).next((()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),nx(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return yk(e).U(IDBKeyRange.bound(s,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=oS();for(const i of e){const e=this.tr(dw.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Z_(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=oS();const o=bk(t,n),s=bk(t,ww.max());return yk(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},((e,t,n)=>{const o=this.tr(dw.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new gk(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return vk(e).get("remoteDocumentGlobalKey").next((e=>(Vy(!!e),e)))}er(e,t){return vk(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=jI(e.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=dw.fromSegments(t.noDocument.path),r=ix(t.noDocument.readTime);n=a_.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return zy();{const e=dw.fromSegments(t.unknownDocument.path),r=ix(t.unknownDocument.version);n=a_.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new ow(e[0],e[1]);return sw.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(sw.min()))return e}return a_.newInvalidDocument(e)}}function mk(e){return new pk(e)}class gk extends fk{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new rS((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Ib(((e,t)=>nw(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.ar.get(i);if(t.push(this._r.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=tx(this._r.serializer,o);r=r.add(i.path.popLast());const l=$x(a);n+=l-s.size,t.push(this._r.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=tx(this._r.serializer,o.convertToNoDocument(sw.min()));t.push(this._r.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,n))})),t.push(this._r.updateMetadata(e,n)),xw.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next((e=>(this.ar.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this._r.ir(e,t).next((e=>{let{documents:t,sr:n}=e;return n.forEach(((e,n)=>{this.ar.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function vk(e){return gb(e,"remoteDocumentGlobal")}function yk(e){return gb(e,"remoteDocumentsV14")}function wk(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function bk(e,t){const n=t.documentKey.path.toArray();return[e,nx(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function _k(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=nw(n[o],r[o]),i)return i;return i=nw(n.length,r.length),i||(i=nw(n[n.length-2],r[r.length-2]),i||nw(n[n.length-1],r[r.length-1]))}class Sk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ik{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&US(n.mutation,e,Eb.empty(),ow.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,pS()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pS();const r=cS();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=aS();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=cS();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,pS())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=oS();const o=dS(),s=dS();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof qS)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),US(s.mutation,t,s.mutation.getFieldMask(),ow.now())):o.set(t.key,Eb.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new Sk(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=dS();let r=new bb(((e,t)=>e-t)),i=pS();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Eb.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||pS()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=uS();l.forEach((e=>{if(!i.has(e)){const r=FS(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return xw.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return dw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):W_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):xw.resolve(cS());let s=-1,a=i;return o.next((t=>xw.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?xw.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,pS()))).next((e=>({batchId:s,changes:lS(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new dw(t)).next((e=>{let t=aS();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=aS();return this.indexManager.getCollectionParents(e,i).next((s=>xw.forEach(s,(s=>{const a=function(e,t){return new z_(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,a_.newInvalidDocument(r)))}));let n=aS();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&US(o.mutation,r,Eb.empty(),ow.now()),Z_(t,r)&&(n=n.insert(e,r))})),n}))}}class xk{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return xw.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:TI(e.createTime)}}(t)),xw.resolve()}getNamedQuery(e,t){return xw.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:lx(e.bundledQuery),readTime:TI(e.readTime)}}(t)),xw.resolve()}}class kk{constructor(){this.overlays=new bb(dw.comparator),this.lr=new Map}getOverlay(e,t){return xw.resolve(this.overlays.get(t))}getOverlays(e,t){const n=cS();return xw.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.lt(e,t,r)})),xw.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.lr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.lr.delete(n)),xw.resolve()}getOverlaysForCollection(e,t,n){const r=cS(),i=t.length+1,o=new dw(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return xw.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new bb(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=cS(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=cS(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return xw.resolve(s)}lt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new XS(t,n));let i=this.lr.get(t);void 0===i&&(i=pS(),this.lr.set(t,i)),this.lr.set(t,i.add(n.key))}}class Ek{constructor(){this.hr=new Ib(Tk.Pr),this.Ir=new Ib(Tk.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const n=new Tk(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.dr(new Tk(e,t))}Ar(e,t){e.forEach((e=>this.removeReference(e,t)))}Rr(e){const t=new dw(new lw([])),n=new Tk(t,e),r=new Tk(t,e+1),i=[];return this.Ir.forEachInRange([n,r],(e=>{this.dr(e),i.push(e.key)})),i}Vr(){this.hr.forEach((e=>this.dr(e)))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new dw(new lw([])),n=new Tk(t,e),r=new Tk(t,e+1);let i=pS();return this.Ir.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Tk(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Tk{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return dw.comparator(e.key,t.key)||nw(e.gr,t.gr)}static Tr(e,t){return nw(e.gr,t.gr)||dw.comparator(e.key,t.key)}}class Ck{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Ib(Tk.Pr)}checkEmpty(e){return xw.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new $S(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.yr=this.yr.add(new Tk(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return xw.resolve(o)}lookupMutationBatch(e,t){return xw.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Sr(n),i=r<0?0:r;return xw.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return xw.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return xw.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Tk(t,0),r=new Tk(t,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([n,r],(e=>{const t=this.wr(e.gr);i.push(t)})),xw.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ib(nw);return t.forEach((e=>{const t=new Tk(e,0),r=new Tk(e,Number.POSITIVE_INFINITY);this.yr.forEachInRange([t,r],(e=>{n=n.add(e.gr)}))})),xw.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;dw.isDocumentKey(i)||(i=i.child(""));const o=new Tk(new dw(i),0);let s=new Ib(nw);return this.yr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.gr)),!0)}),o),xw.resolve(this.br(s))}br(e){const t=[];return e.forEach((e=>{const n=this.wr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Vy(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.yr;return xw.forEach(t.mutations,(r=>{const i=new Tk(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.yr=n}))}Fn(e){}containsKey(e,t){const n=new Tk(t,0),r=this.yr.firstAfterOrEqual(n);return xw.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,xw.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ak{constructor(e){this.Cr=e,this.docs=new bb(dw.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return xw.resolve(n?n.document.mutableCopy():a_.newInvalidDocument(t))}getEntries(e,t){let n=oS();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():a_.newInvalidDocument(e))})),xw.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=oS();const o=t.path,s=new dw(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||bw(yw(s),n)<=0||(r.has(s.key)||Z_(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return xw.resolve(i)}getAllFromCollectionGroup(e,t,n,r){zy()}vr(e,t){return xw.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Nk(this)}getSize(e){return xw.resolve(this.size)}}class Nk extends fk{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(n)})),xw.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class Rk{constructor(e){this.persistence=e,this.Fr=new rS((e=>D_(e)),L_),this.lastRemoteSnapshotVersion=sw.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Ek,this.targetCount=0,this.Nr=tk.On()}forEachTarget(e,t){return this.Fr.forEach(((e,n)=>t(n))),xw.resolve()}getLastRemoteSnapshotVersion(e){return xw.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xw.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),xw.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),xw.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new tk(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,xw.resolve()}updateTargetData(e,t){return this.kn(t),xw.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,xw.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Fr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),xw.waitFor(i).next((()=>r))}getTargetCount(e){return xw.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fr.get(t)||null;return xw.resolve(n)}addMatchingKeys(e,t,n){return this.Or.Er(t,n),xw.resolve()}removeMatchingKeys(e,t,n){this.Or.Ar(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),xw.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),xw.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Or.mr(t);return xw.resolve(n)}containsKey(e,t){return xw.resolve(this.Or.containsKey(t))}}class Pk{constructor(e,t){this.Lr={},this.overlays={},this.Br=new Fw(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Rk(this),this.indexManager=new Fx,this.remoteDocumentCache=function(e){return new Ak(e)}((e=>this.referenceDelegate.Qr(e))),this.serializer=new ex(t),this.Kr=new xk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new Ck(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,n){My("MemoryPersistence","Starting transaction:",e);const r=new Ok(this.Br.next());return this.referenceDelegate.$r(),n(r).next((e=>this.referenceDelegate.Ur(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Wr(e,t){return xw.or(Object.values(this.Lr).map((n=>()=>n.containsKey(e,t))))}}class Ok extends Sw{constructor(e){super(),this.currentSequenceNumber=e}}class Dk{constructor(e){this.persistence=e,this.Gr=new Ek,this.zr=null}static jr(e){return new Dk(e)}get Hr(){if(this.zr)return this.zr;throw zy()}addReference(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),xw.resolve()}removeReference(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),xw.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),xw.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach((e=>this.Hr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Hr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xw.forEach(this.Hr,(n=>{const r=dw.fromPath(n);return this.Jr(e,r).next((e=>{e||t.removeEntry(r,sw.min())}))})).next((()=>(this.zr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Jr(e,t).next((e=>{e?this.Hr.delete(t.toString()):this.Hr.add(t.toString())}))}Qr(e){return 0}Jr(e,t){return xw.or([()=>xw.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class Lk{constructor(e){this.serializer=e}O(e,t,n,r){const i=new kw("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hw,{unique:!0}),e.createObjectStore("documentMutations")}(e),Mk(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=xw.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Mk(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:sw.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").U().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hw,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return xw.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Zr(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(i))))),n<7&&r>=7&&(o=o.next((()=>this.ei(i)))),n<8&&r>=8&&(o=o.next((()=>this.ti(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.ni(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:sb});t.createIndex("collectionPathOverlayIndex",ab,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",lb,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:$w});t.createIndex("documentKeyIndex",Yw),t.createIndex("collectionGroupIndex",Xw)}(e))).next((()=>this.ri(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.ii(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:nb}).createIndex("sequenceNumberIndex",rb,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:ib}).createIndex("documentKeyIndex",ob,{unique:!1})}(e)))),n<16&&r>=16&&(o=o.next((()=>{t.objectStore("indexState").clear()})).next((()=>{t.objectStore("indexEntries").clear()}))),o}Xr(e){let t=0;return e.store("remoteDocuments").J(((e,n)=>{t+=$x(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Zr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.U().next((t=>xw.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",r).next((n=>xw.forEach(n,(n=>{Vy(n.userId===t.userId);const r=ox(this.serializer,n);return Qx(e,t.userId,r).next((()=>{}))}))))}))))}ei(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.J(((n,i)=>{const o=new lw(n),s=function(e){return[0,Vw(e)]}(o);r.push(t.get(s).next((n=>n?xw.resolve():(n=>t.put({targetId:0,path:Vw(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>xw.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:tb});const n=t.store("collectionParents"),r=new jx,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Vw(r)})}};return t.store("remoteDocuments").J({H:!0},((e,t)=>{const n=new lw(e);return i(n.popLast())})).next((()=>t.store("documentMutations").J({H:!0},((e,t)=>{let[n,r,o]=e;const s=Ww(r);return i(s.popLast())}))))}ni(e){const t=e.store("targets");return t.J(((e,n)=>{const r=sx(n),i=ax(this.serializer,r);return t.put(i)}))}ri(e,t){const n=t.store("remoteDocuments"),r=[];return n.J(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=function(e){return e.document?new dw(lw.fromString(e.document.name).popFirst(5)):e.noDocument?dw.fromSegments(e.noDocument.path):e.unknownDocument?dw.fromSegments(e.unknownDocument.path):zy()}(n).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(s))})).next((()=>xw.waitFor(r)))}ii(e,t){const n=t.store("mutations"),r=mk(this.serializer),i=new Pk(Dk.jr,this.serializer.ut);return n.U().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:pS();ox(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),xw.forEach(n,((e,n)=>{const o=new Py(n),s=mx.ct(this.serializer,o),a=i.getIndexManager(o),l=Yx.ct(o,this.serializer,a,i.referenceDelegate);return new Ik(r,l,s,a).recalculateAndSaveOverlaysForDocumentKeys(new mb(t,Fw.oe),e).next()}))}))}}function Mk(e){e.createObjectStore("targetDocuments",{keyPath:Zw}).createIndex("documentTargetsIndex",eb,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Jw,{unique:!0}),e.createObjectStore("targetGlobal")}const Fk="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class jk{constructor(e,t,n,r,i,o,s,a,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:16;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.si=i,this.window=o,this.document=s,this.oi=l,this._i=c,this.ai=u,this.Br=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=e=>Promise.resolve(),!jk.D())throw new Wy(qy.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new dk(this,r),this.Ii=t+"main",this.serializer=new ex(a),this.Ti=new Ew(this.Ii,this.ai,new Lk(this.serializer)),this.qr=new nk(this.referenceDelegate,this.serializer),this.remoteDocumentCache=mk(this.serializer),this.Kr=new hx,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===c&&Fy("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Wy(qy.FAILED_PRECONDITION,Fk);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.qr.getHighestSequenceNumber(e)))})).then((e=>{this.Br=new Fw(e,this.oi)})).then((()=>{this.kr=!0})).catch((e=>(this.Ti&&this.Ti.close(),Promise.reject(e))))}mi(e){return this.Pi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((async()=>{this.started&&await this.di()})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>zk(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.fi(e).next((e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))))}))})).next((()=>this.gi(e))).next((t=>this.isPrimary&&!t?this.pi(e).next((()=>!1)):!!t&&this.yi(e).next((()=>!0)))))).catch((e=>{if(Nw(e))return My("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return My("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.si.enqueueRetryable((()=>this.Pi(e))),this.isPrimary=e}))}fi(e){return Uk(e).get("owner").next((e=>xw.resolve(this.wi(e))))}Si(e){return zk(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=gb(e,"clientMetadata");return t.U().next((e=>{const n=this.Ci(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return xw.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Ei)for(const t of e)this.Ei.removeItem(this.vi(t.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.di().then((()=>this.bi())).then((()=>this.Vi()))))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?xw.resolve(!0):Uk(e).get("owner").next((t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new Wy(qy.FAILED_PRECONDITION,Fk);return!1}}return!(!this.networkEnabled||!this.inForeground)||zk(e).U().next((e=>void 0===this.Ci(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&My("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new mb(e,Fw.oe);return this.pi(t).next((()=>this.Si(t)))})),this.Ti.close(),this.Ni()}Ci(e,t){return e.filter((e=>this.Di(e.updateTimeMs,t)&&!this.Fi(e.clientId)))}Li(){return this.runTransaction("getActiveClients","readonly",(e=>zk(e).U().next((e=>this.Ci(e,18e5).map((e=>e.clientId))))))}get started(){return this.kr}getMutationQueue(e,t){return Yx.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new zx(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return mx.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,n){My("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 16===e?pb:15===e?fb:14===e?hb:13===e?db:12===e?ub:11===e?cb:void zy()}(this.ai);let o;return this.Ti.runTransaction(e,r,i,(r=>(o=new mb(r,this.Br?this.Br.next():Fw.oe),"readwrite-primary"===t?this.fi(o).next((e=>!!e||this.gi(o))).next((t=>{if(!t)throw Fy("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))),new Wy(qy.FAILED_PRECONDITION,_w);return n(o)})).next((e=>this.yi(o).next((()=>e)))):this.Bi(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}Bi(e){return Uk(e).get("owner").next((e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)&&!this.wi(e)&&!(this._i||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Wy(qy.FAILED_PRECONDITION,Fk)}))}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Uk(e).put("owner",t)}static D(){return Ew.D()}pi(e){const t=Uk(e);return t.get("owner").next((e=>this.wi(e)?(My("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):xw.resolve()))}Di(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Fy("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.di())))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const e=/(?:Version|Mobile)\/1[456]/;En()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const n=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return My("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Fy("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Fy("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch(e){}}vi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Uk(e){return gb(e,"owner")}function zk(e){return gb(e,"clientMetadata")}function Vk(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Bk{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ki=n,this.qi=r}static Qi(e,t){let n=pS(),r=pS();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Bk(e,t.fromCache,n,r)}}class qk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Wk{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=En()?8:Tw(wn())>0?6:4}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.zi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ji(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new qk;return this.Hi(e,t,n).next((r=>{if(i.result=r,this.$i)return this.Ji(e,t,n,r.size)}))})).next((()=>i.result))}Ji(e,t,n,r){return n.documentReadCount<this.Ui?(Ly()<=er.DEBUG&&My("QueryEngine","SDK will not create cache indexes for query:",J_(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),xw.resolve()):(Ly()<=er.DEBUG&&My("QueryEngine","Query:",J_(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(Ly()<=er.DEBUG&&My("QueryEngine","The SDK decides to create cache indexes for query:",J_(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,K_(t))):xw.resolve())}zi(e,t){if(q_(t))return xw.resolve(null);let n=K_(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=$_(t,null,"F"),n=K_(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=pS(...r);return this.Gi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Yi(t,r);return this.Zi(t,o,i,n.readTime)?this.zi(e,$_(t,null,"F")):this.Xi(e,o,t,n)}))))})))))}ji(e,t,n,r){return q_(t)||r.isEqual(sw.min())?xw.resolve(null):this.Gi.getDocuments(e,n).next((i=>{const o=this.Yi(t,i);return this.Zi(t,o,n,r)?xw.resolve(null):(Ly()<=er.DEBUG&&My("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),J_(t)),this.Xi(e,o,t,vw(r,-1)).next((e=>e)))}))}Yi(e,t){let n=new Ib(tS(e));return t.forEach(((t,r)=>{Z_(e,r)&&(n=n.add(r))})),n}Zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Hi(e,t,n){return Ly()<=er.DEBUG&&My("QueryEngine","Using full collection scan to execute query:",J_(t)),this.Gi.getDocumentsMatchingQuery(e,t,ww.min(),n)}Xi(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Hk{constructor(e,t,n,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new bb(nw),this.ns=new rS((e=>D_(e)),L_),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(n)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ik(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ts)))}}function Kk(e,t,n,r){return new Hk(e,t,n,r)}async function Gk(e,t){const n=By(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=pS();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({_s:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function Qk(e){const t=By(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.qr.getLastRemoteSnapshotVersion(e)))}function $k(e,t,n){let r=pS(),i=pS();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=oS();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(sw.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):My("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{us:r,cs:i}}))}function Yk(e,t){const n=By(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Xk(e,t){const n=By(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.qr.getTargetData(e,t).next((i=>i?(r=i,xw.resolve(r)):n.qr.allocateTargetId(e).next((i=>(r=new ZI(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}async function Jk(e,t,n){const r=By(e),i=r.ts.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Nw(e))throw e;My("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function Zk(e,t,n){const r=By(e);let i=sw.min(),o=pS();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=By(e),i=r.ns.get(n);return void 0!==i?xw.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,K_(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.es.getDocumentsMatchingQuery(e,t,n?i:sw.min(),n?o:pS()))).next((e=>(nE(r,eS(t),e),{documents:e,ls:o})))))}function eE(e,t){const n=By(e),r=By(n.qr),i=n.ts.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.ot(e,t).next((e=>e?e.target:null))))}function tE(e,t){const n=By(e),r=n.rs.get(t)||sw.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.ss.getAllFromCollectionGroup(e,t,vw(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(nE(n,t,e),e)))}function nE(e,t,n){let r=e.rs.get(t)||sw.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}async function rE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pS();const r=await Xk(e,K_(lx(t.bundledQuery))),i=By(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=TI(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(e,t);const s=r.withResumeToken(Cb.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(s.targetId,s),i.qr.updateTargetData(e,s).next((()=>i.qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.Kr.saveNamedQuery(e,t)))}))}function iE(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function oE(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function sE(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class aE{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Ts(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new Wy(r.error.code,r.error.message))),o?new aE(e,t,r.state,i):(Fy("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class lE{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Ts(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Wy(n.error.code,n.error.message))),i?new lE(e,n.state,r):(Fy("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class cE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=gS();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=zw(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new cE(e,i):(Fy("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class uE{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new uE(t.clientId,t.onlineState):(Fy("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class dE{constructor(){this.activeTargetIds=gS()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hE{constructor(e,t,n,r,i){this.window=e,this.si=t,this.persistenceKey=n,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new bb(nw),this.started=!1,this.ps=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ys=iE(this.persistenceKey,this.Rs),this.ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new dE),this.Ss=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.bs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ds=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Cs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.vs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Li();for(const n of e){if(n===this.Rs)continue;const e=this.getItem(iE(this.persistenceKey,n));if(e){const t=cE.Ts(n,e);t&&(this.gs=this.gs.insert(t.clientId,t))}}this.Fs();const t=this.storage.getItem(this.Cs);if(t){const e=this.Ms(t);e&&this.xs(e)}for(const n of this.ps)this.fs(n);this.ps=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,n){this.Ns(e,t,n),this.Ls(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(sE(this.persistenceKey,e));if(n){const r=lE.Ts(e,n);r&&(t=r.state)}}return this.Bs.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Bs.As(e),this.Fs()}isLocalQueryTarget(e){return this.Bs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(sE(this.persistenceKey,e))}updateQueryState(e,t,n){this.ks(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Ls(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return My("SharedClientState","READ",e,t),t}setItem(e,t){My("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){My("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const t=e;if(t.storageArea===this.storage){if(My("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ys)return void Fy("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ss.test(t.key)){if(null==t.newValue){const e=this.Ks(t.key);return this.$s(e,null)}{const e=this.Us(t.key,t.newValue);if(e)return this.$s(e.clientId,e)}}else if(this.bs.test(t.key)){if(null!==t.newValue){const e=this.Ws(t.key,t.newValue);if(e)return this.Gs(e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.zs(t.key,t.newValue);if(e)return this.js(e)}}else if(t.key===this.Cs){if(null!==t.newValue){const e=this.Ms(t.newValue);if(e)return this.xs(e)}}else if(t.key===this.ws){const e=function(e){let t=Fw.oe;if(null!=e)try{const n=JSON.parse(e);Vy("number"==typeof n),t=n}catch(e){Fy("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Fw.oe&&this.sequenceNumberHandler(e)}else if(t.key===this.vs){const e=this.Hs(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Js(e))))}}else this.ps.push(t)}))}}get Bs(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Bs.Es())}Ns(e,t,n){const r=new aE(this.currentUser,e,t,n),i=oE(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Es())}Ls(e){const t=oE(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){const t={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(t))}ks(e,t,n){const r=sE(this.persistenceKey,e),i=new lE(e,t,n);this.setItem(r,i.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const n=this.Ks(e);return cE.Ts(n,t)}Ws(e,t){const n=this.bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return aE.Ts(new Py(i),r,t)}zs(e,t){const n=this.Ds.exec(e),r=Number(n[1]);return lE.Ts(r,t)}Ms(e){return uE.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);My("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const n=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),i=this.Os(n),o=[],s=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||s.push(e)})),this.syncEngine.Xs(o,s).then((()=>{this.gs=n}))}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=gS();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class fE{constructor(){this.eo=new dE,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,n){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new dE,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pE{ro(e){}shutdown(){}}class mE{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){My("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){My("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let gE=null;function vE(){return null===gE?gE=268435456+Math.round(2147483648*Math.random()):gE++,"0x"+gE.toString(16)}const yE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wE{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}}const bE="WebChannelConnection";class _E extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.yo=t+"://"+e.host,this.wo="projects/".concat(n,"/databases/").concat(r),this.So="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get bo(){return!1}Do(e,t,n,r,i){const o=vE(),s=this.Co(e,t.toUriEncodedString());My("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(a,r,i),this.Fo(e,s,a,n).then((t=>(My("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw jy("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}Mo(e,t,n,r,i,o){return this.Do(e,t,n,r,i)}vo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Oy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}Co(e,t){const n=yE[e];return"".concat(this.yo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,t,n,r){const i=vE();return new Promise(((o,s)=>{const a=new Cy;a.setWithCredentials(!0),a.listenOnce(Iy.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Sy.NO_ERROR:const t=a.getResponseJson();My(bE,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case Sy.TIMEOUT:My(bE,"RPC '".concat(e,"' ").concat(i," timed out")),s(new Wy(qy.DEADLINE_EXCEEDED,"Request time out"));break;case Sy.HTTP_ERROR:const n=a.getStatus();if(My(bE,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(qy).indexOf(t)>=0?t:qy.UNKNOWN}(t.status);s(new Wy(e,t.message))}else s(new Wy(qy.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Wy(qy.UNAVAILABLE,"Connection failed."));break;default:zy()}}finally{My(bE,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);My(bE,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}xo(e,t,n){const r=vE(),i=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=by(),s=_y(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new Ey({})),this.vo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");My(bE,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=o.createWebChannel(c,a);let d=!1,h=!1;const f=new wE({co:t=>{h?My(bE,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(My(bE,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),My(bE,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},lo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Ty.EventType.OPEN,(()=>{h||(My(bE,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.Vo())})),p(u,Ty.EventType.CLOSE,(()=>{h||(h=!0,My(bE,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.fo())})),p(u,Ty.EventType.ERROR,(t=>{h||(h=!0,jy(bE,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.fo(new Wy(qy.UNAVAILABLE,"The operation could not be completed")))})),p(u,Ty.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];Vy(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){My(bE,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=ZS[e];if(void 0!==t)return nI(t)}(t),i=s.message;void 0===n&&(n=qy.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.fo(new Wy(n,i)),u.close()}else My(bE,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.po(i)}})),p(s,xy.STAT_EVENT,(t=>{t.stat===ky.PROXY?My(bE,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===ky.NOPROXY&&My(bE,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.mo()}),0),f}}function SE(){return"undefined"!=typeof window?window:null}function IE(){return"undefined"!=typeof document?document:null}function xE(e){return new SI(e,!0)}class kE{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.si=e,this.timerId=t,this.Oo=n,this.No=r,this.Lo=i,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();const t=Math.floor(this.Bo+this.$o()),n=Math.max(0,Date.now()-this.qo),r=Math.max(0,t-n);r>0&&My("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Bo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.ko=this.si.enqueueAfterDelay(this.timerId,r,(()=>(this.qo=Date.now(),e()))),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){null!==this.ko&&(this.ko.skipDelay(),this.ko=null)}cancel(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}class EE{constructor(e,t,n,r,i,o,s,a){this.si=e,this.Wo=n,this.Go=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new kE(e,t)}Yo(){return 1===this.state||5===this.state||this.Zo()}Zo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Xo()}async stop(){this.Yo()&&await this.close(0)}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&null===this.jo&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,(()=>this.n_())))}r_(e){this.i_(),this.stream.send(e)}async n_(){if(this.Zo())return this.close(0)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}async close(e,t){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,4!==e?this.Jo.reset():t&&t.code===qy.RESOURCE_EXHAUSTED?(Fy(t.toString()),Fy("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):t&&t.code===qy.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(t)}o_(){}auth(){this.state=1;const e=this.__(this.zo),t=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.zo===t&&this.a_(n,r)}),(t=>{e((()=>{const e=new Wy(qy.UNKNOWN,"Fetching auth token failed: "+t.message);return this.u_(e)}))}))}a_(e,t){const n=this.__(this.zo);this.stream=this.c_(e,t),this.stream.ho((()=>{n((()=>this.listener.ho()))})),this.stream.Io((()=>{n((()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,(()=>(this.Zo()&&(this.state=3),Promise.resolve()))),this.listener.Io())))})),this.stream.Eo((e=>{n((()=>this.u_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Xo(){this.state=5,this.Jo.Ko((async()=>{this.state=0,this.start()}))}u_(e){return My("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}__(e){return t=>{this.si.enqueueAndForget((()=>this.zo===e?t():(My("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class TE extends EE{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}c_(e,t){return this.connection.xo("Listen",e,t)}onMessage(e){this.Jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:zy()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Vy(void 0===t||"string"==typeof t),Cb.fromBase64String(t||"")):(Vy(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Cb.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?qy.UNKNOWN:nI(e.code);return new Wy(t,e.message||"")}(s);n=new pI(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=PI(e,r.document.name),o=TI(r.document.updateTime),s=r.document.createTime?TI(r.document.createTime):sw.min(),a=new o_({mapValue:{fields:r.document.fields}}),l=a_.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new hI(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=PI(e,r.document),o=r.readTime?TI(r.readTime):sw.min(),s=a_.newNoDocument(i,o),a=r.removedTargetIds||[];n=new hI([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=PI(e,r.document),o=r.removedTargetIds||[];n=new hI([],o,i,null)}else{if(!("filter"in t))return zy();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new JS(r,i),s=e.targetId;n=new fI(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return sw.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?sw.min():t.readTime?TI(t.readTime):sw.min()}(e);return this.listener.l_(t,n)}h_(e){const t={};t.database=LI(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=M_(r)?{documents:VI(e,r)}:{query:BI(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=kI(e,t.resumeToken);const r=II(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(sw.min())>0){n.readTime=xI(e,t.snapshotVersion.toTimestamp());const r=II(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return zy()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.r_(t)}P_(e){const t={};t.database=LI(this.serializer),t.removeTarget=e,this.r_(t)}}class CE extends EE{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,t){return this.connection.xo("Write",e,t)}onMessage(e){if(Vy(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();const t=function(e,t){return e&&e.length>0?(Vy(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?TI(e.updateTime):TI(t);return n.isEqual(sw.min())&&(n=TI(t)),new OS(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=TI(e.commitTime);return this.listener.d_(n,t)}return Vy(!e.writeResults||0===e.writeResults.length),this.I_=!0,this.listener.A_()}R_(){const e={};e.database=LI(this.serializer),this.r_(e)}E_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>UI(this.serializer,e)))};this.r_(t)}}class AE extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.V_=!1}m_(){if(this.V_)throw new Wy(qy.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,t,n,r){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.Do(e,AI(t,n),r,o,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===qy.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Wy(qy.UNKNOWN,e.toString())}))}Mo(e,t,n,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[s,a]=o;return this.connection.Mo(e,AI(t,n),r,s,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===qy.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Wy(qy.UNKNOWN,e.toString())}))}terminate(){this.V_=!0,this.connection.terminate()}}class NE{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve()))))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.y_?(Fy(t),this.y_=!1):My("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class RE{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=i,this.O_.ro((e=>{n.enqueueAndForget((async()=>{zE(this)&&(My("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=By(e);t.M_.add(4),await OE(t),t.N_.set("Unknown"),t.M_.delete(4),await PE(t)}(this))}))})),this.N_=new NE(n,r)}}async function PE(e){if(zE(e))for(const t of e.x_)await t(!0)}async function OE(e){for(const t of e.x_)await t(!1)}function DE(e,t){const n=By(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),UE(n)?jE(n):oT(n).Zo()&&ME(n,t))}function LE(e,t){const n=By(e),r=oT(n);n.F_.delete(t),r.Zo()&&FE(n,t),0===n.F_.size&&(r.Zo()?r.t_():zE(n)&&n.N_.set("Unknown"))}function ME(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(sw.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}oT(e).h_(t)}function FE(e,t){e.L_.xe(t),oT(e).P_(t)}function jE(e){e.L_=new gI({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),oT(e).start(),e.N_.w_()}function UE(e){return zE(e)&&!oT(e).Yo()&&e.F_.size>0}function zE(e){return 0===By(e).M_.size}function VE(e){e.L_=void 0}async function BE(e){e.N_.set("Online")}async function qE(e){e.F_.forEach(((t,n)=>{ME(e,t)}))}async function WE(e,t){VE(e),UE(e)?(e.N_.D_(t),jE(e)):e.N_.set("Unknown")}async function HE(e,t,n){if(e.N_.set("Online"),t instanceof pI&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.F_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.F_.delete(r),e.L_.removeTarget(r))}(e,t)}catch(n){My("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await KE(e,n)}else if(t instanceof hI?e.L_.Ke(t):t instanceof fI?e.L_.He(t):e.L_.We(t),!n.isEqual(sw.min()))try{const t=await Qk(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.L_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.F_.get(r);i&&e.F_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.F_.get(t);if(!r)return;e.F_.set(t,r.withResumeToken(Cb.EMPTY_BYTE_STRING,r.snapshotVersion)),FE(e,t);const i=new ZI(r.target,t,n,r.sequenceNumber);ME(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){My("RemoteStore","Failed to raise snapshot:",t),await KE(e,t)}}async function KE(e,t,n){if(!Nw(t))throw t;e.M_.add(1),await OE(e),e.N_.set("Offline"),n||(n=()=>Qk(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{My("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await PE(e)}))}function GE(e,t){return t().catch((n=>KE(e,n,t)))}async function QE(e){const t=By(e),n=sT(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;$E(t);)try{const e=await Yk(t.localStore,r);if(null===e){0===t.v_.length&&n.t_();break}r=e.batchId,YE(t,e)}catch(e){await KE(t,e)}XE(t)&&JE(t)}function $E(e){return zE(e)&&e.v_.length<10}function YE(e,t){e.v_.push(t);const n=sT(e);n.Zo()&&n.T_&&n.E_(t.mutations)}function XE(e){return zE(e)&&!sT(e).Yo()&&e.v_.length>0}function JE(e){sT(e).start()}async function ZE(e){sT(e).R_()}async function eT(e){const t=sT(e);for(const n of e.v_)t.E_(n.mutations)}async function tT(e,t,n){const r=e.v_.shift(),i=YS.from(r,t,n);await GE(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await QE(e)}async function nT(e,t){t&&sT(e).T_&&await async function(e,t){if(function(e){return tI(e)&&e!==qy.ABORTED}(t.code)){const n=e.v_.shift();sT(e).e_(),await GE(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await QE(e)}}(e,t),XE(e)&&JE(e)}async function rT(e,t){const n=By(e);n.asyncQueue.verifyOperationInProgress(),My("RemoteStore","RemoteStore received new credentials");const r=zE(n);n.M_.add(3),await OE(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await PE(n)}async function iT(e,t){const n=By(e);t?(n.M_.delete(2),await PE(n)):t||(n.M_.add(2),await OE(n),n.N_.set("Unknown"))}function oT(e){return e.B_||(e.B_=function(e,t,n){const r=By(e);return r.m_(),new TE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:BE.bind(null,e),Io:qE.bind(null,e),Eo:WE.bind(null,e),l_:HE.bind(null,e)}),e.x_.push((async t=>{t?(e.B_.e_(),UE(e)?jE(e):e.N_.set("Unknown")):(await e.B_.stop(),VE(e))}))),e.B_}function sT(e){return e.k_||(e.k_=function(e,t,n){const r=By(e);return r.m_(),new CE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:()=>Promise.resolve(),Io:ZE.bind(null,e),Eo:nT.bind(null,e),A_:eT.bind(null,e),d_:tT.bind(null,e)}),e.x_.push((async t=>{t?(e.k_.e_(),await QE(e)):(await e.k_.stop(),e.v_.length>0&&(My("RemoteStore","Stopping write stream with ".concat(e.v_.length," pending writes")),e.v_=[]))}))),e.k_}class aT{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Hy,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new aT(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Wy(qy.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lT(e,t){if(Fy("AsyncQueue","".concat(t,": ").concat(e)),Nw(e))return new Wy(qy.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class cT{constructor(e){this.comparator=e?(t,n)=>e(t,n)||dw.comparator(t.key,n.key):(e,t)=>dw.comparator(e.key,t.key),this.keyedMap=aS(),this.sortedSet=new bb(this.comparator)}static emptySet(e){return new cT(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof cT))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new cT;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class uT{constructor(){this.q_=new bb(dw.comparator)}track(e){const t=e.doc.key,n=this.q_.get(t);n?0!==e.type&&3===n.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==n.type?this.q_=this.q_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.q_=this.q_.remove(t):1===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):zy():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class dT{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new dT(e,t,cT.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Y_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class hT{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some((e=>e.G_()))}}class fT{constructor(){this.queries=new rS((e=>X_(e)),Y_),this.onlineState="Unknown",this.z_=new Set}}async function pT(e,t){const n=By(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.W_()&&t.G_()&&(r=2):(o=new hT,r=t.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(i,!0);break;case 1:o.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=lT(e,"Initialization of query '".concat(J_(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.U_.push(t),t.j_(n.onlineState),o.K_&&t.H_(o.K_)&&yT(n)}async function mT(e,t){const n=By(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.U_.indexOf(t);e>=0&&(o.U_.splice(e,1),0===o.U_.length?i=t.G_()?0:1:!o.W_()&&t.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function gT(e,t){const n=By(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.U_)e.H_(i)&&(r=!0);t.K_=i}}r&&yT(n)}function vT(e,t,n){const r=By(e),i=r.queries.get(t);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(t)}function yT(e){e.z_.forEach((e=>{e.next()}))}var wT,bT;(bT=wT||(wT={})).J_="default",bT.Cache="cache";class _T{constructor(e,t,n){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new dT(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache)return!0;if(!this.G_())return!0;const n="Offline"!==t;return(!this.options.ra||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){if(e.docChanges.length>0)return!0;const t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}na(e){e=dT.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==wT.Cache}}class ST{constructor(e,t){this.ia=e,this.byteLength=t}sa(){return"metadata"in this.ia}}class IT{constructor(e){this.serializer=e}hs(e){return PI(this.serializer,e)}Ps(e){return e.metadata.exists?jI(this.serializer,e.document,!1):a_.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return TI(e)}}class xT{constructor(e,t,n){this.oa=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=kT(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++t;const n=lw.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}aa(e){const t=new Map,n=new IT(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.hs(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||pS()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=By(e);let o=pS(),s=oS();for(const c of n){const e=t.hs(c.metadata.name);c.document&&(o=o.add(e));const n=t.Ps(c);n.setReadTime(t.Is(c.metadata.readTime)),s=s.insert(e,n)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),l=await Xk(i,function(e){return K_(B_(lw.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>$k(e,a,s).next((t=>(a.apply(e),t))).next((t=>i.qr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.qr.addMatchingKeys(e,o,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.us,t.cs))).next((()=>t.us))))))}(this.localStore,new IT(this.serializer),this.documents,this.oa.id),t=this.aa(this.documents);for(const n of this.queries)await rE(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,ua:this.collectionGroups,ca:e}}}function kT(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class ET{constructor(e){this.key=e}}class TT{constructor(e){this.key=e}}class CT{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=pS(),this.mutatedKeys=pS(),this.Ia=tS(e),this.Ta=new cT(this.Ia)}get Ea(){return this.la}da(e,t){const n=t?t.Aa:new uT,r=t?t.Ta:this.Ta;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Z_(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.Ra(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Ia(u,a)>0||l&&this.Ia(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ta:o,Aa:n,Zi:s,mutatedKeys:i}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zy()}};return n(e)-n(t)}(e.type,t.type)||this.Ia(e.doc,t.doc))),this.Va(n),r=null!=r&&r;const s=t&&!r?this.ma():[],a=0===this.Pa.size&&this.current&&!r?1:0,l=a!==this.ha;return this.ha=a,0!==o.length||l?{snapshot:new dT(this.query,e.Ta,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:s}:{fa:s}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new uT,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach((e=>this.la=this.la.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.la=this.la.delete(e))),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=pS(),this.Ta.forEach((e=>{this.ga(e.key)&&(this.Pa=this.Pa.add(e.key))}));const t=[];return e.forEach((e=>{this.Pa.has(e)||t.push(new TT(e))})),this.Pa.forEach((n=>{e.has(n)||t.push(new ET(n))})),t}pa(e){this.la=e.ls,this.Pa=pS();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return dT.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class AT{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class NT{constructor(e){this.key=e,this.wa=!1}}class RT{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new rS((e=>X_(e)),Y_),this.Da=new Map,this.Ca=new Set,this.va=new bb(dw.comparator),this.Fa=new Map,this.Ma=new Ek,this.xa={},this.Oa=new Map,this.Na=tk.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}async function PT(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=aC(e);let i;const o=r.ba.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await DT(r,t,n,!0),i}async function OT(e,t){const n=aC(e);await DT(n,t,!0,!1)}async function DT(e,t,n,r){const i=await Xk(e.localStore,K_(t)),o=i.targetId,s=n?e.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await LT(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&DE(e.remoteStore,i),a}async function LT(e,t,n,r,i){e.Ba=(t,n,r)=>async function(e,t,n,r){let i=t.view.da(n);i.Zi&&(i=await Zk(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.da(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return GT(e,t.targetId,a.fa),a.snapshot}(e,t,n,r);const o=await Zk(e.localStore,t,!0),s=new CT(t,o.ls),a=s.da(o.documents),l=dI.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);GT(e,n,c.fa);const u=new AT(t,n,s);return e.ba.set(t,u),e.Da.has(n)?e.Da.get(n).push(t):e.Da.set(n,[t]),c.snapshot}async function MT(e,t,n){const r=By(e),i=r.ba.get(t),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter((e=>!Y_(e,t)))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Jk(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&LE(r.remoteStore,i.targetId),HT(r,i.targetId)})).catch(Iw)):(HT(r,i.targetId),await Jk(r.localStore,i.targetId,!0))}async function FT(e,t){const n=By(e),r=n.ba.get(t),i=n.Da.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),LE(n.remoteStore,r.targetId))}async function jT(e,t){const n=By(e);try{const e=await function(e,t){const n=By(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.qr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.qr.addMatchingKeys(e,o.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(Cb.EMPTY_BYTE_STRING,sw.min()).withLastLimboFreeSnapshotVersion(sw.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&s.push(n.qr.updateTargetData(e,c))}));let a=oS(),l=pS();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push($k(e,o,t.documentUpdates).next((e=>{a=e.us,l=e.cs}))),!r.isEqual(sw.min())){const t=n.qr.getLastRemoteSnapshotVersion(e).next((t=>n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return xw.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Fa.get(t);r&&(Vy(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.wa=!0:e.modifiedDocuments.size>0?Vy(r.wa):e.removedDocuments.size>0&&(Vy(r.wa),r.wa=!1))})),await YT(n,e,t)}catch(e){await Iw(e)}}function UT(e,t,n){const r=By(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ba.forEach(((n,r)=>{const i=r.view.j_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=By(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.U_)i.j_(t)&&(r=!0)})),r&&yT(n)}(r.eventManager,t),e.length&&r.Sa.l_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function zT(e,t,n){const r=By(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fa.get(t),o=i&&i.key;if(o){let e=new bb(dw.comparator);e=e.insert(o,a_.newNoDocument(o,sw.min()));const n=pS().add(o),i=new uI(sw.min(),new Map,new bb(nw),e,n);await jT(r,i),r.va=r.va.remove(o),r.Fa.delete(t),$T(r)}else await Jk(r.localStore,t,!1).then((()=>HT(r,t,n))).catch(Iw)}async function VT(e,t){const n=By(e),r=t.batch.batchId;try{const e=await function(e,t){const n=By(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=xw.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Vy(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=pS();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);WT(n,r,null),qT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await YT(n,e)}catch(e){await Iw(e)}}async function BT(e,t,n){const r=By(e);try{const e=await function(e,t){const n=By(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Vy(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);WT(r,t,n),qT(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await YT(r,e)}catch(n){await Iw(n)}}function qT(e,t){(e.Oa.get(t)||[]).forEach((e=>{e.resolve()})),e.Oa.delete(t)}function WT(e,t,n){const r=By(e);let i=r.xa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.xa[r.currentUser.toKey()]=i}}function HT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Da.get(t))e.ba.delete(r),n&&e.Sa.ka(r,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Rr(t).forEach((t=>{e.Ma.containsKey(t)||KT(e,t)}))}function KT(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);null!==n&&(LE(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),$T(e))}function GT(e,t,n){for(const r of n)r instanceof ET?(e.Ma.addReference(r.key,t),QT(e,r)):r instanceof TT?(My("SyncEngine","Document no longer in limbo: "+r.key),e.Ma.removeReference(r.key,t),e.Ma.containsKey(r.key)||KT(e,r.key)):zy()}function QT(e,t){const n=t.key,r=n.path.canonicalString();e.va.get(n)||e.Ca.has(r)||(My("SyncEngine","New document in limbo: "+n),e.Ca.add(r),$T(e))}function $T(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new dw(lw.fromString(t)),r=e.Na.next();e.Fa.set(r,new NT(n)),e.va=e.va.insert(n,r),DE(e.remoteStore,new ZI(K_(B_(n.path)),r,"TargetPurposeLimboResolution",Fw.oe))}}async function YT(e,t,n){const r=By(e),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach(((e,a)=>{s.push(r.Ba(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Bk.Qi(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.Sa.l_(i),await async function(e,t){const n=By(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>xw.forEach(t,(t=>xw.forEach(t.ki,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>xw.forEach(t.qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Nw(e))throw e;My("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ts=n.ts.insert(e,i)}}}(r.localStore,o))}async function XT(e,t){const n=By(e);if(!n.currentUser.isEqual(t)){My("SyncEngine","User change. New user:",t.toKey());const e=await Gk(n.localStore,t);n.currentUser=t,function(e,t){e.Oa.forEach((e=>{e.forEach((e=>{e.reject(new Wy(qy.CANCELLED,t))}))})),e.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await YT(n,e._s)}}function JT(e,t){const n=By(e),r=n.Fa.get(t);if(r&&r.wa)return pS().add(r.key);{let e=pS();const r=n.Da.get(t);if(!r)return e;for(const t of r){const r=n.ba.get(t);e=e.unionWith(r.view.Ea)}return e}}async function ZT(e,t){const n=By(e),r=await Zk(n.localStore,t.query,!0),i=t.view.pa(r);return n.isPrimaryClient&&GT(n,t.targetId,i.fa),i}async function eC(e,t){const n=By(e);return tE(n.localStore,t).then((e=>YT(n,e)))}async function tC(e,t,n,r){const i=By(e),o=await function(e,t){const n=By(e),r=By(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Cn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):xw.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await QE(i.remoteStore):"acknowledged"===n||"rejected"===n?(WT(i,t,r||null),qT(i,t),function(e,t){By(By(e).mutationQueue).Fn(t)}(i.localStore,t)):zy(),await YT(i,o)):My("SyncEngine","Cannot apply mutation batch with id: "+t)}async function nC(e,t,n){const r=By(e),i=[],o=[];for(const s of t){let e;const t=r.Da.get(s);if(t&&0!==t.length){e=await Xk(r.localStore,K_(t[0]));for(const e of t){const t=r.ba.get(e),n=await ZT(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await eE(r.localStore,s);e=await Xk(r.localStore,t),await LT(r,rC(t),s,!1,e.resumeToken)}i.push(e)}return r.Sa.l_(o),i}function rC(e){return V_(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function iC(e){return function(e){return By(By(e).persistence).Li()}(By(e).localStore)}async function oC(e,t,n,r){const i=By(e);if(i.La)return void My("SyncEngine","Ignoring unexpected query state notification.");const o=i.Da.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await tE(i.localStore,eS(o[0])),r=uI.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Cb.EMPTY_BYTE_STRING);await YT(i,e,r);break}case"rejected":await Jk(i.localStore,t,!0),HT(i,t,r);break;default:zy()}}async function sC(e,t,n){const r=aC(e);if(r.La){for(const e of t){if(r.Da.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){My("SyncEngine","Adding an already active target "+e);continue}const t=await eE(r.localStore,e),n=await Xk(r.localStore,t);await LT(r,rC(t),n.targetId,!1,n.resumeToken),DE(r.remoteStore,n)}for(const e of n)r.Da.has(e)&&await Jk(r.localStore,e,!1).then((()=>{LE(r.remoteStore,e),HT(r,e)})).catch(Iw)}}function aC(e){const t=By(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=jT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=JT.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=zT.bind(null,t),t.Sa.l_=gT.bind(null,t.eventManager),t.Sa.ka=vT.bind(null,t.eventManager),t}function lC(e){const t=By(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=VT.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=BT.bind(null,t),t}class cC{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=xE(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Kk(this.persistence,new Wk,e.initialUser,this.serializer)}createPersistence(e){return new Pk(Dk.jr,this.serializer)}createSharedClientState(e){return new fE}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class uC extends cC{constructor(e,t,n){super(),this.Qa=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Qa.initialize(this,e),await lC(this.Qa.syncEngine),await QE(this.Qa.remoteStore),await this.persistence.mi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return Kk(this.persistence,new Wk,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new lk(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Mw(t,this.persistence);return new Lw(e.asyncQueue,n)}createPersistence(e){const t=Vk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Gx.withCacheSize(this.cacheSizeBytes):Gx.DEFAULT;return new jk(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,SE(),IE(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new fE}}class dC extends uC{constructor(e,t){super(e,t,!1),this.Qa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Qa.syncEngine;this.sharedClientState instanceof hE&&(this.sharedClientState.syncEngine={Ys:tC.bind(null,t),Zs:oC.bind(null,t),Xs:sC.bind(null,t),Li:iC.bind(null,t),Js:eC.bind(null,t)},await this.sharedClientState.start()),await this.persistence.mi((async e=>{await async function(e,t){const n=By(e);if(aC(n),lC(n),!0===t&&!0!==n.La){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await nC(n,e.toArray());n.La=!0,await iT(n.remoteStore,!0);for(const r of t)DE(n.remoteStore,r)}else if(!1===t&&!1!==n.La){const e=[];let t=Promise.resolve();n.Da.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(HT(n,i),Jk(n.localStore,i,!0)))),LE(n.remoteStore,i)})),await t,await nC(n,e),function(e){const t=By(e);t.Fa.forEach(((e,n)=>{LE(t.remoteStore,n)})),t.Ma.Vr(),t.Fa=new Map,t.va=new bb(dw.comparator)}(n),n.La=!1,await iT(n.remoteStore,!1)}}(this.Qa.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=SE();if(!hE.D(t))throw new Wy(qy.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Vk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new hE(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class hC{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>UT(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=XT.bind(null,this.syncEngine),await iT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new fT}createDatastore(e){const t=xE(e.databaseInfo.databaseId),n=function(e){return new _E(e)}(e.databaseInfo);return function(e,t,n,r){return new AE(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new RE(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>UT(this.syncEngine,e,0)),mE.D()?new mE:new pE)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new RT(e,t,n,r,i,o);return s&&(a.La=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=By(e);My("RemoteStore","RemoteStore shutting down."),t.M_.add(5),await OE(t),t.O_.shutdown(),t.N_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}function fC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class pC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Fy("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class mC{constructor(e,t){this.Ua=e,this.serializer=t,this.metadata=new Hy,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then((e=>{e&&e.sa()?this.metadata.resolve(e.ia.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ia))))}),(e=>this.metadata.reject(e)))}close(){return this.Ua.cancel()}async getMetadata(){return this.metadata.promise}async qa(){return await this.getMetadata(),this.Ga()}async Ga(){const e=await this.za();if(null===e)return null;const t=this.Wa.decode(e),n=Number(t);isNaN(n)&&this.ja("length string (".concat(t,") is not valid number"));const r=await this.Ha(n);return new ST(JSON.parse(r),e.length+n)}Ja(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async za(){for(;this.Ja()<0&&!await this.Ya(););if(0===this.buffer.length)return null;const e=this.Ja();e<0&&this.ja("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ha(e){for(;this.buffer.length<e;)await this.Ya()&&this.ja("Reached the end of bundle when more is expected.");const t=this.Wa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}ja(e){throw this.Ua.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ya(){const e=await this.Ua.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class gC{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Wy(qy.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=By(e),r={documents:t.map((e=>RI(n.serializer,e)))},i=await n.Mo("BatchGetDocuments",n.serializer.databaseId,lw.emptyPath(),r,t.length),o=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Vy(!!t.found),t.found.name,t.found.updateTime;const n=PI(e,t.found.name),r=TI(t.found.updateTime),i=t.found.createTime?TI(t.found.createTime):sw.min(),o=new o_({mapValue:{fields:t.found.fields}});return a_.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){Vy(!!t.missing),Vy(!!t.readTime);const n=PI(e,t.missing),r=TI(t.readTime);return a_.newNoDocument(n,r)}(e,t):zy()}(n.serializer,e);o.set(t.key.toString(),t)}));const s=[];return t.forEach((e=>{const t=o.get(e.toString());Vy(!!t),s.push(t)})),s}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new GS(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=dw.fromPath(t);this.mutations.push(new QS(n,this.precondition(n)))})),await async function(e,t){const n=By(e),r={writes:t.map((e=>UI(n.serializer,e)))};await n.Do("Commit",n.serializer.databaseId,lw.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw zy();t=sw.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Wy(qy.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(sw.min())?DS.exists(!1):DS.updateTime(t):DS.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(sw.min()))throw new Wy(qy.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return DS.updateTime(t)}return DS.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class vC{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Za=n.maxAttempts,this.Jo=new kE(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Jo.Ko((async()=>{const e=new gC(this.datastore),t=this.tu(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.nu(e)}))))})).catch((e=>{this.nu(e)}))}))}tu(e){try{const t=this.updateFunction(e);return!jw(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget((()=>(this.eu(),Promise.resolve())))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!tI(t)}return!1}}class yC{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Py.UNAUTHENTICATED,this.clientId=tw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{My("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(My("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Wy(qy.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hy;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=lT(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function wC(e,t){e.asyncQueue.verifyOperationInProgress(),My("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Gk(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function bC(e,t){e.asyncQueue.verifyOperationInProgress();const n=await SC(e);My("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>rT(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>rT(t.remoteStore,n))),e._onlineComponents=t}function _C(e){return"FirebaseError"===e.name?e.code===qy.FAILED_PRECONDITION||e.code===qy.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function SC(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){My("FirestoreClient","Using user provided OfflineComponentProvider");try{await wC(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!_C(n))throw n;jy("Error using user provided cache. Falling back to memory cache: "+n),await wC(e,new cC)}}else My("FirestoreClient","Using default OfflineComponentProvider"),await wC(e,new cC);return e._offlineComponents}async function IC(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(My("FirestoreClient","Using user provided OnlineComponentProvider"),await bC(e,e._uninitializedComponentsProvider._online)):(My("FirestoreClient","Using default OnlineComponentProvider"),await bC(e,new hC))),e._onlineComponents}function xC(e){return SC(e).then((e=>e.persistence))}function kC(e){return SC(e).then((e=>e.localStore))}function EC(e){return IC(e).then((e=>e.remoteStore))}function TC(e){return IC(e).then((e=>e.syncEngine))}function CC(e){return IC(e).then((e=>e.datastore))}async function AC(e){const t=await IC(e),n=t.eventManager;return n.onListen=PT.bind(null,t.syncEngine),n.onUnlisten=MT.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=OT.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=FT.bind(null,t.syncEngine),n}function NC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Hy;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new pC({next:o=>{t.enqueueAndForget((()=>mT(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new Wy(qy.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Wy(qy.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new _T(B_(n.path),o,{includeMetadataChanges:!0,ra:!0});return pT(e,s)}(await AC(e),e.asyncQueue,t,n,r))),r.promise}function RC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Hy;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new pC({next:n=>{t.enqueueAndForget((()=>mT(e,s))),n.fromCache&&"server"===r.source?i.reject(new Wy(qy.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new _T(n,o,{includeMetadataChanges:!0,ra:!0});return pT(e,s)}(await AC(e),e.asyncQueue,t,n,r))),r.promise}function PC(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?iI().encode(e):e,function(e,t){return new mC(e,t)}(function(e,t){if(e instanceof Uint8Array)return fC(e,t);if(e instanceof ArrayBuffer)return fC(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,xE(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=By(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=By(e),r=TI(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Kr.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(kT(r));const i=new xT(r,e.localStore,t.serializer);let o=await t.qa();for(;o;){const e=await i._a(o);e&&n._updateProgress(e),o=await t.qa()}const s=await i.complete();return await YT(e,s.ca,void 0),await function(e,t){const n=By(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Kr.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(s.progress),Promise.resolve(s.ua)}catch(e){return jy("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await TC(e),i,r)}))}function OC(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const DC=new Map;function LC(e,t,n){if(!n)throw new Wy(qy.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function MC(e,t,n,r){if(!0===t&&!0===r)throw new Wy(qy.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function FC(e){if(!dw.isDocumentKey(e))throw new Wy(qy.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function jC(e){if(dw.isDocumentKey(e))throw new Wy(qy.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function UC(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":zy()}function zC(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Wy(qy.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=UC(e);throw new Wy(qy.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function VC(e,t){if(t<=0)throw new Wy(qy.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class BC{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Wy(qy.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Wy(qy.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OC(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Wy(qy.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Wy(qy.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Wy(qy.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qC{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BC({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Wy(qy.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Wy(qy.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BC(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Gy;switch(e.type){case"firstParty":return new Xy(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Wy(qy.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=DC.get(e);t&&(My("ComponentProvider","Removing Datastore"),DC.delete(e),t.terminate())}(this),Promise.resolve()}}function WC(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=zC(e,qC))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&jy("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Py.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[un(JSON.stringify({alg:"none",type:"JWT"})),un(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Wy(qy.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Py(o)}e._authCredentials=new Qy(new Ky(t,n))}}class HC{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new HC(this.firestore,e,this._query)}}class KC{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new GC(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new KC(this.firestore,e,this._key)}}class GC extends HC{constructor(e,t,n){super(e,t,B_(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new KC(this.firestore,null,new dw(e))}withConverter(e){return new GC(this.firestore,e,this._path)}}function QC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Gn(e),LC("collection","path",t),e instanceof qC){const n=lw.fromString(t,...r);return jC(n),new GC(e,null,n)}{if(!(e instanceof KC||e instanceof GC))throw new Wy(qy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(lw.fromString(t,...r));return jC(n),new GC(e.firestore,null,n)}}function $C(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Gn(e),1===arguments.length&&(t=tw.newId()),LC("doc","path",t),e instanceof qC){const n=lw.fromString(t,...r);return FC(n),new KC(e,null,new dw(n))}{if(!(e instanceof KC||e instanceof GC))throw new Wy(qy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(lw.fromString(t,...r));return FC(n),new KC(e.firestore,e instanceof GC?e.converter:null,new dw(n))}}function YC(e,t){return e=Gn(e),t=Gn(t),(e instanceof KC||e instanceof GC)&&(t instanceof KC||t instanceof GC)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function XC(e,t){return e=Gn(e),t=Gn(t),e instanceof HC&&t instanceof HC&&e.firestore===t.firestore&&Y_(e._query,t._query)&&e.converter===t.converter}class JC{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new kE(this,"async_queue_retry"),this.hu=()=>{const e=IE();e&&My("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Jo.Uo()};const e=IE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=IE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise((()=>{}));const t=new Hy;return this.Iu((()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.su.push(e),this.Tu())))}async Tu(){if(0!==this.su.length){try{await this.su[0](),this.su.shift(),this.Jo.reset()}catch(e){if(!Nw(e))throw e;My("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Jo.Ko((()=>this.Tu()))}}Iu(e){const t=this.iu.then((()=>(this.uu=!0,e().catch((e=>{this.au=e,this.uu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Fy("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.uu=!1,e))))));return this.iu=t,t}enqueueAfterDelay(e,t,n){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const r=aT.createAndSchedule(this,e,t,n,(e=>this.Eu(e)));return this._u.push(r),r}Pu(){this.au&&zy()}verifyOperationInProgress(){}async du(){let e;do{e=this.iu,await e}while(e!==this.iu)}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then((()=>{this._u.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()}))}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}function ZC(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class eA{constructor(){this._progressObserver={},this._taskCompletionResolver=new Hy,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class tA extends qC{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new JC,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||rA(this),this._firestoreClient.terminate()}}function nA(e){return e._firestoreClient||rA(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function rA(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Mb(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,OC(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new yC(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function iA(e,t,n){const r=new Hy;return e.asyncQueue.enqueue((async()=>{try{await wC(e,n),await bC(e,t),r.resolve()}catch(e){const n=e;if(!_C(n))throw n;jy("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function oA(e){return function(e){const t=new Hy;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=By(e);zE(n.remoteStore)||My("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=By(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Oa.get(e)||[];r.push(t),n.Oa.set(e,r)}catch(e){const n=lT(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await TC(e),t))),t.promise}(nA(e=zC(e,tA)))}function sA(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await xC(e),n=await EC(e);return t.setNetworkEnabled(!0),function(e){const t=By(e);return t.M_.delete(0),PE(t)}(n)}))}(nA(e=zC(e,tA)))}function aA(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await xC(e),n=await EC(e);return t.setNetworkEnabled(!1),async function(e){const t=By(e);t.M_.add(0),await OE(t),t.N_.set("Offline")}(n)}))}(nA(e=zC(e,tA)))}function lA(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=By(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Kr.getNamedQuery(e,t)))}(await kC(e),t)))}(nA(e=zC(e,tA)),t).then((t=>t?new HC(e,null,t.query):null))}function cA(e){if(e._initialized||e._terminated)throw new Wy(qy.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class uA{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uA(Cb.fromBase64String(e))}catch(e){throw new Wy(qy.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new uA(Cb.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class dA{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Wy(qy.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new uw(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hA{constructor(e){this._methodName=e}}class fA{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Wy(qy.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Wy(qy.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nw(this._lat,e._lat)||nw(this._long,e._long)}}const pA=/^__.*__$/;class mA{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new qS(e,this.data,this.fieldMask,t,this.fieldTransforms):new BS(e,this.data,t,this.fieldTransforms)}}class gA{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new qS(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zy()}}class yA{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.mu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new yA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.wu(e),r}Su(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return jA(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(vA(this.fu)&&pA.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class wA{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||xE(e)}Fu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new yA({fu:e,methodName:t,vu:n,path:uw.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bA(e){const t=e._freezeSettings(),n=xE(e._databaseId);return new wA(e._databaseId,!!t.ignoreUndefinedProperties,n)}function _A(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Fu(o.merge||o.mergeFields?2:0,t,n,i);DA("Data must be an object, but it was:",s,r);const a=PA(r,s);let l,c;if(o.merge)l=new Eb(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=LA(t,r,n);if(!s.contains(i))throw new Wy(qy.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));UA(e,i)||e.push(i)}l=new Eb(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new mA(new o_(a),l,c)}class SA extends hA{_toFieldTransform(e){if(2!==e.fu)throw 1===e.fu?e.Du("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Du("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof SA}}function IA(e,t,n){return new yA({fu:3,vu:t.settings.vu,methodName:e._methodName,yu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class xA extends hA{_toFieldTransform(e){return new PS(e.path,new xS)}isEqual(e){return e instanceof xA}}class kA extends hA{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=IA(this,e,!0),n=this.Mu.map((e=>RA(e,t))),r=new kS(n);return new PS(e.path,r)}isEqual(e){return e instanceof kA&&Dn(this.Mu,e.Mu)}}class EA extends hA{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=IA(this,e,!0),n=this.Mu.map((e=>RA(e,t))),r=new TS(n);return new PS(e.path,r)}isEqual(e){return e instanceof EA&&Dn(this.Mu,e.Mu)}}class TA extends hA{constructor(e,t){super(e),this.xu=t}_toFieldTransform(e){const t=new AS(e.serializer,wS(e.serializer,this.xu));return new PS(e.path,t)}isEqual(e){return e instanceof TA&&this.xu===e.xu}}function CA(e,t,n,r){const i=e.Fu(1,t,n);DA("Data must be an object, but it was:",i,r);const o=[],s=o_.empty();yb(r,((e,r)=>{const a=FA(t,e,n);r=Gn(r);const l=i.Su(a);if(r instanceof SA)o.push(a);else{const e=RA(r,l);null!=e&&(o.push(a),s.set(a,e))}}));const a=new Eb(o);return new gA(s,a,i.fieldTransforms)}function AA(e,t,n,r,i,o){const s=e.Fu(1,t,n),a=[LA(t,r,n)],l=[i];if(o.length%2!=0)throw new Wy(qy.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<o.length;h+=2)a.push(LA(t,o[h])),l.push(o[h+1]);const c=[],u=o_.empty();for(let h=a.length-1;h>=0;--h)if(!UA(c,a[h])){const e=a[h];let t=l[h];t=Gn(t);const n=s.Su(e);if(t instanceof SA)c.push(e);else{const r=RA(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Eb(c);return new gA(u,d,s.fieldTransforms)}function NA(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return RA(n,e.Fu(r?4:3,t))}function RA(e,t){if(OA(e=Gn(e)))return DA("Unsupported field value:",t,e),PA(e,t);if(e instanceof hA)return function(e,t){if(!vA(t.fu))throw t.Du("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Du("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=RA(i,t.bu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Gn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return wS(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ow.fromDate(e);return{timestampValue:xI(t.serializer,n)}}if(e instanceof ow){const n=new ow(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:xI(t.serializer,n)}}if(e instanceof fA)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof uA)return{bytesValue:kI(t.serializer,e._byteString)};if(e instanceof KC){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Du("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:CI(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Du("Unsupported field value: ".concat(UC(e)))}(e,t)}function PA(e,t){const n={};return wb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):yb(e,((e,r)=>{const i=RA(r,t.pu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function OA(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ow||e instanceof fA||e instanceof uA||e instanceof KC||e instanceof hA)}function DA(e,t,n){if(!OA(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=UC(n);throw"an object"===r?t.Du(e+" a custom object"):t.Du(e+" "+r)}}function LA(e,t,n){if((t=Gn(t))instanceof dA)return t._internalPath;if("string"==typeof t)return FA(e,t);throw jA("Field path arguments must be of type string or ",e,!1,void 0,n)}const MA=new RegExp("[~\\*/\\[\\]]");function FA(e,t,n){if(t.search(MA)>=0)throw jA("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new dA(...t.split("."))._internalPath}catch(l){throw jA("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function jA(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new Wy(qy.INVALID_ARGUMENT,a+e+l)}function UA(e,t){return e.some((e=>e.isEqual(t)))}class zA{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new KC(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new VA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(BA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class VA extends zA{data(){return super.data()}}function BA(e,t){return"string"==typeof t?FA(e,t):t instanceof dA?t._internalPath:t._delegate._internalPath}function qA(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Wy(qy.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class WA{}class HA extends WA{}function KA(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof WA&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof QA)).length,n=e.filter((e=>e instanceof GA)).length;if(t>1||t>0&&n>0)throw new Wy(qy.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class GA extends HA{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new GA(e,t,n)}_apply(e){const t=this._parse(e);return nN(e._query,t),new HC(e.firestore,e.converter,Q_(e._query,t))}_parse(e){const t=bA(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Wy(qy.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){tN(s,o);const t=[];for(const n of s)t.push(eN(r,e,n));a={arrayValue:{values:t}}}else a=eN(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||tN(s,o),a=NA(n,t,s,"in"===o||"not-in"===o);return p_.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class QA extends WA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new QA(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:m_.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)nN(n,i),n=Q_(n,i)}(e._query,t),new HC(e.firestore,e.converter,Q_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class $A extends HA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new $A(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Wy(qy.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Wy(qy.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new d_(t,n)}(e._query,this._field,this._direction);return new HC(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new z_(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class YA extends HA{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new YA(e,t,n)}_apply(e){return new HC(e.firestore,e.converter,$_(e._query,this._limit,this._limitType))}}class XA extends HA{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new XA(e,t,n)}_apply(e){const t=ZA(e,this.type,this._docOrFields,this._inclusive);return new HC(e.firestore,e.converter,function(e,t){return new z_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class JA extends HA{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new JA(e,t,n)}_apply(e){const t=ZA(e,this.type,this._docOrFields,this._inclusive);return new HC(e.firestore,e.converter,function(e,t){return new z_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function ZA(e,t,n,r){if(n[0]=Gn(n[0]),n[0]instanceof zA)return function(e,t,n,r,i){if(!r)throw new Wy(qy.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const o=[];for(const s of H_(e))if(s.field.isKeyField())o.push(Gb(t,r.key));else{const e=r.data.field(s.field);if(Ob(e))throw new Wy(qy.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new Wy(qy.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}o.push(e)}return new l_(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=bA(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new Wy(qy.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<i.length;l++){const o=i[l];if(s[l].field.isKeyField()){if("string"!=typeof o)throw new Wy(qy.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof o));if(!W_(e)&&-1!==o.indexOf("/"))throw new Wy(qy.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(o,"' contains a slash."));const n=e.path.child(lw.fromString(o));if(!dw.isDocumentKey(n))throw new Wy(qy.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new dw(n);a.push(Gb(t,i))}else{const e=NA(n,r,o);a.push(e)}}return new l_(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function eN(e,t,n){if("string"==typeof(n=Gn(n))){if(""===n)throw new Wy(qy.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!W_(t)&&-1!==n.indexOf("/"))throw new Wy(qy.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(lw.fromString(n));if(!dw.isDocumentKey(r))throw new Wy(qy.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Gb(e,new dw(r))}if(n instanceof KC)return Gb(e,n._key);throw new Wy(qy.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(UC(n),"."))}function tN(e,t){if(!Array.isArray(e)||0===e.length)throw new Wy(qy.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function nN(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Wy(qy.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Wy(qy.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class rN{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(zb(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rb(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pb(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw zy()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return yb(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new fA(Rb(e.latitude),Rb(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Db(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Lb(e));default:return null}}convertTimestamp(e){const t=Nb(e);return new ow(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=lw.fromString(e);Vy(JI(n));const r=new Fb(n.get(1),n.get(3)),i=new dw(n.popFirst(5));return r.isEqual(t)||Fy("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function iN(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class oN extends rN{constructor(e){super(),this.firestore=e}convertBytes(e){return new uA(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new KC(this.firestore,null,t)}}class sN{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aN extends zA{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new lN(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(BA("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class lN extends aN{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class cN{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new sN(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new lN(this._firestore,this._userDataWriter,n.key,n,new sN(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Wy(qy.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new lN(e._firestore,e._userDataWriter,n.doc.key,n.doc,new sN(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new lN(e._firestore,e._userDataWriter,t.doc.key,t.doc,new sN(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:uN(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function uN(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zy()}}function dN(e,t){return e instanceof aN&&t instanceof aN?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof cN&&t instanceof cN&&e._firestore===t._firestore&&XC(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class hN extends rN{constructor(e){super(),this.firestore=e}convertBytes(e){return new uA(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new KC(this.firestore,null,t)}}function fN(e){e=zC(e,KC);const t=zC(e.firestore,tA),n=nA(t),r=new hN(t);return function(e,t){const n=new Hy;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=By(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Wy(qy.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=lT(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await kC(e),t,n))),n.promise}(n,e._key).then((n=>new aN(t,r,e._key,n,new sN(null!==n&&n.hasLocalMutations,!0),e.converter)))}function pN(e){e=zC(e,HC);const t=zC(e.firestore,tA),n=nA(t),r=new hN(t);return function(e,t){const n=new Hy;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await Zk(e,t,!0),i=new CT(t,r.ls),o=i.da(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=lT(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await kC(e),t,n))),n.promise}(n,e._query).then((n=>new cN(t,r,e,n)))}function mN(e,t,n){e=zC(e,KC);const r=zC(e.firestore,tA),i=iN(e.converter,t,n);return wN(r,[_A(bA(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,DS.none())])}function gN(e,t,n){e=zC(e,KC);const r=zC(e.firestore,tA),i=bA(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return o="string"==typeof(t=Gn(t))||t instanceof dA?AA(i,"updateDoc",e._key,t,n,a):CA(i,"updateDoc",e._key,t),wN(r,[o.toMutation(e._key,DS.exists(!0))])}function vN(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=Gn(e);let a={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||ZC(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(ZC(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[l+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let u,d,h;if(e instanceof KC)d=zC(e.firestore,tA),h=B_(e._key.path),u={next:t=>{n[l]&&n[l](bN(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=zC(e,HC);d=zC(t.firestore,tA),h=t._query;const r=new hN(d);u={next:e=>{n[l]&&n[l](new cN(d,r,t,e))},error:n[l+1],complete:n[l+2]},qA(e._query)}return function(e,t,n,r){const i=new pC(r),o=new _T(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>pT(await AC(e),o))),()=>{i.$a(),e.asyncQueue.enqueueAndForget((async()=>mT(await AC(e),o)))}}(nA(d),h,c,u)}function yN(e,t){return function(e,t){const n=new pC(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){By(e).z_.add(t),t.next()}(await AC(e),n))),()=>{n.$a(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){By(e).z_.delete(t)}(await AC(e),n)))}}(nA(e=zC(e,tA)),ZC(t)?t:{next:t})}function wN(e,t){return function(e,t){const n=new Hy;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=lC(e);try{const e=await function(e,t){const n=By(e),r=ow.now(),i=t.reduce(((e,t)=>e.add(t.key)),pS());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=oS(),l=pS();return n.ss.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=zS(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new qS(e.key,t,s_(t.value.mapValue),DS.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:lS(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.xa[e.currentUser.toKey()];r||(r=new bb(nw)),r=r.insert(t,n),e.xa[e.currentUser.toKey()]=r}(r,e.batchId,n),await YT(r,e.changes),await QE(r.remoteStore)}catch(e){const t=lT(e,"Failed to persist write");n.reject(t)}}(await TC(e),t,n))),n.promise}(nA(e),t)}function bN(e,t,n){const r=n.docs.get(t._key),i=new hN(e);return new aN(e,i,t._key,r,new sN(n.hasPendingWrites,n.fromCache),t.converter)}const _N={maxAttempts:5};class SN{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=bA(e)}set(e,t,n){this._verifyNotCommitted();const r=IN(e,this._firestore),i=iN(r.converter,t,n),o=_A(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,DS.none())),this}update(e,t,n){this._verifyNotCommitted();const r=IN(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=Gn(t))||t instanceof dA?AA(this._dataReader,"WriteBatch.update",r._key,t,n,s):CA(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,DS.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=IN(e,this._firestore);return this._mutations=this._mutations.concat(new GS(t._key,DS.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Wy(qy.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function IN(e,t){if((e=Gn(e)).firestore!==t)throw new Wy(qy.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class xN extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=bA(e)}get(e){const t=IN(e,this._firestore),n=new oN(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return zy();const r=e[0];if(r.isFoundDocument())return new zA(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new zA(this._firestore,n,t._key,null,t.converter);throw zy()}))}set(e,t,n){const r=IN(e,this._firestore),i=iN(r.converter,t,n),o=_A(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=IN(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=Gn(t))||t instanceof dA?AA(this._dataReader,"Transaction.update",r._key,t,n,s):CA(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=IN(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=IN(e,this._firestore),n=new hN(this._firestore);return super.get(e).then((e=>new aN(this._firestore,n,t._key,e._document,new sN(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Oy=e}(Wr),Lr(new Qn("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new tA(new $y(e.getProvider("auth-internal")),new Zy(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Wy(qy.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fb(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),Yr(Ry,"4.6.1",e),Yr(Ry,"4.6.1","esm2017")}();function kN(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Wy("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function EN(){if("undefined"===typeof Uint8Array)throw new Wy("unimplemented","Uint8Arrays are not available in this environment.")}function TN(){if("undefined"==typeof atob)throw new Wy("unimplemented","Blobs are unavailable in Firestore in this environment.")}class CN{constructor(e){this._delegate=e}static fromBase64String(e){return TN(),new CN(uA.fromBase64String(e))}static fromUint8Array(e){return EN(),new CN(uA.fromUint8Array(e))}toBase64(){return TN(),this._delegate.toBase64()}toUint8Array(){return EN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function AN(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class NN{enableIndexedDbPersistence(e,t){return function(e,t){cA(e=zC(e,tA));const n=nA(e);if(n._uninitializedComponentsProvider)throw new Wy(qy.FAILED_PRECONDITION,"SDK cache is already specified.");jy("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new hC;return iA(n,i,new uC(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){cA(e=zC(e,tA));const t=nA(e);if(t._uninitializedComponentsProvider)throw new Wy(qy.FAILED_PRECONDITION,"SDK cache is already specified.");jy("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new hC;return iA(t,r,new dC(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Wy(qy.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Hy;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Ew.D())return Promise.resolve();const t=e+"main";await Ew.delete(t)}(Vk(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class RN{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Fb||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||jy("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};WC(this._delegate,e,t,n)}enableNetwork(){return sA(this._delegate)}disableNetwork(){return aA(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,MC("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return oA(this._delegate)}onSnapshotsInSync(e){return yN(this._delegate,e)}get app(){if(!this._appCompat)throw new Wy("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new HN(this,QC(this._delegate,e))}catch(t){throw FN(t,"collection()","Firestore.collection()")}}doc(e){try{return new MN(this,$C(this._delegate,e))}catch(t){throw FN(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new BN(this,function(e,t){if(e=zC(e,qC),LC("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Wy(qy.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new HC(e,null,function(e){return new z_(lw.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw FN(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=zC(e,tA);const r=Object.assign(Object.assign({},_N),n);return function(e){if(e.maxAttempts<1)throw new Wy(qy.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Hy;return e.asyncQueue.enqueueAndForget((async()=>{const i=await CC(e);new vC(e.asyncQueue,i,n,t,r).Xa()})),r.promise}(nA(e),(n=>t(new xN(e,n))),r)}(this._delegate,(t=>e(new ON(this,t))))}batch(){return nA(this._delegate),new DN(new SN(this._delegate,(e=>wN(this._delegate,e))))}loadBundle(e){return function(e,t){const n=nA(e=zC(e,tA)),r=new eA;return PC(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return lA(this._delegate,e).then((e=>e?new BN(this,e):null))}}class PN extends rN{constructor(e){super(),this.firestore=e}convertBytes(e){return new CN(new uA(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return MN.forKey(t,this.firestore,null)}}class ON{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new PN(e)}get(e){const t=KN(e);return this._delegate.get(t).then((e=>new zN(this._firestore,new aN(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=KN(e);return n?(kN("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=KN(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=KN(e);return this._delegate.delete(t),this}}class DN{constructor(e){this._delegate=e}set(e,t,n){const r=KN(e);return n?(kN("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=KN(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=KN(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class LN{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new lN(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new VN(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=LN.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new LN(e,new PN(e),t),r.set(t,i)),i}}LN.INSTANCES=new WeakMap;class MN{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new PN(e)}static forPath(e,t,n){if(e.length%2!==0)throw new Wy("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new MN(t,new KC(t._delegate,n,new dw(e)))}static forKey(e,t,n){return new MN(t,new KC(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new HN(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new HN(this.firestore,QC(this._delegate,e))}catch(t){throw FN(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Gn(e))instanceof KC&&YC(this._delegate,e)}set(e,t){t=kN("DocumentReference.set",t);try{return t?mN(this._delegate,e,t):mN(this._delegate,e)}catch(n){throw FN(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?gN(this._delegate,e):gN(this._delegate,e,t,...r)}catch(o){throw FN(o,"updateDoc()","DocumentReference.update()")}}delete(){return wN(zC((e=this._delegate).firestore,tA),[new GS(e._key,DS.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=jN(t),i=UN(t,(e=>new zN(this.firestore,new aN(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return vN(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?fN(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=zC(e,KC);const t=zC(e.firestore,tA);return NC(nA(t),e._key,{source:"server"}).then((n=>bN(t,e,n)))}(this._delegate):function(e){e=zC(e,KC);const t=zC(e.firestore,tA);return NC(nA(t),e._key).then((n=>bN(t,e,n)))}(this._delegate),t.then((e=>new zN(this.firestore,new aN(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new MN(this.firestore,e?this._delegate.withConverter(LN.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function FN(e,t,n){return e.message=e.message.replace(t,n),e}function jN(e){for(const t of e)if("object"===typeof t&&!AN(t))return t;return{}}function UN(e,t){var n,r;let i;return i=AN(e[0])?e[0]:AN(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class zN{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new MN(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return dN(this._delegate,e._delegate)}}class VN extends zN{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||zy(),t}}class BN{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new PN(e)}where(e,t,n){try{return new BN(this.firestore,KA(this._delegate,function(e,t,n){const r=t,i=BA("where",e);return GA._create(i,r,n)}(e,t,n)))}catch(r){throw FN(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new BN(this.firestore,KA(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=BA("orderBy",e);return $A._create(n,t)}(e,t)))}catch(n){throw FN(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new BN(this.firestore,KA(this._delegate,(VC("limit",t=e),YA._create("limit",t,"F"))))}catch(t){throw FN(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new BN(this.firestore,KA(this._delegate,(VC("limitToLast",t=e),YA._create("limitToLast",t,"L"))))}catch(t){throw FN(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new BN(this.firestore,KA(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return XA._create("startAt",t,!0)}(...arguments)))}catch(e){throw FN(e,"startAt()","Query.startAt()")}}startAfter(){try{return new BN(this.firestore,KA(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return XA._create("startAfter",t,!1)}(...arguments)))}catch(e){throw FN(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new BN(this.firestore,KA(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return JA._create("endBefore",t,!1)}(...arguments)))}catch(e){throw FN(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new BN(this.firestore,KA(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return JA._create("endAt",t,!0)}(...arguments)))}catch(e){throw FN(e,"endAt()","Query.endAt()")}}isEqual(e){return XC(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?pN(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=zC(e,HC);const t=zC(e.firestore,tA),n=nA(t),r=new hN(t);return RC(n,e._query,{source:"server"}).then((n=>new cN(t,r,e,n)))}(this._delegate):function(e){e=zC(e,HC);const t=zC(e.firestore,tA),n=nA(t),r=new hN(t);return qA(e._query),RC(n,e._query).then((n=>new cN(t,r,e,n)))}(this._delegate),t.then((e=>new WN(this.firestore,new cN(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=jN(t),i=UN(t,(e=>new WN(this.firestore,new cN(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return vN(this._delegate,r,i)}withConverter(e){return new BN(this.firestore,e?this._delegate.withConverter(LN.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class qN{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new VN(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class WN{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new BN(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new VN(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new qN(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new VN(this._firestore,n))}))}isEqual(e){return dN(this._delegate,e._delegate)}}class HN extends BN{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new MN(this.firestore,e):null}doc(e){try{return new MN(this.firestore,void 0===e?$C(this._delegate):$C(this._delegate,e))}catch(t){throw FN(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=zC(e.firestore,tA),r=$C(e),i=iN(e.converter,t);return wN(n,[_A(bA(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,DS.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new MN(this.firestore,e)))}isEqual(e){return YC(this._delegate,e._delegate)}withConverter(e){return new HN(this.firestore,e?this._delegate.withConverter(LN.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function KN(e){return zC(e,KC)}class GN{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new dA(...t)}static documentId(){return new GN(uw.keyField().canonicalString())}isEqual(e){return(e=Gn(e))instanceof dA&&this._delegate._internalPath.isEqual(e._internalPath)}}class QN{constructor(e){this._delegate=e}static serverTimestamp(){const e=new xA("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new QN(e)}static delete(){const e=new SA("deleteField");return e._methodName="FieldValue.delete",new QN(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new kA("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new QN(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new EA("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new QN(e)}static increment(e){const t=new TA("increment",e);return t._methodName="FieldValue.increment",new QN(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const $N={Firestore:RN,GeoPoint:fA,Timestamp:ow,Blob:CN,Transaction:ON,WriteBatch:DN,DocumentReference:MN,DocumentSnapshot:zN,Query:BN,QueryDocumentSnapshot:VN,QuerySnapshot:WN,CollectionReference:HN,FieldPath:GN,FieldValue:QN,setLogLevel:function(e){var t;t=e,Dy.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Qn("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},$N)))}(e,((e,t)=>new RN(e,t,new NN))),e.registerVersion("@firebase/firestore-compat","0.3.30")}(rc);const YN={apiKey:"AIzaSyBOIDGy-yhaW0gmhKBxlMeWQrackaT8kkE",authDomain:"typerunner-8b8b2.firebaseapp.com",projectId:"typerunner-8b8b2",storageBucket:"typerunner-8b8b2.appspot.com",messagingSenderId:"859099702395",appId:"1:859099702395:web:8383c2e8012fa8ec9e6ede",measurementId:"G-RFETHYS5T5"},XN=Hr(YN),JN=new $o;JN.setCustomParameters({prompt:"select_account"});const ZN=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gr();const t=Mr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Mr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Dn(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;vi(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ga,persistence:[ks,ls,us]}),r=vn("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>ba)return;const r=null===t||void 0===t?void 0:t.token;_a!==r&&(_a=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Gn(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){Gn(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const o=mn("auth");return o&&Oo(n,"http://".concat(o)),n}(XN);!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gr();e=Gn(e);const t=Mr(e,gl);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Mr(e,gl);if(n.isInitialized()){const e=n.getImmediate();if(Dn(t,n.getOptions()))return e;throw Il.create("already-initialized")}const r=n.initialize({options:t})}(e)}(XN);rc.initializeApp(YN);const eR=rc.firestore();function tR(){return tR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tR.apply(this,arguments)}var nR;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(nR||(nR={}));const rR="popstate";function iR(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function oR(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function sR(e,t){return{usr:e.state,key:e.key,idx:t}}function aR(e,t,n,r){return void 0===n&&(n=null),tR({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?cR(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function lR(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function cR(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function uR(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=nR.Pop,l=null,c=u();function u(){return(s.state||{idx:null}).idx}function d(){a=nR.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:a,location:f.location,delta:t})}function h(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:lR(e);return n=n.replace(/ $/,"%20"),iR(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,s.replaceState(tR({},s.state,{idx:c}),""));let f={get action(){return a},get location(){return e(i,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(rR,d),l=e,()=>{i.removeEventListener(rR,d),l=null}},createHref:e=>t(i,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=nR.Push;let r=aR(f.location,e,t);n&&n(r,e),c=u()+1;let d=sR(r,c),h=f.createHref(r);try{s.pushState(d,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(h)}o&&l&&l({action:a,location:f.location,delta:1})},replace:function(e,t){a=nR.Replace;let r=aR(f.location,e,t);n&&n(r,e),c=u();let i=sR(r,c),d=f.createHref(r);s.replaceState(i,"",d),o&&l&&l({action:a,location:f.location,delta:0})},go:e=>s.go(e)};return f}var dR;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(dR||(dR={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function hR(e,t,n){void 0===n&&(n="/");let r=ER(("string"===typeof t?cR(t):t).pathname||"/",n);if(null==r)return null;let i=fR(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s){let e=kR(r);o=IR(i[s],e)}return o}function fR(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(iR(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=RR([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(iR(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),fR(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:SR(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of pR(e.path))i(e,t,r);else i(e,t)})),t}function pR(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=pR(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const mR=/^:[\w-]+$/,gR=3,vR=2,yR=1,wR=10,bR=-2,_R=e=>"*"===e;function SR(e,t){let n=e.split("/"),r=n.length;return n.some(_R)&&(r+=bR),t&&(r+=vR),n.filter((e=>!_R(e))).reduce(((e,t)=>e+(mR.test(t)?gR:""===t?yR:wR)),r)}function IR(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],a=s===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=xR({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;o.push({params:r,pathname:RR([i,c.pathname]),pathnameBase:PR(RR([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=RR([i,c.pathnameBase]))}return o}function xR(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);oR("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function kR(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return oR(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function ER(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function TR(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function CR(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function AR(e,t){let n=CR(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function NR(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=cR(e):(i=tR({},e),iR(!i.pathname||!i.pathname.includes("?"),TR("?","pathname","search",i)),iR(!i.pathname||!i.pathname.includes("#"),TR("#","pathname","hash",i)),iR(!i.search||!i.search.includes("#"),TR("#","search","hash",i)));let o,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(null==a)o=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?cR(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:OR(r),hash:DR(i)}}(i,o),c=a&&"/"!==a&&a.endsWith("/"),u=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const RR=e=>e.join("/").replace(/\/\/+/g,"/"),PR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),OR=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",DR=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function LR(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const MR=["post","put","patch","delete"],FR=(new Set(MR),["get",...MR]);new Set(FR),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function jR(){return jR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jR.apply(this,arguments)}const UR=t.createContext(null);const zR=t.createContext(null);const VR=t.createContext(null);const BR=t.createContext(null);const qR=t.createContext({outlet:null,matches:[],isDataRoute:!1});const WR=t.createContext(null);function HR(){return null!=t.useContext(BR)}function KR(){return HR()||iR(!1),t.useContext(BR).location}function GR(e){t.useContext(VR).static||t.useLayoutEffect(e)}function QR(){let{isDataRoute:e}=t.useContext(qR);return e?function(){let{router:e}=rP(tP.UseNavigateStable),n=oP(nP.UseNavigateStable),r=t.useRef(!1);GR((()=>{r.current=!0}));let i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,jR({fromRouteId:n},i)))}),[e,n]);return i}():function(){HR()||iR(!1);let e=t.useContext(UR),{basename:n,future:r,navigator:i}=t.useContext(VR),{matches:o}=t.useContext(qR),{pathname:s}=KR(),a=JSON.stringify(AR(o,r.v7_relativeSplatPath)),l=t.useRef(!1);return GR((()=>{l.current=!0})),t.useCallback((function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void i.go(t);let o=NR(t,JSON.parse(a),s,"path"===r.relative);null==e&&"/"!==n&&(o.pathname="/"===o.pathname?n:RR([n,o.pathname])),(r.replace?i.replace:i.push)(o,r.state,r)}),[n,i,a,s,e])}()}function $R(e,n,r,i){HR()||iR(!1);let{navigator:o}=t.useContext(VR),{matches:s}=t.useContext(qR),a=s[s.length-1],l=a?a.params:{},c=(a&&a.pathname,a?a.pathnameBase:"/");a&&a.route;let u,d=KR();if(n){var h;let e="string"===typeof n?cR(n):n;"/"===c||(null==(h=e.pathname)?void 0:h.startsWith(c))||iR(!1),u=e}else u=d;let f=u.pathname||"/",p=f;if("/"!==c){let e=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let m=hR(e,{pathname:p});let g=eP(m&&m.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:RR([c,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:RR([c,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,r,i);return n&&g?t.createElement(BR.Provider,{value:{location:jR({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:nR.Pop}},g):g}function YR(){let e=function(){var e;let n=t.useContext(WR),r=iP(nP.UseRouteError),i=oP(nP.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=LR(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,null)}const XR=t.createElement(YR,null);class JR extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(qR.Provider,{value:this.props.routeContext},t.createElement(WR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ZR(e){let{routeContext:n,match:r,children:i}=e,o=t.useContext(UR);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(qR.Provider,{value:n},i)}function eP(e,n,r,i){var o;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var s;if(null==(s=r)||!s.errors)return null;e=r.matches}let a=e,l=null==(o=r)?void 0:o.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||iR(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,u=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){c=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight(((e,i,o)=>{let s,d=!1,h=null,f=null;var p;r&&(s=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||XR,c&&(u<0&&0===o?(p="route-fallback",!1||sP[p]||(sP[p]=!0),d=!0,f=null):u===o&&(d=!0,f=i.route.hydrateFallbackElement||null)));let m=n.concat(a.slice(0,o+1)),g=()=>{let n;return n=s?h:d?f:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(ZR,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?t.createElement(JR,{location:r.location,revalidation:r.revalidation,component:h,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var tP=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(tP||{}),nP=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(nP||{});function rP(e){let n=t.useContext(UR);return n||iR(!1),n}function iP(e){let n=t.useContext(zR);return n||iR(!1),n}function oP(e){let n=function(e){let n=t.useContext(qR);return n||iR(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||iR(!1),r.route.id}const sP={};r.startTransition;function aP(e){iR(!1)}function lP(e){let{basename:n="/",children:r=null,location:i,navigationType:o=nR.Pop,navigator:s,static:a=!1,future:l}=e;HR()&&iR(!1);let c=n.replace(/^\/*/,"/"),u=t.useMemo((()=>({basename:c,navigator:s,static:a,future:jR({v7_relativeSplatPath:!1},l)})),[c,l,s,a]);"string"===typeof i&&(i=cR(i));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=i,g=t.useMemo((()=>{let e=ER(d,c);return null==e?null:{location:{pathname:e,search:h,hash:f,state:p,key:m},navigationType:o}}),[c,d,h,f,p,m,o]);return null==g?null:t.createElement(VR.Provider,{value:u},t.createElement(BR.Provider,{children:r,value:g}))}function cP(e){let{children:t,location:n}=e;return $R(uP(t),n)}new Promise((()=>{}));t.Component;function uP(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let o=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,uP(e.props.children,o));e.type!==aP&&iR(!1),e.props.index&&e.props.children&&iR(!1);let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=uP(e.props.children,o)),r.push(s)})),r}const dP=()=>{const e=QR();return(0,t.useEffect)((()=>{ZN.onAuthStateChanged((()=>{(async()=>{ZN.currentUser?(e("/LoadingPage"),console.log("logged in"),await async function(){if(!fP())throw new Error("Can't initialize! User not logged in!");let e,t,n;try{e=await async function(){var e;const t=eR.collection("Users").doc(null===(e=ZN.currentUser)||void 0===e?void 0:e.uid),n=await t.collection("historySettings").doc("historySetting").get();if(n.exists){var r;const e=null!==(r=n.data())&&void 0!==r?r:{};console.log(n);return{...e}}throw new Error("failed to get history settings data")}(),t=await async function(){var e;const t=eR.collection("Users").doc(null===(e=ZN.currentUser)||void 0===e?void 0:e.uid),n=await t.collection("settings").doc("setting").get();if(n.exists){var r;const e=null!==(r=n.data())&&void 0!==r?r:{};console.log(e);return{...e}}throw new Error("failed to get settings data")}(),n=await async function(){var e;const t=eR.collection("Users").doc(null===(e=ZN.currentUser)||void 0===e?void 0:e.uid),n=await t.collection("typingStatArrays").doc("typingStatArray").get();if(n.exists){const e=n.data();console.log(e);return Object.values(null!==e&&void 0!==e?e:{}).at(0)}throw new Error("failed to get typing stats data")}(),sn.overrideHistorySettings(e),sn.overrideWithSettingsData(t),sn.overrideWithTypingStatData(n),console.log("Succesfully initialized users data!")}catch(r){return console.log("First time log in, setting up user data"),await async function(){var e;const t=eR.collection("Users").doc(null===(e=ZN.currentUser)||void 0===e?void 0:e.uid),n=t.collection("settings"),i=t.collection("historySettings"),o=t.collection("typingStatArrays");try{await n.doc("setting").set(sn.getSettings().toDoc()),await i.doc("historySetting").set(sn.getHistorySettings().toDoc()),await o.doc("typingStatArray").set(sn.typingStatsToDoc())}catch(r){console.error(r)}}(),void console.log("Succesfully set up users data!")}}(),await PL(),e(-1)):(e("/LoadingPage"),console.log("logged out"),await sn.reset(),await PL(),e(-1))})()}))}),[]),(0,U.jsx)(U.Fragment,{children:(0,U.jsx)("span",{})})};async function hP(){try{await async function(e,t,n){if(Ur(e.app))return Promise.reject(yi(e,"operation-not-supported-in-this-environment"));const r=ko(e);_i(e,t,Ko);const i=As(r,n);return new Ms(r,"signInViaPopup",t,i).executeNotNull()}(ZN,JN)}catch(e){console.error(e)}}function fP(){return!!ZN.currentUser&&null!=ZN.currentUser.uid}async function pP(){try{await async function(){var e;if(!fP())return void console.log("Can't update user not logged in!");const t=eR.collection("Users").doc(null===(e=ZN.currentUser)||void 0===e?void 0:e.uid),n=t.collection("typingStatArrays"),r=t.collection("historySettings"),i=t.collection("settings"),o=n.doc("typingStatArray"),s=r.doc("historySetting"),a=i.doc("setting"),l=eR.batch();l.update(o,sn.typingStatsToDoc()),l.update(s,sn.getHistorySettings().toDoc()),l.update(a,sn.getSettings().toDoc()),l.commit().then((()=>{})).catch((e=>{console.error("Error writing batch",e)}))}(),await function(e){return Gn(e).signOut()}(ZN)}catch(e){console.error(e)}}async function mP(){var e;if(!fP())return void console.log("Can't update user not logged in!");const t=eR.collection("Users").doc(null===(e=ZN.currentUser)||void 0===e?void 0:e.uid).collection("settings");try{await t.doc("setting").update(sn.getSettings().toDoc())}catch(n){console.error(n)}}var gP,vP=!1,yP=!1,wP=!0,bP=!1,_P=!0,SP=0;function IP(){var e,t;null===(e=gP.current)||void 0===e||e.focus(),console.log(null===(t=gP.current)||void 0===t?void 0:t.value)}var xP=()=>{};const kP=()=>{const e=(0,t.useContext)(RL),n=(0,t.useContext)(NL);gP=(0,t.useRef)(null);const r=async()=>{yP=!0,o();const t=await it(e);e.setToType(t.toString()),e.setTypedSoFar(""),e.setWpm(0),EP(),bP=!1,yP=!1},i=t=>{r(),e.setTypedSoFar(""),sn.pushTypingStat(new on({wpm:+e.wpm,accuracy:+e.accuracy,generatedPrompt:e.toType.valueOf(),typedPrompt:t,duration:+e.duration,startTime:SP,endTime:(new Date).getTime()})),async function(){var e;if(!fP())return void console.log("Can't update user not logged in!");const t=eR.collection("Users").doc(null===(e=ZN.currentUser)||void 0===e?void 0:e.uid).collection("typingStatArrays");try{await t.doc("typingStatArray").update(sn.typingStatsToDoc())}catch(n){}}().then((()=>{console.log("Finished updating online typing stats")}))},o=()=>{e.setTimersArePaused(!0)},s=()=>{e.setTimersArePaused(!1)};t.useEffect((()=>{r(),sn.setSettings({fontSize:+e.fontSize,wordCount:+e.wordCount,numbersEnabled:e.numbersEnabled.valueOf(),sentencesEnabled:e.sentencesEnabled.valueOf(),wordsEnabled:e.wordsEnabled.valueOf(),symbolsEnabled:e.symbolsEnabled.valueOf(),lowercaseEnabled:e.lowercaseEnabled.valueOf()})}),[e.wordCount,e.wordsEnabled,e.numbersEnabled,e.symbolsEnabled,e.lowercaseEnabled,e.sentencesEnabled,e.fontSize]),xP=r;const a=e=>{e.preventDefault()},l=t=>{wP?yP||(bP||(_P=!1,bP=!0,SP=(new Date).getTime(),s(),_P=!0),e.setTypedSoFar(t.target.value),vP||(n.setStarArray([...n.starArray,dt()]),vP=!0,setTimeout((()=>{vP=!1}),300)),e.toType.length==t.target.value.length&&i(t.target.value)):e.setTypedSoFar(e.typedSoFar.toString())};return(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(tn.Control,{as:"textarea",ref:gP,style:{position:"fixed",left:"200vw",top:"200vh"},onChange:e=>l(e),onKeyDown:e=>(e=>{!e.key.includes("Arrow")&&_P||e.preventDefault(),wP=!e.repeat})(e),onKeyUp:e=>{wP=!0},onMouseMove:e=>a(e),onMouseDown:e=>(e=>{gP.current&&gP.current.focus(),e.preventDefault()})(e),onMouseEnter:e=>a(e),onMouseOut:e=>a(e),onMouseUp:e=>a(e),onPaste:e=>(e=>{e.preventDefault()})(e),value:e.typedSoFar.toString()})})};var EP=()=>{};const TP=()=>{const e=(0,t.useContext)(RL),n=(0,t.useRef)(null),[r,i]=(0,t.useState)((0,U.jsx)(U.Fragment,{}));return EP=()=>{null!==n.current&&(n.current.scrollTop=0)},t.useEffect((()=>{i(ct(e.toType.valueOf(),e.typedSoFar.valueOf(),!0,+e.fontSize,e)),((e,t)=>{var r;const i=null===(r=n.current)||void 0===r?void 0:r.childNodes[e];i instanceof HTMLElement&&i.scrollIntoView({behavior:t,block:"center"})})(e.typedSoFar.length+1,"smooth")}),[e.fontSize,e.toType,e.typedSoFar]),(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("div",{style:{height:"20px"}}),(0,U.jsxs)("div",{className:"scrollCss",ref:n,contentEditable:!1,style:{height:"150px",width:"".concat(+e.scrollPaneWidth,"vw"),overflow:"hidden",whiteSpace:"normal",wordWrap:"break-word",overflowY:"hidden"},onMouseUp:()=>{IP()},children:[" ",r]},"scrollPane")]})};function CP(){const e=D(Ee);return e[Te]||e}const AP=t.createContext();function NP(e){return p("MuiGrid",e)}const RP=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],PP=Le("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((e=>"spacing-xs-".concat(e))),...["column-reverse","column","row-reverse","row"].map((e=>"direction-xs-".concat(e))),...["nowrap","wrap-reverse","wrap"].map((e=>"wrap-xs-".concat(e))),...RP.map((e=>"grid-xs-".concat(e))),...RP.map((e=>"grid-sm-".concat(e))),...RP.map((e=>"grid-md-".concat(e))),...RP.map((e=>"grid-lg-".concat(e))),...RP.map((e=>"grid-xl-".concat(e)))]),OP=PP,DP=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function LP(e){const t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function MP(e){let{breakpoints:t,values:n}=e,r="";Object.keys(n).forEach((e=>{""===r&&0!==n[e]&&(r=e)}));const i=Object.keys(t).sort(((e,n)=>t[e]-t[n]));return i.slice(0,i.indexOf(r))}const FP=Ne("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:i,item:o,spacing:s,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]];const r=[];return t.forEach((t=>{const i=e[t];Number(i)>0&&r.push(n["spacing-".concat(t,"-").concat(String(i))])})),r}(s,c,t));const d=[];return c.forEach((e=>{const r=n[e];r&&d.push(t["grid-".concat(e,"-").concat(String(r))])})),[t.root,r&&t.container,o&&t.item,l&&t.zeroMinWidth,...u,"row"!==i&&t["direction-xs-".concat(String(i))],"wrap"!==a&&t["wrap-xs-".concat(String(a))],...d]}})((e=>{let{ownerState:t}=e;return(0,a.A)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){let{theme:t,ownerState:n}=e;const r=(0,F.kW)({values:n.direction,breakpoints:t.breakpoints.values});return(0,F.NI)({theme:t},r,(e=>{const t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(OP.item)]={maxWidth:"none"}),t}))}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,rowSpacing:i}=n;let o={};if(r&&0!==i){const e=(0,F.kW)({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=MP({breakpoints:t.breakpoints.values,values:e})),o=(0,F.NI)({theme:t},e,((e,r)=>{var i;const o=t.spacing(e);return"0px"!==o?{marginTop:"-".concat(LP(o)),["& > .".concat(OP.item)]:{paddingTop:LP(o)}}:null!=(i=n)&&i.includes(r)?{}:{marginTop:0,["& > .".concat(OP.item)]:{paddingTop:0}}}))}return o}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,columnSpacing:i}=n;let o={};if(r&&0!==i){const e=(0,F.kW)({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=MP({breakpoints:t.breakpoints.values,values:e})),o=(0,F.NI)({theme:t},e,((e,r)=>{var i;const o=t.spacing(e);return"0px"!==o?{width:"calc(100% + ".concat(LP(o),")"),marginLeft:"-".concat(LP(o)),["& > .".concat(OP.item)]:{paddingLeft:LP(o)}}:null!=(i=n)&&i.includes(r)?{}:{width:"100%",marginLeft:0,["& > .".concat(OP.item)]:{paddingLeft:0}}}))}return o}),(function(e){let t,{theme:n,ownerState:r}=e;return n.breakpoints.keys.reduce(((e,i)=>{let o={};if(r[i]&&(t=r[i]),!t)return e;if(!0===t)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=(0,F.kW)({values:r.columns,breakpoints:n.breakpoints.values}),l="object"===typeof s?s[i]:s;if(void 0===l||null===l)return e;const c="".concat(Math.round(t/l*1e8)/1e6,"%");let u={};if(r.container&&r.item&&0!==r.columnSpacing){const e=n.spacing(r.columnSpacing);if("0px"!==e){const t="calc(".concat(c," + ").concat(LP(e),")");u={flexBasis:t,maxWidth:t}}}o=(0,a.A)({flexBasis:c,flexGrow:0,maxWidth:c},u)}return 0===n.breakpoints.values[i]?Object.assign(e,o):e[n.breakpoints.up(i)]=o,e}),{})}));const jP=e=>{const{classes:t,container:n,direction:r,item:i,spacing:o,wrap:s,zeroMinWidth:a,breakpoints:l}=e;let c=[];n&&(c=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return["spacing-xs-".concat(String(e))];const n=[];return t.forEach((t=>{const r=e[t];if(Number(r)>0){const e="spacing-".concat(t,"-").concat(String(r));n.push(e)}})),n}(o,l));const u=[];l.forEach((t=>{const n=e[t];n&&u.push("grid-".concat(t,"-").concat(String(n)))}));return m({root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...c,"row"!==r&&"direction-xs-".concat(String(r)),"wrap"!==s&&"wrap-xs-".concat(String(s)),...u]},NP,t)},UP=t.forwardRef((function(e,n){const r=Re({props:e,name:"MuiGrid"}),{breakpoints:i}=CP(),o=(0,M.A)(r),{className:l,columns:u,columnSpacing:d,component:h="div",container:f=!1,direction:p="row",item:m=!1,rowSpacing:g,spacing:v=0,wrap:y="wrap",zeroMinWidth:w=!1}=o,b=(0,s.A)(o,DP),_=g||v,S=d||v,I=t.useContext(AP),x=f?u||12:I,k={},E=(0,a.A)({},b);i.keys.forEach((e=>{null!=b[e]&&(k[e]=b[e],delete E[e])}));const T=(0,a.A)({},o,{columns:x,container:f,direction:p,item:m,rowSpacing:_,columnSpacing:S,wrap:y,zeroMinWidth:w,spacing:v},k,{breakpoints:i.keys}),C=jP(T);return(0,U.jsx)(AP.Provider,{value:x,children:(0,U.jsx)(FP,(0,a.A)({ownerState:T,className:c(C.root,l),as:h,ref:n},E))})}));const zP=UP;function VP(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function BP(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useMemo((()=>n.every((e=>null==e))?null:e=>{n.forEach((t=>{VP(t,e)}))}),n)}const qP=BP,WP="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;const HP=function(e){const n=t.useRef(e);return WP((()=>{n.current=e})),t.useRef((function(){return(0,n.current)(...arguments)})).current},KP=HP,GP={};const QP=[];class $P{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new $P}start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}}function YP(){const e=function(e,n){const r=t.useRef(GP);return r.current===GP&&(r.current=e(n)),r}($P.create).current;var n;return n=e.disposeEffect,t.useEffect(n,QP),e}let XP=!0,JP=!1;const ZP=new $P,eO={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function tO(e){e.metaKey||e.altKey||e.ctrlKey||(XP=!0)}function nO(){XP=!1}function rO(){"hidden"===this.visibilityState&&JP&&(XP=!0)}function iO(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return XP||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!eO[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function oO(){const e=t.useCallback((e=>{null!=e&&function(e){e.addEventListener("keydown",tO,!0),e.addEventListener("mousedown",nO,!0),e.addEventListener("pointerdown",nO,!0),e.addEventListener("touchstart",nO,!0),e.addEventListener("visibilitychange",rO,!0)}(e.ownerDocument)}),[]),n=t.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!iO(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(JP=!0,ZP.start(100,(()=>{JP=!1})),n.current=!1,!0)},ref:e}}const sO=oO;function aO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lO(e,t){return lO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lO(e,t)}function cO(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,lO(e,t)}const uO=t.createContext(null);function dO(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function hO(e,t,n){return null!=n[t]?n[t]:e.props[t]}function fO(e,n,r){var i=dO(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var s in e)s in t?o.length&&(i[s]=o,o=[]):o.push(s);var a={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];a[i[l][r]]=n(c)}a[l]=n(l)}for(r=0;r<o.length;r++)a[o[r]]=n(o[r]);return a}(n,i);return Object.keys(o).forEach((function(s){var a=o[s];if((0,t.isValidElement)(a)){var l=s in n,c=s in i,u=n[s],d=(0,t.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,t.isValidElement)(u)&&(o[s]=(0,t.cloneElement)(a,{onExited:r.bind(null,a),in:u.props.in,exit:hO(a,"exit",e),enter:hO(a,"enter",e)})):o[s]=(0,t.cloneElement)(a,{in:!1}):o[s]=(0,t.cloneElement)(a,{onExited:r.bind(null,a),in:!0,exit:hO(a,"exit",e),enter:hO(a,"enter",e)})}})),o}var pO=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},mO=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(aO(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}cO(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,o=n.children,s=n.handleExited;return{children:n.firstRender?(r=e,i=s,dO(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:hO(e,"appear",r),enter:hO(e,"enter",r),exit:hO(e,"exit",r)})}))):fO(e,o,s),firstRender:!1}},r.handleExited=function(e,t){var n=dO(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,a.A)({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=(0,s.A)(e,["component","childFactory"]),o=this.state.contextValue,a=pO(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(uO.Provider,{value:o},a):t.createElement(uO.Provider,{value:o},t.createElement(n,i,a))},n}(t.Component);mO.propTypes={},mO.defaultProps={component:"div",childFactory:function(e){return e}};const gO=mO;const vO=function(e){const{className:n,classes:r,pulsate:i=!1,rippleX:o,rippleY:s,rippleSize:a,in:l,onExited:u,timeout:d}=e,[h,f]=t.useState(!1),p=c(n,r.ripple,r.rippleVisible,i&&r.ripplePulsate),m={width:a,height:a,top:-a/2+s,left:-a/2+o},g=c(r.child,h&&r.childLeaving,i&&r.childPulsate);return l||h||f(!0),t.useEffect((()=>{if(!l&&null!=u){const e=setTimeout(u,d);return()=>{clearTimeout(e)}}}),[u,l,d]),(0,U.jsx)("span",{className:p,style:m,children:(0,U.jsx)("span",{className:g})})};const yO=Le("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);var wO,bO,_O,SO;const IO=["center","classes","className"];let xO,kO,EO,TO;const CO=(0,qe.i7)(xO||(xO=wO||(wO=o(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),AO=(0,qe.i7)(kO||(kO=bO||(bO=o(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),NO=(0,qe.i7)(EO||(EO=_O||(_O=o(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),RO=Ne("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),PO=Ne(vO,{name:"MuiTouchRipple",slot:"Ripple"})(TO||(TO=SO||(SO=o(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),yO.rippleVisible,CO,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),yO.ripplePulsate,(e=>{let{theme:t}=e;return t.transitions.duration.shorter}),yO.child,yO.childLeaving,AO,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),yO.childPulsate,NO,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut})),OO=t.forwardRef((function(e,n){const r=Re({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:l}=r,u=(0,s.A)(r,IO),[d,h]=t.useState([]),f=t.useRef(0),p=t.useRef(null);t.useEffect((()=>{p.current&&(p.current(),p.current=null)}),[d]);const m=t.useRef(!1),g=YP(),v=t.useRef(null),y=t.useRef(null),w=t.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:i,cb:s}=e;h((e=>[...e,(0,U.jsx)(PO,{classes:{ripple:c(o.ripple,yO.ripple),rippleVisible:c(o.rippleVisible,yO.rippleVisible),ripplePulsate:c(o.ripplePulsate,yO.ripplePulsate),child:c(o.child,yO.child),childLeaving:c(o.childLeaving,yO.childLeaving),childPulsate:c(o.childPulsate,yO.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},f.current)])),f.current+=1,p.current=s}),[o]),b=t.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:r=!1,center:o=i||t.pulsate,fakeElement:s=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&m.current)return void(m.current=!1);"touchstart"===(null==e?void 0:e.type)&&(m.current=!0);const a=s?null:y.current,l=a?a.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,d;if(o||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(o)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2===0&&(d+=1);else{const e=2*Math.max(Math.abs((a?a.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((a?a.clientHeight:0)-u),u)+2;d=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===v.current&&(v.current=()=>{w({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})},g.start(80,(()=>{v.current&&(v.current(),v.current=null)}))):w({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})}),[i,w,g]),_=t.useCallback((()=>{b({},{pulsate:!0})}),[b]),S=t.useCallback(((e,t)=>{if(g.clear(),"touchend"===(null==e?void 0:e.type)&&v.current)return v.current(),v.current=null,void g.start(0,(()=>{S(e,t)}));v.current=null,h((e=>e.length>0?e.slice(1):e)),p.current=t}),[g]);return t.useImperativeHandle(n,(()=>({pulsate:_,start:b,stop:S})),[_,b,S]),(0,U.jsx)(RO,(0,a.A)({className:c(yO.root,o.root,l),ref:y},u,{children:(0,U.jsx)(gO,{component:null,exit:!0,children:d})}))})),DO=OO;function LO(e){return p("MuiButtonBase",e)}const MO=Le("MuiButtonBase",["root","disabled","focusVisible"]),FO=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],jO=Ne("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(MO.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),UO=t.forwardRef((function(e,n){const r=Re({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:l,className:u,component:d="button",disabled:h=!1,disableRipple:f=!1,disableTouchRipple:p=!1,focusRipple:g=!1,LinkComponent:v="a",onBlur:y,onClick:w,onContextMenu:b,onDragLeave:_,onFocus:S,onFocusVisible:I,onKeyDown:x,onKeyUp:k,onMouseDown:E,onMouseLeave:T,onMouseUp:C,onTouchEnd:A,onTouchMove:N,onTouchStart:R,tabIndex:P=0,TouchRippleProps:O,touchRippleRef:D,type:L}=r,M=(0,s.A)(r,FO),F=t.useRef(null),j=t.useRef(null),z=qP(j,D),{isFocusVisibleRef:V,onFocus:B,onBlur:q,ref:W}=sO(),[H,K]=t.useState(!1);h&&H&&K(!1),t.useImperativeHandle(i,(()=>({focusVisible:()=>{K(!0),F.current.focus()}})),[]);const[G,Q]=t.useState(!1);t.useEffect((()=>{Q(!0)}),[]);const $=G&&!f&&!h;function Y(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;return KP((r=>{t&&t(r);return!n&&j.current&&j.current[e](r),!0}))}t.useEffect((()=>{H&&g&&!f&&G&&j.current.pulsate()}),[f,g,H,G]);const X=Y("start",E),J=Y("stop",b),Z=Y("stop",_),ee=Y("stop",C),te=Y("stop",(e=>{H&&e.preventDefault(),T&&T(e)})),ne=Y("start",R),re=Y("stop",A),ie=Y("stop",N),oe=Y("stop",(e=>{q(e),!1===V.current&&K(!1),y&&y(e)}),!1),se=KP((e=>{F.current||(F.current=e.currentTarget),B(e),!0===V.current&&(K(!0),I&&I(e)),S&&S(e)})),ae=()=>{const e=F.current;return d&&"button"!==d&&!("A"===e.tagName&&e.href)},le=t.useRef(!1),ce=KP((e=>{g&&!le.current&&H&&j.current&&" "===e.key&&(le.current=!0,j.current.stop(e,(()=>{j.current.start(e)}))),e.target===e.currentTarget&&ae()&&" "===e.key&&e.preventDefault(),x&&x(e),e.target===e.currentTarget&&ae()&&"Enter"===e.key&&!h&&(e.preventDefault(),w&&w(e))})),ue=KP((e=>{g&&" "===e.key&&j.current&&H&&!e.defaultPrevented&&(le.current=!1,j.current.stop(e,(()=>{j.current.pulsate(e)}))),k&&k(e),w&&e.target===e.currentTarget&&ae()&&" "===e.key&&!e.defaultPrevented&&w(e)}));let de=d;"button"===de&&(M.href||M.to)&&(de=v);const he={};"button"===de?(he.type=void 0===L?"button":L,he.disabled=h):(M.href||M.to||(he.role="button"),h&&(he["aria-disabled"]=h));const fe=qP(n,W,F);const pe=(0,a.A)({},r,{centerRipple:o,component:d,disabled:h,disableRipple:f,disableTouchRipple:p,focusRipple:g,tabIndex:P,focusVisible:H}),me=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o=m({root:["root",t&&"disabled",n&&"focusVisible"]},LO,i);return n&&r&&(o.root+=" ".concat(r)),o})(pe);return(0,U.jsxs)(jO,(0,a.A)({as:de,className:c(me.root,u),ownerState:pe,onBlur:oe,onClick:w,onContextMenu:J,onFocus:se,onKeyDown:ce,onKeyUp:ue,onMouseDown:X,onMouseLeave:te,onMouseUp:ee,onDragLeave:Z,onTouchEnd:re,onTouchMove:ie,onTouchStart:ne,ref:fe,tabIndex:h?-1:P,type:L},he,M,{children:[l,$?(0,U.jsx)(DO,(0,a.A)({ref:z,center:o},O)):null]}))})),zO=UO;function VO(e){return p("MuiButton",e)}const BO=Le("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const qO=t.createContext({});const WO=t.createContext(void 0),HO=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],KO=e=>(0,a.A)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),GO=Ne(zO,{shouldForwardProp:e=>Ae(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat(De(n.color))],t["size".concat(De(n.size))],t["".concat(n.variant,"Size").concat(De(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((e=>{let{theme:t,ownerState:n}=e;var r,i;const o="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],s="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return(0,a.A)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,a.A)({textDecoration:"none",backgroundColor:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,Y.X4)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===n.variant&&"inherit"!==n.color&&{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,Y.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===n.variant&&"inherit"!==n.color&&{border:"1px solid ".concat((t.vars||t).palette[n.color].main),backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,Y.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===n.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===n.variant&&"inherit"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}),"&:active":(0,a.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[8]}),["&.".concat(BO.focusVisible)]:(0,a.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[6]}),["&.".concat(BO.disabled)]:(0,a.A)({color:(t.vars||t).palette.action.disabled},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)},"contained"===n.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===n.variant&&{padding:"6px 8px"},"text"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main},"outlined"===n.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:t.vars?"1px solid rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.5)"):"1px solid ".concat((0,Y.X4)(t.palette[n.color].main,.5))},"contained"===n.variant&&{color:t.vars?t.vars.palette.text.primary:null==(r=(i=t.palette).getContrastText)?void 0:r.call(i,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:o,boxShadow:(t.vars||t).shadows[2]},"contained"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main},"inherit"===n.color&&{color:"inherit",borderColor:"currentColor"},"small"===n.size&&"text"===n.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"text"===n.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"outlined"===n.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"outlined"===n.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"contained"===n.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"contained"===n.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},n.fullWidth&&{width:"100%"})}),(e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(BO.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(BO.disabled)]:{boxShadow:"none"}}})),QO=Ne("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t["iconSize".concat(De(n.size))]]}})((e=>{let{ownerState:t}=e;return(0,a.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},KO(t))})),$O=Ne("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t["iconSize".concat(De(n.size))]]}})((e=>{let{ownerState:t}=e;return(0,a.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},KO(t))})),YO=t.forwardRef((function(e,n){const r=t.useContext(qO),i=t.useContext(WO),o=Re({props:N(r,e),name:"MuiButton"}),{children:l,color:u="primary",component:d="button",className:h,disabled:f=!1,disableElevation:p=!1,disableFocusRipple:g=!1,endIcon:v,focusVisibleClassName:y,fullWidth:w=!1,size:b="medium",startIcon:_,type:S,variant:I="text"}=o,x=(0,s.A)(o,HO),k=(0,a.A)({},o,{color:u,component:d,disabled:f,disableElevation:p,disableFocusRipple:g,fullWidth:w,size:b,type:S,variant:I}),E=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,classes:s}=e,l=m({root:["root",o,"".concat(o).concat(De(t)),"size".concat(De(i)),"".concat(o,"Size").concat(De(i)),"color".concat(De(t)),n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon","iconSize".concat(De(i))],endIcon:["icon","endIcon","iconSize".concat(De(i))]},VO,s);return(0,a.A)({},s,l)})(k),T=_&&(0,U.jsx)(QO,{className:E.startIcon,ownerState:k,children:_}),C=v&&(0,U.jsx)($O,{className:E.endIcon,ownerState:k,children:v}),A=i||"";return(0,U.jsxs)(GO,(0,a.A)({ownerState:k,className:c(r.className,E.root,h,A),component:d,disabled:f,focusRipple:!g,focusVisibleClassName:c(E.focusVisible,y),ref:n,type:S},x,{classes:E,children:[T,l,C]}))})),XO=YO,JO=()=>(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(zP,{container:!0,direction:"row",justifyContent:"center",sx:{padding:"20px"},children:(0,U.jsx)(XO,{onClick:()=>(xP(),void IP()),sx:{color:"#635985",backgroundColor:"#292140",borderRadius:"20px","&:hover":{backgroundColor:"#393055"}},children:lt("40px","40px","./svgFiles/restart.svg")})})}),ZO=e=>{var[t,n]=(e/1e3+"").split("."),r="";n||(n="0");const i=parseInt(t);i>=60&&(r=Math.floor(i/60)+"",t=i%60+"");return i>=60?r.padStart(2,"0")+":"+t.padStart(2,"0")+":"+n.padEnd(2,"0"):t.padStart(2,"0")+":"+n.padEnd(2,"0")},eD=()=>{const e=(0,t.useContext)(RL),n=()=>{if(e.timersArePaused)e.setDuration(0);else{const t=70;setTimeout((()=>{e.setDuration(+e.duration+t),e.setWpm(function(e,t){const n=e.length/5,r=Math.abs(t/1e3/60);return Math.round(n/r)}(e.typedSoFar,+e.duration))}),t)}};return t.useEffect((()=>n()),[e.duration,e.timersArePaused]),(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)("span",{children:[(0,U.jsx)("span",{style:{color:"#9287B7"},children:"Duration:\xa0"}),(0,U.jsx)("span",{style:{color:"#B8AAE9"},children:ZO(+e.duration)})]})})},tD=e=>{let{stat:n,statName:r,color:i}=e;(0,t.useContext)(RL);var o=2.55*+n,s=255-o;return n+""==="NaN"&&(o=0,s=255),(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)("span",{children:[(0,U.jsxs)("span",{style:{color:"".concat(i)},children:[r,"\xa0"]}),(0,U.jsx)("span",{style:{color:"rgb(".concat(s,", ").concat(o,", 0)")},children:n.toString()})]})})},nD=()=>{const e=(0,t.useContext)(RL);return(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(zP,{container:!0,justifyContent:"space-between",sx:{width:"".concat(+e.scrollPaneWidth,"vw")},children:[(0,U.jsx)(tD,{stat:e.wpm,statName:"WPM:",color:"#9287B7"}),(0,U.jsx)(tD,{stat:e.accuracy,statName:"Accuracy:",color:"#9287B7"}),(0,U.jsx)(eD,{})]})})},rD=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function iD(e){return p("MuiPaper",e)}Le("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const oD=["className","component","elevation","square","variant"],sD=Ne("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((e=>{let{theme:t,ownerState:n}=e;var r;return(0,a.A)({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.divider)},"elevation"===n.variant&&(0,a.A)({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,Y.X4)("#fff",rD(n.elevation)),", ").concat((0,Y.X4)("#fff",rD(n.elevation)),")")},t.vars&&{backgroundImage:null==(r=t.vars.overlays)?void 0:r[n.elevation]}))})),aD=t.forwardRef((function(e,t){const n=Re({props:e,name:"MuiPaper"}),{className:r,component:i="div",elevation:o=1,square:l=!1,variant:u="elevation"}=n,d=(0,s.A)(n,oD),h=(0,a.A)({},n,{component:i,elevation:o,square:l,variant:u}),f=(e=>{const{square:t,elevation:n,variant:r,classes:i}=e;return m({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},iD,i)})(h);return(0,U.jsx)(sD,(0,a.A)({as:i,ownerState:h,className:c(f.root,r),ref:t},d))})),lD=aD;function cD(e){return"string"===typeof e}function uD(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n}function dD(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t}const hD=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function fD(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=e,l=(0,s.A)(e,hD),u=o?{}:function(e,t,n){return"function"===typeof e?e(t,n):e}(r,i),{props:d,internalRef:h}=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const e=c(null==n?void 0:n.className,o,null==i?void 0:i.className,null==r?void 0:r.className),t=(0,a.A)({},null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),s=(0,a.A)({},n,i,r);return e.length>0&&(s.className=e),Object.keys(t).length>0&&(s.style=t),{props:s,internalRef:void 0}}const s=uD((0,a.A)({},i,r)),l=dD(r),u=dD(i),d=t(s),h=c(null==d?void 0:d.className,null==n?void 0:n.className,o,null==i?void 0:i.className,null==r?void 0:r.className),f=(0,a.A)({},null==d?void 0:d.style,null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),p=(0,a.A)({},d,n,u,l);return h.length>0&&(p.className=h),Object.keys(f).length>0&&(p.style=f),{props:p,internalRef:d.ref}}((0,a.A)({},l,{externalSlotProps:u})),f=BP(h,null==u?void 0:u.ref,null==(t=e.additionalProps)?void 0:t.ref),p=function(e,t,n){return void 0===e||cD(e)?t:(0,a.A)({},t,{ownerState:(0,a.A)({},t.ownerState,n)})}(n,(0,a.A)({},d,{ref:f}),i);return p}function pD(e){return e&&e.ownerDocument||document}function mD(e){let{controlled:n,default:r,name:i,state:o="value"}=e;const{current:s}=t.useRef(void 0!==n),[a,l]=t.useState(r);return[s?n:a,t.useCallback((e=>{s||l(e)}),[])]}var gD=n(7040);const vD={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function yD(e,t){return e-t}function wD(e,t){var n;const{index:r}=null!=(n=e.reduce(((e,n,r)=>{const i=Math.abs(t-n);return null===e||i<e.distance||i===e.distance?{distance:i,index:r}:e}),null))?n:{};return r}function bD(e,t){if(void 0!==t.current&&e.changedTouches){const n=e;for(let e=0;e<n.changedTouches.length;e+=1){const r=n.changedTouches[e];if(r.identifier===t.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function _D(e,t,n){return 100*(e-t)/(n-t)}function SD(e,t,n){const r=Math.round((e-n)/t)*t+n;return Number(r.toFixed(function(e){if(Math.abs(e)<1){const t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}(t)))}function ID(e){let{values:t,newValue:n,index:r}=e;const i=t.slice();return i[r]=n,i.sort(yD)}function xD(e){let{sliderRef:t,activeIndex:n,setActive:r}=e;var i,o;const s=pD(t.current);var a;null!=(i=t.current)&&i.contains(s.activeElement)&&Number(null==s||null==(o=s.activeElement)?void 0:o.getAttribute("data-index"))===n||(null==(a=t.current)||a.querySelector('[type="range"][data-index="'.concat(n,'"]')).focus());r&&r(n)}function kD(e,t){return"number"===typeof e&&"number"===typeof t?e===t:"object"===typeof e&&"object"===typeof t&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e===t;return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}(e,t)}const ED={horizontal:{offset:e=>({left:"".concat(e,"%")}),leap:e=>({width:"".concat(e,"%")})},"horizontal-reverse":{offset:e=>({right:"".concat(e,"%")}),leap:e=>({width:"".concat(e,"%")})},vertical:{offset:e=>({bottom:"".concat(e,"%")}),leap:e=>({height:"".concat(e,"%")})}},TD=e=>e;let CD;function AD(){return void 0===CD&&(CD="undefined"===typeof CSS||"function"!==typeof CSS.supports||CSS.supports("touch-action","none")),CD}function ND(e){const{"aria-labelledby":n,defaultValue:r,disabled:i=!1,disableSwap:o=!1,isRtl:s=!1,marks:l=!1,max:c=100,min:u=0,name:d,onChange:h,onChangeCommitted:f,orientation:p="horizontal",rootRef:m,scale:g=TD,step:v=1,shiftStep:y=10,tabIndex:w,value:b}=e,_=t.useRef(),[S,I]=t.useState(-1),[x,k]=t.useState(-1),[E,T]=t.useState(!1),C=t.useRef(0),[A,N]=mD({controlled:b,default:null!=r?r:u,name:"Slider"}),R=h&&((e,t,n)=>{const r=e.nativeEvent||e,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:t,name:d}}),h(i,t,n)}),P=Array.isArray(A);let O=P?A.slice().sort(yD):[A];O=O.map((e=>null==e?u:(0,gD.A)(e,u,c)));const D=!0===l&&null!==v?[...Array(Math.floor((c-u)/v)+1)].map(((e,t)=>({value:u+v*t}))):l||[],L=D.map((e=>e.value)),{isFocusVisibleRef:M,onBlur:F,onFocus:j,ref:U}=oO(),[z,V]=t.useState(-1),B=t.useRef(),q=BP(U,B),W=BP(m,q),H=e=>t=>{var n;const r=Number(t.currentTarget.getAttribute("data-index"));j(t),!0===M.current&&V(r),k(r),null==e||null==(n=e.onFocus)||n.call(e,t)},K=e=>t=>{var n;F(t),!1===M.current&&V(-1),k(-1),null==e||null==(n=e.onBlur)||n.call(e,t)},G=(e,t)=>{const n=Number(e.currentTarget.getAttribute("data-index")),r=O[n],i=L.indexOf(r);let s=t;if(D&&null==v){const e=L[L.length-1];s=s>e?e:s<L[0]?L[0]:s<r?L[i-1]:L[i+1]}if(s=(0,gD.A)(s,u,c),P){o&&(s=(0,gD.A)(s,O[n-1]||-1/0,O[n+1]||1/0));const e=s;s=ID({values:O,newValue:s,index:n});let t=n;o||(t=s.indexOf(e)),xD({sliderRef:B,activeIndex:t})}N(s),V(n),R&&!kD(s,A)&&R(e,s,n),f&&f(e,s)},Q=e=>t=>{var n;if(null!==v){const e=Number(t.currentTarget.getAttribute("data-index")),n=O[e];let r=null;("ArrowLeft"===t.key||"ArrowDown"===t.key)&&t.shiftKey||"PageDown"===t.key?r=Math.max(n-y,u):(("ArrowRight"===t.key||"ArrowUp"===t.key)&&t.shiftKey||"PageUp"===t.key)&&(r=Math.min(n+y,c)),null!==r&&(G(t,r),t.preventDefault())}null==e||null==(n=e.onKeyDown)||n.call(e,t)};WP((()=>{var e;i&&B.current.contains(document.activeElement)&&(null==(e=document.activeElement)||e.blur())}),[i]),i&&-1!==S&&I(-1),i&&-1!==z&&V(-1);const $=t.useRef();let Y=p;s&&"horizontal"===p&&(Y+="-reverse");const X=e=>{let{finger:t,move:n=!1}=e;const{current:r}=B,{width:i,height:s,bottom:a,left:l}=r.getBoundingClientRect();let d,h;if(d=0===Y.indexOf("vertical")?(a-t.y)/s:(t.x-l)/i,-1!==Y.indexOf("-reverse")&&(d=1-d),h=function(e,t,n){return(n-t)*e+t}(d,u,c),v)h=SD(h,v,u);else{const e=wD(L,h);h=L[e]}h=(0,gD.A)(h,u,c);let f=0;if(P){f=n?$.current:wD(O,h),o&&(h=(0,gD.A)(h,O[f-1]||-1/0,O[f+1]||1/0));const e=h;h=ID({values:O,newValue:h,index:f}),o&&n||(f=h.indexOf(e),$.current=f)}return{newValue:h,activeIndex:f}},J=HP((e=>{const t=bD(e,_);if(!t)return;if(C.current+=1,"mousemove"===e.type&&0===e.buttons)return void Z(e);const{newValue:n,activeIndex:r}=X({finger:t,move:!0});xD({sliderRef:B,activeIndex:r,setActive:I}),N(n),!E&&C.current>2&&T(!0),R&&!kD(n,A)&&R(e,n,r)})),Z=HP((e=>{const t=bD(e,_);if(T(!1),!t)return;const{newValue:n}=X({finger:t,move:!0});I(-1),"touchend"===e.type&&k(-1),f&&f(e,n),_.current=void 0,te()})),ee=HP((e=>{if(i)return;AD()||e.preventDefault();const t=e.changedTouches[0];null!=t&&(_.current=t.identifier);const n=bD(e,_);if(!1!==n){const{newValue:t,activeIndex:r}=X({finger:n});xD({sliderRef:B,activeIndex:r,setActive:I}),N(t),R&&!kD(t,A)&&R(e,t,r)}C.current=0;const r=pD(B.current);r.addEventListener("touchmove",J,{passive:!0}),r.addEventListener("touchend",Z,{passive:!0})})),te=t.useCallback((()=>{const e=pD(B.current);e.removeEventListener("mousemove",J),e.removeEventListener("mouseup",Z),e.removeEventListener("touchmove",J),e.removeEventListener("touchend",Z)}),[Z,J]);t.useEffect((()=>{const{current:e}=B;return e.addEventListener("touchstart",ee,{passive:AD()}),()=>{e.removeEventListener("touchstart",ee),te()}}),[te,ee]),t.useEffect((()=>{i&&te()}),[i,te]);const ne=_D(P?O[0]:u,u,c),re=_D(O[O.length-1],u,c)-ne,ie=e=>t=>{var n;null==(n=e.onMouseLeave)||n.call(e,t),k(-1)};return{active:S,axis:Y,axisProps:ED,dragging:E,focusedThumbIndex:z,getHiddenInputProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r;const o=uD(t),l={onChange:(h=o||{},e=>{var t;null==(t=h.onChange)||t.call(h,e),G(e,e.target.valueAsNumber)}),onFocus:H(o||{}),onBlur:K(o||{}),onKeyDown:Q(o||{})};var h;const f=(0,a.A)({},o,l);return(0,a.A)({tabIndex:w,"aria-labelledby":n,"aria-orientation":p,"aria-valuemax":g(c),"aria-valuemin":g(u),name:d,type:"range",min:e.min,max:e.max,step:null===e.step&&e.marks?"any":null!=(r=e.step)?r:void 0,disabled:i},t,f,{style:(0,a.A)({},vD,{direction:s?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=uD(e),n={onMouseDown:(r=t||{},e=>{var t;if(null==(t=r.onMouseDown)||t.call(r,e),i)return;if(e.defaultPrevented)return;if(0!==e.button)return;e.preventDefault();const n=bD(e,_);if(!1!==n){const{newValue:t,activeIndex:r}=X({finger:n});xD({sliderRef:B,activeIndex:r,setActive:I}),N(t),R&&!kD(t,A)&&R(e,t,r)}C.current=0;const o=pD(B.current);o.addEventListener("mousemove",J,{passive:!0}),o.addEventListener("mouseup",Z)})};var r;const o=(0,a.A)({},t,n);return(0,a.A)({},e,{ref:W},o)},getThumbProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=uD(e),n={onMouseOver:(r=t||{},e=>{var t;null==(t=r.onMouseOver)||t.call(r,e);const n=Number(e.currentTarget.getAttribute("data-index"));k(n)}),onMouseLeave:ie(t||{})};var r;return(0,a.A)({},e,t,n)},marks:D,open:x,range:P,rootRef:W,trackLeap:re,trackOffset:ne,values:O,getThumbStyle:e=>({pointerEvents:-1!==S&&S!==e?"none":void 0})}}const RD=t.createContext();const PD=()=>{const e=t.useContext(RD);return null!=e&&e};const OD=e=>!e||!cD(e);function DD(e){return p("MuiSlider",e)}const LD=Le("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]);const MD=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"],FD=Re;function jD(e){return e}const UD=Ne("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["color".concat(De(n.color))],"medium"!==n.size&&t["size".concat(De(n.size))],n.marked&&t.marked,"vertical"===n.orientation&&t.vertical,"inverted"===n.track&&t.trackInverted,!1===n.track&&t.trackFalse]}})((e=>{let{theme:t}=e;var n;return{borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},["&.".concat(LD.disabled)]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},["&.".concat(LD.dragging)]:{["& .".concat(LD.thumb,", & .").concat(LD.track)]:{transition:"none"}},variants:[...Object.keys((null!=(n=t.vars)?n:t).palette).filter((e=>{var n;return(null!=(n=t.vars)?n:t).palette[e].main})).map((e=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}})),zD=Ne("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),VD=Ne("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})((e=>{let{theme:t}=e;var n;return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.keys((null!=(n=t.vars)?n:t).palette).filter((e=>{var n;return(null!=(n=t.vars)?n:t).palette[e].main})).map((e=>({props:{color:e,track:"inverted"},style:(0,a.A)({},t.vars?{backgroundColor:t.vars.palette.Slider["".concat(e,"Track")],borderColor:t.vars.palette.Slider["".concat(e,"Track")]}:(0,a.A)({backgroundColor:(0,Y.a)(t.palette[e].main,.62),borderColor:(0,Y.a)(t.palette[e].main,.62)},t.applyStyles("dark",{backgroundColor:(0,Y.e$)(t.palette[e].main,.5)}),t.applyStyles("dark",{borderColor:(0,Y.e$)(t.palette[e].main,.5)})))})))]}})),BD=Ne("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.thumb,t["thumbColor".concat(De(n.color))],"medium"!==n.size&&t["thumbSize".concat(De(n.size))]]}})((e=>{let{theme:t}=e;var n;return{position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},["&.".concat(LD.disabled)]:{"&:hover":{boxShadow:"none"}},variants:[...Object.keys((null!=(n=t.vars)?n:t).palette).filter((e=>{var n;return(null!=(n=t.vars)?n:t).palette[e].main})).map((e=>({props:{color:e},style:{["&:hover, &.".concat(LD.focusVisible)]:(0,a.A)({},t.vars?{boxShadow:"0px 0px 0px 8px rgba(".concat(t.vars.palette[e].mainChannel," / 0.16)")}:{boxShadow:"0px 0px 0px 8px ".concat((0,Y.X4)(t.palette[e].main,.16))},{"@media (hover: none)":{boxShadow:"none"}}),["&.".concat(LD.active)]:(0,a.A)({},t.vars?{boxShadow:"0px 0px 0px 14px rgba(".concat(t.vars.palette[e].mainChannel," / 0.16)}")}:{boxShadow:"0px 0px 0px 14px ".concat((0,Y.X4)(t.palette[e].main,.16))})}}))),{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}}]}})),qD=Ne((function(e){const{children:n,className:r,value:i}=e,o=(e=>{const{open:t}=e;return{offset:c(t&&LD.valueLabelOpen),circle:LD.valueLabelCircle,label:LD.valueLabelLabel}})(e);return n?t.cloneElement(n,{className:c(n.props.className)},(0,U.jsxs)(t.Fragment,{children:[n.props.children,(0,U.jsx)("span",{className:c(o.offset,r),"aria-hidden":!0,children:(0,U.jsx)("span",{className:o.circle,children:(0,U.jsx)("span",{className:o.label,children:i})})})]})):null}),{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})((e=>{let{theme:t}=e;return(0,a.A)({zIndex:1,whiteSpace:"nowrap"},t.typography.body2,{fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},["&.".concat(LD.valueLabelOpen)]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},["&.".concat(LD.valueLabelOpen)]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]})})),WD=Ne("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>Ce(e)&&"markActive"!==e,overridesResolver:(e,t)=>{const{markActive:n}=e;return[t.mark,n&&t.markActive]}})((e=>{let{theme:t}=e;return{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]}})),HD=Ne("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>Ce(e)&&"markLabelActive"!==e,overridesResolver:(e,t)=>t.markLabel})((e=>{let{theme:t}=e;return(0,a.A)({},t.typography.body2,{color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]})})),KD=e=>{let{children:t}=e;return t},GD=t.forwardRef((function(e,n){var r,i,o,l,u,d,h,f,p,g,v,y,w,b,_,S,I,x,k,E,T,C,A,N;const R=FD({props:e,name:"MuiSlider"}),P=PD(),{"aria-label":O,"aria-valuetext":D,"aria-labelledby":L,component:M="span",components:F={},componentsProps:j={},color:z="primary",classes:V,className:B,disableSwap:q=!1,disabled:W=!1,getAriaLabel:H,getAriaValueText:K,marks:G=!1,max:Q=100,min:$=0,orientation:Y="horizontal",shiftStep:X=10,size:J="medium",step:Z=1,scale:ee=jD,slotProps:te,slots:ne,track:re="normal",valueLabelDisplay:ie="off",valueLabelFormat:oe=jD}=R,se=(0,s.A)(R,MD),ae=(0,a.A)({},R,{isRtl:P,max:Q,min:$,classes:V,disabled:W,disableSwap:q,orientation:Y,marks:G,color:z,size:J,step:Z,shiftStep:X,scale:ee,track:re,valueLabelDisplay:ie,valueLabelFormat:oe}),{axisProps:le,getRootProps:ce,getHiddenInputProps:ue,getThumbProps:de,open:he,active:fe,axis:pe,focusedThumbIndex:me,range:ge,dragging:ve,marks:ye,values:we,trackOffset:be,trackLeap:_e,getThumbStyle:Se}=ND((0,a.A)({},ae,{rootRef:n}));ae.marked=ye.length>0&&ye.some((e=>e.label)),ae.dragging=ve,ae.focusedThumbIndex=me;const Ie=(e=>{const{disabled:t,dragging:n,marked:r,orientation:i,track:o,classes:s,color:a,size:l}=e;return m({root:["root",t&&"disabled",n&&"dragging",r&&"marked","vertical"===i&&"vertical","inverted"===o&&"trackInverted",!1===o&&"trackFalse",a&&"color".concat(De(a)),l&&"size".concat(De(l))],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",l&&"thumbSize".concat(De(l)),a&&"thumbColor".concat(De(a))],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]},DD,s)})(ae),xe=null!=(r=null!=(i=null==ne?void 0:ne.root)?i:F.Root)?r:UD,ke=null!=(o=null!=(l=null==ne?void 0:ne.rail)?l:F.Rail)?o:zD,Ee=null!=(u=null!=(d=null==ne?void 0:ne.track)?d:F.Track)?u:VD,Te=null!=(h=null!=(f=null==ne?void 0:ne.thumb)?f:F.Thumb)?h:BD,Ce=null!=(p=null!=(g=null==ne?void 0:ne.valueLabel)?g:F.ValueLabel)?p:qD,Ae=null!=(v=null!=(y=null==ne?void 0:ne.mark)?y:F.Mark)?v:WD,Ne=null!=(w=null!=(b=null==ne?void 0:ne.markLabel)?b:F.MarkLabel)?w:HD,Re=null!=(_=null!=(S=null==ne?void 0:ne.input)?S:F.Input)?_:"input",Pe=null!=(I=null==te?void 0:te.root)?I:j.root,Oe=null!=(x=null==te?void 0:te.rail)?x:j.rail,Le=null!=(k=null==te?void 0:te.track)?k:j.track,Me=null!=(E=null==te?void 0:te.thumb)?E:j.thumb,Fe=null!=(T=null==te?void 0:te.valueLabel)?T:j.valueLabel,je=null!=(C=null==te?void 0:te.mark)?C:j.mark,Ue=null!=(A=null==te?void 0:te.markLabel)?A:j.markLabel,ze=null!=(N=null==te?void 0:te.input)?N:j.input,Ve=fD({elementType:xe,getSlotProps:ce,externalSlotProps:Pe,externalForwardedProps:se,additionalProps:(0,a.A)({},OD(xe)&&{as:M}),ownerState:(0,a.A)({},ae,null==Pe?void 0:Pe.ownerState),className:[Ie.root,B]}),Be=fD({elementType:ke,externalSlotProps:Oe,ownerState:ae,className:Ie.rail}),qe=fD({elementType:Ee,externalSlotProps:Le,additionalProps:{style:(0,a.A)({},le[pe].offset(be),le[pe].leap(_e))},ownerState:(0,a.A)({},ae,null==Le?void 0:Le.ownerState),className:Ie.track}),We=fD({elementType:Te,getSlotProps:de,externalSlotProps:Me,ownerState:(0,a.A)({},ae,null==Me?void 0:Me.ownerState),className:Ie.thumb}),He=fD({elementType:Ce,externalSlotProps:Fe,ownerState:(0,a.A)({},ae,null==Fe?void 0:Fe.ownerState),className:Ie.valueLabel}),Ke=fD({elementType:Ae,externalSlotProps:je,ownerState:ae,className:Ie.mark}),Ge=fD({elementType:Ne,externalSlotProps:Ue,ownerState:ae,className:Ie.markLabel}),Qe=fD({elementType:Re,getSlotProps:ue,externalSlotProps:ze,ownerState:ae});return(0,U.jsxs)(xe,(0,a.A)({},Ve,{children:[(0,U.jsx)(ke,(0,a.A)({},Be)),(0,U.jsx)(Ee,(0,a.A)({},qe)),ye.filter((e=>e.value>=$&&e.value<=Q)).map(((e,n)=>{const r=_D(e.value,$,Q),i=le[pe].offset(r);let o;return o=!1===re?-1!==we.indexOf(e.value):"normal"===re&&(ge?e.value>=we[0]&&e.value<=we[we.length-1]:e.value<=we[0])||"inverted"===re&&(ge?e.value<=we[0]||e.value>=we[we.length-1]:e.value>=we[0]),(0,U.jsxs)(t.Fragment,{children:[(0,U.jsx)(Ae,(0,a.A)({"data-index":n},Ke,!cD(Ae)&&{markActive:o},{style:(0,a.A)({},i,Ke.style),className:c(Ke.className,o&&Ie.markActive)})),null!=e.label?(0,U.jsx)(Ne,(0,a.A)({"aria-hidden":!0,"data-index":n},Ge,!cD(Ne)&&{markLabelActive:o},{style:(0,a.A)({},i,Ge.style),className:c(Ie.markLabel,Ge.className,o&&Ie.markLabelActive),children:e.label})):null]},n)})),we.map(((e,t)=>{const n=_D(e,$,Q),r=le[pe].offset(n),i="off"===ie?KD:Ce;return(0,U.jsx)(i,(0,a.A)({},!cD(i)&&{valueLabelFormat:oe,valueLabelDisplay:ie,value:"function"===typeof oe?oe(ee(e),t):oe,index:t,open:he===t||fe===t||"on"===ie,disabled:W},He,{children:(0,U.jsx)(Te,(0,a.A)({"data-index":t},We,{className:c(Ie.thumb,We.className,fe===t&&Ie.active,me===t&&Ie.focusVisible),style:(0,a.A)({},r,Se(t),We.style),children:(0,U.jsx)(Re,(0,a.A)({"data-index":t,"aria-label":H?H(t):O,"aria-valuenow":ee(e),"aria-labelledby":L,"aria-valuetext":K?K(ee(e),t):D,value:we[t]},Qe))}))}),t)}))]}))})),QD=GD,$D=()=>{const e=(0,t.useContext)(RL);return(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(Qe,{sx:{padding:"10px",paddingLeft:"20px",flex:"1",display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,U.jsxs)(Qe,{sx:{flexDirection:"row",flex:"1",display:"flex",alignItems:"center"},children:[(0,U.jsxs)(Be,{id:"input-slider",sx:{color:"#635985"},children:["Font Size:","\xa0"]}),(0,U.jsx)(Be,{id:"input-slider",sx:{color:"#9287B7"},children:+e.fontSize})]}),(0,U.jsx)(QD,{sx:{color:"#9287B7","& .MuiSlider-thumb":{backgroundColor:"#9287B7",width:"15px",height:"15px","&:hover":{boxShadow:"0px 0px 0px 8px rgba(146, 135, 183, 0.5)"},"&:not(:hover)":{boxShadow:"0px 0px 0px 0px rgba(146, 135, 183, 0.5)"},"&:active":{boxShadow:"0px 0px 0px 12px rgba(146, 135, 183, 0.5)"}}},"aria-label":"FontSize",value:sn.getSettings().getFontSize(),valueLabelDisplay:"off",min:10,max:50,onChange:(t,n)=>((t,n)=>{"number"==typeof n&&(e.setFontSize(n),console.log(n))})(0,n),onMouseUp:()=>{mP().then((()=>{console.log("Finished updating online settings!")}))}})]})})},YD=()=>{const e=(0,t.useContext)(RL);return(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(Qe,{sx:{padding:"10px",paddingLeft:"30px",flex:"1",display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,U.jsxs)(Qe,{sx:{flexDirection:"row",flex:"1",display:"flex",alignItems:"center"},children:[(0,U.jsxs)(Be,{id:"input-slider",sx:{color:"#635985"},children:["Word Count:","\xa0"]}),(0,U.jsx)(Be,{id:"input-slider",sx:{color:"#9287B7"},children:+e.wordCount})]}),(0,U.jsx)(QD,{sx:{color:"#9287B7","& .MuiSlider-thumb":{backgroundColor:"#9287B7",width:"15px",height:"15px","&:hover":{boxShadow:"0px 0px 0px 8px rgba(146, 135, 183, 0.5)"},"&:not(:hover)":{boxShadow:"0px 0px 0px 0px rgba(146, 135, 183, 0.5)"},"&:active":{boxShadow:"0px 0px 0px 12px rgba(146, 135, 183, 0.5)"}}},"aria-label":"FontSize",value:sn.getSettings().getWordCount(),valueLabelDisplay:"off",min:10,max:100,step:5,onChange:(t,n)=>((t,n)=>{"number"==typeof n&&e.setWordCount(n)})(0,n),onMouseUp:()=>{mP().then((()=>{console.log("Finished updating online settings!")}))}})]})})},XD=mD;const JD=t.createContext(void 0);function ZD(e){return p("PrivateSwitchBase",e)}Le("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const eL=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],tL=Ne(zO)((e=>{let{ownerState:t}=e;return(0,a.A)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),nL=Ne("input",{shouldForwardProp:Ae})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),rL=t.forwardRef((function(e,n){const{autoFocus:r,checked:i,checkedIcon:o,className:l,defaultChecked:u,disabled:d,disableFocusRipple:h=!1,edge:f=!1,icon:p,id:g,inputProps:v,inputRef:y,name:w,onBlur:b,onChange:_,onFocus:S,readOnly:I,required:x=!1,tabIndex:k,type:E,value:T}=e,C=(0,s.A)(e,eL),[A,N]=XD({controlled:i,default:Boolean(u),name:"SwitchBase",state:"checked"}),R=t.useContext(JD);let P=d;R&&"undefined"===typeof P&&(P=R.disabled);const O="checkbox"===E||"radio"===E,D=(0,a.A)({},e,{checked:A,disabled:P,disableFocusRipple:h,edge:f}),L=(e=>{const{classes:t,checked:n,disabled:r,edge:i}=e;return m({root:["root",n&&"checked",r&&"disabled",i&&"edge".concat(De(i))],input:["input"]},ZD,t)})(D);return(0,U.jsxs)(tL,(0,a.A)({component:"span",className:c(L.root,l),centerRipple:!0,focusRipple:!h,disabled:P,tabIndex:null,role:void 0,onFocus:e=>{S&&S(e),R&&R.onFocus&&R.onFocus(e)},onBlur:e=>{b&&b(e),R&&R.onBlur&&R.onBlur(e)},ownerState:D,ref:n},C,{children:[(0,U.jsx)(nL,(0,a.A)({autoFocus:r,checked:i,defaultChecked:u,className:L.input,disabled:P,id:O?g:void 0,name:w,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;N(t),_&&_(e,t)},readOnly:I,ref:y,required:x,ownerState:D,tabIndex:k,type:E},"checkbox"===E&&void 0===T?{}:{value:T},v)),A?o:p]}))})),iL=rL;function oL(e){return p("MuiSvgIcon",e)}Le("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const sL=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],aL=Ne("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat(De(n.color))],t["fontSize".concat(De(n.fontSize))]]}})((e=>{let{theme:t,ownerState:n}=e;var r,i,o,s,a,l,c,u,d,h,f,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(r=t.transitions)||null==(i=r.create)?void 0:i.call(r,"fill",{duration:null==(o=t.transitions)||null==(o=o.duration)?void 0:o.shorter}),fontSize:{inherit:"inherit",small:(null==(s=t.typography)||null==(a=s.pxToRem)?void 0:a.call(s,20))||"1.25rem",medium:(null==(l=t.typography)||null==(c=l.pxToRem)?void 0:c.call(l,24))||"1.5rem",large:(null==(u=t.typography)||null==(d=u.pxToRem)?void 0:d.call(u,35))||"2.1875rem"}[n.fontSize],color:null!=(h=null==(f=(t.vars||t).palette)||null==(f=f[n.color])?void 0:f.main)?h:{action:null==(p=(t.vars||t).palette)||null==(p=p.action)?void 0:p.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[n.color]}})),lL=t.forwardRef((function(e,n){const r=Re({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:l="inherit",component:u="svg",fontSize:d="medium",htmlColor:h,inheritViewBox:f=!1,titleAccess:p,viewBox:g="0 0 24 24"}=r,v=(0,s.A)(r,sL),y=t.isValidElement(i)&&"svg"===i.type,w=(0,a.A)({},r,{color:l,component:u,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:f,viewBox:g,hasSvgAsChild:y}),b={};f||(b.viewBox=g);const _=(e=>{const{color:t,fontSize:n,classes:r}=e;return m({root:["root","inherit"!==t&&"color".concat(De(t)),"fontSize".concat(De(n))]},oL,r)})(w);return(0,U.jsxs)(aL,(0,a.A)({as:u,className:c(_.root,o),focusable:"false",color:h,"aria-hidden":!p||void 0,role:p?"img":void 0,ref:n},b,v,y&&i.props,{ownerState:w,children:[y?i.props.children:i,p?(0,U.jsx)("title",{children:p}):null]}))}));lL.muiName="SvgIcon";const cL=lL;function uL(e,n){function r(t,r){return(0,U.jsx)(cL,(0,a.A)({"data-testid":"".concat(n,"Icon"),ref:r},t,{children:e}))}return r.muiName=cL.muiName,t.memo(t.forwardRef(r))}const dL=uL((0,U.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),hL=uL((0,U.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),fL=Ne("span",{shouldForwardProp:Ae})({position:"relative",display:"flex"}),pL=Ne(dL)({transform:"scale(1)"}),mL=Ne(hL)((e=>{let{theme:t,ownerState:n}=e;return(0,a.A)({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},n.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})})}));const gL=function(e){const{checked:t=!1,classes:n={},fontSize:r}=e,i=(0,a.A)({},e,{checked:t});return(0,U.jsxs)(fL,{className:n.root,ownerState:i,children:[(0,U.jsx)(pL,{fontSize:r,className:n.background,ownerState:i}),(0,U.jsx)(mL,{fontSize:r,className:n.dot,ownerState:i})]})};function vL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}),(()=>{}))}const yL=vL;const wL=t.createContext(void 0);function bL(e){return p("MuiRadio",e)}const _L=Le("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),SL=["checked","checkedIcon","color","icon","name","onChange","size","className"],IL=Ne(iL,{shouldForwardProp:e=>Ae(e)||"classes"===e,name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"medium"!==n.size&&t["size".concat(De(n.size))],t["color".concat(De(n.color))]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,a.A)({color:(t.vars||t).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,Y.X4)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{["&.".concat(_L.checked)]:{color:(t.vars||t).palette[n.color].main}},{["&.".concat(_L.disabled)]:{color:(t.vars||t).palette.action.disabled}})}));const xL=(0,U.jsx)(gL,{checked:!0}),kL=(0,U.jsx)(gL,{}),EL=t.forwardRef((function(e,n){var r,i;const o=Re({props:e,name:"MuiRadio"}),{checked:l,checkedIcon:u=xL,color:d="primary",icon:h=kL,name:f,onChange:p,size:g="medium",className:v}=o,y=(0,s.A)(o,SL),w=(0,a.A)({},o,{color:d,size:g}),b=(e=>{const{classes:t,color:n,size:r}=e,i={root:["root","color".concat(De(n)),"medium"!==r&&"size".concat(De(r))]};return(0,a.A)({},t,m(i,bL,t))})(w),_=t.useContext(wL);let S=l;const I=yL(p,_&&_.onChange);let x=f;return _&&("undefined"===typeof S&&(S=function(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}(_.value,o.value)),"undefined"===typeof x&&(x=_.name)),(0,U.jsx)(IL,(0,a.A)({type:"radio",icon:t.cloneElement(h,{fontSize:null!=(r=kL.props.fontSize)?r:g}),checkedIcon:t.cloneElement(u,{fontSize:null!=(i=xL.props.fontSize)?i:g}),ownerState:w,classes:b,name:x,checked:S,onChange:I,ref:n,className:c(b.root,v)},y))})),TL=EL,CL=e=>{const n=(0,t.useContext)(RL);return(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(Qe,{sx:{padding:"10px",flex:"1",display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,U.jsx)(Be,{id:"input-slider",children:e.settingName}),(0,U.jsx)(TL,{onMouseUp:()=>{mP().then((()=>{console.log("Finished updating online settings!")}))},onClick:()=>(()=>{let t=0;n.wordsEnabled&&t++,n.numbersEnabled&&t++,n.sentencesEnabled&&t++,(t>=2||0==e.setting||e.setSetting==n.setLowercaseEnabled||e.setSetting==n.setSymbolsEnabled)&&e.setSetting(!e.setting)})(),checked:e.setting.valueOf(),sx:{color:"#635985","&.Mui-checked":{color:"#9287B7"}}})]})})},AL=()=>{const e=(0,t.useContext)(RL);return(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(lD,{variant:"elevation",elevation:3,square:!1,sx:{borderRadius:"20px",height:"fit-content",display:"inline-block",width:"75vw",backdropFilter:"blur(5px)",backgroundColor:"rgba(41, 33, 64, 0.5)"},children:(0,U.jsx)("span",{style:{color:"#635985"},children:(0,U.jsxs)(zP,{container:!0,direction:"row",justifyContent:"space-evenly",children:[(0,U.jsx)($D,{}),(0,U.jsx)(YD,{}),(0,U.jsx)(CL,{setting:e.numbersEnabled,setSetting:e.setNumbersEnabled,settingName:"Numbers"}),(0,U.jsx)(CL,{setting:e.sentencesEnabled,setSetting:e.setSentencesEnabled,settingName:"Sentences"}),(0,U.jsx)(CL,{setting:e.wordsEnabled,setSetting:e.setWordsEnabled,settingName:"Words"}),(0,U.jsx)(CL,{setting:e.symbolsEnabled,setSetting:e.setSymbolsEnabled,settingName:"Symbols"}),(0,U.jsx)(CL,{setting:e.lowercaseEnabled,setSetting:e.setLowercaseEnabled,settingName:"Lowercase"})]})})})})};var NL=(0,t.createContext)({starArray:[],setStarArray:()=>{}}),RL=(0,t.createContext)({typedSoFar:"",toType:"",wpm:0,scrollPaneWidth:0,accuracy:0,duration:0,timersArePaused:!0,fontSize:0,wordCount:0,numbersEnabled:!1,wordsEnabled:!1,sentencesEnabled:!0,symbolsEnabled:!1,lowercaseEnabled:!1,setLowercaseEnabled:()=>{},setSymbolsEnabled:()=>{},setSentencesEnabled:()=>{},setWordsEnabled:()=>{},setNumbersEnabled:()=>{},setWordCount:()=>{},setFontSize:()=>{},setTimersArePaused:()=>{},setDuration:()=>{},setAccuracy:()=>{},setScrollPaneWidth:()=>{},setWpm:()=>{},setToType:()=>{},setTypedSoFar:()=>{}}),PL=()=>{};const OL=()=>{const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(""),[o,s]=(0,t.useState)(0),[a,l]=(0,t.useState)(65),[c,u]=(0,t.useState)(100),[d,h]=(0,t.useState)(0),[f,p]=(0,t.useState)(!0),[m,g]=(0,t.useState)(sn.getSettings().getFontSize()),[v,y]=(0,t.useState)(sn.getSettings().getWordCount()),[w,b]=(0,t.useState)(sn.getSettings().getNumbersEnabled()),[_,S]=(0,t.useState)(sn.getSettings().getWordsEnabled()),[I,x]=(0,t.useState)(sn.getSettings().getSentencesEnabled()),[k,E]=(0,t.useState)(sn.getSettings().getSymbolsEnabled()),[T,C]=(0,t.useState)(sn.getSettings().getLowercaseEnabled()),A={typedSoFar:r,toType:e,wpm:o,scrollPaneWidth:a,accuracy:c,duration:d,timersArePaused:f,fontSize:m,wordCount:v,numbersEnabled:w,wordsEnabled:_,sentencesEnabled:I,symbolsEnabled:k,lowercaseEnabled:T,setLowercaseEnabled:C,setSymbolsEnabled:E,setSentencesEnabled:x,setWordsEnabled:S,setNumbersEnabled:b,setWordCount:y,setFontSize:g,setTimersArePaused:p,setDuration:h,setAccuracy:u,setScrollPaneWidth:l,setWpm:s,setToType:n,setTypedSoFar:i};PL=()=>{g(sn.getSettings().getFontSize()),y(sn.getSettings().getWordCount()),b(sn.getSettings().getNumbersEnabled()),S(sn.getSettings().getWordsEnabled()),x(sn.getSettings().getSentencesEnabled()),E(sn.getSettings().getSymbolsEnabled()),C(sn.getSettings().getLowercaseEnabled())};const[N,R]=(0,t.useState)([]),P={starArray:N,setStarArray:R};(0,t.useEffect)((()=>{(async()=>{const e=await it(A);n(e.toString()),RL=(0,t.createContext)(A),NL=(0,t.createContext)(P)})()}),[]);return(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(zP,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"center",padding:"30px",children:[(0,U.jsxs)(RL.Provider,{value:A,children:[(0,U.jsx)(AL,{}),(0,U.jsx)(TP,{}),(0,U.jsx)(NL.Provider,{value:P,children:(0,U.jsx)(kP,{})}),(0,U.jsx)(JO,{}),(0,U.jsx)(nD,{})]}),(0,U.jsx)(zP,{item:!0,sx:{position:"absolute",bottom:0,width:"100vw",height:"100vh",margin:0,padding:0,zIndex:-2},children:(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(Qe,{sx:{position:"fixed",width:"100vw",height:"100vh"},children:N})})})]})})};var DL=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function LL(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||DL(r)&&DL(i)))return!1;var r,i;return!0}const ML=function(e,t){var n;void 0===t&&(t=LL);var r,i=[],o=!1;return function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return o&&n===this&&t(s,i)||(r=e.apply(this,s),o=!0,n=this,i=s),r}};var FL="object"===typeof performance&&"function"===typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function jL(e){cancelAnimationFrame(e.id)}function UL(e,t){var n=FL();var r={id:requestAnimationFrame((function i(){FL()-n>=t?e.call(null):r.id=requestAnimationFrame(i)}))};return r}var zL=-1;function VL(e){if(void 0===e&&(e=!1),-1===zL||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),zL=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return zL}var BL=null;function qL(e){if(void 0===e&&(e=!1),null===BL||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?BL="positive-descending":(t.scrollLeft=1,BL=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),BL}return BL}var WL=function(e,t){return e};function HL(e){var n,r=e.getItemOffset,i=e.getEstimatedTotalSize,o=e.getItemSize,s=e.getOffsetForIndexAndAlignment,l=e.getStartIndexForOffset,c=e.getStopIndexForStartIndex,u=e.initInstanceProps,d=e.shouldResetStyleCacheOnItemSizeChange,h=e.validateProps;return n=function(e){function n(t){var n;return(n=e.call(this,t)||this)._instanceProps=u(n.props,aO(n)),n._outerRef=void 0,n._resetIsScrollingTimeoutId=null,n.state={instance:aO(n),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"===typeof n.props.initialScrollOffset?n.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},n._callOnItemsRendered=void 0,n._callOnItemsRendered=ML((function(e,t,r,i){return n.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:r,visibleStopIndex:i})})),n._callOnScroll=void 0,n._callOnScroll=ML((function(e,t,r){return n.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:r})})),n._getItemStyle=void 0,n._getItemStyle=function(e){var t,i=n.props,s=i.direction,a=i.itemSize,l=i.layout,c=n._getItemStyleCache(d&&a,d&&l,d&&s);if(c.hasOwnProperty(e))t=c[e];else{var u=r(n.props,e,n._instanceProps),h=o(n.props,e,n._instanceProps),f="horizontal"===s||"horizontal"===l,p="rtl"===s,m=f?u:0;c[e]=t={position:"absolute",left:p?void 0:m,right:p?m:void 0,top:f?0:u,height:f?"100%":h,width:f?h:"100%"}}return t},n._getItemStyleCache=void 0,n._getItemStyleCache=ML((function(e,t,n){return{}})),n._onScrollHorizontal=function(e){var t=e.currentTarget,r=t.clientWidth,i=t.scrollLeft,o=t.scrollWidth;n.setState((function(e){if(e.scrollOffset===i)return null;var t=n.props.direction,s=i;if("rtl"===t)switch(qL()){case"negative":s=-i;break;case"positive-descending":s=o-r-i}return s=Math.max(0,Math.min(s,o-r)),{isScrolling:!0,scrollDirection:e.scrollOffset<s?"forward":"backward",scrollOffset:s,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._onScrollVertical=function(e){var t=e.currentTarget,r=t.clientHeight,i=t.scrollHeight,o=t.scrollTop;n.setState((function(e){if(e.scrollOffset===o)return null;var t=Math.max(0,Math.min(o,i-r));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._outerRefSetter=function(e){var t=n.props.outerRef;n._outerRef=e,"function"===typeof t?t(e):null!=t&&"object"===typeof t&&t.hasOwnProperty("current")&&(t.current=e)},n._resetIsScrollingDebounced=function(){null!==n._resetIsScrollingTimeoutId&&jL(n._resetIsScrollingTimeoutId),n._resetIsScrollingTimeoutId=UL(n._resetIsScrolling,150)},n._resetIsScrolling=function(){n._resetIsScrollingTimeoutId=null,n.setState({isScrolling:!1},(function(){n._getItemStyleCache(-1,null)}))},n}cO(n,e),n.getDerivedStateFromProps=function(e,t){return KL(e,t),h(e),null};var f=n.prototype;return f.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},f.scrollToItem=function(e,t){void 0===t&&(t="auto");var n=this.props,r=n.itemCount,i=n.layout,o=this.state.scrollOffset;e=Math.max(0,Math.min(e,r-1));var a=0;if(this._outerRef){var l=this._outerRef;a="vertical"===i?l.scrollWidth>l.clientWidth?VL():0:l.scrollHeight>l.clientHeight?VL():0}this.scrollTo(s(this.props,e,t,o,this._instanceProps,a))},f.componentDidMount=function(){var e=this.props,t=e.direction,n=e.initialScrollOffset,r=e.layout;if("number"===typeof n&&null!=this._outerRef){var i=this._outerRef;"horizontal"===t||"horizontal"===r?i.scrollLeft=n:i.scrollTop=n}this._callPropsCallbacks()},f.componentDidUpdate=function(){var e=this.props,t=e.direction,n=e.layout,r=this.state,i=r.scrollOffset;if(r.scrollUpdateWasRequested&&null!=this._outerRef){var o=this._outerRef;if("horizontal"===t||"horizontal"===n)if("rtl"===t)switch(qL()){case"negative":o.scrollLeft=-i;break;case"positive-ascending":o.scrollLeft=i;break;default:var s=o.clientWidth,a=o.scrollWidth;o.scrollLeft=a-s-i}else o.scrollLeft=i;else o.scrollTop=i}this._callPropsCallbacks()},f.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&jL(this._resetIsScrollingTimeoutId)},f.render=function(){var e=this.props,n=e.children,r=e.className,o=e.direction,s=e.height,l=e.innerRef,c=e.innerElementType,u=e.innerTagName,d=e.itemCount,h=e.itemData,f=e.itemKey,p=void 0===f?WL:f,m=e.layout,g=e.outerElementType,v=e.outerTagName,y=e.style,w=e.useIsScrolling,b=e.width,_=this.state.isScrolling,S="horizontal"===o||"horizontal"===m,I=S?this._onScrollHorizontal:this._onScrollVertical,x=this._getRangeToRender(),k=x[0],E=x[1],T=[];if(d>0)for(var C=k;C<=E;C++)T.push((0,t.createElement)(n,{data:h,key:p(C,h),index:C,isScrolling:w?_:void 0,style:this._getItemStyle(C)}));var A=i(this.props,this._instanceProps);return(0,t.createElement)(g||v||"div",{className:r,onScroll:I,ref:this._outerRefSetter,style:(0,a.A)({position:"relative",height:s,width:b,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:o},y)},(0,t.createElement)(c||u||"div",{children:T,ref:l,style:{height:S?"100%":A,pointerEvents:_?"none":void 0,width:S?A:"100%"}}))},f._callPropsCallbacks=function(){if("function"===typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],n=e[1],r=e[2],i=e[3];this._callOnItemsRendered(t,n,r,i)}if("function"===typeof this.props.onScroll){var o=this.state,s=o.scrollDirection,a=o.scrollOffset,l=o.scrollUpdateWasRequested;this._callOnScroll(s,a,l)}},f._getRangeToRender=function(){var e=this.props,t=e.itemCount,n=e.overscanCount,r=this.state,i=r.isScrolling,o=r.scrollDirection,s=r.scrollOffset;if(0===t)return[0,0,0,0];var a=l(this.props,s,this._instanceProps),u=c(this.props,a,s,this._instanceProps),d=i&&"backward"!==o?1:Math.max(1,n),h=i&&"forward"!==o?1:Math.max(1,n);return[Math.max(0,a-d),Math.max(0,Math.min(t-1,u+h)),a,u]},n}(t.PureComponent),n.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},n}var KL=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},GL=function(e,t,n){var r=e.itemSize,i=n.itemMetadataMap,o=n.lastMeasuredIndex;if(t>o){var s=0;if(o>=0){var a=i[o];s=a.offset+a.size}for(var l=o+1;l<=t;l++){var c=r(l);i[l]={offset:s,size:c},s+=c}n.lastMeasuredIndex=t}return i[t]},QL=function(e,t,n,r,i){for(;r<=n;){var o=r+Math.floor((n-r)/2),s=GL(e,o,t).offset;if(s===i)return o;s<i?r=o+1:s>i&&(n=o-1)}return r>0?r-1:0},$L=function(e,t,n,r){for(var i=e.itemCount,o=1;n<i&&GL(e,n,t).offset<r;)n+=o,o*=2;return QL(e,t,Math.min(n,i-1),Math.floor(n/2),r)},YL=function(e,t){var n=e.itemCount,r=t.itemMetadataMap,i=t.estimatedItemSize,o=t.lastMeasuredIndex,s=0;if(o>=n&&(o=n-1),o>=0){var a=r[o];s=a.offset+a.size}return s+(n-o-1)*i},XL=HL({getItemOffset:function(e,t,n){return GL(e,t,n).offset},getItemSize:function(e,t,n){return n.itemMetadataMap[t].size},getEstimatedTotalSize:YL,getOffsetForIndexAndAlignment:function(e,t,n,r,i,o){var s=e.direction,a=e.height,l=e.layout,c=e.width,u="horizontal"===s||"horizontal"===l?c:a,d=GL(e,t,i),h=YL(e,i),f=Math.max(0,Math.min(h-u,d.offset)),p=Math.max(0,d.offset-u+d.size+o);switch("smart"===n&&(n=r>=p-u&&r<=f+u?"auto":"center"),n){case"start":return f;case"end":return p;case"center":return Math.round(p+(f-p)/2);default:return r>=p&&r<=f?r:r<p?p:f}},getStartIndexForOffset:function(e,t,n){return function(e,t,n){var r=t.itemMetadataMap,i=t.lastMeasuredIndex;return(i>0?r[i].offset:0)>=n?QL(e,t,i,0,n):$L(e,t,Math.max(0,i),n)}(e,n,t)},getStopIndexForStartIndex:function(e,t,n,r){for(var i=e.direction,o=e.height,s=e.itemCount,a=e.layout,l=e.width,c="horizontal"===i||"horizontal"===a?l:o,u=GL(e,t,r),d=n+c,h=u.offset+u.size,f=t;f<s-1&&h<d;)f++,h+=GL(e,f,r).size;return f},initInstanceProps:function(e,t){var n={itemMetadataMap:{},estimatedItemSize:e.estimatedItemSize||50,lastMeasuredIndex:-1};return t.resetAfterIndex=function(e,r){void 0===r&&(r=!0),n.lastMeasuredIndex=Math.min(n.lastMeasuredIndex,e-1),t._getItemStyleCache(-1),r&&t.forceUpdate()},n},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}});const JL=function(e,n){var r,i;return t.isValidElement(e)&&-1!==n.indexOf(null!=(r=e.type.muiName)?r:null==(i=e.type)||null==(i=i._payload)||null==(i=i.value)?void 0:i.muiName)},ZL=WP;const eM=t.createContext({});function tM(e){return p("MuiListItem",e)}const nM=Le("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);function rM(e){return p("MuiListItemButton",e)}const iM=Le("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function oM(e){return p("MuiListItemSecondaryAction",e)}Le("MuiListItemSecondaryAction",["root","disableGutters"]);const sM=["className"],aM=Ne("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})((e=>{let{ownerState:t}=e;return(0,a.A)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})})),lM=t.forwardRef((function(e,n){const r=Re({props:e,name:"MuiListItemSecondaryAction"}),{className:i}=r,o=(0,s.A)(r,sM),l=t.useContext(eM),u=(0,a.A)({},r,{disableGutters:l.disableGutters}),d=(e=>{const{disableGutters:t,classes:n}=e;return m({root:["root",t&&"disableGutters"]},oM,n)})(u);return(0,U.jsx)(aM,(0,a.A)({className:c(d.root,i),ownerState:u,ref:n},o))}));lM.muiName="ListItemSecondaryAction";const cM=lM,uM=["className"],dM=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],hM=Ne("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})((e=>{let{theme:t,ownerState:n}=e;return(0,a.A)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!n.disablePadding&&(0,a.A)({paddingTop:8,paddingBottom:8},n.dense&&{paddingTop:4,paddingBottom:4},!n.disableGutters&&{paddingLeft:16,paddingRight:16},!!n.secondaryAction&&{paddingRight:48}),!!n.secondaryAction&&{["& > .".concat(iM.root)]:{paddingRight:48}},{["&.".concat(nM.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(nM.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,Y.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(nM.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,Y.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(nM.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"flex-start"===n.alignItems&&{alignItems:"flex-start"},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},n.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(nM.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,Y.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,Y.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}}},n.hasSecondaryAction&&{paddingRight:48})})),fM=Ne("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),pM=t.forwardRef((function(e,n){const r=Re({props:e,name:"MuiListItem"}),{alignItems:i="center",autoFocus:o=!1,button:l=!1,children:u,className:d,component:h,components:f={},componentsProps:p={},ContainerComponent:g="li",ContainerProps:{className:v}={},dense:y=!1,disabled:w=!1,disableGutters:b=!1,disablePadding:_=!1,divider:S=!1,focusVisibleClassName:I,secondaryAction:x,selected:k=!1,slotProps:E={},slots:T={}}=r,C=(0,s.A)(r.ContainerProps,uM),A=(0,s.A)(r,dM),N=t.useContext(eM),R=t.useMemo((()=>({dense:y||N.dense||!1,alignItems:i,disableGutters:b})),[i,N.dense,y,b]),P=t.useRef(null);ZL((()=>{o&&P.current&&P.current.focus()}),[o]);const O=t.Children.toArray(u),D=O.length&&JL(O[O.length-1],["ListItemSecondaryAction"]),L=(0,a.A)({},r,{alignItems:i,autoFocus:o,button:l,dense:R.dense,disabled:w,disableGutters:b,disablePadding:_,divider:S,hasSecondaryAction:D,selected:k}),M=(e=>{const{alignItems:t,button:n,classes:r,dense:i,disabled:o,disableGutters:s,disablePadding:a,divider:l,hasSecondaryAction:c,selected:u}=e;return m({root:["root",i&&"dense",!s&&"gutters",!a&&"padding",l&&"divider",o&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",c&&"secondaryAction",u&&"selected"],container:["container"]},tM,r)})(L),F=qP(P,n),j=T.root||f.Root||hM,z=E.root||p.root||{},V=(0,a.A)({className:c(M.root,z.className,d),disabled:w},A);let B=h||"li";return l&&(V.component=h||"div",V.focusVisibleClassName=c(nM.focusVisible,I),B=zO),D?(B=V.component||h?B:"div","li"===g&&("li"===B?B="div":"li"===V.component&&(V.component="div")),(0,U.jsx)(eM.Provider,{value:R,children:(0,U.jsxs)(fM,(0,a.A)({as:g,className:c(M.container,v),ref:F,ownerState:L},C,{children:[(0,U.jsx)(j,(0,a.A)({},z,!cD(j)&&{as:B,ownerState:(0,a.A)({},L,z.ownerState)},V,{children:O})),O.pop()]}))})):(0,U.jsx)(eM.Provider,{value:R,children:(0,U.jsxs)(j,(0,a.A)({},z,{as:B,ref:F},!cD(j)&&{ownerState:(0,a.A)({},L,z.ownerState)},V,{children:[O,x&&(0,U.jsx)(cM,{children:x})]}))})})),mM=pM;function gM(e){return p("MuiListItemText",e)}const vM=Le("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),yM=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],wM=Ne("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(vM.primary)]:t.primary},{["& .".concat(vM.secondary)]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})((e=>{let{ownerState:t}=e;return(0,a.A)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})})),bM=t.forwardRef((function(e,n){const r=Re({props:e,name:"MuiListItemText"}),{children:i,className:o,disableTypography:l=!1,inset:u=!1,primary:d,primaryTypographyProps:h,secondary:f,secondaryTypographyProps:p}=r,g=(0,s.A)(r,yM),{dense:v}=t.useContext(eM);let y=null!=d?d:i,w=f;const b=(0,a.A)({},r,{disableTypography:l,inset:u,primary:!!y,secondary:!!w,dense:v}),_=(e=>{const{classes:t,inset:n,primary:r,secondary:i,dense:o}=e;return m({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},gM,t)})(b);return null==y||y.type===Be||l||(y=(0,U.jsx)(Be,(0,a.A)({variant:v?"body2":"body1",className:_.primary,component:null!=h&&h.variant?void 0:"span",display:"block"},h,{children:y}))),null==w||w.type===Be||l||(w=(0,U.jsx)(Be,(0,a.A)({variant:"body2",className:_.secondary,color:"text.secondary",display:"block"},p,{children:w}))),(0,U.jsxs)(wM,(0,a.A)({className:c(_.root,o),ownerState:b,ref:n},g,{children:[y,w]}))})),_M=e=>{var t;let{index:n,width:r,fontSize:i}=e;const o=sn.getTypingStats().at(n);let s=null,a=null,l=null;o&&(s=(0,U.jsx)(tD,{stat:o.getWpm(),statName:"WPM:",color:"#9287B7"}),a=(0,U.jsx)(tD,{stat:o.getAccuracy(),statName:"Accuracy:",color:"#9287B7"}),l=(0,U.jsx)(U.Fragment,{children:ct(o.getGeneratedPrompt(),o.getTypedPrompt(),!1,i,null)}));const c=()=>(0,U.jsx)(U.Fragment,{children:(0,U.jsx)("div",{style:{height:"15px"}})}),u=(e,t)=>(0,U.jsx)(U.Fragment,{children:d((0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(Be,{sx:{color:"white",paddingTop:"20px",paddingLeft:"20px"},children:e}),(0,U.jsx)("div",{className:"scrollCss",contentEditable:!1,style:{display:"inline-block",width:"calc(".concat(r,"vw - 100px)"),overflow:"hidden",height:"80px",borderRadius:"40px",paddingLeft:"10px",paddingRight:"10px",paddingTop:"10px",whiteSpace:"normal",wordWrap:"break-word",overflowY:"scroll"},children:t},"scrollPane"),c()]}))}),d=e=>(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(Qe,{sx:{width:"calc(".concat(r,"vw - 85px)"),borderRadius:"40px",backdropFilter:"blur(10px)",backgroundColor:"rgba(41, 33, 64, 0.1)"},children:e})}),h=u("Accuracy Visual",(0,U.jsx)(U.Fragment,{children:l})),f=u("Generated Prompt",(0,U.jsx)(Be,{sx:{fontSize:"".concat(i,"px"),color:"#9287B7"},children:null===o||void 0===o?void 0:o.getGeneratedPrompt()})),p=u("User Results",(0,U.jsx)(Be,{sx:{fontSize:"".concat(i,"px"),color:"#9287B7"},children:null===o||void 0===o?void 0:o.getTypedPrompt()}));if(null!==o&&void 0!==o&&o.getDuration())ZO(+(null===o||void 0===o?void 0:o.getDuration()));return(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(zP,{container:!0,alignItems:"center",direction:"column",sx:{backdropFilter:"blur(5px)",backgroundColor:"rgba(41, 33, 64, 0.1)",borderRadius:"65px",paddingTop:"25px",paddingBottom:"25px",width:"calc(".concat(r,"vw - 50px)")},children:[(0,U.jsx)(Be,{sx:{color:"#9287B7"},children:"Test #"+(n+1)}),(0,U.jsxs)(Oe,{flexDirection:"row",children:[(0,U.jsx)(Be,{sx:{color:"#9287B7"},children:"Duration:\xa0"}),(0,U.jsx)(Be,{sx:{color:"#B8AAE9"},children:ZO(null!==(t=o.getDuration())&&void 0!==t?t:0)})," "]}),s,a,c(),f,c(),p,c(),h]})})},SM=e=>{let{setFontSize:n}=e;const[r,i]=(0,t.useState)(sn.getHistorySettings().getFontSize());return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("div",{style:{height:"60px"}}),(0,U.jsxs)(Qe,{sx:{paddingLeft:"30px",paddingRight:"30px",flex:"1",display:"flex",alignItems:"center",flexDirection:"column",boxShadow:"0 0 50px rgba(24, 18, 43, 1)",backdropFilter:"blur(10px)",backgroundColor:"rgba(24, 18, 43, 0.5)",borderRadius:"100px"},children:[(0,U.jsxs)(Qe,{sx:{flexDirection:"row",flex:"1",display:"flex",alignItems:"center"},children:[(0,U.jsxs)(Be,{id:"input-slider",sx:{color:"#635985"},children:["Font Size:","\xa0"]}),(0,U.jsx)(Be,{id:"input-slider",sx:{color:"#9287B7"},children:+r})]}),(0,U.jsx)(QD,{sx:{color:"#9287B7","& .MuiSlider-thumb":{backgroundColor:"#9287B7",width:"15px",height:"15px","&:hover":{boxShadow:"0px 0px 0px 8px rgba(146, 135, 183, 0.5)"},"&:not(:hover)":{boxShadow:"0px 0px 0px 0px rgba(146, 135, 183, 0.5)"},"&:active":{boxShadow:"0px 0px 0px 12px rgba(146, 135, 183, 0.5)"}}},"aria-label":"FontSize",value:sn.getHistorySettings().getFontSize(),valueLabelDisplay:"off",min:10,max:50,onChange:(e,t)=>((e,t)=>{"number"==typeof t&&(n(t),sn.getHistorySettings().setFontSize(t),i(t),console.log(sn.getHistorySettings().getFontSize()))})(0,t),onMouseUp:()=>{(async function(){var e;if(!fP())return void console.log("Can't update user not logged in!");const t=eR.collection("Users").doc(null===(e=ZN.currentUser)||void 0===e?void 0:e.uid).collection("historySettings");try{await t.doc("historySetting").update(sn.getHistorySettings().toDoc())}catch(n){}})().then((()=>{console.log("Finished updating online history settings!")}))}})]})]})};var IM=[],xM=[];const kM=e=>{let{index:n,style:r,addSize:i,fontSize:o}=e;const s=(0,t.useRef)(null),a=(0,U.jsx)("div",{style:r,children:(0,U.jsx)(mM,{ref:s,onClick:e=>{var t;return console.log(null===(t=s.current)||void 0===t?void 0:t.clientHeight)},component:"div",disablePadding:!0,children:(0,U.jsx)(bM,{primary:(0,U.jsx)(_M,{index:n,width:85,fontSize:o})})},n)});return xM.push(s),t.useEffect((()=>{var e,t;i(null!==(e=null===(t=s.current)||void 0===t?void 0:t.clientHeight)&&void 0!==e?e:0,n)}),[i,n]),a},EM=()=>{const[e,n]=(0,t.useState)(sn.getHistorySettings().getFontSize()),r=(0,t.useRef)(null),i=(e,t)=>{var n;IM.push(e),null===(n=r.current)||void 0===n||n.resetAfterIndex(t)};return(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(Qe,{sx:{width:"".concat(85,"vw"),height:"50vh","&::-webkit-scrollbar-button":{display:"none"}},children:[(0,U.jsx)(XL,{ref:r,height:400,width:"".concat(85,"vw"),itemSize:e=>(e=>IM.at(e)||0)(e),itemCount:sn.getTypingStats().length,overscanCount:5,style:{overflowY:"scroll",overflowX:"hidden",scrollbarWidth:"initial",scrollbarColor:"#B6AAD7 transparent",msScrollbarArrowColor:"transparent"},children:t=>{let{index:n,style:r}=t;return(0,U.jsx)(kM,{index:n,style:{...r,paddingRight:"200px"},data:void 0,addSize:i,fontSize:e})}}),(0,U.jsx)(SM,{setFontSize:n})]})})};function TM(e){return pD(e).defaultView||window}function CM(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function AM(e){return parseInt(TM(e).getComputedStyle(e).paddingRight,10)||0}function NM(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,(e=>{const t=-1===o.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&CM(e,i)}))}function RM(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function PM(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=pD(e);return t.body===e?TM(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=function(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}(pD(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(AM(r)+e,"px");const t=pD(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight="".concat(AM(t)+e,"px")}))}let e;if(r.parentNode instanceof DocumentFragment)e=pD(r).body;else{const t=r.parentElement,n=TM(r);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}const OM=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&CM(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);NM(t,e.mount,e.modalRef,r,!0);const i=RM(this.containers,(e=>e.container===t));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=RM(this.containers,(t=>-1!==t.modals.indexOf(e))),r=this.containers[n];r.restore||(r.restore=PM(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=RM(this.containers,(t=>-1!==t.modals.indexOf(e))),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&CM(e.modalRef,t),NM(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=i.modals[i.modals.length-1];e.modalRef&&CM(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};function DM(e){const{container:n,disableEscapeKeyDown:r=!1,disableScrollLock:i=!1,manager:o=OM,closeAfterTransition:s=!1,onTransitionEnter:l,onTransitionExited:c,children:u,onClose:d,open:h,rootRef:f}=e,p=t.useRef({}),m=t.useRef(null),g=t.useRef(null),v=BP(g,f),[y,w]=t.useState(!h),b=function(e){return!!e&&e.props.hasOwnProperty("in")}(u);let _=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(_=!1);const S=()=>(p.current.modalRef=g.current,p.current.mount=m.current,p.current),I=()=>{o.mount(S(),{disableScrollLock:i}),g.current&&(g.current.scrollTop=0)},x=HP((()=>{const e=function(e){return"function"===typeof e?e():e}(n)||pD(m.current).body;o.add(S(),e),g.current&&I()})),k=t.useCallback((()=>o.isTopModal(S())),[o]),E=HP((e=>{m.current=e,e&&(h&&k()?I():g.current&&CM(g.current,_))})),T=t.useCallback((()=>{o.remove(S(),_)}),[_,o]);t.useEffect((()=>()=>{T()}),[T]),t.useEffect((()=>{h?x():b&&s||T()}),[h,T,b,s,x]);const C=e=>t=>{var n;null==(n=e.onKeyDown)||n.call(e,t),"Escape"===t.key&&229!==t.which&&k()&&(r||(t.stopPropagation(),d&&d(t,"escapeKeyDown")))},A=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&d&&d(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=uD(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r=(0,a.A)({},n,t);return(0,a.A)({role:"presentation"},r,{onKeyDown:C(r),ref:v})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.A)({"aria-hidden":!0},e,{onClick:A(e),open:h})},getTransitionProps:()=>({onEnter:vL((()=>{w(!1),l&&l()}),null==u?void 0:u.props.onEnter),onExited:vL((()=>{w(!0),c&&c(),s&&T()}),null==u?void 0:u.props.onExited)}),rootRef:v,portalRef:E,isTopModal:k,exited:y,hasTransition:b}}const LM=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function MM(e){const t=[],n=[];return Array.from(e.querySelectorAll(LM)).forEach(((e,r)=>{const i=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector('input[type="radio"]'.concat(t));let n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function FM(){return!0}function jM(e){const{children:n,disableAutoFocus:r=!1,disableEnforceFocus:i=!1,disableRestoreFocus:o=!1,getTabbable:s=MM,isEnabled:a=FM,open:l}=e,c=t.useRef(!1),u=t.useRef(null),d=t.useRef(null),h=t.useRef(null),f=t.useRef(null),p=t.useRef(!1),m=t.useRef(null),g=BP(n.ref,m),v=t.useRef(null);t.useEffect((()=>{l&&m.current&&(p.current=!r)}),[r,l]),t.useEffect((()=>{if(!l||!m.current)return;const e=pD(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{o||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}}),[l]),t.useEffect((()=>{if(!l||!m.current)return;const e=pD(m.current),t=t=>{v.current=t,!i&&a()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(c.current=!0,d.current&&d.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!a()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(i&&e.activeElement!==u.current&&e.activeElement!==d.current)return;if(e.activeElement!==f.current)f.current=null;else if(null!==f.current)return;if(!p.current)return;let n=[];if(e.activeElement!==u.current&&e.activeElement!==d.current||(n=s(m.current)),n.length>0){var r,o;const e=Boolean((null==(r=v.current)?void 0:r.shiftKey)&&"Tab"===(null==(o=v.current)?void 0:o.key)),t=n[0],i=n[n.length-1];"string"!==typeof t&&"string"!==typeof i&&(e?i.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const r=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[r,i,o,a,l,s]);const y=e=>{null===h.current&&(h.current=e.relatedTarget),p.current=!0};return(0,U.jsxs)(t.Fragment,{children:[(0,U.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),t.cloneElement(n,{ref:g,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),p.current=!0,f.current=e.target;const t=n.props.onFocus;t&&t(e)}}),(0,U.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:d,"data-testid":"sentinelEnd"})]})}var UM=n(7950),zM=n.t(UM,2);const VM=t.forwardRef((function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[s,a]=t.useState(null),l=BP(t.isValidElement(r)?r.ref:null,n);if(WP((()=>{o||a(function(e){return"function"===typeof e?e():e}(i)||document.body)}),[i,o]),WP((()=>{if(s&&!o)return VP(n,s),()=>{VP(n,null)}}),[n,s,o]),o){if(t.isValidElement(r)){const e={ref:l};return t.cloneElement(r,e)}return(0,U.jsx)(t.Fragment,{children:r})}return(0,U.jsx)(t.Fragment,{children:s?UM.createPortal(r,s):s})}));const BM=!1;var qM="unmounted",WM="exited",HM="entering",KM="entered",GM="exiting",QM=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=WM,r.appearStatus=HM):i=KM:i=t.unmountOnExit||t.mountOnEnter?qM:WM,r.state={status:i},r.nextCallback=null,r}cO(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===qM?{status:WM}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==HM&&n!==KM&&(t=HM):n!==HM&&n!==KM||(t=GM)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===HM){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:UM.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===WM&&this.setState({status:qM})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[UM.findDOMNode(this),r],o=i[0],s=i[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!n||BM?this.safeSetState({status:KM},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:HM},(function(){t.props.onEntering(o,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:KM},(function(){t.props.onEntered(o,s)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:UM.findDOMNode(this);t&&!BM?(this.props.onExit(r),this.safeSetState({status:GM},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:WM},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:WM},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:UM.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===qM)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,s.A)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(uO.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function $M(){}QM.contextType=uO,QM.propTypes={},QM.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:$M,onEntering:$M,onEntered:$M,onExit:$M,onExiting:$M,onExited:$M},QM.UNMOUNTED=qM,QM.EXITED=WM,QM.ENTERING=HM,QM.ENTERED=KM,QM.EXITING=GM;const YM=QM,XM=e=>e.scrollTop;function JM(e,t){var n,r;const{timeout:i,easing:o,style:s={}}=e;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof o?o[t.mode]:o,delay:s.transitionDelay}}const ZM=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],eF={entering:{opacity:1},entered:{opacity:1}},tF=t.forwardRef((function(e,n){const r=CP(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:l=!0,children:c,easing:u,in:d,onEnter:h,onEntered:f,onEntering:p,onExit:m,onExited:g,onExiting:v,style:y,timeout:w=i,TransitionComponent:b=YM}=e,_=(0,s.A)(e,ZM),S=t.useRef(null),I=qP(S,c.ref,n),x=e=>t=>{if(e){const n=S.current;void 0===t?e(n):e(n,t)}},k=x(p),E=x(((e,t)=>{XM(e);const n=JM({style:y,timeout:w,easing:u},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),h&&h(e,t)})),T=x(f),C=x(v),A=x((e=>{const t=JM({style:y,timeout:w,easing:u},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),m&&m(e)})),N=x(g);return(0,U.jsx)(b,(0,a.A)({appear:l,in:d,nodeRef:S,onEnter:E,onEntered:T,onEntering:k,onExit:A,onExited:N,onExiting:C,addEndListener:e=>{o&&o(S.current,e)},timeout:w},_,{children:(e,n)=>t.cloneElement(c,(0,a.A)({style:(0,a.A)({opacity:0,visibility:"exited"!==e||d?void 0:"hidden"},eF[e],y,c.props.style),ref:I},n))}))})),nF=tF;function rF(e){return p("MuiBackdrop",e)}Le("MuiBackdrop",["root","invisible"]);const iF=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],oF=Ne("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})((e=>{let{ownerState:t}=e;return(0,a.A)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),sF=t.forwardRef((function(e,t){var n,r,i;const o=Re({props:e,name:"MuiBackdrop"}),{children:l,className:u,component:d="div",components:h={},componentsProps:f={},invisible:p=!1,open:g,slotProps:v={},slots:y={},TransitionComponent:w=nF,transitionDuration:b}=o,_=(0,s.A)(o,iF),S=(0,a.A)({},o,{component:d,invisible:p}),I=(e=>{const{classes:t,invisible:n}=e;return m({root:["root",n&&"invisible"]},rF,t)})(S),x=null!=(n=v.root)?n:f.root;return(0,U.jsx)(w,(0,a.A)({in:g,timeout:b},_,{children:(0,U.jsx)(oF,(0,a.A)({"aria-hidden":!0},x,{as:null!=(r=null!=(i=y.root)?i:h.Root)?r:d,className:c(I.root,u,null==x?void 0:x.className),ownerState:(0,a.A)({},S,null==x?void 0:x.ownerState),classes:I,ref:t,children:l}))}))}));function aF(e){return p("MuiModal",e)}Le("MuiModal",["root","hidden","backdrop"]);const lF=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],cF=Ne("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})((e=>{let{theme:t,ownerState:n}=e;return(0,a.A)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),uF=Ne(sF,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),dF=t.forwardRef((function(e,n){var r,i,o,l,u,d;const h=Re({name:"MuiModal",props:e}),{BackdropComponent:f=uF,BackdropProps:p,className:g,closeAfterTransition:v=!1,children:y,container:w,component:b,components:_={},componentsProps:S={},disableAutoFocus:I=!1,disableEnforceFocus:x=!1,disableEscapeKeyDown:k=!1,disablePortal:E=!1,disableRestoreFocus:T=!1,disableScrollLock:C=!1,hideBackdrop:A=!1,keepMounted:N=!1,onBackdropClick:R,open:P,slotProps:O,slots:D}=h,L=(0,s.A)(h,lF),M=(0,a.A)({},h,{closeAfterTransition:v,disableAutoFocus:I,disableEnforceFocus:x,disableEscapeKeyDown:k,disablePortal:E,disableRestoreFocus:T,disableScrollLock:C,hideBackdrop:A,keepMounted:N}),{getRootProps:F,getBackdropProps:j,getTransitionProps:z,portalRef:V,isTopModal:B,exited:q,hasTransition:W}=DM((0,a.A)({},M,{rootRef:n})),H=(0,a.A)({},M,{exited:q}),K=(e=>{const{open:t,exited:n,classes:r}=e;return m({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},aF,r)})(H),G={};if(void 0===y.props.tabIndex&&(G.tabIndex="-1"),W){const{onEnter:e,onExited:t}=z();G.onEnter=e,G.onExited=t}const Q=null!=(r=null!=(i=null==D?void 0:D.root)?i:_.Root)?r:cF,$=null!=(o=null!=(l=null==D?void 0:D.backdrop)?l:_.Backdrop)?o:f,Y=null!=(u=null==O?void 0:O.root)?u:S.root,X=null!=(d=null==O?void 0:O.backdrop)?d:S.backdrop,J=fD({elementType:Q,externalSlotProps:Y,externalForwardedProps:L,getSlotProps:F,additionalProps:{ref:n,as:b},ownerState:H,className:c(g,null==Y?void 0:Y.className,null==K?void 0:K.root,!H.open&&H.exited&&(null==K?void 0:K.hidden))}),Z=fD({elementType:$,externalSlotProps:X,additionalProps:p,getSlotProps:e=>j((0,a.A)({},e,{onClick:t=>{R&&R(t),null!=e&&e.onClick&&e.onClick(t)}})),className:c(null==X?void 0:X.className,null==p?void 0:p.className,null==K?void 0:K.backdrop),ownerState:H});return N||P||W&&!q?(0,U.jsx)(VM,{ref:V,container:w,disablePortal:E,children:(0,U.jsxs)(Q,(0,a.A)({},J,{children:[!A&&f?(0,U.jsx)($,(0,a.A)({},Z)):null,(0,U.jsx)(jM,{disableEnforceFocus:x,disableAutoFocus:I,disableRestoreFocus:T,isEnabled:B,open:P,children:t.cloneElement(y,G)})]}))}):null})),hF=dF;const fF=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];clearTimeout(t),t=setTimeout((()=>{e.apply(this,i)}),n)}return r.clear=()=>{clearTimeout(t)},r},pF=TM,mF=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function gF(e,t,n){var r;const i=function(e,t,n){const r=t.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),o=pF(t);let s;if(t.fakeTransform)s=t.fakeTransform;else{const e=o.getComputedStyle(t);s=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("transform")}let a=0,l=0;if(s&&"none"!==s&&"string"===typeof s){const e=s.split("(")[1].split(")")[0].split(",");a=parseInt(e[4],10),l=parseInt(e[5],10)}return"left"===e?"translateX(".concat(i?i.right+a-r.left:o.innerWidth+a-r.left,"px)"):"right"===e?"translateX(-".concat(i?r.right-i.left-a:r.left+r.width-a,"px)"):"up"===e?"translateY(".concat(i?i.bottom+l-r.top:o.innerHeight+l-r.top,"px)"):"translateY(-".concat(i?r.top-i.top+r.height-l:r.top+r.height-l,"px)")}(e,t,"function"===typeof(r=n)?r():r);i&&(t.style.webkitTransform=i,t.style.transform=i)}const vF=t.forwardRef((function(e,n){const r=CP(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:l,appear:c=!0,children:u,container:d,direction:h="down",easing:f=i,in:p,onEnter:m,onEntered:g,onEntering:v,onExit:y,onExited:w,onExiting:b,style:_,timeout:S=o,TransitionComponent:I=YM}=e,x=(0,s.A)(e,mF),k=t.useRef(null),E=qP(u.ref,k,n),T=e=>t=>{e&&(void 0===t?e(k.current):e(k.current,t))},C=T(((e,t)=>{gF(h,e,d),XM(e),m&&m(e,t)})),A=T(((e,t)=>{const n=JM({timeout:S,style:_,easing:f},{mode:"enter"});e.style.webkitTransition=r.transitions.create("-webkit-transform",(0,a.A)({},n)),e.style.transition=r.transitions.create("transform",(0,a.A)({},n)),e.style.webkitTransform="none",e.style.transform="none",v&&v(e,t)})),N=T(g),R=T(b),P=T((e=>{const t=JM({timeout:S,style:_,easing:f},{mode:"exit"});e.style.webkitTransition=r.transitions.create("-webkit-transform",t),e.style.transition=r.transitions.create("transform",t),gF(h,e,d),y&&y(e)})),O=T((e=>{e.style.webkitTransition="",e.style.transition="",w&&w(e)})),D=t.useCallback((()=>{k.current&&gF(h,k.current,d)}),[h,d]);return t.useEffect((()=>{if(p||"down"===h||"right"===h)return;const e=fF((()=>{k.current&&gF(h,k.current,d)})),t=pF(k.current);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[h,p,d]),t.useEffect((()=>{p||D()}),[p,D]),(0,U.jsx)(I,(0,a.A)({nodeRef:k,onEnter:C,onEntered:N,onEntering:A,onExit:P,onExited:O,onExiting:R,addEndListener:e=>{l&&l(k.current,e)},appear:c,in:p,timeout:S},x,{children:(e,n)=>t.cloneElement(u,(0,a.A)({ref:E,style:(0,a.A)({visibility:"exited"!==e||p?void 0:"hidden"},_,u.props.style)},n))}))})),yF=vF;function wF(e){return p("MuiDrawer",e)}Le("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const bF=["BackdropProps"],_F=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],SF=(e,t)=>{const{ownerState:n}=e;return[t.root,("permanent"===n.variant||"persistent"===n.variant)&&t.docked,t.modal]},IF=Ne(hF,{name:"MuiDrawer",slot:"Root",overridesResolver:SF})((e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.drawer}})),xF=Ne("div",{shouldForwardProp:Ae,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:SF})({flex:"0 0 auto"}),kF=Ne(lD,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t["paperAnchor".concat(De(n.anchor))],"temporary"!==n.variant&&t["paperAnchorDocked".concat(De(n.anchor))]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,a.A)({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},"left"===n.anchor&&{left:0},"top"===n.anchor&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},"right"===n.anchor&&{right:0},"bottom"===n.anchor&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},"left"===n.anchor&&"temporary"!==n.variant&&{borderRight:"1px solid ".concat((t.vars||t).palette.divider)},"top"===n.anchor&&"temporary"!==n.variant&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider)},"right"===n.anchor&&"temporary"!==n.variant&&{borderLeft:"1px solid ".concat((t.vars||t).palette.divider)},"bottom"===n.anchor&&"temporary"!==n.variant&&{borderTop:"1px solid ".concat((t.vars||t).palette.divider)})})),EF={left:"right",right:"left",top:"down",bottom:"up"};const TF=t.forwardRef((function(e,n){const r=Re({props:e,name:"MuiDrawer"}),i=CP(),o=PD(),l={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:u="left",BackdropProps:d,children:h,className:f,elevation:p=16,hideBackdrop:g=!1,ModalProps:{BackdropProps:v}={},onClose:y,open:w=!1,PaperProps:b={},SlideProps:_,TransitionComponent:S=yF,transitionDuration:I=l,variant:x="temporary"}=r,k=(0,s.A)(r.ModalProps,bF),E=(0,s.A)(r,_F),T=t.useRef(!1);t.useEffect((()=>{T.current=!0}),[]);const C=function(e,t){let{direction:n}=e;return"rtl"===n&&function(e){return-1!==["left","right"].indexOf(e)}(t)?EF[t]:t}({direction:o?"rtl":"ltr"},u),A=u,N=(0,a.A)({},r,{anchor:A,elevation:p,open:w,variant:x},E),R=(e=>{const{classes:t,anchor:n,variant:r}=e;return m({root:["root"],docked:[("permanent"===r||"persistent"===r)&&"docked"],modal:["modal"],paper:["paper","paperAnchor".concat(De(n)),"temporary"!==r&&"paperAnchorDocked".concat(De(n))]},wF,t)})(N),P=(0,U.jsx)(kF,(0,a.A)({elevation:"temporary"===x?p:0,square:!0},b,{className:c(R.paper,b.className),ownerState:N,children:h}));if("permanent"===x)return(0,U.jsx)(xF,(0,a.A)({className:c(R.root,R.docked,f),ownerState:N,ref:n},E,{children:P}));const O=(0,U.jsx)(S,(0,a.A)({in:w,direction:EF[C],timeout:I,appear:T.current},_,{children:P}));return"persistent"===x?(0,U.jsx)(xF,(0,a.A)({className:c(R.root,R.docked,f),ownerState:N,ref:n},E,{children:O})):(0,U.jsx)(IF,(0,a.A)({BackdropProps:(0,a.A)({},d,v,{transitionDuration:I}),className:c(R.root,R.modal,f),open:w,ownerState:N,onClose:y,hideBackdrop:g,ref:n},E,k,{children:O}))})),CF=TF,AF=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],NF=Ne(zO,{shouldForwardProp:e=>Ae(e)||"classes"===e,name:"MuiListItemButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:n}=e;return(0,a.A)({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(iM.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,Y.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(iM.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,Y.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(iM.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,Y.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,Y.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(iM.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(iM.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity}},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},"flex-start"===n.alignItems&&{alignItems:"flex-start"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.dense&&{paddingTop:4,paddingBottom:4})})),RF=t.forwardRef((function(e,n){const r=Re({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:o=!1,component:l="div",children:u,dense:d=!1,disableGutters:h=!1,divider:f=!1,focusVisibleClassName:p,selected:g=!1,className:v}=r,y=(0,s.A)(r,AF),w=t.useContext(eM),b=t.useMemo((()=>({dense:d||w.dense||!1,alignItems:i,disableGutters:h})),[i,w.dense,d,h]),_=t.useRef(null);ZL((()=>{o&&_.current&&_.current.focus()}),[o]);const S=(0,a.A)({},r,{alignItems:i,dense:b.dense,disableGutters:h,divider:f,selected:g}),I=(e=>{const{alignItems:t,classes:n,dense:r,disabled:i,disableGutters:o,divider:s,selected:l}=e,c=m({root:["root",r&&"dense",!o&&"gutters",s&&"divider",i&&"disabled","flex-start"===t&&"alignItemsFlexStart",l&&"selected"]},rM,n);return(0,a.A)({},n,c)})(S),x=qP(_,n);return(0,U.jsx)(eM.Provider,{value:b,children:(0,U.jsx)(NF,(0,a.A)({ref:x,href:y.href||y.to,component:(y.href||y.to)&&"div"===l?"button":l,focusVisibleClassName:c(I.focusVisible,p),ownerState:S,className:c(I.root,v)},y,{classes:I,children:u}))})}));function PF(e){return p("MuiList",e)}Le("MuiList",["root","padding","dense","subheader"]);const OF=["children","className","component","dense","disablePadding","subheader"],DF=Ne("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((e=>{let{ownerState:t}=e;return(0,a.A)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),LF=t.forwardRef((function(e,n){const r=Re({props:e,name:"MuiList"}),{children:i,className:o,component:l="ul",dense:u=!1,disablePadding:d=!1,subheader:h}=r,f=(0,s.A)(r,OF),p=t.useMemo((()=>({dense:u})),[u]),g=(0,a.A)({},r,{component:l,dense:u,disablePadding:d}),v=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return m({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},PF,t)})(g);return(0,U.jsx)(eM.Provider,{value:p,children:(0,U.jsxs)(DF,(0,a.A)({as:l,className:c(v.root,o),ref:n,ownerState:g},f,{children:[h,i]}))})})),MF=e=>{let{setIsDrawerOpen:t}=e;const n=QR(),r=(e,t,n)=>(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(RF,{onClick:()=>i(t),children:[lt("32px","32px",n),(0,U.jsx)(bM,{primary:(0,U.jsx)("span",{style:{color:"White",marginLeft:"10px"},children:e})})]})}),i=e=>{n(e)};return(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(Qe,{sx:{width:250},onClick:e=>t(!1),children:(0,U.jsxs)(LF,{children:[r("Home","/HomePage","./svgFiles/home.svg"),r("Typing Practice","/TypingPage","./svgFiles/keyboard.svg"),r("History","/HistoryPage","./svgFiles/history.svg"),r("Login Signup","/SignupLoginPage","./svgFiles/account.svg"),r("About","/AboutPage","./svgFiles/information.svg")]})})})},FF=()=>{const[e,n]=(0,t.useState)(!1);return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(XO,{onClick:()=>n(!0),variant:"contained",sx:{color:"White",textEmphasisColor:"#292140",backgroundColor:"#635985","&:hover":{backgroundColor:"#9287B7"}},children:lt("32px","32px","./svgFiles/menu.svg")}),(0,U.jsx)(CF,{anchor:"right",open:e,PaperProps:{sx:{backgroundColor:"#9287B7"}},sx:{color:"#635985"},onClose:()=>n(!1),children:(0,U.jsx)(MF,{setIsDrawerOpen:n})})]})},jF=e=>{let{hideLogo:n}=e;const[r,i]=(0,t.useState)(!1);var o=(0,U.jsx)(Qe,{sx:{opacity:1},children:st(1,15)});return n||(n=!1),1==n&&(o=(0,U.jsx)(Qe,{sx:{opacity:0},children:st(1,15)})),(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(zP,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"flex-start",sx:{padding:"10px",paddingLeft:"100px",paddingTop:"30px",paddingBottom:"20px",paddingRight:"30px"},children:[o,(0,U.jsx)(FF,{})]})})};function UF(e){return p("MuiLink",e)}const zF=Le("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var VF=n(7162);const BF={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},qF=e=>{let{theme:t,ownerState:n}=e;const r=(e=>BF[e]||e)(n.color),i=(0,VF.Yn)(t,"palette.".concat(r),!1)||n.color,o=(0,VF.Yn)(t,"palette.".concat(r,"Channel"));return"vars"in t&&o?"rgba(".concat(o," / 0.4)"):(0,Y.X4)(i,.4)},WF=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],HF=Ne(Be,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["underline".concat(De(n.underline))],"button"===n.component&&t.button]}})((e=>{let{theme:t,ownerState:n}=e;return(0,a.A)({},"none"===n.underline&&{textDecoration:"none"},"hover"===n.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===n.underline&&(0,a.A)({textDecoration:"underline"},"inherit"!==n.color&&{textDecorationColor:qF({theme:t,ownerState:n})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===n.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(zF.focusVisible)]:{outline:"auto"}})})),KF=t.forwardRef((function(e,n){const r=Re({props:e,name:"MuiLink"}),{className:i,color:o="primary",component:l="a",onBlur:u,onFocus:d,TypographyClasses:h,underline:f="always",variant:p="inherit",sx:g}=r,v=(0,s.A)(r,WF),{isFocusVisibleRef:y,onBlur:w,onFocus:b,ref:_}=sO(),[S,I]=t.useState(!1),x=qP(n,_),k=(0,a.A)({},r,{color:o,component:l,focusVisible:S,underline:f,variant:p}),E=(e=>{const{classes:t,component:n,focusVisible:r,underline:i}=e;return m({root:["root","underline".concat(De(i)),"button"===n&&"button",r&&"focusVisible"]},UF,t)})(k);return(0,U.jsx)(HF,(0,a.A)({color:o,className:c(E.root,i),classes:h,component:l,onBlur:e=>{w(e),!1===y.current&&I(!1),u&&u(e)},onFocus:e=>{b(e),!0===y.current&&I(!0),d&&d(e)},ref:x,ownerState:k,variant:p,sx:[...Object.keys(BF).includes(o)?[]:[{color:o}],...Array.isArray(g)?g:[g]]},v))})),GF=KF,QF=()=>(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(Qe,{sx:{display:"inline-block"},children:(0,U.jsxs)(GF,{href:"https://github.com/Jake-Yeo/type-runner",underline:"none",sx:{paddingLeft:"10px",paddingBottom:"10px",color:"#18122B",flex:"1",display:"flex",width:"fit-content",alignItems:"center",flexDirection:"row","&:hover":{color:"white"}},children:[lt("30px","30px","./svgFiles/githubColor.svg"),"\xa0GitHub"]})})}),$F=()=>{const[e,n]=(0,t.useState)([]);return(0,t.useEffect)((()=>{setTimeout((()=>{n([...e,dt()])}),300)}),[e]),(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(zP,{item:!0,sx:{position:"absolute",bottom:0,width:"100vw",height:"100vh",margin:0,padding:0,zIndex:-2},children:(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(Qe,{sx:{position:"absolute",width:"100vw",height:"100vh"},children:e})})})})},YF=e=>{let{width:t,height:n,opacity:r}=e;const i="data:image/svg+xml;utf8,".concat(encodeURIComponent(' \n    <svg viewBox="0 0 1733 168" fill="none" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M895 56.6547C449.5 -34.3453 139.833 -1.67863 0 56.6547V167.655H1733V56.6547C1546.83 114.988 1221.14 123.273 895 56.6547Z" fill="#D9D9D9"/>\n    </svg>\n  '));return(0,U.jsx)("img",{src:i,alt:"One Peak Wave",style:{width:t,height:n,opacity:r}})},XF=e=>{let{width:t,height:n,opacity:r}=e;const i="data:image/svg+xml;utf8,".concat(encodeURIComponent('\n    <svg viewBox="0 0 1733 165" fill="none" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">\n      <rect y="113" width="1733" height="52" fill="#9287B7" />\n      <path d="M351.5 53.0075C199.5 -46.4708 105 18.1901 0 53.0075V118H1733V53.0075C1643.17 85.2827 1426.9 130.468 1280.5 53.0075C1134.1 -24.4529 926.833 20.7323 841.5 53.0075C741.5 94.4568 503.5 152.486 351.5 53.0075Z" fill="#9287B7" />\n    </svg>\n  '));return(0,U.jsx)("img",{src:i,alt:"Two Peak Wave",style:{width:t,height:n,opacity:r}})},JF=e=>{let{heightSubtraction:t}=e;return t?(0,U.jsxs)(U.Fragment,{children:[at("".concat(10-t,"vh"),.25,"forwards",8,YF),at("".concat(15-t,"vh"),.25,"forwards",5,XF),at("".concat(18-t,"vh"),.25,"backwards",9,XF),at("".concat(20-t,"vh"),.25,"backwards",11,YF),at("".concat(15-t,"vh"),.25,"forwards",8,XF),at("".concat(25-t,"vh"),.25,"forwards",15,XF)]}):(0,U.jsxs)(U.Fragment,{children:[at("10vh",.25,"forwards",8,YF),at("15vh",.25,"forwards",5,XF),at("18vh",.25,"backwards",9,XF),at("20vh",.25,"backwards",11,YF),at("15vh",.25,"forwards",8,XF),at("25vh",.25,"forwards",15,XF)]})},ZF=e=>{let{children:t}=e;return(0,U.jsxs)(Oe,{direction:"column",justifyContent:"space-between",alignItems:"center",minHeight:"100vh",width:"100vw",sx:{overflowX:"hidden",position:"relative"},children:[t,(0,U.jsx)($F,{}),(0,U.jsx)(Qe,{sx:{position:"absolute",bottom:0,width:"100vw",height:"100vh",margin:0,padding:0,zIndex:-1},children:(0,U.jsx)(JF,{})})]})},ej=()=>{let e;return e=0===sn.getTypingStats().length?(0,U.jsx)(Be,{color:"white",children:"Empty! Type something first then come back!"}):(0,U.jsx)(EM,{}),(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(ZF,{children:(0,U.jsxs)(Oe,{sx:{overflowX:"hidden"},justifyContent:"flex-start",width:"100vw",height:"100vh",alignItems:"center",position:"relative",children:[(0,U.jsx)(jF,{}),e,(0,U.jsx)(Qe,{sx:{position:"absolute",width:"100vw",bottom:"0px"},children:(0,U.jsx)(QF,{})})]})})})},tj=()=>(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(Oe,{direction:"column",justifyContent:"space-between",height:"100vh",width:"100vw",sx:{overflowX:"hidden",position:"relative"},children:[(0,U.jsxs)(zP,{container:!0,direction:"column",justifyContent:"space-between",width:"100vw",children:[(0,U.jsx)(jF,{}),(0,U.jsx)(OL,{})]}),(0,U.jsxs)(zP,{item:!0,sx:{position:"relative"},children:[(0,U.jsx)(QF,{}),(0,U.jsxs)(Qe,{sx:{position:"absolute",bottom:0,width:"100vw",margin:0,padding:0,zIndex:-1},children:[at("10vh",.25,"forwards",8,YF),at("15vh",.25,"forwards",5,XF),at("18vh",.25,"backwards",9,XF),at("20vh",.25,"backwards",11,YF),at("15vh",.25,"forwards",8,XF),at("25vh",.25,"forwards",15,XF)]})]})]})});new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(Sj){}new Map;const nj=r.startTransition;zM.flushSync,r.useId;function rj(e){let{basename:n,children:r,future:i,window:o}=e,s=t.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:o,v5Compat:!0})&&(a={}),uR((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return aR("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:lR(t)}),null,a)));let l=s.current,[c,u]=t.useState({action:l.action,location:l.location}),{v7_startTransition:d}=i||{},h=t.useCallback((e=>{d&&nj?nj((()=>u(e))):u(e)}),[u,d]);return t.useLayoutEffect((()=>l.listen(h)),[l,h]),t.createElement(lP,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:i})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var ij,oj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ij||(ij={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(oj||(oj={}));const sj=e=>{let{width:t,height:n,opacity:r}=e;const i="data:image/svg+xml;utf8,".concat(encodeURIComponent('\n    <svg width="1896" height="86" viewBox="0 0 1896 86" fill="none" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">\n    <rect width="1896" height="86" fill="#020F22"/>\n    </svg>\n  '));return(0,U.jsx)("img",{src:i,alt:"MountainBase",style:{width:t,height:n,minHeight:29,opacity:r,zIndex:2}})},aj=e=>{let{width:t,height:n,opacity:r}=e;const i="data:image/svg+xml;utf8,".concat(encodeURIComponent('\n    <svg width="1459" height="151" viewBox="0 0 1459 151" fill="none" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M1458.5 151V91.198H1436.5L1379 101.663L1312.5 52.8251L1260 33.3894L1237.5 52.8251L1208 25.4158H1189.5L1172 8.47195L1148.5 0L1034.5 33.3894V101.663L996.5 44.3531H923L748.5 101.663L662 115.617L577 66.2805L440 80.2343L372.5 115.617L335.5 101.663L271 136.548L215.5 151L139 115.617L115.5 143.525L61 136.548L0 151H215.5H1458.5Z" fill="#020F22"/>\n    </svg>\n  '));return(0,U.jsx)("img",{src:i,alt:"MountainBase",style:{width:t,height:n,minHeight:43,opacity:r}})},lj=e=>{let{width:t,height:n,opacity:r}=e;const i="data:image/svg+xml;utf8,".concat(encodeURIComponent('\n    <svg width="27" height="8" viewBox="0 0 27 8" fill="none" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M9 5.25756C9 4.11594 10.0912 3.2858 11.1956 3.57504V3.57504C11.4252 3.63517 11.6665 3.64855 11.9012 3.61343L14.4963 3.22505C15.231 3.11509 15.8542 3.76376 15.7149 4.4935V4.4935C15.693 4.60818 15.6899 4.72566 15.7056 4.84135L15.7216 4.95811C15.8688 6.03819 15.0293 7 13.9392 7H10.7424C9.78012 7 9 6.21988 9 5.25756V5.25756Z" fill="#031835"/>\n    <path d="M4.5293 6.27353C3.87953 5.33485 4.30431 4.0312 5.37698 3.64046V3.64046C5.59998 3.55923 5.80598 3.43291 5.97898 3.27043L7.89168 1.47409C8.43322 0.965503 9.31481 1.14417 9.6156 1.82348V1.82348C9.66287 1.93024 9.72717 2.02861 9.80598 2.11475L9.88553 2.20169C10.6214 3.00594 10.4785 4.27461 9.58219 4.89503L6.9537 6.71449C6.16245 7.2622 5.07701 7.06478 4.5293 6.27353V6.27353Z" fill="#031835"/>\n    <path d="M15 5.17731C15 4.25944 15.6825 3.48476 16.5931 3.36913L19.134 3.04647C19.3743 3.01596 19.6184 3.0451 19.8447 3.13132L19.8627 3.13818C20.5206 3.3888 20.9038 4.07535 20.7718 4.76685V4.76685C20.7423 4.92126 20.7383 5.08116 20.7596 5.23691V5.23691C20.8858 6.16269 20.168 7 19.2336 7H16.8227C15.816 7 15 6.18395 15 5.17731V5.17731Z" fill="#031835"/>\n    <path d="M21.7454 2.84054C21.9057 2.62621 22.1576 2.5 22.4252 2.5L23.0279 2.5C23.3384 2.5 23.6446 2.42771 23.9223 2.28885L24.283 2.1085C24.4269 2.03654 24.5804 1.98559 24.7388 1.95721L25.0148 1.90777C25.2886 1.8587 25.5706 1.92319 25.7959 2.0864V2.0864C26.206 2.38351 26.3372 2.93585 26.1046 3.38569L26.0714 3.44989C26.0135 3.5618 25.9749 3.6846 25.9577 3.80942V3.80942C25.8583 4.53091 25.141 5.01025 24.4409 4.80951L22.1912 4.16443C21.6203 4.00072 21.3898 3.31625 21.7454 2.84054V2.84054Z" fill="#031835"/>\n    <path d="M11 2.1239C11 1.22313 11.6402 0.449488 12.5251 0.280942L13.5974 0.0766915C13.8572 0.0271966 14.1262 0.0721137 14.3559 0.203352V0.203352C14.7458 0.426151 14.963 0.861903 14.9063 1.30737L14.8411 1.81957C14.8259 1.9395 14.8237 2.06074 14.8346 2.18114V2.18114C14.9234 3.15787 14.1544 4 13.1736 4H12.8761C11.84 4 11 3.16004 11 2.1239V2.1239Z" fill="#031835"/>\n    <path d="M18.5331 2.5755C18.348 2.04677 18.6764 1.4772 19.2266 1.37238L20.7364 1.08481C21.0149 1.03176 21.3017 1.12001 21.5021 1.3205V1.3205C21.6193 1.43765 21.6999 1.58626 21.7343 1.74833L21.8575 2.32894C21.9428 2.73109 21.7653 3.14334 21.4145 3.35771V3.35771C21.2622 3.45076 21.0872 3.5 20.9088 3.5H20.5062C20.2912 3.5 20.0777 3.46534 19.8737 3.39737L19.1083 3.14222C18.8392 3.05252 18.6268 2.84325 18.5331 2.5755V2.5755Z" fill="#031835"/>\n    <path d="M14.7193 2.22077C14.6417 1.5882 15.1246 1.0258 15.7617 1.00702V1.00702C15.9187 1.0024 16.0728 0.963657 16.2133 0.893495L17.1769 0.412352C17.3846 0.308628 17.6238 0.286997 17.8468 0.35177V0.35177C18.2563 0.470722 18.531 0.854652 18.5114 1.2806L18.5027 1.47094C18.4975 1.58315 18.5087 1.69584 18.5357 1.80487V1.80487C18.7068 2.49566 18.2359 3.18319 17.5296 3.26992L16.1049 3.44485C15.4328 3.52737 14.8211 3.04943 14.7385 2.37734L14.7193 2.22077Z" fill="#031835"/>\n    <path d="M22.7754 6.83666C22.4811 7.1906 21.9133 7.08878 21.7603 6.65464V6.65464C21.7303 6.56948 21.6813 6.4923 21.6169 6.42898L20.9451 5.76827C20.8 5.62553 20.7171 5.43124 20.7146 5.22769V5.22769C20.7102 4.87896 20.9402 4.5706 21.2757 4.4754L21.4786 4.41784C21.5707 4.3917 21.6588 4.35302 21.7404 4.30288V4.30288C22.2724 3.97596 22.9705 4.1856 23.2344 4.75154L23.7767 5.91443C23.932 6.24742 23.6539 6.61925 23.2906 6.56451V6.56451C23.1312 6.54049 22.9709 6.60154 22.8679 6.72548L22.7754 6.83666Z" fill="#031835"/>\n    <path d="M23.7827 5.69452C23.5863 5.27822 23.9185 4.80664 24.3767 4.85147V4.85147C24.4665 4.86026 24.5572 4.84841 24.6418 4.81683L25.5245 4.48723C25.7152 4.41602 25.9263 4.42303 26.1119 4.50673V4.50673C26.4298 4.65013 26.6121 4.98889 26.5565 5.3332L26.523 5.5414C26.5077 5.63595 26.5056 5.73214 26.5165 5.82728V5.82728C26.588 6.44762 26.1029 6.99172 25.4785 6.99172H24.1954C23.828 6.99172 23.6085 6.58262 23.8116 6.27647V6.27647C23.9007 6.14218 23.9132 5.97106 23.8444 5.82529L23.7827 5.69452Z" fill="#031835"/>\n    <path d="M4.36322 5.44182C4.18614 6.35282 3.40563 7.02233 2.47829 7.05867L1.51332 7.09648C1.17505 7.10974 0.847307 6.97739 0.6131 6.73294V6.73294C0.317461 6.42438 0.211288 5.98032 0.335377 5.5714L0.605991 4.67963C0.635131 4.5836 0.655755 4.48519 0.667623 4.38555L0.718876 3.95523C0.829909 3.02301 1.81382 2.46646 2.67 2.85157L2.71926 2.87372C2.90335 2.95653 3.10558 2.99085 3.30669 2.97341V2.97341C4.08976 2.90553 4.72005 3.6061 4.57008 4.37766L4.36322 5.44182Z" fill="#031835"/>\n    <path d="M5.13835 0.346421C5.83943 0.297396 6.49376 0.70075 6.76494 1.34912L6.93906 1.76545C7.0749 2.09024 7.01323 2.46409 6.78025 2.72802V2.72802C6.60548 2.92603 6.35395 3.03926 6.08984 3.03881L4.73556 3.03651L3.55494 3.17999C2.94278 3.25438 2.44831 2.68824 2.60439 2.09165L2.61828 2.03858C2.66264 1.86899 2.64423 1.68908 2.56644 1.532V1.532C2.3369 1.0685 2.65118 0.520341 3.16714 0.484262L5.13835 0.346421Z" fill="#031835"/>\n    </svg>\n  '));return(0,U.jsx)("img",{src:i,alt:"CampFire",style:{width:t,height:n,opacity:r}})};var cj;const uj=e=>{let{translateXMultDeviation:n,translateYAddDeviation:r,blurAddDeviation:i,widthAddDeviation:s,animationTimeDeviation:a,scaleX:l,scaleY:c,rotationMultDeviation:u,opacityAddDeviation:d}=e;const h=a,f=(0,qe.i7)(cj||(cj=o(["\n\n    0% {\n        transform: translateY(0vh) translateX(0px) rotate(","deg) scaleX(",") scaleY(","); \n        filter: blur(","px);\n        opacity: 0;\n        width: ","px;\n    }\n\n    12.5% {\n        transform: translateY(","vh) translateX(","px) rotate(","deg) scaleX(",") scaleY(","); \n        filter: blur(","px);\n        opacity: ",";\n        width: ","px;\n    }\n\n    25% {\n        transform: translateY(","vh) translateX(0px) rotate(","deg) scaleX(",") scaleY(","); \n        filter: blur(","px);\n        opacity: ",";\n        width: ","px;\n    }\n\n    37.5% {\n        transform: translateY(","vh) translateX(","px) rotate(","deg) scaleX(",") scaleY(","); \n        filter: blur(","px);\n        opacity: ",";\n        width: ","px;\n    }\n\n    50% {\n        transform: translateY(","vh) translateX(0px) rotate(","deg) scaleX(",") scaleY(","); \n        filter: blur(","px);\n        opacity: ",";\n        width: ","px;\n    }\n\n    62.5% {\n        transform: translateY(","vh) translateX(","px) rotate(","deg) scaleX(",") scaleY(","); \n        filter: blur(","px);\n        opacity: ",";\n        width: ","px;\n    }\n\n    75% {\n        transform: translateY(","vh) translateX(0px) rotate(","deg) scaleX(",") scaleY(","); \n        filter: blur(","px);\n        opacity: ",";\n        width: ","px;\n    }\n\n    87.5% {\n        transform: translateY(","vh) translateX(","px) rotate(","deg) scaleX(",") scaleY(","); \n        filter: blur(","px);\n        opacity: ",";\n        width: ","px;\n    }\n\n    100% {\n        transform: translateY(","vh)  translateX(0px) rotate(","deg) scaleX(",") scaleY(","); \n        filter: blur(","px);\n        opacity: 0;\n        width: ","px;\n    }\n    "])),0*u,l,c,1+i,30+s,-5+r,-10*n,22.5*u,l,c,2+i,1+d,35+s,-10+r,45*u,l,c,3+i,1+d,40+s,-15+r,20*n,67.5*u,l,c,3+i,1+d,45+s,-20+r,90*u,l,c,3+i,1+d,50+s,-25+r,-30*n,112.5*u,l,c,4+i,1+d,55+s,-30+r,135*u,l,c,6+i,1+d,60+s,-35+r,30*n,157.5*u,l,c,6+i,.5+d,65+s,-40+r,180*u,l,c,20+i,70+s),[p,m]=(0,t.useState)(!0);return(0,t.useEffect)((()=>{const e=setTimeout((()=>{m(!1)}),1e3*h);return()=>{clearTimeout(e)}}),[]),p?(0,U.jsxs)(Qe,{sx:{position:"absolute",zIndex:2,width:"30px",height:"50px",marginLeft:"0px",top:"0px",animation:"".concat(f," ").concat(h,"s linear infinite"),animationFillMode:"forwards",overflowY:"hidden"},children:[" ",(0,U.jsx)("img",{src:"./svgFiles/smoke.png",alt:"Your GIF",style:{width:"100%",height:"100%",objectFit:"cover"}})]}):(0,U.jsx)(U.Fragment,{})},dj=()=>{const[e,n]=(0,t.useState)([]),r=()=>{const e={translateXMultDeviation:ut(-1,1),translateYAddDeviation:ut(-5,0),blurAddDeviation:0,widthAddDeviation:ut(-10,10),animationTimeDeviation:ut(5,10),scaleX:ut(-2,2),scaleY:ut(-2,2),rotationMultDeviation:ut(-1,1),opacityAddDeviation:ut(0,1)};return(0,U.jsx)(uj,{...e})};return(0,t.useEffect)((()=>{setTimeout((()=>{n([...e,r()])}),200)}),[e]),(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)(Qe,{sx:{marginBottom:"-5px",width:30,height:50,position:"relative",zIndex:0},children:[(0,U.jsx)(Qe,{sx:{position:"absolute",top:"10px"},children:(0,U.jsx)("img",{src:"./svgFiles/flame.gif",alt:"Your GIF",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,U.jsx)(Qe,{sx:{position:"absolute",width:"160px",height:"120px",backdropFilter:"blur(5px)",marginLeft:"-45px",top:"-30px"}}),(0,U.jsx)(Qe,{sx:{position:"absolute",width:"160px",height:"120px",backdropFilter:"blur(10px)",marginLeft:"-45px",top:"-30px"}}),(0,U.jsx)(Qe,{sx:{position:"absolute",width:"160px",height:"120px",backdropFilter:"blur(20px)",marginLeft:"-45px",top:"-30px"}}),(0,U.jsx)(Qe,{sx:{position:"absolute",width:"160px",height:"120px",backdropFilter:"blur(3px)",marginLeft:"-45px",top:"-30px"}}),e,(0,U.jsxs)(Qe,{sx:{position:"absolute",filter:"blur(0.5px)",top:"10px"},children:[" ",(0,U.jsx)("img",{src:"./svgFiles/flame.gif",alt:"Your GIF",style:{width:"100%",height:"100%",objectFit:"cover"}})]})]}),(0,U.jsxs)(Qe,{sx:{zIndex:1,position:"relative",mixBlendMode:"overlay"},children:[" ",(0,U.jsx)(lj,{width:"35px",height:"15px",opacity:1})]})]})},hj=e=>{let{width:t,height:n,opacity:r}=e;const i="data:image/svg+xml;utf8,".concat(encodeURIComponent('\n    <svg width="210" height="119" viewBox="0 0 210 119" preserveAspectRatio="none" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M104.638 0L110.638 42.5L119.638 84L136.138 119H165.138H206.138L195.638 99.5L172.138 77.5L144.638 48L104.638 0Z" fill="#031835"/>\n<path d="M104.638 0L110.638 42.5L119.638 84L136.138 119H165.138H206.138L195.638 99.5L172.138 77.5L144.638 48L104.638 0Z" fill="#031835"/>\n<path d="M104.638 0L98.6377 42.5L89.6377 84L73.1377 119H44.1377H3.1377L13.6377 99.5L37.1377 77.5L64.6377 48L104.638 0Z" fill="#031835"/>\n<path d="M104.638 0L98.6377 42.5L89.6377 84L73.1377 119H44.1377H3.1377L13.6377 99.5L37.1377 77.5L64.6377 48L104.638 0Z" fill="#031835"/>\n<path d="M104.639 0L107.64 15H101.64L104.639 0Z" fill="#031835"/>\n<path d="M204.089 118.624L206.51 108.37L208.157 108.905L204.089 118.624Z" fill="#031835"/>\n<path d="M4.23732 118.646L8.99904e-06 109L1.6377 108.436L4.23732 118.646Z" fill="#031835"/>\n</svg>\n\n  '));return(0,U.jsx)("img",{src:i,alt:"Tent",style:{width:t,height:n,opacity:r}})};var fj,pj;const mj=e=>{let{headWidthPx:n,animationDuratonSecs:r,topOffsetVh:i,leftOffsetVw:s,rotateAddDeviation:a}=e;const l=n,c=l*(4/30),u=2.8*l,d=l,h=r;var f=(0,qe.i7)(fj||(fj=o(["\n        0% {\n            transform: translate(0px) rotate(","deg);\n            width: 0px;\n            \n        }\n    \n        30% {\n            transform: translate(","px) rotate(","deg);\n            width: ","px;\n        }\n\n        40% {\n            filter: drop-shadow(0 0 2px white);\n        }\n\n        60% {\n            filter: drop-shadow(0 0 13px white);\n        }\n\n        70% {\n            filter: drop-shadow(0 0 6px white);\n        }\n\n        80% {\n            filter: drop-shadow(0 0 3px white);\n        }\n    \n        100% {\n            transform: translate(0px) rotate(","deg);\n            width: 0px;\n            filter: drop-shadow(0 0 20px white);\n        }\n        "])),45+a,-d/2,45+a,d,45+a),p=(0,qe.i7)(pj||(pj=o(["\n        0% {\n            transform: translate(0px) rotate(","deg);\n            width: 0px;\n        }\n    \n        30% {\n            transform: translate(","px) rotate(","deg);\n            width: ","px;\n        }\n\n        40% {\n            filter: drop-shadow(0 0 2px white);\n        }\n\n        60% {\n            filter: drop-shadow(0 0 13px white);\n        }\n\n        70% {\n            filter: drop-shadow(0 0 6px white);\n        }\n\n        80% {\n            filter: drop-shadow(0 0 3px white);\n        }\n    \n        100% {\n            transform: translate(0px) rotate(","deg);\n            width: 0px;\n            filter: drop-shadow(0 0 20px white);\n        }\n        "])),-45+a,-d/2,-45+a,d,-45+a);const m={position:"absolute",width:"".concat(l,"px"),height:"".concat(c,"px"),background:"linear-gradient(-45deg, rgba(0, 0, 255, 0), white, rgba(0, 0, 255, 0))",borderRadius:"100px",transform:"translate(".concat(u,"px) rotate(45deg)"),filter:"drop-shadow(0 0 6px white)",zIndex:-10,animation:"".concat(f," ").concat(h,"s ease-in-out infinite")},g={position:"absolute",width:"".concat(l,"px"),height:"".concat(c,"px"),background:"linear-gradient(-45deg, rgba(0, 0, 255, 0), white, rgba(0, 0, 255, 0))",borderRadius:"100px",transform:"translate(".concat(u,"px) rotate(-45deg)"),filter:"drop-shadow(0 0 6px white)",zIndex:-10,animation:"".concat(p," ").concat(h,"s ease-in-out infinite")},[v,y]=(0,t.useState)(!0);return(0,t.useEffect)((()=>{const e=setTimeout((()=>{y(!1)}),1e3*r);return()=>{clearTimeout(e)}}),[]),v?(0,U.jsxs)(Qe,{sx:{top:"".concat(i,"vh"),left:"".concat(s,"vw"),position:"absolute",zIndex:-10},children:[(0,U.jsx)(Qe,{sx:g}),(0,U.jsx)(Qe,{sx:m})]}):(0,U.jsx)(U.Fragment,{})},gj=e=>{let{children:n}=e;const[r,i]=(0,t.useState)([]),o=()=>{const e=ut(10,88),t=ut(1,99),n=ut(6,15),r=ut(5,10),i=ut(1,180);return(0,U.jsx)(mj,{rotateAddDeviation:i,headWidthPx:r,animationDuratonSecs:n,topOffsetVh:e,leftOffsetVw:t})};return(0,t.useEffect)((()=>{setTimeout((()=>{i([...r,o()])}),500)}),[r]),(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(Qe,{sx:{background:"linear-gradient(180deg, rgb(24, 18, 43) 0%, rgb(3, 24, 53) 20%, rgb(40, 45, 65) 60%, rgba(211, 140, 96, 0.3) 100%)",zIndex:1,overflow:"hidden"},children:(0,U.jsxs)(Oe,{sx:{minHeight:"100vh",width:"100vw",position:"relative",overflow:"hidden",justifyContent:"center",alignItems:"center"},children:[n,(0,U.jsx)(Qe,{sx:{position:"absolute",top:"0px",width:"100vw",zIndex:0,transform:"rotate(180deg)"},children:(0,U.jsx)(JF,{heightSubtraction:7})}),(0,U.jsxs)(Oe,{sx:{position:"absolute",bottom:"0"},children:[(0,U.jsxs)(Oe,{direction:"row",sx:{width:"100vw",alignItems:"flex-end",justifyContent:"space-between",zIndex:"100"},children:[(0,U.jsx)(Qe,{width:"10px"}),(0,U.jsx)(hj,{width:"139px",height:"79px",opacity:1}),(0,U.jsx)(Qe,{width:"10px"}),(0,U.jsx)(Qe,{sx:{marginBottom:"-5px"},children:(0,U.jsxs)(Qe,{sx:{zIndex:-1,position:"relative"},children:[" ",(0,U.jsx)(dj,{})]})}),(0,U.jsx)(aj,{width:"85%",height:"15vh",opacity:1})]}),(0,U.jsx)(Qe,{sx:{width:"100vw",height:"10vh",zIndex:100},children:(0,U.jsx)(sj,{width:"100%",height:"10vh",opacity:1})}),(0,U.jsx)(zP,{item:!0,sx:{position:"absolute",bottom:0,width:"100vw",height:"100vh",margin:0,padding:0,zIndex:0},children:(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(Qe,{sx:{position:"absolute",width:"100vw",height:"100vh"},children:r})})})]})]})})})},vj=()=>(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(gj,{children:(0,U.jsxs)(Qe,{sx:{height:"100vh",width:"100vw",zIndex:1},children:[(0,U.jsx)(jF,{hideLogo:!0}),(0,U.jsx)(Qe,{style:{height:"10vh"}}),(0,U.jsx)(zP,{item:!0,sx:{zIndex:1},children:(0,U.jsxs)(Oe,{direction:"column",alignItems:"center",justifyContent:"center",children:[st(2,20),null!=ZN.currentUser?(0,U.jsx)(XO,{sx:{color:"white",backgroundColor:"#292140",borderRadius:"20px",width:"min-content",textTransform:"none","&:hover":{backgroundColor:"#393055"}},onClick:()=>{pP()},children:"Logout"}):(0,U.jsx)(XO,{sx:{color:"white",backgroundColor:"#292140",borderRadius:"20px",width:"min-content",textTransform:"none","&:hover":{backgroundColor:"#393055"}},onClick:async()=>{await hP()},children:"Signup/Login with Google"})]})})]})})}),yj=()=>(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(Oe,{justifyContent:"center",alignItems:"center",sx:{width:"100vw",height:"100vh"},children:[(0,U.jsx)(Be,{color:"white",fontSize:65,children:"Loading..."}),(0,U.jsx)(Qe,{sx:{backgroundImage:'url("./svgFiles/infinite-spinner.svg")',backgroundSize:"contain",backgroundRepeat:"no-repeat",width:"".concat(65,"vw"),height:"".concat(32.5,"vw")}})]})}),wj=()=>{const e=QR(),n=(0,t.useRef)(null),r=(0,U.jsxs)(ZF,{children:[(0,U.jsx)(Qe,{sx:{position:"absolute",width:"100vw",bottom:"0px",marginLeft:"15px"},children:(0,U.jsx)(QF,{})}),(0,U.jsx)(Qe,{sx:{position:"absolute",bottom:"-1px",height:"2px",width:"100vw",backgroundColor:"#8C83A4",overflowX:"hidden"}}),(0,U.jsx)(jF,{hideLogo:!0}),(0,U.jsx)(zP,{item:!0,children:(0,U.jsxs)(Oe,{direction:"column",alignItems:"center",justifyContent:"center",children:[st(2,20),(0,U.jsx)(XO,{onClick:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.scrollIntoView()},sx:{color:"#635985",backgroundColor:"#292140",borderRadius:"20px",textTransform:"none","&:hover":{backgroundColor:"#393055"}},children:(0,U.jsx)(Be,{sx:{color:"white",fontSize:"20px"},children:"Welcome Click to Learn More!"})}),(0,U.jsx)(Qe,{style:{height:"43vh",zIndex:1}})]})})]}),i=(0,U.jsxs)(gj,{children:[(0,U.jsx)(Be,{sx:{color:"white",maxWidth:"70vw",textAlign:"center",marginBottom:"10px"},children:"Welcome to NovaType, a visually stunning typing experience set against a backdrop of a beautiful space themed environment, meant to help users improve typing accuracy and dexterity."}),(0,U.jsx)(XO,{onClick:()=>{e("/TypingPage")},sx:{color:"#635985",backgroundColor:"#372F4E",borderRadius:"20px",textTransform:"none","&:hover":{backgroundColor:"#5B546E"}},children:(0,U.jsx)(Be,{sx:{color:"white",fontSize:"20px",zIndex:1e3},children:"Click Here to Play!"})}),(0,U.jsx)(Qe,{sx:{position:"absolute",top:"-1px",height:"2px",width:"100vw",backgroundColor:"#8C83A4",overflowX:"hidden"}}),(0,U.jsx)("div",{ref:n})]});return(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(Oe,{sx:{overflowX:"hidden",position:"relative"},children:[r,i]})})};const bj=function(){const e=(0,t.useContext)(RL);return(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(rj,{children:[(0,U.jsx)(dP,{}),(0,U.jsxs)(cP,{children:[(0,U.jsx)(aP,{index:!0,element:(0,U.jsx)(wj,{})}),(0,U.jsx)(aP,{path:"/TypingPage",element:(0,U.jsx)(tj,{})}),(0,U.jsx)(aP,{path:"/HistoryPage",element:(0,U.jsx)(RL.Provider,{value:e,children:(0,U.jsx)(ej,{})})}),(0,U.jsx)(aP,{path:"/SignupLoginPage",element:(0,U.jsx)(vj,{})}),(0,U.jsx)(aP,{path:"/HomePage",element:(0,U.jsx)(wj,{})}),(0,U.jsx)(aP,{path:"/LoadingPage",element:(0,U.jsx)(yj,{})}),(0,U.jsx)(aP,{path:"*",element:(0,U.jsx)(Be,{sx:{color:"white"},children:"404 error"})})]})]})})},_j=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:s}=t;n(e),r(e),i(e),o(e),s(e)}))};i.createRoot(document.getElementById("root")).render((0,U.jsx)(bj,{})),_j()})()})();
//# sourceMappingURL=main.cf59af38.js.map