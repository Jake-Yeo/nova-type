/*! For license information please see main.06b71966.js.LICENSE.txt */
(()=>{var e={5513:(e,t,n)=>{"use strict";n.d(t,{A:()=>ie});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),i=Math.abs,o=String.fromCharCode,s=Object.assign;function a(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function u(e,t){return 0|e.charCodeAt(t)}function d(e,t,n){return e.slice(t,n)}function h(e){return e.length}function f(e){return e.length}function p(e,t){return t.push(e),e}var m=1,g=1,v=0,y=0,w=0,b="";function _(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:m,column:g,length:s,return:""}}function S(e,t){return s(_("",null,null,"",null,null,0),e,{length:-e.length},t)}function I(){return w=y>0?u(b,--y):0,g--,10===w&&(g=1,m--),w}function x(){return w=y<v?u(b,y++):0,g++,10===w&&(g=1,m++),w}function k(){return u(b,y)}function E(){return y}function T(e,t){return d(b,e,t)}function C(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function A(e){return m=g=1,v=h(b=e),y=0,[]}function R(e){return b="",e}function P(e){return a(T(y-1,D(91===e?e+2:40===e?e+1:e)))}function N(e){for(;(w=k())&&w<33;)x();return C(e)>2||C(w)>3?"":" "}function O(e,t){for(;--t&&x()&&!(w<48||w>102||w>57&&w<65||w>70&&w<97););return T(e,E()+(t<6&&32==k()&&32==x()))}function D(e){for(;x();)switch(w){case e:return y;case 34:case 39:34!==e&&39!==e&&D(w);break;case 40:41===e&&D(e);break;case 92:x()}return y}function L(e,t){for(;x()&&e+w!==57&&(e+w!==84||47!==k()););return"/*"+T(t,y-1)+"*"+o(47===e?e:x())}function M(e){for(;!C(k());)x();return T(e,y)}var F="-ms-",j="-moz-",U="-webkit-",z="comm",V="rule",B="decl",q="@keyframes";function W(e,t){for(var n="",r=f(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function H(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case B:return e.return=e.return||e.value;case z:return"";case q:return e.return=e.value+"{"+W(e.children,r)+"}";case V:e.value=e.props.join(",")}return h(n=W(e.children,r))?e.return=e.value+"{"+n+"}":""}function K(e){return R(G("",null,null,null,[""],e=A(e),0,[0],e))}function G(e,t,n,r,i,s,a,d,f){for(var m=0,g=0,v=a,y=0,w=0,b=0,_=1,S=1,T=1,C=0,A="",R=i,D=s,F=r,j=A;S;)switch(b=C,C=x()){case 40:if(108!=b&&58==u(j,v-1)){-1!=c(j+=l(P(C),"&","&\f"),"&\f")&&(T=-1);break}case 34:case 39:case 91:j+=P(C);break;case 9:case 10:case 13:case 32:j+=N(b);break;case 92:j+=O(E()-1,7);continue;case 47:switch(k()){case 42:case 47:p(Y(L(x(),E()),t,n),f);break;default:j+="/"}break;case 123*_:d[m++]=h(j)*T;case 125*_:case 59:case 0:switch(C){case 0:case 125:S=0;case 59+g:-1==T&&(j=l(j,/\f/g,"")),w>0&&h(j)-v&&p(w>32?$(j+";",r,n,v-1):$(l(j," ","")+";",r,n,v-2),f);break;case 59:j+=";";default:if(p(F=Q(j,t,n,m,g,i,d,A,R=[],D=[],v),s),123===C)if(0===g)G(j,t,F,F,R,s,v,d,D);else switch(99===y&&110===u(j,3)?100:y){case 100:case 108:case 109:case 115:G(e,F,F,r&&p(Q(e,F,F,0,0,i,d,A,i,R=[],v),D),i,D,v,d,r?R:D);break;default:G(j,F,F,F,[""],D,0,d,D)}}m=g=w=0,_=T=1,A=j="",v=a;break;case 58:v=1+h(j),w=b;default:if(_<1)if(123==C)--_;else if(125==C&&0==_++&&125==I())continue;switch(j+=o(C),C*_){case 38:T=g>0?1:(j+="\f",-1);break;case 44:d[m++]=(h(j)-1)*T,T=1;break;case 64:45===k()&&(j+=P(x())),y=k(),g=v=h(A=j+=M(E())),C++;break;case 45:45===b&&2==h(j)&&(_=0)}}return s}function Q(e,t,n,r,o,s,c,u,h,p,m){for(var g=o-1,v=0===o?s:[""],y=f(v),w=0,b=0,S=0;w<r;++w)for(var I=0,x=d(e,g+1,g=i(b=c[w])),k=e;I<y;++I)(k=a(b>0?v[I]+" "+x:l(x,/&\f/g,v[I])))&&(h[S++]=k);return _(e,t,n,0===o?V:u,h,p,m)}function Y(e,t,n){return _(e,t,n,z,o(w),d(e,2,-2),0)}function $(e,t,n,r){return _(e,t,n,B,d(e,0,r),d(e,r+1,-1),r)}var X=function(e,t,n){for(var r=0,i=0;r=i,i=k(),38===r&&12===i&&(t[n]=1),!C(i);)x();return T(e,y)},J=function(e,t){return R(function(e,t){var n=-1,r=44;do{switch(C(r)){case 0:38===r&&12===k()&&(t[n]=1),e[n]+=X(y-1,t,n);break;case 2:e[n]+=P(r);break;case 4:if(44===r){e[++n]=58===k()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=o(r)}}while(r=x());return e}(A(e),t))},Z=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Z.get(n))&&!r){Z.set(e,!0);for(var i=[],o=J(t,i),s=n.props,a=0,l=0;a<o.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=i[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^u(e,0)?(((t<<2^u(e,0))<<2^u(e,1))<<2^u(e,2))<<2^u(e,3):0}(e,t)){case 5103:return U+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return U+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return U+e+j+e+F+e+e;case 6828:case 4268:return U+e+F+e+e;case 6165:return U+e+F+"flex-"+e+e;case 5187:return U+e+l(e,/(\w+).+(:[^]+)/,U+"box-$1$2"+F+"flex-$1$2")+e;case 5443:return U+e+F+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return U+e+F+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return U+e+F+l(e,"shrink","negative")+e;case 5292:return U+e+F+l(e,"basis","preferred-size")+e;case 6060:return U+"box-"+l(e,"-grow","")+U+e+F+l(e,"grow","positive")+e;case 4554:return U+l(e,/([^-])(transform)/g,"$1"+U+"$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,U+"$1"),/(image-set)/,U+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,U+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,U+"box-pack:$3"+F+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+U+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,U+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(u(e,t+1)){case 109:if(45!==u(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1"+U+"$2-$3$1"+j+(108==u(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?ne(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==u(e,t+1))break;case 6444:switch(u(e,h(e)-3-(~c(e,"!important")&&10))){case 107:return l(e,":",":"+U)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+U+(45===u(e,14)?"inline-":"")+"box$3$1"+U+"$2$3$1"+F+"$2box$3")+e}break;case 5936:switch(u(e,t+11)){case 114:return U+e+F+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return U+e+F+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return U+e+F+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return U+e+F+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case B:e.return=ne(e.value,e.length);break;case q:return W([S(e,{value:l(e.value,"@","@"+U)})],r);case V:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return W([S(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return W([S(e,{props:[l(t,/:(plac\w+)/,":"+U+"input-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,F+"input-$1")]})],r)}return""}))}}],ie=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||re;var o,s,a={},l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;l.push(e)}));var c,u,d=[H,(u=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],h=function(e){var t=f(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}([ee,te].concat(i,d));s=function(e,t,n,r){c=n,W(K(e?e+"{"+t.styles+"}":t.styles),h),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new r({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:s};return p.sheet.hydrate(l),p}},918:(e,t,n)=>{"use strict";function r(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{A:()=>r})},5756:(e,t,n)=>{"use strict";n.d(t,{C:()=>a,T:()=>c,i:()=>o,w:()=>l});var r=n(5043),i=n(5513),o=(n(2830),n(9436),!0),s=r.createContext("undefined"!==typeof HTMLElement?(0,i.A)({key:"css"}):null);var a=s.Provider,l=function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(s);return e(t,i,n)}))};o||(l=function(e){return function(t){var n=(0,r.useContext)(s);return null===n?(n=(0,i.A)({key:"css"}),r.createElement(s.Provider,{value:n},e(t,n))):e(t,n)}});var c=r.createContext({})},3290:(e,t,n)=>{"use strict";n.d(t,{AH:()=>c,i7:()=>u,mL:()=>l});var r=n(5756),i=n(5043),o=n(1722),s=n(9436),a=n(2830),l=(n(5513),n(219),(0,r.w)((function(e,t){var n=e.styles,l=(0,a.J)([n],void 0,i.useContext(r.T));if(!r.i){for(var c,u=l.name,d=l.styles,h=l.next;void 0!==h;)u+=" "+h.name,d+=h.styles,h=h.next;var f=!0===t.compat,p=t.insert("",{name:u,styles:d},t.sheet,f);return f?null:i.createElement("style",((c={})["data-emotion"]=t.key+"-global "+u,c.dangerouslySetInnerHTML={__html:p},c.nonce=t.sheet.nonce,c))}var m=i.useRef();return(0,s.i)((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,i=document.querySelector('style[data-emotion="'+e+" "+l.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==i&&(r=!0,i.setAttribute("data-emotion",e),n.hydrate([i])),m.current=[n,r],function(){n.flush()}}),[t]),(0,s.i)((function(){var e=m.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==l.next&&(0,o.sk)(t,l.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",l,n,!1)}}),[t,l.name]),null})));function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.J)(t)}var u=function(){var e=c.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},2830:(e,t,n)=>{"use strict";n.d(t,{J:()=>p});var r={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},i=n(918),o=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,a=function(e){return 45===e.charCodeAt(1)},l=function(e){return null!=e&&"boolean"!==typeof e},c=(0,i.A)((function(e){return a(e)?e:e.replace(o,"-$&").toLowerCase()})),u=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(s,(function(e,t,n){return h={name:t,styles:n,next:h},t}))}return 1===r[e]||a(e)||"number"!==typeof t||0===t?t:t+"px"};function d(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return h={name:n.name,styles:n.styles,next:h},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)h={name:r.name,styles:r.styles,next:h},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=d(e,t,n[i])+";";else for(var o in n){var s=n[o];if("object"!==typeof s)null!=t&&void 0!==t[s]?r+=o+"{"+t[s]+"}":l(s)&&(r+=c(o)+":"+u(o,s)+";");else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var a=d(e,t,s);switch(o){case"animation":case"animationName":r+=c(o)+":"+a+";";break;default:r+=o+"{"+a+"}"}}else for(var h=0;h<s.length;h++)l(s[h])&&(r+=c(o)+":"+u(o,s[h])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=h,o=n(e);return h=i,d(e,t,o)}}if(null==t)return n;var s=t[n];return void 0!==s?s:n}var h,f=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var p=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";h=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=d(n,t,o)):i+=o[0];for(var s=1;s<e.length;s++)i+=d(n,t,e[s]),r&&(i+=o[s]);f.lastIndex=0;for(var a,l="";null!==(a=f.exec(i));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:h}}},9436:(e,t,n)=>{"use strict";var r;n.d(t,{i:()=>a,s:()=>s});var i=n(5043),o=!!(r||(r=n.t(i,2))).useInsertionEffect&&(r||(r=n.t(i,2))).useInsertionEffect,s=o||function(e){return e()},a=o||i.useLayoutEffect},1722:(e,t,n)=>{"use strict";n.d(t,{Rk:()=>r,SF:()=>i,sk:()=>o});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var i=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},o=function(e,t,n){i(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+r:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}}},7713:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalStyles:()=>I,StyledEngineProvider:()=>S,ThemeContext:()=>l.T,css:()=>y.AH,default:()=>x,internal_processStyles:()=>k,keyframes:()=>y.i7});var r=n(8168),i=n(5043),o=n(918),s=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,a=(0,o.A)((function(e){return s.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),l=n(5756),c=n(1722),u=n(2830),d=n(9436),h=a,f=function(e){return"theme"!==e},p=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?h:f},m=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},g=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,c.SF)(t,n,r),(0,d.s)((function(){return(0,c.sk)(t,n,r)})),null},v=function e(t,n){var o,s,a=t.__emotion_real===t,d=a&&t.__emotion_base||t;void 0!==n&&(o=n.label,s=n.target);var h=m(t,n,a),f=h||p(d),v=!f("as");return function(){var y=arguments,w=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==o&&w.push("label:"+o+";"),null==y[0]||void 0===y[0].raw)w.push.apply(w,y);else{0,w.push(y[0][0]);for(var b=y.length,_=1;_<b;_++)w.push(y[_],y[0][_])}var S=(0,l.w)((function(e,t,n){var r=v&&e.as||d,o="",a=[],m=e;if(null==e.theme){for(var y in m={},e)m[y]=e[y];m.theme=i.useContext(l.T)}"string"===typeof e.className?o=(0,c.Rk)(t.registered,a,e.className):null!=e.className&&(o=e.className+" ");var b=(0,u.J)(w.concat(a),t.registered,m);o+=t.key+"-"+b.name,void 0!==s&&(o+=" "+s);var _=v&&void 0===h?p(r):f,S={};for(var I in e)v&&"as"===I||_(I)&&(S[I]=e[I]);return S.className=o,S.ref=n,i.createElement(i.Fragment,null,i.createElement(g,{cache:t,serialized:b,isStringTag:"string"===typeof r}),i.createElement(r,S))}));return S.displayName=void 0!==o?o:"Styled("+("string"===typeof d?d:d.displayName||d.name||"Component")+")",S.defaultProps=t.defaultProps,S.__emotion_real=S,S.__emotion_base=d,S.__emotion_styles=w,S.__emotion_forwardProp=h,Object.defineProperty(S,"toString",{value:function(){return"."+s}}),S.withComponent=function(t,i){return e(t,(0,r.A)({},n,i,{shouldForwardProp:m(S,i,!0)})).apply(void 0,w)},S}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){v[e]=v(e)}));var y=n(3290),w=n(5513),b=n(579);let _;function S(e){const{injectFirst:t,children:n}=e;return t&&_?(0,b.jsx)(l.C,{value:_,children:n}):n}function I(e){const{styles:t,defaultTheme:n={}}=e,r="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,b.jsx)(y.mL,{styles:r})}function x(e,t){return v(e,t)}"object"===typeof document&&(_=(0,w.A)({key:"css",prepend:!0}));const k=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},7266:(e,t,n)=>{"use strict";var r=n(4994);t.X4=f,t.e$=p,t.eM=function(e,t){const n=h(e),r=h(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},t.a=m;var i=r(n(7245)),o=r(n(5383));function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,o.default)(e,t,n)}function a(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}function l(e){if(e.type)return e;if("#"===e.charAt(0))return l(a(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,i.default)(9,e));let r,o=e.substring(t+1,e.length-1);if("color"===n){if(o=o.split(" "),r=o.shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,i.default)(10,r))}else o=o.split(",");return o=o.map((e=>parseFloat(e))),{type:n,values:o,colorSpace:r}}const c=e=>{const t=l(e);return t.values.slice(0,3).map(((e,n)=>-1!==t.type.indexOf("hsl")&&0!==n?"".concat(e,"%"):e)).join(" ")};function u(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function d(e){e=l(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const c=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",c.push(t[3])),u({type:a,values:c})}function h(e){let t="hsl"===(e=l(e)).type||"hsla"===e.type?l(d(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function f(e,t){return e=l(e),t=s(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,u(e)}function p(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return u(e)}function m(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return u(e)}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return h(e)>.5?p(e,t):m(e,t)}},8052:(e,t,n)=>{"use strict";var r=n(4994);t.Ay=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=m,rootShouldForwardProp:r=p,slotShouldForwardProp:l=p}=e,u=e=>(0,c.default)((0,i.default)({},e,{theme:v((0,i.default)({},e,{defaultTheme:n,themeId:t}))}));return u.__mui_systemSx=!0,function(e){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:d,slot:f,skipVariantsResolver:m,skipSx:b,overridesResolver:_=y(g(f))}=c,S=(0,o.default)(c,h),I=void 0!==m?m:f&&"Root"!==f&&"root"!==f||!1,x=b||!1;let k=p;"Root"===f||"root"===f?k=r:f?k=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(k=void 0);const E=(0,s.default)(e,(0,i.default)({shouldForwardProp:k,label:undefined},S)),T=e=>"function"===typeof e&&e.__emotion_real!==e||(0,a.isPlainObject)(e)?r=>w(e,(0,i.default)({},r,{theme:v({theme:r.theme,defaultTheme:n,themeId:t})})):e,C=function(r){let o=T(r);for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];const c=a?a.map(T):[];d&&_&&c.push((e=>{const r=v((0,i.default)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[d]||!r.components[d].styleOverrides)return null;const o=r.components[d].styleOverrides,s={};return Object.entries(o).forEach((t=>{let[n,o]=t;s[n]=w(o,(0,i.default)({},e,{theme:r}))})),_(e,s)})),d&&!I&&c.push((e=>{var r;const o=v((0,i.default)({},e,{defaultTheme:n,themeId:t}));return w({variants:null==o||null==(r=o.components)||null==(r=r[d])?void 0:r.variants},(0,i.default)({},e,{theme:o}))})),x||c.push(u);const h=c.length-a.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");o=[...r,...e],o.raw=[...r.raw,...e]}const f=E(o,...c);return e.muiName&&(f.muiName=e.muiName),f};return E.withConfig&&(C.withConfig=E.withConfig),C}};var i=r(n(4634)),o=r(n(4893)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(7713)),a=n(4534),l=(r(n(578)),r(n(2046)),r(n(4989))),c=r(n(3234));const u=["ownerState"],d=["variants"],h=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const m=(0,l.default)(),g=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function v(e){let{defaultTheme:t,theme:n,themeId:r}=e;return i=n,0===Object.keys(i).length?t:n[r]||n;var i}function y(e){return e?(t,n)=>n[e]:null}function w(e,t){let{ownerState:n}=t,r=(0,o.default)(t,u);const s="function"===typeof e?e((0,i.default)({ownerState:n},r)):e;if(Array.isArray(s))return s.flatMap((e=>w(e,(0,i.default)({ownerState:n},r))));if(s&&"object"===typeof s&&Array.isArray(s.variants)){const{variants:e=[]}=s;let t=(0,o.default)(s,d);return e.forEach((e=>{let o=!0;"function"===typeof e.props?o=e.props((0,i.default)({ownerState:n},r,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&r[t]!==e.props[t]&&(o=!1)})),o&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,i.default)({ownerState:n},r,n)):e.style))})),t}return s}},9751:(e,t,n)=>{"use strict";n.d(t,{EU:()=>a,NI:()=>s,iZ:()=>c,kW:()=>u,vf:()=>l,zu:()=>i});var r=n(3216);const i={xs:0,sm:600,md:900,lg:1200,xl:1536},o={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(i[e],"px)")};function s(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||o;return t.reduce(((r,i,o)=>(r[e.up(e.keys[o])]=n(t[o]),r)),{})}if("object"===typeof t){const e=r.breakpoints||o;return Object.keys(t).reduce(((r,o)=>{if(-1!==Object.keys(e.values||i).indexOf(o)){r[e.up(o)]=n(t[o],o)}else{const e=o;r[e]=t[e]}return r}),{})}return n(t)}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function l(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function c(e){const t=a(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];const s=[t,...i].reduce(((e,t)=>(0,r.A)(e,t)),{});return l(Object.keys(t),s)}function u(e){let{values:t,breakpoints:n,base:r}=e;const i=r||function(e,t){if("object"!==typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach(((t,r)=>{r<e.length&&(n[t]=!0)})):r.forEach((t=>{null!=e[t]&&(n[t]=!0)})),n}(t,n),o=Object.keys(i);if(0===o.length)return t;let s;return o.reduce(((e,n,r)=>(Array.isArray(t)?(e[n]=null!=t[r]?t[r]:t[s],s=r):"object"===typeof t?(e[n]=null!=t[n]?t[n]:t[s],s=n):e[n]=t,e)),{})}},9703:(e,t,n)=>{"use strict";function r(e,t){const n=this;if(n.vars&&"function"===typeof n.getColorSchemeSelector){return{[n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}}return n.palette.mode===e?t:{}}n.d(t,{A:()=>r})},4853:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(8587),i=n(8168);const o=["values","unit","step"],s=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>(0,i.A)({},e,{[t.key]:t.val})),{})};function a(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:a=5}=e,l=(0,r.A)(e,o),c=s(t),u=Object.keys(c);function d(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function h(e){const r="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(r-a/100).concat(n,")")}function f(e,r){const i=u.indexOf(r);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==i&&"number"===typeof t[u[i]]?t[u[i]]:r)-a/100).concat(n,")")}return(0,i.A)({keys:u,values:c,up:d,down:h,between:f,only:function(e){return u.indexOf(e)+1<u.length?f(e,u[u.indexOf(e)+1]):d(e)},not:function(e){const t=u.indexOf(e);return 0===t?d(u[1]):t===u.length-1?h(u[t]):f(e,u[u.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},l)}},8280:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(8168),i=n(8587),o=n(3216),s=n(4853);const a={borderRadius:4};var l=n(8604);var c=n(8812),u=n(7758),d=n(9703);const h=["breakpoints","palette","spacing","shape"];const f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:f,shape:p={}}=e,m=(0,i.A)(e,h),g=(0,s.A)(t),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=(0,l.LX)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(f);let y=(0,o.A)({breakpoints:g,direction:"ltr",components:{},palette:(0,r.A)({mode:"light"},n),spacing:v,shape:(0,r.A)({},a,p)},m);y.applyStyles=d.A;for(var w=arguments.length,b=new Array(w>1?w-1:0),_=1;_<w;_++)b[_-1]=arguments[_];return y=b.reduce(((e,t)=>(0,o.A)(e,t)),y),y.unstable_sxConfig=(0,r.A)({},u.A,null==m?void 0:m.unstable_sxConfig),y.unstable_sx=function(e){return(0,c.A)({sx:e,theme:this})},y}},4989:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,private_createBreakpoints:()=>i.A,unstable_applyStyles:()=>o.A});var r=n(8280),i=n(4853),o=n(9703)},3815:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(3216);const i=function(e,t){return t?(0,r.A)(e,t,{clone:!1}):e}},8604:(e,t,n)=>{"use strict";n.d(t,{LX:()=>p,MA:()=>f,_W:()=>m,Lc:()=>y,Ms:()=>w});var r=n(9751),i=n(7162),o=n(3815);const s={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!l[e])return[e];e=l[e]}const[t,n]=e.split(""),r=s[t],i=a[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})),u=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[...u,...d];function f(e,t,n,r){var o;const s=null!=(o=(0,i.Yn)(e,t,!1))?o:n;return"number"===typeof s?e=>"string"===typeof e?e:s*e:Array.isArray(s)?e=>"string"===typeof e?e:s[e]:"function"===typeof s?s:()=>{}}function p(e){return f(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function g(e,t,n,i){if(-1===t.indexOf(n))return null;const o=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=m(t,n),e)),{})}(c(n),i),s=e[n];return(0,r.NI)(e,s,o)}function v(e,t){const n=p(e.theme);return Object.keys(e).map((r=>g(e,t,r,n))).reduce(o.A,{})}function y(e){return v(e,u)}function w(e){return v(e,d)}function b(e){return v(e,h)}y.propTypes={},y.filterProps=u,w.propTypes={},w.filterProps=d,b.propTypes={},b.filterProps=h},7162:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a,BO:()=>s,Yn:()=>o});var r=n(410),i=n(9751);function o(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function s(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:o(e,n)||i,t&&(r=t(r,i,e)),r}const a=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:a,transform:l}=e,c=e=>{if(null==e[t])return null;const c=e[t],u=o(e.theme,a)||{};return(0,i.NI)(e,c,(e=>{let i=s(u,l,e);return e===i&&"string"===typeof e&&(i=s(u,l,"".concat(t).concat("default"===e?"":(0,r.A)(e)),e)),!1===n?i:{[n]:i}}))};return c.propTypes={},c.filterProps=[t],c}},7758:(e,t,n)=>{"use strict";n.d(t,{A:()=>D});var r=n(8604),i=n(7162),o=n(3815);const s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),i=e=>Object.keys(e).reduce(((t,n)=>r[n]?(0,o.A)(t,r[n](e)):t),{});return i.propTypes={},i.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),i};var a=n(9751);function l(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function c(e,t){return(0,i.Ay)({prop:e,themeKey:"borders",transform:t})}const u=c("border",l),d=c("borderTop",l),h=c("borderRight",l),f=c("borderBottom",l),p=c("borderLeft",l),m=c("borderColor"),g=c("borderTopColor"),v=c("borderRightColor"),y=c("borderBottomColor"),w=c("borderLeftColor"),b=c("outline",l),_=c("outlineColor"),S=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,r.MA)(e.theme,"shape.borderRadius",4,"borderRadius"),n=e=>({borderRadius:(0,r._W)(t,e)});return(0,a.NI)(e,e.borderRadius,n)}return null};S.propTypes={},S.filterProps=["borderRadius"];s(u,d,h,f,p,m,g,v,y,w,S,b,_);const I=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,r.MA)(e.theme,"spacing",8,"gap"),n=e=>({gap:(0,r._W)(t,e)});return(0,a.NI)(e,e.gap,n)}return null};I.propTypes={},I.filterProps=["gap"];const x=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,r.MA)(e.theme,"spacing",8,"columnGap"),n=e=>({columnGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.columnGap,n)}return null};x.propTypes={},x.filterProps=["columnGap"];const k=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,r.MA)(e.theme,"spacing",8,"rowGap"),n=e=>({rowGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.rowGap,n)}return null};k.propTypes={},k.filterProps=["rowGap"];s(I,x,k,(0,i.Ay)({prop:"gridColumn"}),(0,i.Ay)({prop:"gridRow"}),(0,i.Ay)({prop:"gridAutoFlow"}),(0,i.Ay)({prop:"gridAutoColumns"}),(0,i.Ay)({prop:"gridAutoRows"}),(0,i.Ay)({prop:"gridTemplateColumns"}),(0,i.Ay)({prop:"gridTemplateRows"}),(0,i.Ay)({prop:"gridTemplateAreas"}),(0,i.Ay)({prop:"gridArea"}));function E(e,t){return"grey"===t?t:e}s((0,i.Ay)({prop:"color",themeKey:"palette",transform:E}),(0,i.Ay)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:E}),(0,i.Ay)({prop:"backgroundColor",themeKey:"palette",transform:E}));function T(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const C=(0,i.Ay)({prop:"width",transform:T}),A=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const i=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||a.zu[t];return i?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:T(t)}};return(0,a.NI)(e,e.maxWidth,t)}return null};A.filterProps=["maxWidth"];const R=(0,i.Ay)({prop:"minWidth",transform:T}),P=(0,i.Ay)({prop:"height",transform:T}),N=(0,i.Ay)({prop:"maxHeight",transform:T}),O=(0,i.Ay)({prop:"minHeight",transform:T}),D=((0,i.Ay)({prop:"size",cssProperty:"width",transform:T}),(0,i.Ay)({prop:"size",cssProperty:"height",transform:T}),s(C,A,R,P,N,O,(0,i.Ay)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:S},color:{themeKey:"palette",transform:E},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:E},backgroundColor:{themeKey:"palette",transform:E},p:{style:r.Ms},pt:{style:r.Ms},pr:{style:r.Ms},pb:{style:r.Ms},pl:{style:r.Ms},px:{style:r.Ms},py:{style:r.Ms},padding:{style:r.Ms},paddingTop:{style:r.Ms},paddingRight:{style:r.Ms},paddingBottom:{style:r.Ms},paddingLeft:{style:r.Ms},paddingX:{style:r.Ms},paddingY:{style:r.Ms},paddingInline:{style:r.Ms},paddingInlineStart:{style:r.Ms},paddingInlineEnd:{style:r.Ms},paddingBlock:{style:r.Ms},paddingBlockStart:{style:r.Ms},paddingBlockEnd:{style:r.Ms},m:{style:r.Lc},mt:{style:r.Lc},mr:{style:r.Lc},mb:{style:r.Lc},ml:{style:r.Lc},mx:{style:r.Lc},my:{style:r.Lc},margin:{style:r.Lc},marginTop:{style:r.Lc},marginRight:{style:r.Lc},marginBottom:{style:r.Lc},marginLeft:{style:r.Lc},marginX:{style:r.Lc},marginY:{style:r.Lc},marginInline:{style:r.Lc},marginInlineStart:{style:r.Lc},marginInlineEnd:{style:r.Lc},marginBlock:{style:r.Lc},marginBlockStart:{style:r.Lc},marginBlockEnd:{style:r.Lc},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:I},rowGap:{style:k},columnGap:{style:x},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:T},maxWidth:{style:A},minWidth:{transform:T},height:{transform:T},maxHeight:{transform:T},minHeight:{transform:T},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},8698:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(8168),i=n(8587),o=n(3216),s=n(7758);const a=["sx"],l=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:s.A;return Object.keys(e).forEach((t=>{i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function c(e){const{sx:t}=e,n=(0,i.A)(e,a),{systemProps:s,otherProps:c}=l(n);let u;return u=Array.isArray(t)?[s,...t]:"function"===typeof t?function(){const e=t(...arguments);return(0,o.Q)(e)?(0,r.A)({},s,e):s}:(0,r.A)({},s,t),(0,r.A)({},c,{sx:u})}},3234:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,extendSxProp:()=>i.A,unstable_createStyleFunctionSx:()=>r.k,unstable_defaultSxConfig:()=>o.A});var r=n(8812),i=n(8698),o=n(7758)},8812:(e,t,n)=>{"use strict";n.d(t,{A:()=>u,k:()=>l});var r=n(410),i=n(3815),o=n(7162),s=n(9751),a=n(7758);function l(){function e(e,t,n,i){const a={[e]:t,theme:n},l=i[e];if(!l)return{[e]:t};const{cssProperty:c=e,themeKey:u,transform:d,style:h}=l;if(null==t)return null;if("typography"===u&&"inherit"===t)return{[e]:t};const f=(0,o.Yn)(n,u)||{};if(h)return h(a);return(0,s.NI)(a,t,(t=>{let n=(0,o.BO)(f,d,t);return t===n&&"string"===typeof t&&(n=(0,o.BO)(f,d,"".concat(e).concat("default"===t?"":(0,r.A)(t)),t)),!1===c?n:{[c]:n}}))}return function t(n){var r;const{sx:o,theme:l={}}=n||{};if(!o)return null;const c=null!=(r=l.unstable_sxConfig)?r:a.A;function u(n){let r=n;if("function"===typeof n)r=n(l);else if("object"!==typeof n)return n;if(!r)return null;const o=(0,s.EU)(l.breakpoints),a=Object.keys(o);let u=o;return Object.keys(r).forEach((n=>{const o=(a=r[n],d=l,"function"===typeof a?a(d):a);var a,d;if(null!==o&&void 0!==o)if("object"===typeof o)if(c[n])u=(0,i.A)(u,e(n,o,l,c));else{const e=(0,s.NI)({theme:l},o,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),i=new Set(r);return t.every((e=>i.size===Object.keys(e).length))}(e,o)?u=(0,i.A)(u,e):u[n]=t({sx:o,theme:l})}else u=(0,i.A)(u,e(n,o,l,c))})),(0,s.vf)(a,u)}return Array.isArray(o)?o.map(u):u(o)}}const c=l();c.filterProps=["sx"];const u=c},410:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(6632);function i(e){if("string"!==typeof e)throw new Error((0,r.A)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},578:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(410)},7040:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))}},5383:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(7040)},3216:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,Q:()=>i});var r=n(8168);function i(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function o(e){if(!i(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=o(e[n])})),t}function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const a=n.clone?(0,r.A)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((r=>{"__proto__"!==r&&(i(t[r])&&r in e&&i(e[r])?a[r]=s(e[r],t[r],n):n.clone?a[r]=i(t[r])?o(t[r]):t[r]:a[r]=t[r])})),a}},4534:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,isPlainObject:()=>r.Q});var r=n(3216)},6632:(e,t,n)=>{"use strict";function r(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{A:()=>r})},7245:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(6632)},2046:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,getFunctionName:()=>o});var r=n(2086);const i=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function o(e){const t="".concat(e).match(i);return t&&t[1]||""}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||o(e)||t}function a(e,t,n){const r=s(t);return e.displayName||(""!==r?"".concat(n,"(").concat(r,")"):n)}function l(e){if(null!=e){if("string"===typeof e)return e;if("function"===typeof e)return s(e,"Component");if("object"===typeof e)switch(e.$$typeof){case r.ForwardRef:return a(e,e.render,"ForwardRef");case r.Memo:return a(e,e.type,"memo");default:return}}}},219:(e,t,n)=>{"use strict";var r=n(3763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=l(t),m=l(n),g=0;g<s.length;++g){var v=s[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!a||!a[v])){var y=h(n,v);try{c(t,v,y)}catch(w){}}}}return t}},4983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function S(e){return _(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return S(e)||_(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===a||e===s||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===w||e.$$typeof===b||e.$$typeof===v)},t.typeOf=_},3763:(e,t,n)=>{"use strict";e.exports=n(4983)},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5173:(e,t,n)=>{e.exports=n(1497)()},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),S=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function V(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case S:return"Portal";case k:return"Profiler";case x:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ie=null,xe=null;function ke(e){if(e=wi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=_i(t),Se(e.stateNode,e.type,t))}}function Ee(e){Ie?xe?xe.push(e):xe=[e]:Ie=e}function Te(){if(Ie){var e=Ie,t=xe;if(xe=Ie=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Re=!1;function Pe(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ce(e,t,n)}finally{Re=!1,(null!==Ie||null!==xe)&&(Ae(),Te())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Oe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Oe=!1}function Le(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Fe=null,je=!1,Ue=null,ze={onError:function(e){Me=!0,Fe=e}};function Ve(e,t,n,r,i,o,s,a,l){Me=!1,Fe=null,Le.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return We(i),e;if(s===r)return We(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=dt(a):0!==(o&=s)&&(r=dt(o))}else 0!==(s=n&~i)?r=dt(s):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,St,It,xt,kt,Et=!1,Tt=[],Ct=null,At=null,Rt=null,Pt=new Map,Nt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void kt(e.priority,(function(){It(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function zt(){Et=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==At&&jt(At)&&(At=null),null!==Rt&&jt(Rt)&&(Rt=null),Pt.forEach(Ut),Nt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Bt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Vt(Ct,e),null!==At&&Vt(At,e),null!==Rt&&Vt(Rt,e),Pt.forEach(t),Nt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=wt,o=qt.transition;qt.transition=null;try{wt=1,Gt(e,t,n,r)}finally{wt=i,qt.transition=o}}function Kt(e,t,n,r){var i=wt,o=qt.transition;qt.transition=null;try{wt=4,Gt(e,t,n,r)}finally{wt=i,qt.transition=o}}function Gt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Rt=Mt(Rt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pt.set(o,Mt(Pt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nt.set(o,Mt(Nt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=wi(i);if(null!==o&&_t(o),null===(o=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=F({},cn,{view:0,detail:0}),hn=on(dn),fn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),mn=on(F({},fn,{dataTransfer:0})),gn=on(F({},dn,{relatedTarget:0})),vn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=on(yn),bn=on(F({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function kn(){return xn}var En=F({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(En),Cn=on(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=on(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Rn=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=on(Pn),On=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,Fn=u&&(!Dn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function zn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ee(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){jr(e,0)}function Yn(e){if(G(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Hn(t,Gn,e,_e(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function or(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Ir={},xr={};function kr(e){if(Ir[e])return Ir[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return Ir[e]=n[t];return e}u&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Er=kr("animationend"),Tr=kr("animationiteration"),Cr=kr("animationstart"),Ar=kr("transitionend"),Rr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Rr.set(e,t),l(t,[e])}for(var Or=0;Or<Pr.length;Or++){var Dr=Pr[Or];Nr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Nr(Er,"onAnimationEnd"),Nr(Tr,"onAnimationIteration"),Nr(Cr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(o(198));var u=Fe;Me=!1,Fe=null,je||(je=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=l}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,zr("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=yi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Pe((function(){var r=o,i=_e(n),s=[];e:{var a=Rr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Er:case Tr:case Cr:l=vn;break;case Ar:l=Rn;break;case"scroll":l=hn;break;case"wheel":l=Nn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ne(p,h))&&u.push(Hr(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:bi(l),f=null==c?a:bi(c),(a=new u(m,p+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=h;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Qr(s,a,l,u,!1),null!==c&&null!==d&&Qr(s,d,c,u,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=$n;else if(Wn(a))if(Xn)g=sr;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?Hn(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?bi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(s,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Bn?zn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Bn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(v=Kr(r,w)).length&&(w=new bn(w,e,null,n,i),s.push({event:w,listeners:v}),y?w.data=y:null!==(y=Vn(n))&&(w.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&zn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}jr(s,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ne(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Ne(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Ne(n,o))&&s.unshift(Hr(n,l,a)):i||null!=(l=Ne(n,o))&&s.push(Hr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function _i(e){return e[fi]||null}var Si=[],Ii=-1;function xi(e){return{current:e}}function ki(e){0>Ii||(e.current=Si[Ii],Si[Ii]=null,Ii--)}function Ei(e,t){Ii++,Si[Ii]=e.current,e.current=t}var Ti={},Ci=xi(Ti),Ai=xi(!1),Ri=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){ki(Ai),ki(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(o(168));Ei(Ci,t),Ei(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ri=Ci.current,Ei(Ci,e),Ei(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,ki(Ai),ki(Ci),Ei(Ci,e)):ki(Ai),Ei(Ai,n)}var ji=null,Ui=!1,zi=!1;function Vi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!zi&&null!==ji){zi=!0;var e=0,t=wt;try{var n=ji;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,Bi),i}finally{wt=t,zi=!1}}return null}var qi=[],Wi=0,Hi=null,Ki=0,Gi=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){qi[Wi++]=Ki,qi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,$i=1<<32-st(t)+i|n<<i|r,Xi=o+e}else $i=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=b.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wo(e){return(0,e._init)(e._payload)}function bo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===I?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===N&&wo(o)===t.type)?((r=i(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case S:return(t=jc(t,e.mode,n)).return=e,t;case N:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case N:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);yo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);yo(t,r)}return null}function m(i,o,a,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=s(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(i,d),io&&Ji(i,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(o=s(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Ji(i,m),c}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Ji(i,m),c}function g(i,a,l,c){var u=L(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,c);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),a=s(w,a,g),null===d?u=w:d.sibling=w,d=w,m=v}if(y.done)return n(i,m),io&&Ji(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return io&&Ji(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),io&&Ji(i,g),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===I&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case _:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===I){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===N&&wo(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=vo(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===I?((o=Lc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Dc(s.type,s.key,s.props,null,r.mode,l)).ref=vo(r,o,s),l.return=r,r=l)}return a(r);case S:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=jc(s,r.mode,l)).return=r,r=o}return a(r);case N:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return m(r,o,s,l);if(L(s))return g(r,o,s,l);yo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Fc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var _o=bo(!0),So=bo(!1),Io=xi(null),xo=null,ko=null,Eo=null;function To(){Eo=ko=xo=null}function Co(e){var t=Io.current;ki(Io),e._currentValue=t}function Ao(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ro(e,t){xo=e,Eo=ko=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function Po(e){var t=e._currentValue;if(Eo!==e)if(e={context:e,memoizedValue:t,next:null},null===ko){if(null===xo)throw Error(o(308));ko=e,xo.dependencies={lanes:0,firstContext:e}}else ko=ko.next=e;return t}var No=null;function Oo(e){null===No?No=[e]:No.push(e)}function Do(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Oo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Lo(e,r)}function Lo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mo=!1;function Fo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Lo(e,n)}return null===(i=r.interleaved)?(t.next=t,Oo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Lo(e,n)}function Vo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Bo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qo(e,t,n,r){var i=e.updateQueue;Mo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=F({},d,h);break e;case 2:Mo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ml|=s,e.lanes=s,e.memoizedState=d}}function Wo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Ho={},Ko=xi(Ho),Go=xi(Ho),Qo=xi(Ho);function Yo(e){if(e===Ho)throw Error(o(174));return e}function $o(e,t){switch(Ei(Qo,t),Ei(Go,e),Ei(Ko,Ho),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Ko),Ei(Ko,t)}function Xo(){ki(Ko),ki(Go),ki(Qo)}function Jo(e){Yo(Qo.current);var t=Yo(Ko.current),n=le(t,e.type);t!==n&&(Ei(Go,e),Ei(Ko,n))}function Zo(e){Go.current===e&&(ki(Ko),ki(Go))}var es=xi(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var is=b.ReactCurrentDispatcher,os=b.ReactCurrentBatchConfig,ss=0,as=null,ls=null,cs=null,us=!1,ds=!1,hs=0,fs=0;function ps(){throw Error(o(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,i,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=null===e||null===e.memoizedState?Zs:ea,e=n(r,i),ds){s=0;do{if(ds=!1,hs=0,25<=s)throw Error(o(301));s+=1,cs=ls=null,t.updateQueue=null,is.current=ta,e=n(r,i)}while(ds)}if(is.current=Js,t=null!==ls&&null!==ls.next,ss=0,cs=ls=as=null,us=!1,t)throw Error(o(300));return e}function vs(){var e=0!==hs;return hs=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=e:cs=cs.next=e,cs}function ws(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?as.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?as.memoizedState=cs=e:cs=cs.next=e}return cs}function bs(e,t){return"function"===typeof t?t(e):t}function _s(e){var t=ws(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ls,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((ss&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,as.lanes|=d,Ml|=d}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,as.lanes|=s,Ml|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ss(e){var t=ws(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(wa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Is(){}function xs(e,t){var n=as,r=ws(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,wa=!0),r=r.queue,Ms(Ts.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Ps(9,Es.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(o(349));0!==(30&ss)||ks(n,t,i)}return i}function ks(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Es(e,t,n,r){t.value=n,t.getSnapshot=r,Cs(t)&&As(e)}function Ts(e,t,n){return n((function(){Cs(t)&&As(e)}))}function Cs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function As(e){var t=Lo(e,1);null!==t&&nc(t,e,1,-1)}function Rs(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},t.queue=e,e=e.dispatch=Qs.bind(null,as,e),[t.memoizedState,e]}function Ps(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ns(){return ws().memoizedState}function Os(e,t,n,r){var i=ys();as.flags|=e,i.memoizedState=Ps(1|t,n,void 0,void 0===r?null:r)}function Ds(e,t,n,r){var i=ws();r=void 0===r?null:r;var o=void 0;if(null!==ls){var s=ls.memoizedState;if(o=s.destroy,null!==r&&ms(r,s.deps))return void(i.memoizedState=Ps(t,n,o,r))}as.flags|=e,i.memoizedState=Ps(1|t,n,o,r)}function Ls(e,t){return Os(8390656,8,e,t)}function Ms(e,t){return Ds(2048,8,e,t)}function Fs(e,t){return Ds(4,2,e,t)}function js(e,t){return Ds(4,4,e,t)}function Us(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ds(4,4,Us.bind(null,t,e),n)}function Vs(){}function Bs(e,t){var n=ws();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qs(e,t){var n=ws();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ws(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),as.lanes|=n,Ml|=n,e.baseState=!0),t)}function Hs(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=os.transition;os.transition={};try{e(!1),t()}finally{wt=n,os.transition=r}}function Ks(){return ws().memoizedState}function Gs(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ys(e))$s(t,n);else if(null!==(n=Do(e,t,n,r))){nc(n,e,r,ec()),Xs(n,t,r)}}function Qs(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ys(e))$s(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,Oo(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Do(e,t,i,r))&&(nc(n,e,r,i=ec()),Xs(n,t,r))}}function Ys(e){var t=e.alternate;return e===as||null!==t&&t===as}function $s(e,t){ds=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xs(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Js={readContext:Po,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},Zs={readContext:Po,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Po,useEffect:Ls,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Os(4194308,4,Us.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Os(4194308,4,e,t)},useInsertionEffect:function(e,t){return Os(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ys();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gs.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:Rs,useDebugValue:Vs,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=Rs(!1),t=e[0];return e=Hs.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,i=ys();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Al)throw Error(o(349));0!==(30&ss)||ks(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ls(Ts.bind(null,r,s,e),[e]),r.flags|=2048,Ps(9,Es.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=Al.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-st($i)-1)).toString(32)+n),0<(n=hs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Po,useCallback:Bs,useContext:Po,useEffect:Ms,useImperativeHandle:zs,useInsertionEffect:Fs,useLayoutEffect:js,useMemo:qs,useReducer:_s,useRef:Ns,useState:function(){return _s(bs)},useDebugValue:Vs,useDeferredValue:function(e){return Ws(ws(),ls.memoizedState,e)},useTransition:function(){return[_s(bs)[0],ws().memoizedState]},useMutableSource:Is,useSyncExternalStore:xs,useId:Ks,unstable_isNewReconciler:!1},ta={readContext:Po,useCallback:Bs,useContext:Po,useEffect:Ms,useImperativeHandle:zs,useInsertionEffect:Fs,useLayoutEffect:js,useMemo:qs,useReducer:Ss,useRef:Ns,useState:function(){return Ss(bs)},useDebugValue:Vs,useDeferredValue:function(e){var t=ws();return null===ls?t.memoizedState=e:Ws(t,ls.memoizedState,e)},useTransition:function(){return[Ss(bs)[0],ws().memoizedState]},useMutableSource:Is,useSyncExternalStore:xs,useId:Ks,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Uo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=zo(e,o,i))&&(nc(t,e,i,r),Vo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Uo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=zo(e,o,i))&&(nc(t,e,i,r),Vo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Uo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=zo(e,i,r))&&(nc(t,e,r,n),Vo(t,e,r))}};function oa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function sa(e,t,n){var r=!1,i=Ti,o=t.contextType;return"object"===typeof o&&null!==o?o=Po(o):(i=Ni(t)?Ri:Ci.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Fo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Po(o):(o=Ni(t)?Ri:Ci.current,i.context=Pi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ra(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),qo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ha="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Hl=r),da(0,t)},n}function pa(e,t,n){(n=Uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ha;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Uo(-1,1)).tag=2,zo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ya=b.ReactCurrentOwner,wa=!1;function ba(e,t,n,r){t.child=null===e?So(t,null,n,r):_o(t,e.child,n,r)}function _a(e,t,n,r,i){n=n.render;var o=t.ref;return Ro(t,i),r=gs(e,t,n,r,o,i),n=vs(),null===e||wa?(io&&n&&eo(t),t.flags|=1,ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function Sa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Nc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ia(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Wa(e,t,i)}return t.flags|=1,(e=Oc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ia(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Wa(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return Ea(e,t,n,r,i)}function xa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ol,Nl),Nl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ol,Nl),Nl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ei(Ol,Nl),Nl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ei(Ol,Nl),Nl|=r;return ba(e,t,i,n),t.child}function ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ea(e,t,n,r,i){var o=Ni(n)?Ri:Ci.current;return o=Pi(t,o),Ro(t,i),n=gs(e,t,n,r,o,i),r=vs(),null===e||wa?(io&&r&&eo(t),t.flags|=1,ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function Ta(e,t,n,r,i){if(Ni(n)){var o=!0;Mi(t)}else o=!1;if(Ro(t,i),null===t.stateNode)qa(e,t),sa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Po(c):c=Pi(t,c=Ni(n)?Ri:Ci.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,s,r,c),Mo=!1;var h=t.memoizedState;s.state=h,qo(t,r,s,i),l=t.memoizedState,a!==r||h!==l||Ai.current||Mo?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Mo||oa(t,n,a,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,jo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Po(l):l=Pi(t,l=Ni(n)?Ri:Ci.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&aa(t,s,r,l),Mo=!1,h=t.memoizedState,s.state=h,qo(t,r,s,i);var p=t.memoizedState;a!==d||h!==p||Ai.current||Mo?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(c=Mo||oa(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ca(e,t,n,r,o,i)}function Ca(e,t,n,r,i,o){ka(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Fi(t,n,!1),Wa(e,t,o);r=t.stateNode,ya.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=_o(t,e.child,null,o),t.child=_o(t,null,a,o)):ba(e,t,a,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Aa(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),$o(e,t.containerInfo)}function Ra(e,t,n,r,i){return po(),mo(i),t.flags|=256,ba(e,t,n,r),t.child}var Pa,Na,Oa,Da,La={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fa(e,t,n){var r,i=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ei(es,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Mc(l,i,0,null),e=Lc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ma(n),t.memoizedState=La,e):ja(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Ua(e,t,a,r=ua(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(s=Lc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&_o(t,e.child,null,a),t.child.memoizedState=Ma(a),t.memoizedState=La,s);if(0===(1&t.mode))return Ua(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ua(e,t,a,r=ua(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(r=Al)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Lo(e,i),nc(r,e,i,-1))}return mc(),Ua(e,t,a,r=ua(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),t=ja(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Oc(r,a):(a=Lc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ma(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=La,i}return e=(a=e.child).sibling,i=Oc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ja(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ua(e,t,n,r){return null!==r&&mo(r),_o(t,e.child,null,n),(e=ja(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function za(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ao(e.return,t,n)}function Va(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ba(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ba(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,n,t);else if(19===e.tag)za(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(es,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Va(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ts(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Va(t,!0,n,null,o);break;case"together":Va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ha(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return Ni(t.type)&&Oi(),Ka(t),null;case 3:return r=t.stateNode,Xo(),ki(Ai),ki(Ci),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Na(e,t),Ka(t),null;case 5:Zo(t);var i=Yo(Qo.current);if(n=t.type,null!==e&&null!=t.stateNode)Oa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ka(t),null}if(e=Yo(Ko.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,s),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ur("invalid",r);break;case"textarea":ie(r,s),Ur("invalid",r)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,s,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(s in ye(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Ur("scroll",e):null!=u&&w(e,s,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)Da(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Yo(Qo.current),Yo(Ko.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ka(t),null;case 13:if(ki(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),s=!1}else null!==oo&&(sc(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return Xo(),Na(e,t),null===e&&Br(t.stateNode.containerInfo),Ka(t),null;case 10:return Co(t.type._context),Ka(t),null;case 19:if(ki(es),null===(s=t.memoizedState))return Ka(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ha(s,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,Ha(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>Bl&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ha(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return Ka(t),null}else 2*Xe()-s.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=es.current,Ei(es,r?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Nl)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qa(e,t){switch(to(t),t.tag){case 1:return Ni(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xo(),ki(Ai),ki(Ci),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(ki(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(es),null;case 4:return Xo(),null;case 10:return Co(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Na=function(){},Oa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Yo(Ko.current);var o,s=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),s=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Da=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,$a=!1,Xa="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){xc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){xc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:$a||Za(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!$a&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&el(n,t,s),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!$a&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xc(n,t,a)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?($a=(r=$a)||null!==n.memoizedState,hl(e,t,n),$a=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));fl(s,a,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){xc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){xc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){xc(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){xc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&X(i,s),we(l,a);var u=we(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):w(i,d,h,u)}switch(l){case"input":J(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(g){xc(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){xc(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){xc(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=Xe())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?($a=(u=$a)||d,ml(t,e),$a=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Ja=e,d=e.child;null!==d;){for(h=Ja=d;null!==Ja;){switch(p=(f=Ja).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Za(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){xc(r,n,g)}}break;case 5:Za(f,f.return);break;case 22:if(null!==f.memoizedState){_l(h);continue}}null!==p?(p.return=f,Ja=p):_l(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){xc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){xc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,al(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(o(161))}}catch(a){xc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Ja=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Ja;){var i=Ja,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Ya;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||$a;a=Ya;var c=$a;if(Ya=s,($a=l)&&!c)for(Ja=i;null!==Ja;)l=(s=Ja).child,22===s.tag&&null!==s.memoizedState?Sl(i):null!==l?(l.return=s,Ja=l):Sl(i);for(;null!==o;)Ja=o,wl(o,t,n),o=o.sibling;Ja=i,Ya=a,$a=c}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Ja=o):bl(e)}}function bl(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$a||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$a)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Wo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(o(163))}$a||512&t.flags&&il(t)}catch(f){xc(t,t.return,f)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function _l(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function Sl(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){xc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){xc(t,i,l)}}var o=t.return;try{il(t)}catch(l){xc(t,o,l)}break;case 5:var s=t.return;try{il(t)}catch(l){xc(t,s,l)}}}catch(l){xc(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var Il,xl=Math.ceil,kl=b.ReactCurrentDispatcher,El=b.ReactCurrentOwner,Tl=b.ReactCurrentBatchConfig,Cl=0,Al=null,Rl=null,Pl=0,Nl=0,Ol=xi(0),Dl=0,Ll=null,Ml=0,Fl=0,jl=0,Ul=null,zl=null,Vl=0,Bl=1/0,ql=null,Wl=!1,Hl=null,Kl=null,Gl=!1,Ql=null,Yl=0,$l=0,Xl=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Cl)?Xe():-1!==Jl?Jl:Jl=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Pl?Pl&-Pl:null!==go.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=wt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nc(e,t,n,r){if(50<$l)throw $l=0,Xl=null,Error(o(185));vt(e,n,r),0!==(2&Cl)&&e===Al||(e===Al&&(0===(2&Cl)&&(Fl|=n),4===Dl&&ac(e,Pl)),rc(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(Bl=Xe()+500,Ui&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ht(e,e===Al?Pl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(lc.bind(null,e)):Vi(lc.bind(null,e)),si((function(){0===(6&Cl)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Zl=0,0!==(6&Cl))throw Error(o(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===Al?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Cl;Cl|=2;var s=pc();for(Al===e&&Pl===t||(ql=null,Bl=Xe()+500,hc(e,t));;)try{yc();break}catch(l){fc(e,l)}To(),kl.current=s,Cl=i,null!==Rl?t=0:(Al=null,Pl=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ll,hc(e,0),ac(e,r),rc(e,Xe()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(s=pt(e))&&(r=s,t=oc(e,s))),1===t))throw n=Ll,hc(e,0),ac(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:_c(e,zl,ql);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Vl+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,zl,ql),t);break}_c(e,zl,ql);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xl(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,zl,ql),r);break}_c(e,zl,ql);break;default:throw Error(o(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=zl,zl=n,null!==t&&sc(t)),e}function sc(e){null===zl?zl=e:zl.push.apply(zl,e)}function ac(e,t){for(t&=~jl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Cl))throw Error(o(327));Sc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ll,hc(e,0),ac(e,t),rc(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,zl,ql),rc(e,Xe()),null}function cc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(Bl=Xe()+500,Ui&&Bi())}}function uc(e){null!==Ql&&0===Ql.tag&&0===(6&Cl)&&Sc();var t=Cl;Cl|=1;var n=Tl.transition,r=wt;try{if(Tl.transition=null,wt=1,e)return e()}finally{wt=r,Tl.transition=n,0===(6&(Cl=t))&&Bi()}}function dc(){Nl=Ol.current,ki(Ol)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:Xo(),ki(Ai),ki(Ci),rs();break;case 5:Zo(r);break;case 4:Xo();break;case 13:case 19:ki(es);break;case 10:Co(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Al=e,Rl=e=Oc(e.current,null),Pl=Nl=t,Dl=0,Ll=null,jl=Fl=Ml=0,zl=Ul=null,null!==No){for(t=0;t<No.length;t++)if(null!==(r=(n=No[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}No=null}return e}function fc(e,t){for(;;){var n=Rl;try{if(To(),is.current=Js,us){for(var r=as.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}us=!1}if(ss=0,cs=ls=as=null,ds=!1,hs=0,El.current=null,null===n||null===n.return){Dl=1,Ll=t,Rl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,va(p,a,l,0,t),1&p.mode&&ma(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(s,u,t),mc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=ga(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),mo(ca(c,l));break e}}s=c=ca(c,l),4!==Dl&&(Dl=2),null===Ul?Ul=[s]:Ul.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Bo(s,fa(0,c,t));break e;case 1:l=c;var y=s.type,w=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Kl||!Kl.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t,Bo(s,pa(s,l,t));break e}}s=s.return}while(null!==s)}bc(n)}catch(b){t=b,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function pc(){var e=kl.current;return kl.current=Js,null===e?Js:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Al||0===(268435455&Ml)&&0===(268435455&Fl)||ac(Al,Pl)}function gc(e,t){var n=Cl;Cl|=2;var r=pc();for(Al===e&&Pl===t||(ql=null,hc(e,t));;)try{vc();break}catch(i){fc(e,i)}if(To(),Cl=n,kl.current=r,null!==Rl)throw Error(o(261));return Al=null,Pl=0,Dl}function vc(){for(;null!==Rl;)wc(Rl)}function yc(){for(;null!==Rl&&!Ye();)wc(Rl)}function wc(e){var t=Il(e.alternate,e,Nl);e.memoizedProps=e.pendingProps,null===t?bc(e):Rl=t,El.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,Nl)))return void(Rl=n)}else{if(null!==(n=Qa(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Dl=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Dl&&(Dl=5)}function _c(e,t,n){var r=wt,i=Tl.transition;try{Tl.transition=null,wt=1,function(e,t,n,r){do{Sc()}while(null!==Ql);if(0!==(6&Cl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Al&&(Rl=Al=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Ac(tt,(function(){return Sc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Tl.transition,Tl.transition=null;var a=wt;wt=1;var l=Cl;Cl|=4,El.current=null,function(e,t){if(ei=Wt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(_){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===s&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(_){xc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),$e(),Cl=l,wt=a,Tl.transition=s}else e.current=n;if(Gl&&(Gl=!1,Ql=e,Yl=i),s=e.pendingLanes,0===s&&(Kl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Hl,Hl=null,e;0!==(1&Yl)&&0!==e.tag&&Sc(),s=e.pendingLanes,0!==(1&s)?e===Xl?$l++:($l=0,Xl=e):$l=0,Bi()}(e,t,n,r)}finally{Tl.transition=i,wt=r}return null}function Sc(){if(null!==Ql){var e=bt(Yl),t=Tl.transition,n=wt;try{if(Tl.transition=null,wt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Yl=0,0!==(6&Cl))throw Error(o(331));var i=Cl;for(Cl|=4,Ja=e.current;null!==Ja;){var s=Ja,a=s.child;if(0!==(16&Ja.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ja=u;null!==Ja;){var d=Ja;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Ja=h;else for(;null!==Ja;){var f=(d=Ja).sibling,p=d.return;if(ol(d),d===u){Ja=null;break}if(null!==f){f.return=p,Ja=f;break}Ja=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Ja=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(s=Ja).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Ja=y;break e}Ja=s.return}}var w=e.current;for(Ja=w;null!==Ja;){var b=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Ja=b;else e:for(a=w;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){xc(l,l.return,S)}if(l===a){Ja=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Ja=_;break e}Ja=l.return}}if(Cl=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{wt=n,Tl.transition=t}}return!1}function Ic(e,t,n){e=zo(e,t=fa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function xc(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=zo(t,e=pa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Pl&n)===n&&(4===Dl||3===Dl&&(130023424&Pl)===Pl&&500>Xe()-Vl?hc(e,0):jl|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Lo(e,t))&&(vt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ec(e,n)}function Ac(e,t){return Ge(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Rc(e,t,n,r)}function Nc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Nc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case I:return Lc(n.children,i,s,t);case x:a=8,i|=8;break;case k:return(e=Pc(12,n,t,2|i)).elementType=k,e.lanes=s,e;case A:return(e=Pc(13,n,t,i)).elementType=A,e.lanes=s,e;case R:return(e=Pc(19,n,t,i)).elementType=R,e.lanes=s,e;case O:return Mc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:a=10;break e;case T:a=9;break e;case C:a=11;break e;case P:a=14;break e;case N:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Pc(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Lc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,o,s,a,l){return e=new Uc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Pc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fo(o),e}function Vc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Li(e,n,t)}return t}function Bc(e,t,n,r,i,o,s,a,l){return(e=zc(n,r,!0,e,0,o,0,a,l)).context=Vc(null),n=e.current,(o=Uo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,zo(n,o,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,o=ec(),s=tc(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Uo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zo(i,t,s))&&(nc(e,i,s,o),Vo(e,i,s)),s}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Il=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Aa(t),po();break;case 5:Jo(t);break;case 1:Ni(t.type)&&Mi(t);break;case 4:$o(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(Io,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fa(e,t,n):(Ei(es,1&es.current),null!==(e=Wa(e,t,n))?e.sibling:null);Ei(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ba(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,xa(e,t,n)}return Wa(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,io&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qa(e,t),e=t.pendingProps;var i=Pi(t,Ci.current);Ro(t,n),i=gs(null,t,r,e,i,n);var s=vs();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(s=!0,Mi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Fo(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=Ca(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),ba(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Nc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=na(r,e),i){case 0:t=Ea(null,t,r,e,n);break e;case 1:t=Ta(null,t,r,e,n);break e;case 11:t=_a(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,na(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Aa(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,jo(e,t),qo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ra(e,t,r,n,i=ca(Error(o(423)),t));break e}if(r!==i){t=Ra(e,t,r,n,i=ca(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Wa(e,t,n);break e}ba(e,t,r,n)}t=t.child}return t;case 5:return Jo(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),ka(e,t),ba(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return Fa(e,t,n);case 4:return $o(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=_o(t,null,r,n):ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_a(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ei(Io,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ai.current){t=Wa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Uo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ao(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ao(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ro(t,n),r=r(i=Po(i)),t.flags|=1,ba(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),Sa(e,t,r,i=na(r.type,i),n);case 15:return Ia(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),qa(e,t),t.tag=1,Ni(r)?(e=!0,Mi(t)):e=!1,Ro(t,n),sa(t,r,i),la(t,r,i,n),Ca(null,t,r,!0,e,n);case 19:return Ba(e,t,n);case 22:return xa(e,t,n)}throw Error(o(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Wc(s);a.call(e)}}qc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Wc(s);o.call(e)}}var s=Bc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),uc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Wc(l);a.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),uc((function(){qc(t,l,n,r)})),l}(n,t,e,i,r);return Wc(s)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));qc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){qc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Xe()),0===(6&Cl)&&(Bl=Xe()+500,Bi()))}break;case 13:uc((function(){var t=Lo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Kc(e,1)}},St=function(e){if(13===e.tag){var t=Lo(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},It=function(e){if(13===e.tag){var t=tc(e),n=Lo(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},xt=function(){return wt},kt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(o(90));G(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ae=uc;var eu={usingClientEntryPoint:!1,Events:[wi,bi,_i,Ee,Te,cc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(o(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(o(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(o(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},5082:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case a:case s:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.ForwardRef=d,t.Memo=p},2086:(e,t,n)=>{"use strict";e.exports=n(5082)},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var _=Array.isArray,S=Object.prototype.hasOwnProperty,I={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,i)&&!x.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:I.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+C(l,0):o,_(s)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(s,t,i,"",(function(e){return e}))):null!=s&&(E(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",_(e))for(var c=0;c<e.length;c++){var u=o+C(a=e[c],c);l+=A(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=A(a=a.value,t,i,u=o+C(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},O={transition:null},D={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:O,ReactCurrentOwner:I};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=w,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=I.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!x.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.3.1"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,O(S);else{var t=r(u);null!==t&&D(_,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(E),E=-1),p=!0;var o=f;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(_,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var I,x=!1,k=null,E=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function R(){if(null!==k){var e=t.unstable_now();C=e;var n=!0;try{n=k(!0,e)}finally{n?I():(x=!1,k=null)}}else x=!1}if("function"===typeof w)I=function(){w(R)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,N=P.port2;P.port1.onmessage=R,I=function(){N.postMessage(null)}}else I=function(){v(R,0)};function O(e){k=e,x||(x=!0,I())}function D(e,n){E=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(E),E=-1):g=!0,D(_,o-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,O(S))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},6440:e=>{"use strict";var t=function(){};e.exports=t},4634:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},4893:e=>{e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},8139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,o(n)))}return e}function o(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},8168:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{A:()=>r})},8587:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{A:()=>r})}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".a0e1c18e.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="type-runner:";n.l=(r,i,o,s)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[i];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,s=r[0],a=r[1],l=r[2],c=0;if(s.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunktype_runner=self.webpackChunktype_runner||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>jn,SDK_VERSION:()=>Zr,_DEFAULT_ENTRY_NAME:()=>Fr,_addComponent:()=>Br,_addOrOverwriteComponent:()=>qr,_apps:()=>Ur,_clearComponents:()=>Yr,_components:()=>Vr,_getProvider:()=>Hr,_isFirebaseApp:()=>Gr,_isFirebaseServerApp:()=>Qr,_registerComponent:()=>Wr,_removeServiceInstance:()=>Kr,_serverApps:()=>zr,deleteApp:()=>ii,getApp:()=>ni,getApps:()=>ri,initializeApp:()=>ei,initializeServerApp:()=>ti,onLog:()=>si,registerVersion:()=>oi,setLogLevel:()=>ai});var t=n(5043),r=n.t(t,2),i=n(4391);function o(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var s=n(8587),a=n(8168);function l(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=l(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const c=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=l(e))&&(r&&(r+=" "),r+=t);return r};var u=n(3216);const d=e=>e,h=(()=>{let e=d;return{configure(t){e=t},generate:t=>e(t),reset(){e=d}}})(),f={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function p(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r=f[t];return r?"".concat(n,"-").concat(r):"".concat(h.generate(e),"-").concat(t)}function m(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach((i=>{r[i]=e[i].reduce(((e,r)=>{if(r){const i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}var g=n(7713),v=n(8280),y=n(8812);const w=["ownerState"],b=["variants"],_=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function S(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const I=(0,v.A)(),x=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function k(e){let{defaultTheme:t,theme:n,themeId:r}=e;return i=n,0===Object.keys(i).length?t:n[r]||n;var i}function E(e){return e?(t,n)=>n[e]:null}function T(e,t){let{ownerState:n}=t,r=(0,s.A)(t,w);const i="function"===typeof e?e((0,a.A)({ownerState:n},r)):e;if(Array.isArray(i))return i.flatMap((e=>T(e,(0,a.A)({ownerState:n},r))));if(i&&"object"===typeof i&&Array.isArray(i.variants)){const{variants:e=[]}=i;let t=(0,s.A)(i,b);return e.forEach((e=>{let i=!0;"function"===typeof e.props?i=e.props((0,a.A)({ownerState:n},r,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&r[t]!==e.props[t]&&(i=!1)})),i&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,a.A)({ownerState:n},r,n)):e.style))})),t}return i}const C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=I,rootShouldForwardProp:r=S,slotShouldForwardProp:i=S}=e,o=e=>(0,y.A)((0,a.A)({},e,{theme:k((0,a.A)({},e,{defaultTheme:n,themeId:t}))}));return o.__mui_systemSx=!0,function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,g.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:c,slot:d,skipVariantsResolver:h,skipSx:f,overridesResolver:p=E(x(d))}=l,m=(0,s.A)(l,_),v=void 0!==h?h:d&&"Root"!==d&&"root"!==d||!1,y=f||!1;let w=S;"Root"===d||"root"===d?w=r:d?w=i:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(w=void 0);const b=(0,g.default)(e,(0,a.A)({shouldForwardProp:w,label:undefined},m)),I=e=>"function"===typeof e&&e.__emotion_real!==e||(0,u.Q)(e)?r=>T(e,(0,a.A)({},r,{theme:k({theme:r.theme,defaultTheme:n,themeId:t})})):e,C=function(r){let i=I(r);for(var s=arguments.length,l=new Array(s>1?s-1:0),u=1;u<s;u++)l[u-1]=arguments[u];const d=l?l.map(I):[];c&&p&&d.push((e=>{const r=k((0,a.A)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[c]||!r.components[c].styleOverrides)return null;const i=r.components[c].styleOverrides,o={};return Object.entries(i).forEach((t=>{let[n,i]=t;o[n]=T(i,(0,a.A)({},e,{theme:r}))})),p(e,o)})),c&&!v&&d.push((e=>{var r;const i=k((0,a.A)({},e,{defaultTheme:n,themeId:t}));return T({variants:null==i||null==(r=i.components)||null==(r=r[c])?void 0:r.variants},(0,a.A)({},e,{theme:i}))})),y||d.push(o);const h=d.length-l.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");i=[...r,...e],i.raw=[...r.raw,...e]}const f=b(i,...d);return e.muiName&&(f.muiName=e.muiName),f};return b.withConfig&&(C.withConfig=b.withConfig),C}}(),A=C;function R(e,t){const n=(0,a.A)({},t);return Object.keys(e).forEach((r=>{if(r.toString().match(/^(components|slots)$/))n[r]=(0,a.A)({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},o=t[r];n[r]={},o&&Object.keys(o)?i&&Object.keys(i)?(n[r]=(0,a.A)({},o),Object.keys(i).forEach((e=>{n[r][e]=R(i[e],o[e])}))):n[r]=o:n[r]=i}else void 0===n[r]&&(n[r]=e[r])})),n}var P=n(5756);const N=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const n=t.useContext(P.T);return n&&(r=n,0!==Object.keys(r).length)?n:e;var r},O=(0,v.A)();const D=function(){return N(arguments.length>0&&void 0!==arguments[0]?arguments[0]:O)};function L(e){let{props:t,name:n,defaultTheme:r,themeId:i}=e,o=D(r);i&&(o=o[i]||o);const s=function(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?R(t.components[n].defaultProps,r):r}({theme:o,name:n,props:t});return s}var M=n(8698),F=n(9751),j=n(8604),U=n(579);const z=["component","direction","spacing","divider","children","className","useFlexGap"],V=(0,v.A)(),B=A("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function q(e){return L({props:e,name:"MuiStack",defaultTheme:V})}function W(e,n){const r=t.Children.toArray(e).filter(Boolean);return r.reduce(((e,i,o)=>(e.push(i),o<r.length-1&&e.push(t.cloneElement(n,{key:"separator-".concat(o)})),e)),[])}const H=e=>{let{ownerState:t,theme:n}=e,r=(0,a.A)({display:"flex",flexDirection:"column"},(0,F.NI)({theme:n},(0,F.kW)({values:t.direction,breakpoints:n.breakpoints.values}),(e=>({flexDirection:e}))));if(t.spacing){const e=(0,j.LX)(n),i=Object.keys(n.breakpoints.values).reduce(((e,n)=>(("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e)),{}),o=(0,F.kW)({values:t.direction,base:i}),s=(0,F.kW)({values:t.spacing,base:i});"object"===typeof o&&Object.keys(o).forEach(((e,t,n)=>{if(!o[e]){const r=t>0?o[n[t-1]]:"column";o[e]=r}}));const a=(n,r)=>{return t.useFlexGap?{gap:(0,j._W)(e,n)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{["margin".concat((i=r?o[r]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[i]))]:(0,j._W)(e,n)}};var i};r=(0,u.A)(r,(0,F.NI)({theme:n},s,a))}return r=(0,F.iZ)(n.breakpoints,r),r};var K=n(8052),G=n(6632),Q=n(7758);function Y(e,t){return(0,a.A)({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var $=n(7266);const X={black:"#000",white:"#fff"},J={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Z={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ee={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},te={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},ne={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},re={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ie={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},oe=["mode","contrastThreshold","tonalOffset"],se={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:X.white,default:X.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},ae={text:{primary:X.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:X.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function le(e,t,n,r){const i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,$.a)(e.main,i):"dark"===t&&(e.dark=(0,$.e$)(e.main,o)))}function ce(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=(0,s.A)(e,oe),o=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ne[200],light:ne[50],dark:ne[400]}:{main:ne[700],light:ne[400],dark:ne[800]}}(t),l=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Z[200],light:Z[50],dark:Z[400]}:{main:Z[500],light:Z[300],dark:Z[700]}}(t),c=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ee[500],light:ee[300],dark:ee[700]}:{main:ee[700],light:ee[400],dark:ee[800]}}(t),d=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:re[400],light:re[300],dark:re[700]}:{main:re[700],light:re[500],dark:re[900]}}(t),h=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ie[400],light:ie[300],dark:ie[700]}:{main:ie[800],light:ie[500],dark:ie[900]}}(t),f=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:te[400],light:te[300],dark:te[700]}:{main:"#ed6c02",light:te[500],dark:te[900]}}(t);function p(e){return(0,$.eM)(e,ae.text.primary)>=n?ae.text.primary:se.text.primary}const m=e=>{let{color:t,name:n,mainShade:i=500,lightShade:o=300,darkShade:s=700}=e;if(t=(0,a.A)({},t),!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error((0,G.A)(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error((0,G.A)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return le(t,"light",o,r),le(t,"dark",s,r),t.contrastText||(t.contrastText=p(t.main)),t},g={dark:ae,light:se};return(0,u.A)((0,a.A)({common:(0,a.A)({},X),mode:t,primary:m({color:o,name:"primary"}),secondary:m({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:c,name:"error"}),warning:m({color:f,name:"warning"}),info:m({color:d,name:"info"}),success:m({color:h,name:"success"}),grey:J,contrastThreshold:n,getContrastText:p,augmentColor:m,tonalOffset:r},g[t]),i)}const ue=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const de={textTransform:"uppercase"},he='"Roboto", "Helvetica", "Arial", sans-serif';function fe(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=he,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:l=400,fontWeightMedium:c=500,fontWeightBold:d=700,htmlFontSize:h=16,allVariants:f,pxToRem:p}=n,m=(0,s.A)(n,ue);const g=i/14,v=p||(e=>"".concat(e/h*g,"rem")),y=(e,t,n,i,o)=>{return(0,a.A)({fontFamily:r,fontWeight:e,fontSize:v(t),lineHeight:n},r===he?{letterSpacing:"".concat((s=i/t,Math.round(1e5*s)/1e5),"em")}:{},o,f);var s},w={h1:y(o,96,1.167,-1.5),h2:y(o,60,1.2,-.5),h3:y(l,48,1.167,0),h4:y(l,34,1.235,.25),h5:y(l,24,1.334,0),h6:y(c,20,1.6,.15),subtitle1:y(l,16,1.75,.15),subtitle2:y(c,14,1.57,.1),body1:y(l,16,1.5,.15),body2:y(l,14,1.43,.15),button:y(c,14,1.75,.4,de),caption:y(l,12,1.66,.4),overline:y(l,12,2.66,1,de),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,u.A)((0,a.A)({htmlFontSize:h,pxToRem:v,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:l,fontWeightMedium:c,fontWeightBold:d},w),m,{clone:!1})}function pe(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const me=["none",pe(0,2,1,-1,0,1,1,0,0,1,3,0),pe(0,3,1,-2,0,2,2,0,0,1,5,0),pe(0,3,3,-2,0,3,4,0,0,1,8,0),pe(0,2,4,-1,0,4,5,0,0,1,10,0),pe(0,3,5,-1,0,5,8,0,0,1,14,0),pe(0,3,5,-1,0,6,10,0,0,1,18,0),pe(0,4,5,-2,0,7,10,1,0,2,16,1),pe(0,5,5,-3,0,8,10,1,0,3,14,2),pe(0,5,6,-3,0,9,12,1,0,3,16,2),pe(0,6,6,-3,0,10,14,1,0,4,18,3),pe(0,6,7,-4,0,11,15,1,0,4,20,3),pe(0,7,8,-4,0,12,17,2,0,5,22,4),pe(0,7,8,-4,0,13,19,2,0,5,24,4),pe(0,7,9,-4,0,14,21,2,0,5,26,4),pe(0,8,9,-5,0,15,22,2,0,6,28,5),pe(0,8,10,-5,0,16,24,2,0,6,30,5),pe(0,8,11,-5,0,17,26,2,0,6,32,5),pe(0,9,11,-5,0,18,28,2,0,7,34,6),pe(0,9,12,-6,0,19,29,2,0,7,36,6),pe(0,10,13,-6,0,20,31,3,0,8,38,7),pe(0,10,13,-6,0,21,33,3,0,8,40,7),pe(0,10,14,-6,0,22,35,3,0,8,42,7),pe(0,11,14,-7,0,23,36,3,0,9,44,8),pe(0,11,15,-7,0,24,38,3,0,9,46,8)],ge=["duration","easing","delay"],ve={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},ye={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function we(e){return"".concat(Math.round(e),"ms")}function be(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function _e(e){const t=(0,a.A)({},ve,e.easing),n=(0,a.A)({},ye,e.duration);return(0,a.A)({getAutoHeightDuration:be,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:o=t.easeInOut,delay:a=0}=r;(0,s.A)(r,ge);return(Array.isArray(e)?e:[e]).map((e=>"".concat(e," ").concat("string"===typeof i?i:we(i)," ").concat(o," ").concat("string"===typeof a?a:we(a)))).join(",")}},e,{easing:t,duration:n})}const Se={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Ie=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function xe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:r={},typography:i={}}=e,o=(0,s.A)(e,Ie);if(e.vars)throw new Error((0,G.A)(18));const l=ce(n),c=(0,v.A)(e);let d=(0,u.A)(c,{mixins:Y(c.breakpoints,t),palette:l,shadows:me.slice(),typography:fe(l,i),transitions:_e(r),zIndex:(0,a.A)({},Se)});d=(0,u.A)(d,o);for(var h=arguments.length,f=new Array(h>1?h-1:0),p=1;p<h;p++)f[p-1]=arguments[p];return d=f.reduce(((e,t)=>(0,u.A)(e,t)),d),d.unstable_sxConfig=(0,a.A)({},Q.A,null==o?void 0:o.unstable_sxConfig),d.unstable_sx=function(e){return(0,y.A)({sx:e,theme:this})},d}const ke=xe,Ee=ke(),Te="$$material";const Ce=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},Ae=e=>Ce(e)&&"classes"!==e,Re=(0,K.Ay)({themeId:Te,defaultTheme:Ee,rootShouldForwardProp:Ae});function Pe(e){let{props:t,name:n}=e;return L({props:t,name:n,defaultTheme:Ee,themeId:Te})}const Ne=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:n=B,useThemeProps:r=q,componentName:i="MuiStack"}=e,o=n(H),l=t.forwardRef((function(e,t){const n=r(e),l=(0,M.A)(n),{component:u="div",direction:d="column",spacing:h=0,divider:f,children:g,className:v,useFlexGap:y=!1}=l,w=(0,s.A)(l,z),b={direction:d,spacing:h,useFlexGap:y},_=m({root:["root"]},(e=>p(i,e)),{});return(0,U.jsx)(o,(0,a.A)({as:u,ownerState:b,ref:t,className:c(_.root,v)},w,{children:f?W(g,f):g}))}));return l}({createStyledComponent:Re("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>Pe({props:e,name:"MuiStack"})}),Oe=Ne;const De=n(410).A;function Le(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach((t=>{r[t]=p(e,t,n)})),r}function Me(e){return p("MuiTypography",e)}Le("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Fe=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],je=Re("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(De(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((e=>{let{theme:t,ownerState:n}=e;return(0,a.A)({margin:0},"inherit"===n.variant&&{font:"inherit"},"inherit"!==n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),Ue={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},ze={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Ve=t.forwardRef((function(e,t){const n=Pe({props:e,name:"MuiTypography"}),r=(e=>ze[e]||e)(n.color),i=(0,M.A)((0,a.A)({},n,{color:r})),{align:o="inherit",className:l,component:u,gutterBottom:d=!1,noWrap:h=!1,paragraph:f=!1,variant:p="body1",variantMapping:g=Ue}=i,v=(0,s.A)(i,Fe),y=(0,a.A)({},i,{align:o,color:r,className:l,component:u,gutterBottom:d,noWrap:h,paragraph:f,variant:p,variantMapping:g}),w=u||(f?"p":g[p]||Ue[p])||"span",b=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=e;return m({root:["root",o,"inherit"!==e.align&&"align".concat(De(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},Me,s)})(y);return(0,U.jsx)(je,(0,a.A)({as:w,ref:t,ownerState:y,className:c(b.root,l)},v))})),Be=Ve;var qe=n(3290);const We=["className","component"];const He=Le("MuiBox",["root"]),Ke=ke(),Ge=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:n,defaultTheme:r,defaultClassName:i="MuiBox-root",generateClassName:o}=e,l=(0,g.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(y.A);return t.forwardRef((function(e,t){const u=D(r),d=(0,M.A)(e),{className:h,component:f="div"}=d,p=(0,s.A)(d,We);return(0,U.jsx)(l,(0,a.A)({as:f,ref:t,className:c(h,o?o(i):i),theme:n&&u[n]||u},p))}))}({themeId:Te,defaultTheme:Ke,defaultClassName:He.root,generateClassName:h.generate}),Qe=Ge,Ye={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let $e;const Xe=new Uint8Array(16);function Je(){if(!$e&&($e="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$e))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $e(Xe)}const Ze=[];for(let n=0;n<256;++n)Ze.push((n+256).toString(16).slice(1));function et(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Ze[e[t+0]]+Ze[e[t+1]]+Ze[e[t+2]]+Ze[e[t+3]]+"-"+Ze[e[t+4]]+Ze[e[t+5]]+"-"+Ze[e[t+6]]+Ze[e[t+7]]+"-"+Ze[e[t+8]]+Ze[e[t+9]]+"-"+Ze[e[t+10]]+Ze[e[t+11]]+Ze[e[t+12]]+Ze[e[t+13]]+Ze[e[t+14]]+Ze[e[t+15]]}const tt=function(e,t,n){if(Ye.randomUUID&&!t&&!e)return Ye.randomUUID();const r=(e=e||{}).random||(e.rng||Je)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return et(r)};var nt,rt,it,ot;const st=e=>{let{headWidthPx:n,animationDuratonSecs:r,xyDistTravelVh:i,topOffsetVh:s,leftOffsetVw:a}=e;const l=tt(),c=n,u=c*(4/30),d=c*(4/30),h=2.8*c,f=c*(100/30),p=c,m=2.8*c,g=c*(100/30),v=i,y=r;var w=(0,qe.i7)(nt||(nt=o(["\n        0% {\n            transform: translate(0px) rotate(45deg);\n            width: 0px;\n            \n        }\n    \n        30% {\n            transform: translate(","px) rotate(45deg);\n            width: ","px;\n        }\n\n        40% {\n            filter: drop-shadow(0 0 2px white);\n        }\n\n        60% {\n            filter: drop-shadow(0 0 13px white);\n        }\n\n        70% {\n            filter: drop-shadow(0 0 6px white);\n        }\n\n        80% {\n            filter: drop-shadow(0 0 3px white);\n        }\n    \n        100% {\n            transform: translate(0px) rotate(45deg);\n            width: 0px;\n            filter: drop-shadow(0 0 20px white);\n        }\n\n        id: ","\n\n        globalId: ","\n        "])),m,p,l,dt),b=(0,qe.i7)(rt||(rt=o(["\n        0% {\n            transform: translate(0px) rotate(-45deg);\n            width: 0px;\n        }\n    \n        30% {\n            transform: translate(","px) rotate(-45deg);\n            width: ","px;\n        }\n\n        40% {\n            filter: drop-shadow(0 0 2px white);\n        }\n\n        60% {\n            filter: drop-shadow(0 0 13px white);\n        }\n\n        70% {\n            filter: drop-shadow(0 0 6px white);\n        }\n\n        80% {\n            filter: drop-shadow(0 0 3px white);\n        }\n    \n        100% {\n            transform: translate(0px) rotate(-45deg);\n            width: 0px;\n            filter: drop-shadow(0 0 20px white);\n        }\n\n        id: ","\n\n        globalId: ","\n        "])),m,p,l,dt),_=(0,qe.i7)(it||(it=o(["\n        0% {\n            width: 0px;\n        }\n    \n        30% {\n            width: ","px;\n        }\n\n        40% {\n            filter: drop-shadow(0 0 2px white);\n        }\n\n        60% {\n            filter: drop-shadow(0 0 13px white);\n        }\n\n        70% {\n            filter: drop-shadow(0 0 6px white);\n        }\n\n        80% {\n            filter: drop-shadow(0 0 3px white);\n        }\n    \n        100% {\n            width: 0px;\n            filter: drop-shadow(0 0 20px white);\n        }\n\n        id: ","\n\n        globalId: ","\n      "])),g,l,dt),S=(0,qe.i7)(ot||(ot=o(["\n      0% {\n        transform: translateX(0vh) translateY(0vh) rotate(45deg);\n      }\n      100% {\n        transform: translateX(","vh) translateY(","vh) rotate(45deg);\n      }\n\n      id: ","\n\n      globalId: ","\n      "])),v,v,l,dt);const I={globalId:dt,id:l,position:"absolute",width:"".concat(c,"px"),height:"".concat(d,"px"),background:"linear-gradient(-45deg, rgba(0, 0, 255, 0), white, rgba(0, 0, 255, 0))",borderRadius:"100px",transform:"translate(".concat(h,"px) rotate(45deg)"),filter:"drop-shadow(0 0 6px white)",zIndex:-10,animation:"".concat(w," ").concat(y,"s ease-in-out infinite")},x={globalId:dt,id:l,position:"absolute",width:"".concat(c,"px"),height:"".concat(d,"px"),background:"linear-gradient(-45deg, rgba(0, 0, 255, 0), white, rgba(0, 0, 255, 0))",borderRadius:"100px",transform:"translate(".concat(h,"px) rotate(-45deg)"),filter:"drop-shadow(0 0 6px white)",zIndex:-10,animation:"".concat(b," ").concat(y,"s ease-in-out infinite")},k={globalId:dt,id:l,position:"absolute",width:"".concat(f,"px"),height:"".concat(u,"px"),background:"linear-gradient(-45deg, white, rgba(0, 0, 255, 0))",borderRadius:"100px",filter:"drop-shadow(0 0 6px white)",zIndex:-10,animation:"".concat(_," ").concat(y,"s ease-in-out infinite")},E=(0,t.useRef)(null);return(0,t.useEffect)((()=>{const e=setTimeout((()=>{var e;(()=>{for(var e=document.querySelectorAll('style[data-emotion="css"]'),t=0,n=Array.from(e).length-1;n>=0;n--){var r=e[n];if(r.innerHTML.includes(l)&&(t++,r.remove()),12==t)break}})(),null===(e=E.current)||void 0===e||e.remove()}),1e3*r);return()=>{var t;null===(t=E.current)||void 0===t||t.remove(),clearTimeout(e)}}),[]),(0,U.jsxs)(Qe,{ref:E,sx:{globalId:dt,id:l,top:"".concat(s,"vh"),left:"".concat(a,"vw"),position:"absolute",animation:"".concat(S," ").concat(y,"s ease-in-out infinite"),zIndex:-10},children:[(0,U.jsx)(Qe,{sx:k})," ",(0,U.jsx)(Qe,{sx:x})," ",(0,U.jsx)(Qe,{sx:I})," "]})};var at,lt,ct,ut;const dt=tt();function ht(){for(var e=document.querySelectorAll('style[data-emotion="css"]'),t=Array.from(e).length-1;t>=0;t--){var n=e[t];n.innerHTML.includes(dt)&&(n.remove(),console.log("removed style element from dom"))}}async function ft(e){const t=5*+e.wordCount;let n="";const r=[],i=e=>{if(1!=o(3))return e;const t=["!","@","#","$","%","^","&","*","(",")","-","_","+","=","~",",","<",">",".","?","/","\\",";",":",'"',"'","{","}","[","]","|","`"],n=t[o(t.length)],r=[];return r.push((()=>n+e+n)),r.push((()=>e+n)),r.push((()=>n+e)),r.push((()=>{const t=["[","{","(","<"],n=o(t.length);return t[n]+e+["]","}",")",">"][n]})),r.push((()=>{const r=t[o(t.length)];return n+e+r})),e=r[o(r.length)]()},o=e=>Math.ceil(Math.random()*e)-1,s=()=>c[o(c.length)],a=()=>{let t=u[o(u.length)].trim();return e.lowercaseEnabled||3!=o(4)||(t=t.charAt(0).toUpperCase()+t.substring(1)),e.symbolsEnabled&&(t=i(t)),t+" "},l=()=>{const t=o(10)+1;var n="";for(let e=0;e<t;e++)n+=o(10);return e.symbolsEnabled&&(n=i(n)),n+" "};if(e.sentencesEnabled){const e=await fetch("/constants/library.txt");var c=(await e.text()).split("\n");r.push(s)}if(e.wordsEnabled){const e=await fetch("/constants/words.txt");var u=(await e.text()).split("\n");r.push(a)}for(e.numbersEnabled&&r.push(l);n.length<t;)n+=r[o(r.length)]()+"";return e.lowercaseEnabled&&(n=n.toLowerCase()),e.symbolsEnabled||(n=n.replaceAll(/[^a-zA-Z0-9 ]/g,"")),(n+"").trim()}function pt(e,t,n,r,i){return(0,U.jsx)("span",{style:{color:n.toString(),backgroundColor:t.toString(),fontSize:i,whiteSpace:"pre-wrap"},children:e},r)}const mt=(e,t)=>{const n=e+"vw",r=e*(14/30)+"vw",i=e*(20/30)+"vw",o=e*(100/30),s=.611570247*o,a=t+"px",l=t*(14/30)+"px",c=t*(20/30)+"px",u=t*(100/30),d=.611570247*u;return(0,U.jsxs)(Oe,{direction:"row",alignItems:"center",children:[vt("calc(".concat(u+"px + "+o+"vw",")"),"calc(".concat(d+"px + "+s+"vw",")"),"./svgFiles/novaTypeLogo.svg"),(0,U.jsxs)(Oe,{children:[(0,U.jsxs)(Oe,{flexDirection:"row",children:[(0,U.jsx)(Be,{fontSize:"calc(".concat(c+" + "+i,")"),children:"\xa0"}),(0,U.jsx)(Be,{color:"white",fontSize:"calc(".concat(a+" + "+n,")"),fontWeight:"bold",children:"Nova"}),(0,U.jsx)(Be,{color:"#9287B7",fontSize:"calc(".concat(a+" + "+n,")"),fontWeight:"bold",children:"Type"})]}),(0,U.jsxs)(Oe,{flexDirection:"row",children:[(0,U.jsx)(Be,{fontSize:"calc(".concat(c+" + "+i,")"),children:"\xa0"}),(0,U.jsx)(Be,{color:"#635985",fontSize:"calc(".concat(l+" + "+r,")"),fontWeight:"bold",children:"Make a Wish"})]})]})]})},gt=(e,t,n,r,i)=>{var s=(0,qe.i7)(at||(at=o(["\n    from {\n      transform: translateX(0);\n    }\n    to {\n      transform: translateX(100vw); // Adjust the distance as needed\n    }\n  "]))),a=(0,qe.i7)(lt||(lt=o(["\n  from {\n    transform: translateX(-100vw);\n  }\n  to {\n    transform: translateX(0vw); // Adjust the distance as needed\n  }\n"])));return"backwards"===n&&(a=(0,qe.i7)(ct||(ct=o(["\n    from {\n      transform: translateX(100vw);\n    }\n    to {\n      transform: translateX(0vw); // Adjust the distance as needed\n    }\n  "]))),s=(0,qe.i7)(ut||(ut=o(["\n  from {\n    transform: translateX(0);\n  }\n  to {\n    transform: translateX(-100vw); // Adjust the distance as needed\n  }\n"])))),(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(Qe,{sx:{width:"100vw",height:e,animation:"".concat(s," ").concat(r,"s ").concat(n," linear infinite"),position:"absolute",bottom:"0",backgroundRepeat:"no-repeat",zIndex:-1},children:(0,U.jsx)(i,{width:"100vw",height:e,opacity:t})}),(0,U.jsx)(Qe,{sx:{width:"100vw",height:e,animation:"".concat(a," ").concat(r,"s ").concat(n," linear infinite"),position:"absolute",bottom:"0",backgroundRepeat:"no-repeat",zIndex:-1},children:(0,U.jsx)(i,{width:"100vw",height:e,opacity:t})})]})},vt=(e,t,n)=>(0,U.jsx)(Qe,{sx:{backgroundImage:'url("'.concat(n,'")'),backgroundSize:"contain",backgroundRepeat:"no-repeat",width:e,height:t}}),yt=(e,t,n,r,i)=>{var o=[],s=0;for(let a=0;a<e.length;a++)a>=+t.length?o.push(pt(e.charAt(a),"transparent","#9287B7",a,r)):t.charAt(a)===e.charAt(a)?(o.push(pt(e.charAt(a),"transparent","white",a,r)),s++):" "==e.charAt(a)?o.push(pt(t.charAt(a),"transparent","#FF007A",a,r)):o.push(pt(e.charAt(a),"transparent","red",a,r));return n&&i.setAccuracy(Math.round(s/i.typedSoFar.length*100)),(0,U.jsx)(U.Fragment,{children:o})},wt=(e,t)=>{const n=t-e+1;return Math.floor(Math.random()*n)+e},bt=()=>{const e=wt(-20,20),t=wt(-30,95),n=wt(3,6),r=wt(40,80),i=wt(15,30);return(0,U.jsx)(st,{headWidthPx:i,animationDuratonSecs:n,xyDistTravelVh:r,topOffsetVh:e,leftOffsetVw:t})};var _t=n(8139),St=n.n(_t),It=n(5173),xt=n.n(It);const kt={type:xt().string,tooltip:xt().bool,as:xt().elementType},Et=t.forwardRef(((e,t)=>{let{as:n="div",className:r,type:i="valid",tooltip:o=!1,...s}=e;return(0,U.jsx)(n,{...s,ref:t,className:St()(r,"".concat(i,"-").concat(o?"tooltip":"feedback"))})}));Et.displayName="Feedback",Et.propTypes=kt;const Tt=Et,Ct=t.createContext({}),At=["xxl","xl","lg","md","sm","xs"],Rt="xs",Pt=t.createContext({prefixes:{},breakpoints:At,minBreakpoint:Rt}),{Consumer:Nt,Provider:Ot}=Pt;function Dt(e,n){const{prefixes:r}=(0,t.useContext)(Pt);return e||r[n]||n}const Lt=t.forwardRef(((e,n)=>{let{id:r,bsPrefix:i,className:o,type:s="checkbox",isValid:a=!1,isInvalid:l=!1,as:c="input",...u}=e;const{controlId:d}=(0,t.useContext)(Ct);return i=Dt(i,"form-check-input"),(0,U.jsx)(c,{...u,ref:n,type:s,id:r||d,className:St()(o,i,a&&"is-valid",l&&"is-invalid")})}));Lt.displayName="FormCheckInput";const Mt=Lt,Ft=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,htmlFor:o,...s}=e;const{controlId:a}=(0,t.useContext)(Ct);return r=Dt(r,"form-check-label"),(0,U.jsx)("label",{...s,ref:n,htmlFor:o||a,className:St()(i,r)})}));Ft.displayName="FormCheckLabel";const jt=Ft;const Ut=t.forwardRef(((e,n)=>{let{id:r,bsPrefix:i,bsSwitchPrefix:o,inline:s=!1,reverse:a=!1,disabled:l=!1,isValid:c=!1,isInvalid:u=!1,feedbackTooltip:d=!1,feedback:h,feedbackType:f,className:p,style:m,title:g="",type:v="checkbox",label:y,children:w,as:b="input",..._}=e;i=Dt(i,"form-check"),o=Dt(o,"form-switch");const{controlId:S}=(0,t.useContext)(Ct),I=(0,t.useMemo)((()=>({controlId:r||S})),[S,r]),x=!w&&null!=y&&!1!==y||function(e,n){return t.Children.toArray(e).some((e=>t.isValidElement(e)&&e.type===n))}(w,jt),k=(0,U.jsx)(Mt,{..._,type:"switch"===v?"checkbox":v,ref:n,isValid:c,isInvalid:u,disabled:l,as:b});return(0,U.jsx)(Ct.Provider,{value:I,children:(0,U.jsx)("div",{style:m,className:St()(p,x&&i,s&&"".concat(i,"-inline"),a&&"".concat(i,"-reverse"),"switch"===v&&o),children:w||(0,U.jsxs)(U.Fragment,{children:[k,x&&(0,U.jsx)(jt,{title:g,children:y}),h&&(0,U.jsx)(Tt,{type:f,tooltip:d,children:h})]})})})}));Ut.displayName="FormCheck";const zt=Object.assign(Ut,{Input:Mt,Label:jt});n(6440);const Vt=t.forwardRef(((e,n)=>{let{bsPrefix:r,type:i,size:o,htmlSize:s,id:a,className:l,isValid:c=!1,isInvalid:u=!1,plaintext:d,readOnly:h,as:f="input",...p}=e;const{controlId:m}=(0,t.useContext)(Ct);return r=Dt(r,"form-control"),(0,U.jsx)(f,{...p,type:i,size:s,ref:n,readOnly:h,id:a||m,className:St()(l,d?"".concat(r,"-plaintext"):r,o&&"".concat(r,"-").concat(o),"color"===i&&"".concat(r,"-color"),c&&"is-valid",u&&"is-invalid")})}));Vt.displayName="FormControl";const Bt=Object.assign(Vt,{Feedback:Tt}),qt=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=Dt(r,"form-floating"),(0,U.jsx)(i,{ref:t,className:St()(n,r),...o})}));qt.displayName="FormFloating";const Wt=qt,Ht=t.forwardRef(((e,n)=>{let{controlId:r,as:i="div",...o}=e;const s=(0,t.useMemo)((()=>({controlId:r})),[r]);return(0,U.jsx)(Ct.Provider,{value:s,children:(0,U.jsx)(i,{...o,ref:n})})}));Ht.displayName="FormGroup";const Kt=Ht;function Gt(e){let{as:n,bsPrefix:r,className:i,...o}=e;r=Dt(r,"col");const s=function(){const{breakpoints:e}=(0,t.useContext)(Pt);return e}(),a=function(){const{minBreakpoint:e}=(0,t.useContext)(Pt);return e}(),l=[],c=[];return s.forEach((e=>{const t=o[e];let n,i,s;delete o[e],"object"===typeof t&&null!=t?({span:n,offset:i,order:s}=t):n=t;const u=e!==a?"-".concat(e):"";n&&l.push(!0===n?"".concat(r).concat(u):"".concat(r).concat(u,"-").concat(n)),null!=s&&c.push("order".concat(u,"-").concat(s)),null!=i&&c.push("offset".concat(u,"-").concat(i))})),[{...o,className:St()(i,...l,...c)},{as:n,bsPrefix:r,spans:l}]}const Qt=t.forwardRef(((e,t)=>{const[{className:n,...r},{as:i="div",bsPrefix:o,spans:s}]=Gt(e);return(0,U.jsx)(i,{...r,ref:t,className:St()(n,!s.length&&o)})}));Qt.displayName="Col";const Yt=Qt,$t=t.forwardRef(((e,n)=>{let{as:r="label",bsPrefix:i,column:o=!1,visuallyHidden:s=!1,className:a,htmlFor:l,...c}=e;const{controlId:u}=(0,t.useContext)(Ct);i=Dt(i,"form-label");let d="col-form-label";"string"===typeof o&&(d="".concat(d," ").concat(d,"-").concat(o));const h=St()(a,i,s&&"visually-hidden",o&&d);return l=l||u,o?(0,U.jsx)(Yt,{ref:n,as:"label",className:h,htmlFor:l,...c}):(0,U.jsx)(r,{ref:n,className:h,htmlFor:l,...c})}));$t.displayName="FormLabel";const Xt=$t,Jt=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,id:o,...s}=e;const{controlId:a}=(0,t.useContext)(Ct);return r=Dt(r,"form-range"),(0,U.jsx)("input",{...s,type:"range",ref:n,className:St()(i,r),id:o||a})}));Jt.displayName="FormRange";const Zt=Jt,en=t.forwardRef(((e,n)=>{let{bsPrefix:r,size:i,htmlSize:o,className:s,isValid:a=!1,isInvalid:l=!1,id:c,...u}=e;const{controlId:d}=(0,t.useContext)(Ct);return r=Dt(r,"form-select"),(0,U.jsx)("select",{...u,size:o,ref:n,className:St()(s,r,i&&"".concat(r,"-").concat(i),a&&"is-valid",l&&"is-invalid"),id:c||d})}));en.displayName="FormSelect";const tn=en,nn=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i="small",muted:o,...s}=e;return n=Dt(n,"form-text"),(0,U.jsx)(i,{...s,ref:t,className:St()(r,n,o&&"text-muted")})}));nn.displayName="FormText";const rn=nn,on=t.forwardRef(((e,t)=>(0,U.jsx)(zt,{...e,ref:t,type:"switch"})));on.displayName="Switch";const sn=Object.assign(on,{Input:zt.Input,Label:zt.Label}),an=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,children:i,controlId:o,label:s,...a}=e;return n=Dt(n,"form-floating"),(0,U.jsxs)(Kt,{ref:t,className:St()(r,n),controlId:o,...a,children:[i,(0,U.jsx)("label",{htmlFor:o,children:s})]})}));an.displayName="FloatingLabel";const ln=an,cn={_ref:xt().any,validated:xt().bool,as:xt().elementType},un=t.forwardRef(((e,t)=>{let{className:n,validated:r,as:i="form",...o}=e;return(0,U.jsx)(i,{...o,ref:t,className:St()(n,r&&"was-validated")})}));un.displayName="Form",un.propTypes=cn;const dn=Object.assign(un,{Group:Kt,Control:Bt,Floating:Wt,Check:zt,Switch:sn,Label:Xt,Text:rn,Range:Zt,Select:tn,FloatingLabel:ln});class hn{constructor(){this._fontSize=void 0,this._fontSize=20}setHistorySettings(e){let{fontSize:t}=e;this._fontSize=t}getFontSize(){return this._fontSize}setFontSize(e){this._fontSize=e}toDoc(){return{fontSize:this.getFontSize()}}}class fn{constructor(){this._fontSize=void 0,this._wordCount=void 0,this._numbersEnabled=void 0,this._sentencesEnabled=void 0,this._wordsEnabled=void 0,this._symbolsEnabled=void 0,this._lowercaseEnabled=void 0,this._fontSize=35,this._wordCount=25,this._numbersEnabled=!1,this._sentencesEnabled=!1,this._wordsEnabled=!0,this._symbolsEnabled=!1,this._lowercaseEnabled=!1}setSettings(e){let{fontSize:t,wordCount:n,numbersEnabled:r,sentencesEnabled:i,wordsEnabled:o,symbolsEnabled:s,lowercaseEnabled:a}=e;this._fontSize=t,this._wordCount=n,this._numbersEnabled=r,this._sentencesEnabled=i,this._wordsEnabled=o,this._symbolsEnabled=s,this._lowercaseEnabled=a}getFontSize(){return this._fontSize}getWordCount(){return this._wordCount}getNumbersEnabled(){return this._numbersEnabled}getSentencesEnabled(){return this._sentencesEnabled}getWordsEnabled(){return this._wordsEnabled}getSymbolsEnabled(){return this._symbolsEnabled}getLowercaseEnabled(){return this._lowercaseEnabled}setFontSize(e){this._fontSize=e}setWordCount(e){this._wordCount=e}setNumberEnabled(e){this._numbersEnabled=e}setSentencesEnabled(e){this._sentencesEnabled=e}setWordsEnabled(e){this._wordsEnabled=e}setSymbolsEnabled(e){this._symbolsEnabled=e}setLowercaseEnabled(e){this._lowercaseEnabled=e}toDoc(){return{fontSize:this.getFontSize(),wordCount:this.getWordCount(),numbersEnabled:this.getNumbersEnabled(),sentencesEnabled:this.getSentencesEnabled(),wordsEnabled:this.getWordsEnabled(),symbolsEnabled:this.getSymbolsEnabled(),lowercaseEnabled:this.getLowercaseEnabled()}}}class pn{constructor(e){let{wpm:t,accuracy:n,generatedPrompt:r,typedPrompt:i,duration:o,startTime:s,endTime:a}=e;this._wpm=void 0,this._accuracy=void 0,this._generatedPrompt=void 0,this._typedPrompt=void 0,this._duration=void 0,this._startTime=void 0,this._endTime=void 0,this._wpm=t,this._accuracy=n,this._generatedPrompt=r,this._typedPrompt=i,this._duration=o,this._endTime=a,this._startTime=s}getWpm(){return this._wpm}getGeneratedPrompt(){return this._generatedPrompt}getTypedPrompt(){return this._typedPrompt}getDuration(){return this._duration}getStartTime(){return this._startTime}getEndTime(){return this._endTime}getAccuracy(){return this._accuracy}setWpm(e){this._wpm=e}setGeneratedPrompt(e){this._generatedPrompt=e}setTypedPrompt(e){this._typedPrompt=e}setDuration(e){this._duration=e}setStartTime(e){this._startTime=e}setEndTime(e){this._endTime=e}setAccuracy(e){this._accuracy=e}toDoc(){return{wpm:this.getWpm(),accuracy:this.getAccuracy(),generatedPrompt:this.getGeneratedPrompt(),typedPrompt:this.getTypedPrompt(),duration:this.getDuration(),startTime:this.getStartTime(),endTime:this.getEndTime()}}}const mn=new class{constructor(){this._settings=void 0,this._historySettings=void 0,this._typingStats=void 0,this._settings=new fn,this._historySettings=new hn,this._typingStats=[]}reset(){this._settings=new fn,this._historySettings=new hn,this._typingStats=[]}pushTypingStat(e){this._typingStats.push(e)}overrideWithTypingStatData(e){this._typingStats=[];for(let t of e){const e={...t};this.pushTypingStat(new pn(e))}}overrideWithSettingsData(e){this._settings.setSettings(e)}overrideHistorySettings(e){this._historySettings.setHistorySettings(e)}getTypingStats(){return this._typingStats}clearTypingStats(){this._typingStats=[]}getSettings(){return this._settings}getHistorySettings(){return this._historySettings}setSettings(e){this._settings.setSettings(e)}typingStatsToDoc(){const e=[];for(let t of this.getTypingStats())e.push(t.toDoc());return{typingStats:e}}},gn=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},vn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(gn(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new yn;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class yn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wn=function(e){return function(e){const t=gn(e);return vn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},bn=function(e){try{return vn.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function _n(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=_n(e[n],t[n]));return e}const Sn=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,In=()=>{try{return Sn()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&bn(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},xn=e=>{var t,n;return null===(n=null===(t=In())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},kn=()=>{var e;return null===(e=In())||void 0===e?void 0:e.config},En=e=>{var t;return null===(t=In())||void 0===t?void 0:t["_".concat(e)]};class Tn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Cn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function An(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function Rn(){var e;const t=null===(e=In())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Pn(){return"object"===typeof self&&self.self===self}function Nn(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function On(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Dn(){const e=Cn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ln(){return!Rn()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Mn(){try{return"object"===typeof indexedDB}catch(e){return!1}}function Fn(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class jn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,jn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Un.prototype.create)}}class Un{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(zn,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new jn(n,o,t)}}const zn=/\{\$([^}]+)}/g;function Vn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Bn(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function qn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Wn(n)&&Wn(o)){if(!qn(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Wn(e){return null!==e&&"object"===typeof e}function Hn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Kn(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Gn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Qn(e,t){const n=new Yn(e,t);return n.subscribe.bind(n)}class Yn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=$n),void 0===r.error&&(r.error=$n),void 0===r.complete&&(r.complete=$n);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function $n(){}const Xn=1e3,Jn=2,Zn=144e5,er=.5;function tr(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jn;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xn)*Math.pow(t,e),r=Math.round(er*n*(Math.random()-.5)*2);return Math.min(Zn,n+r)}function nr(e){return e&&e._delegate?e._delegate:e}class rr{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ir="[DEFAULT]";class or{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Tn;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ir})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ir;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ir;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ir;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sr(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ir;return this.component?this.component.multipleInstances?e:ir:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function sr(e){return e===ir?void 0:e}class ar{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new or(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const lr=[];var cr;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(cr||(cr={}));const ur={debug:cr.DEBUG,verbose:cr.VERBOSE,info:cr.INFO,warn:cr.WARN,error:cr.ERROR,silent:cr.SILENT},dr=cr.INFO,hr={[cr.DEBUG]:"log",[cr.VERBOSE]:"log",[cr.INFO]:"info",[cr.WARN]:"warn",[cr.ERROR]:"error"},fr=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=hr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class pr{constructor(e){this.name=e,this._logLevel=dr,this._logHandler=fr,this._userLogHandler=null,lr.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in cr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?ur[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,cr.DEBUG,...t),this._logHandler(this,cr.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,cr.VERBOSE,...t),this._logHandler(this,cr.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,cr.INFO,...t),this._logHandler(this,cr.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,cr.WARN,...t),this._logHandler(this,cr.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,cr.ERROR,...t),this._logHandler(this,cr.ERROR,...t)}}const mr=(e,t)=>t.some((t=>e instanceof t));let gr,vr;const yr=new WeakMap,wr=new WeakMap,br=new WeakMap,_r=new WeakMap,Sr=new WeakMap;let Ir={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return wr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||br.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Er(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function xr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(vr||(vr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Tr(this),n),Er(yr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Er(e.apply(Tr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Tr(this),t,...r);return br.set(o,t.sort?t.sort():[t]),Er(o)}}function kr(e){return"function"===typeof e?xr(e):(e instanceof IDBTransaction&&function(e){if(wr.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));wr.set(e,t)}(e),mr(e,gr||(gr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ir):e)}function Er(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Er(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&yr.set(t,e)})).catch((()=>{})),Sr.set(t,e),t}(e);if(_r.has(e))return _r.get(e);const t=kr(e);return t!==e&&(_r.set(e,t),Sr.set(t,e)),t}const Tr=e=>Sr.get(e);function Cr(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=Er(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Er(s.result),e.oldVersion,e.newVersion,Er(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}const Ar=["get","getKey","getAll","getAllKeys","count"],Rr=["put","add","delete","clear"],Pr=new Map;function Nr(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Pr.get(t))return Pr.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Rr.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ar.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return Pr.set(t,o),o}Ir=(e=>({...e,get:(t,n,r)=>Nr(t,n)||e.get(t,n,r),has:(t,n)=>!!Nr(t,n)||e.has(t,n)}))(Ir);class Or{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Dr="@firebase/app",Lr="0.10.2",Mr=new pr("@firebase/app"),Fr="[DEFAULT]",jr={[Dr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ur=new Map,zr=new Map,Vr=new Map;function Br(e,t){try{e.container.addComponent(t)}catch(n){Mr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function qr(e,t){e.container.addOrOverwriteComponent(t)}function Wr(e){const t=e.name;if(Vr.has(t))return Mr.debug("There were multiple attempts to register component ".concat(t,".")),!1;Vr.set(t,e);for(const n of Ur.values())Br(n,e);for(const n of zr.values())Br(n,e);return!0}function Hr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Kr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fr;Hr(e,t).clearInstance(n)}function Gr(e){return void 0!==e.options}function Qr(e){return void 0!==e.settings}function Yr(){Vr.clear()}const $r=new Un("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Xr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new rr("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}}class Jr extends Xr{constructor(e,t,n,r){const i=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,o={name:n,automaticDataCollectionEnabled:i};if(void 0!==e.apiKey)super(e,o,r);else{super(e.options,o,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},t),this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,oi(Dr,Lr,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){ii(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw $r.create("server-app-deleted")}}const Zr="10.11.1";function ei(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Fr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw $r.create("bad-app-name",{appName:String(i)});if(n||(n=kn()),!n)throw $r.create("no-options");const o=Ur.get(i);if(o){if(qn(n,o.options)&&qn(r,o.config))return o;throw $r.create("duplicate-app",{appName:i})}const s=new ar(i);for(const l of Vr.values())s.addComponent(l);const a=new Xr(n,r,s);return Ur.set(i,a),a}function ti(e,t){if(Pn())throw $r.create("invalid-server-app-environment");let n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=Gr(e)?e.options:e;const r=Object.assign(Object.assign({},t),n);void 0!==r.releaseOnDeref&&delete r.releaseOnDeref;if(void 0!==t.releaseOnDeref&&"undefined"===typeof FinalizationRegistry)throw $r.create("finalization-registry-not-supported",{});const i=""+(o=JSON.stringify(r),[...o].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0));var o;const s=zr.get(i);if(s)return s.incRefCount(t.releaseOnDeref),s;const a=new ar(i);for(const c of Vr.values())a.addComponent(c);const l=new Jr(n,t,i,a);return zr.set(i,l),l}function ni(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr;const t=Ur.get(e);if(!t&&e===Fr&&kn())return ei();if(!t)throw $r.create("no-app",{appName:e});return t}function ri(){return Array.from(Ur.values())}async function ii(e){let t=!1;const n=e.name;if(Ur.has(n))t=!0,Ur.delete(n);else if(zr.has(n)){e.decRefCount()<=0&&(zr.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function oi(e,t,n){var r;let i=null!==(r=jr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Mr.warn(e.join(" "))}Wr(new rr("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function si(e,t){if(null!==e&&"function"!==typeof e)throw $r.create("invalid-log-argument");!function(e,t){for(const n of lr){let r=null;t&&t.level&&(r=ur[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];const a=o.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:cr[n].toLowerCase(),message:a,args:o,type:t.name})}}}(e,t)}function ai(e){var t;t=e,lr.forEach((e=>{e.setLogLevel(t)}))}const li="firebase-heartbeat-database",ci=1,ui="firebase-heartbeat-store";let di=null;function hi(){return di||(di=Cr(li,ci,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ui)}catch(n){console.warn(n)}}}).catch((e=>{throw $r.create("idb-open",{originalErrorMessage:e.message})}))),di}async function fi(e,t){try{const n=(await hi()).transaction(ui,"readwrite"),r=n.objectStore(ui);await r.put(t,pi(e)),await n.done}catch(n){if(n instanceof jn)Mr.warn(n.message);else{const e=$r.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Mr.warn(e.message)}}}function pi(e){return"".concat(e.name,"!").concat(e.options.appId)}class mi{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new vi(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=gi();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=gi(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),yi(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yi(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=wn(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function gi(){return(new Date).toISOString().substring(0,10)}class vi{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Mn()&&Fn().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await hi()).transaction(ui),n=await t.objectStore(ui).get(pi(e));return await t.done,n}catch(t){if(t instanceof jn)Mr.warn(t.message);else{const e=$r.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Mr.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return fi(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return fi(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function yi(e){return wn(JSON.stringify({version:2,heartbeats:e})).length}var wi;wi="",Wr(new rr("platform-logger",(e=>new Or(e)),"PRIVATE")),Wr(new rr("heartbeat",(e=>new mi(e)),"PRIVATE")),oi(Dr,Lr,wi),oi(Dr,Lr,"esm2017"),oi("fire-js","");function bi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function _i(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Si=_i,Ii=new Un("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xi=new pr("@firebase/auth");function ki(e){if(xi.logLevel<=cr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];xi.error("Auth (".concat(Zr,"): ").concat(e),...n)}}function Ei(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Pi(e,...n)}function Ti(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Pi(e,...n)}function Ci(e,t,n){const r=Object.assign(Object.assign({},Si()),{[t]:n});return new Un("auth","Firebase",r).create(t,{appName:e.name})}function Ai(e){return Ci(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ri(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ei(e,"argument-error"),Ci(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Pi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Ii.create(e,...n)}function Ni(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Pi(t,...r)}}function Oi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ki(t),new Error(t)}function Di(e,t){e||Oi(t)}function Li(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Mi(){return"http:"===Fi()||"https:"===Fi()}function Fi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class ji{constructor(e,t){this.shortDelay=e,this.longDelay=t,Di(t>e,"Short delay should be less than long delay!"),this.isMobile=An()||On()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Mi()||Nn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ui(e,t){Di(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class zi{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Vi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Bi=new ji(3e4,6e4);function qi(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Wi(e,t,n,r){return Hi(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=Hn(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),zi.fetch()(Gi(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Hi(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Vi),t);try{const t=new Yi(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw $i(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw $i(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw $i(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw $i(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Ci(e,a,s);Ei(e,a)}}catch(i){if(i instanceof jn)throw i;Ei(e,"network-request-failed",{message:String(i)})}}async function Ki(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Wi(e,t,n,r,i);return"mfaPendingCredential"in o&&Ei(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Gi(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ui(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Qi(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Yi{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Ti(this.auth,"network-request-failed"))),Bi.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function $i(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ti(e,t,r);return i.customData._tokenResponse=n,i}function Xi(e){return void 0!==e&&void 0!==e.enterprise}class Ji{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Qi(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Zi(e,t){return Wi(e,"GET","/v2/recaptchaConfig",qi(e,t))}async function eo(e,t){return Wi(e,"POST","/v1/accounts:lookup",t)}function to(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function no(e){return 1e3*Number(e)}function ro(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return ki("JWT malformed, contained fewer than 3 sections"),null;try{const e=bn(n);return e?JSON.parse(e):(ki("Failed to decode base64 JWT payload"),null)}catch(i){return ki("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function io(e){const t=ro(e);return Ni(t,"internal-error"),Ni("undefined"!==typeof t.exp,"internal-error"),Ni("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function oo(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof jn&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class so{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class ao{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=to(this.lastLoginAt),this.creationTime=to(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function lo(e){var t;const n=e.auth,r=await e.getIdToken(),i=await oo(e,eo(n,{idToken:r}));Ni(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?co(o.providerUserInfo):[],a=(l=e.providerData,c=s,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ao(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function co(e){return e.map((e=>{var{providerId:t}=e,n=bi(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ni(e.idToken,"internal-error"),Ni("undefined"!==typeof e.idToken,"internal-error"),Ni("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):io(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ni(0!==e.length,"internal-error");const t=io(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Ni(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Hi(e,{},(async()=>{const n=Hn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Gi(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",zi.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new uo;return n&&(Ni("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Ni("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Ni("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return Oi("not implemented")}}function ho(e,t){Ni("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class fo{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=bi(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new so(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ao(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await oo(this,this.stsTokenManager.getToken(this.auth,e));return Ni(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=nr(e),r=await n.getIdToken(t),i=ro(r);Ni(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:to(no(i.auth_time)),issuedAtTime:to(no(i.iat)),expirationTime:to(no(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=nr(e);await lo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Ni(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ni(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await lo(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qr(this.auth.app))return Promise.reject(Ai(this.auth));const e=await this.getIdToken();return await oo(this,async function(e,t){return Wi(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:S}=t;Ni(y&&S,e,"internal-error");const I=uo.fromJSON(this.name,S);Ni("string"===typeof y,e,"internal-error"),ho(u,e.name),ho(d,e.name),Ni("boolean"===typeof w,e,"internal-error"),Ni("boolean"===typeof b,e,"internal-error"),ho(h,e.name),ho(f,e.name),ho(p,e.name),ho(m,e.name),ho(g,e.name),ho(v,e.name);const x=new fo({uid:y,auth:e,email:d,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:I,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(x.providerData=_.map((e=>Object.assign({},e)))),m&&(x._redirectEventId=m),x}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new uo;r.updateFromServerResponse(t);const i=new fo({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await lo(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Ni(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?co(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new uo;s.updateFromIdToken(n);const a=new fo({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new ao(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const po=new Map;function mo(e){Di(e instanceof Function,"Expected a class definition");let t=po.get(e);return t?(Di(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,po.set(e,t),t)}class go{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}go.type="NONE";const vo=go;function yo(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class wo{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=yo(this.userKey,r.apiKey,i),this.fullPersistenceKey=yo("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?fo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new wo(mo(vo),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||mo(vo);const o=yo(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=fo._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new wo(i,e,n)):new wo(i,e,n)}}function bo(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(xo(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_o(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Eo(t))return"Blackberry";if(To(t))return"Webos";if(So(t))return"Safari";if((t.includes("chrome/")||Io(t))&&!t.includes("edge/"))return"Chrome";if(ko(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function _o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return/firefox\//i.test(e)}function So(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Io(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return/crios\//i.test(e)}function xo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return/iemobile/i.test(e)}function ko(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return/android/i.test(e)}function Eo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return/blackberry/i.test(e)}function To(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return/webos/i.test(e)}function Co(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ao(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return Co(e)||ko(e)||To(e)||Eo(e)||/windows phone/i.test(e)||xo(e)}function Ro(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=bo(Cn());break;case"Worker":t="".concat(bo(Cn()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Zr,"/").concat(r)}class Po{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class No{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Oo{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lo(this),this.idTokenSubscription=new Lo(this),this.beforeStateQueue=new Po(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ii,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=mo(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await wo.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await eo(this,{idToken:e}),n=await fo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Qr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ni(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await lo(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qr(this.app))return Promise.reject(Ai(this));const t=e?nr(e):null;return t&&Ni(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Ni(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Qr(this.app)?Promise.reject(Ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qr(this.app)?Promise.reject(Ai(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(mo(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Wi(e,"GET","/v2/passwordPolicy",qi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new No(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Un("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Wi(e,"POST","/v2/accounts:revokeToken",qi(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&mo(e)||this._popupRedirectResolver;Ni(t,this,"argument-error"),this.redirectPersistenceManager=await wo.create(this,[mo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ni(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ni(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ro(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(xi.logLevel<=cr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];xi.warn("Auth (".concat(Zr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Do(e){return nr(e)}class Lo{constructor(e){this.auth=e,this.observer=null,this.addObserver=Qn((e=>this.observer=e))}get next(){return Ni(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mo={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fo(e){return Mo.loadJS(e)}function jo(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Uo{constructor(e){this.type="recaptcha-enterprise",this.auth=Do(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Xi(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Zi(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Ji(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Xi(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Mo.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Fo(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function zo(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Uo(e);let o;try{o=await i.verify(n)}catch(a){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Vo(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await zo(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await zo(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Bo(e,t,n){const r=Do(e);Ni(r._canInitEmulator,r,"emulator-config-failed"),Ni(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=qo(t),{host:s,port:a}=function(e){const t=qo(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Wo(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Wo(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function qo(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Wo(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ho{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Oi("not implemented")}_getIdTokenResponse(e){return Oi("not implemented")}_linkToIdToken(e,t){return Oi("not implemented")}_getReauthenticationResolver(e){return Oi("not implemented")}}async function Ko(e,t){return Wi(e,"POST","/v1/accounts:signUp",t)}async function Go(e,t){return Ki(e,"POST","/v1/accounts:signInWithPassword",qi(e,t))}class Qo extends Ho{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Qo(e,t,"password")}static _fromEmailAndCode(e,t){return new Qo(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Vo(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Go);case"emailLink":return async function(e,t){return Ki(e,"POST","/v1/accounts:signInWithEmailLink",qi(e,t))}(e,{email:this._email,oobCode:this._password});default:Ei(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Vo(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ko);case"emailLink":return async function(e,t){return Ki(e,"POST","/v1/accounts:signInWithEmailLink",qi(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ei(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Yo(e,t){return Ki(e,"POST","/v1/accounts:signInWithIdp",qi(e,t))}class $o extends Ho{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new $o(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ei("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=bi(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new $o(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Yo(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Yo(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Yo(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Hn(t)}return e}}const Xo={USER_NOT_FOUND:"user-not-found"};class Jo extends Ho{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Jo({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Jo({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Ki(e,"POST","/v1/accounts:signInWithPhoneNumber",qi(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Ki(e,"POST","/v1/accounts:signInWithPhoneNumber",qi(e,t));if(n.temporaryProof)throw $i(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Ki(e,"POST","/v1/accounts:signInWithPhoneNumber",qi(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Xo)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Jo({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Zo{constructor(e){var t,n,r,i,o,s;const a=Kn(Gn(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Ni(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Kn(Gn(e)).link,n=t?Kn(Gn(t)).deep_link_id:null,r=Kn(Gn(e)).deep_link_id;return(r?Kn(Gn(r)).link:null)||r||n||t||e}(e);try{return new Zo(t)}catch(n){return null}}}class es{constructor(){this.providerId=es.PROVIDER_ID}static credential(e,t){return Qo._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Zo.parseLink(t);return Ni(n,"argument-error"),Qo._fromEmailAndCode(e,n.code,n.tenantId)}}es.PROVIDER_ID="password",es.EMAIL_PASSWORD_SIGN_IN_METHOD="password",es.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ts{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ns extends ts{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class rs extends ns{constructor(){super("facebook.com")}static credential(e){return $o._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return rs.credential(t.oauthAccessToken)}catch(n){return null}}}rs.FACEBOOK_SIGN_IN_METHOD="facebook.com",rs.PROVIDER_ID="facebook.com";class is extends ns{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return $o._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return is.credential(n,r)}catch(i){return null}}}is.GOOGLE_SIGN_IN_METHOD="google.com",is.PROVIDER_ID="google.com";class os extends ns{constructor(){super("github.com")}static credential(e){return $o._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return os.credential(t.oauthAccessToken)}catch(n){return null}}}os.GITHUB_SIGN_IN_METHOD="github.com",os.PROVIDER_ID="github.com";class ss extends ns{constructor(){super("twitter.com")}static credential(e,t){return $o._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ss.credential(n,r)}catch(i){return null}}}ss.TWITTER_SIGN_IN_METHOD="twitter.com",ss.PROVIDER_ID="twitter.com";class as{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await fo._fromIdTokenResponse(e,n,r),o=ls(n);return new as({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ls(n);return new as({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ls(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class cs extends jn{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,cs.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new cs(e,t,n,r)}}function us(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw cs._fromErrorAndOperation(e,n,t,r);throw n}))}async function ds(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await oo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return as._forOperation(e,"link",r)}async function hs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Qr(r.app))return Promise.reject(Ai(r));const i="reauthenticate";try{const o=await oo(e,us(r,i,t,e),n);Ni(o.idToken,r,"internal-error");const s=ro(o.idToken);Ni(s,r,"internal-error");const{sub:a}=s;return Ni(e.uid===a,r,"user-mismatch"),as._forOperation(e,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&Ei(r,"user-mismatch"),o}}async function fs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Qr(e.app))return Promise.reject(Ai(e));const r="signIn",i=await us(e,r,t),o=await as._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}new WeakMap;const ps="__sak";class ms{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ps,"1"),this.storage.removeItem(ps),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class gs extends ms{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Cn();return So(e)||Co(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Ao(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Dn()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}gs.type="LOCAL";const vs=gs;class ys extends ms{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ys.type="SESSION";const ws=ys;class bs{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new bs(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function _s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}bs.receivers=[];class Ss{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=_s("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Is(){return window}function xs(){return"undefined"!==typeof Is().WorkerGlobalScope&&"function"===typeof Is().importScripts}const ks="firebaseLocalStorageDb",Es="firebaseLocalStorage",Ts="fbase_key";class Cs{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function As(e,t){return e.transaction([Es],t?"readwrite":"readonly").objectStore(Es)}function Rs(){const e=indexedDB.open(ks,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Es,{keyPath:Ts})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Es)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ks);return new Cs(e).toPromise()}(),t(await Rs()))}))}))}async function Ps(e,t,n){const r=As(e,!0).put({[Ts]:t,value:n});return new Cs(r).toPromise()}function Ns(e,t){const n=As(e,!0).delete(t);return new Cs(n).toPromise()}class Os{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Rs()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xs()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bs._getInstance(xs()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ss(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rs();return await Ps(e,ps,"1"),await Ns(e,ps),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ps(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=As(e,!1).get(t),r=await new Cs(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Ns(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=As(e,!1).getAll();return new Cs(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Os.type="LOCAL";const Ds=Os;jo("rcb"),new ji(3e4,6e4);const Ls="recaptcha";async function Ms(e,t,n){var r;const i=await n.verify();try{let o;if(Ni("string"===typeof i,e,"argument-error"),Ni(n.type===Ls,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){Ni("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Wi(e,"POST","/v2/accounts/mfaEnrollment:start",qi(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Ni("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;Ni(n,e,"missing-multi-factor-info");const s=await function(e,t){return Wi(e,"POST","/v2/accounts/mfaSignIn:start",qi(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Wi(e,"POST","/v1/accounts:sendVerificationCode",qi(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Fs{constructor(e){this.providerId=Fs.PROVIDER_ID,this.auth=Do(e)}verifyPhoneNumber(e,t){return Ms(this.auth,e,nr(t))}static credential(e,t){return Jo._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Fs.credentialFromTaggedObject(t)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Jo._fromTokenResponse(n,r):null}}function js(e,t){return t?mo(t):(Ni(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Fs.PROVIDER_ID="phone",Fs.PHONE_SIGN_IN_METHOD="phone";class Us extends Ho{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Yo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function zs(e){return fs(e.auth,new Us(e),e.bypassAuthState)}function Vs(e){const{auth:t,user:n}=e;return Ni(n,t,"internal-error"),hs(n,new Us(e),e.bypassAuthState)}async function Bs(e){const{auth:t,user:n}=e;return Ni(n,t,"internal-error"),ds(n,new Us(e),e.bypassAuthState)}class qs{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zs;case"linkViaPopup":case"linkViaRedirect":return Bs;case"reauthViaPopup":case"reauthViaRedirect":return Vs;default:Ei(this.auth,"internal-error")}}resolve(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ws=new ji(2e3,1e4);class Hs extends qs{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Hs.currentPopupAction&&Hs.currentPopupAction.cancel(),Hs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ni(e,this.auth,"internal-error"),e}async onExecution(){Di(1===this.filter.length,"Popup operations only handle one event");const e=_s();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Ti(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ws.get())};e()}}Hs.currentPopupAction=null;const Ks="pendingRedirect",Gs=new Map;class Qs extends qs{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Gs.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Xs(t),r=$s(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Gs.set(this.auth._key(),e)}return this.bypassAuthState||Gs.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Ys(e,t){Gs.set(e._key(),t)}function $s(e){return mo(e._redirectPersistence)}function Xs(e){return yo(Ks,e.config.apiKey,e.name)}async function Js(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Qr(e.app))return Promise.reject(Ai(e));const r=Do(e),i=js(r,t),o=new Qs(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class Zs{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ta(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ta(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ti(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ea(e))}saveEventToCache(e){this.cachedEventUids.add(ea(e)),this.lastProcessedEventTime=Date.now()}}function ea(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function ta(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const na=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ra=/^https?/;async function ia(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Wi(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(oa(r))return}catch(n){}Ei(e,"unauthorized-domain")}function oa(e){const t=Li(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!ra.test(n))return!1;if(na.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const sa=new ji(3e4,6e4);function aa(){const e=Is().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function la(e){return new Promise(((t,n)=>{var r,i,o;function s(){aa(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{aa(),n(Ti(e,"network-request-failed"))},timeout:sa.get()})}if(null===(i=null===(r=Is().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Is().gapi)||void 0===o?void 0:o.load)){const t=jo("iframefcb");return Is()[t]=()=>{gapi.load?s():n(Ti(e,"network-request-failed"))},Fo("".concat(Mo.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw ca=null,e}))}let ca=null;const ua=new ji(5e3,15e3),da="__/auth/iframe",ha="emulator/auth/iframe",fa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ma(e){const t=e.config;Ni(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ui(t,ha):"https://".concat(e.config.authDomain,"/").concat(da),r={apiKey:t.apiKey,appName:e.name,v:Zr},i=pa.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(Hn(r).slice(1))}async function ga(e){const t=await function(e){return ca=ca||la(e),ca}(e),n=Is().gapi;return Ni(n,e,"internal-error"),t.open({where:document.body,url:ma(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fa,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Ti(e,"network-request-failed"),o=Is().setTimeout((()=>{r(i)}),ua.get());function s(){Is().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const va={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ya{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function wa(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},va),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Cn().toLowerCase();n&&(a=Io(c)?"_blank":n),_o(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Co(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new ya(null);const d=window.open(t||"",a,u);Ni(d,e,"popup-blocked");try{d.focus()}catch(h){}return new ya(d)}const ba="__/auth/handler",_a="emulator/auth/handler",Sa=encodeURIComponent("fac");async function Ia(e,t,n,r,i,o){Ni(e.config.authDomain,e,"auth-domain-config-required"),Ni(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Zr,eventId:i};if(t instanceof ts){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",Bn(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof ns){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Sa,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(ba);return Ui(t,_a)}(e),"?").concat(Hn(a).slice(1)).concat(c)}const xa="webStorageSupport";const ka=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ws,this._completeRedirectFn=Js,this._overrideRedirectResult=Ys}async _openPopup(e,t,n,r){var i;Di(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return wa(e,await Ia(e,t,n,Li(),r),_s())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Is().location.href=e}(await Ia(e,t,n,Li(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Di(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await ga(e),n=new Zs(e);return t.register("authEvent",(t=>{Ni(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xa,{type:xa},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[xa];void 0!==i&&t(!!i),Ei(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ia(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ao()||So()||Co()}};var Ea="@firebase/auth",Ta="1.7.2";class Ca{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ni(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Aa=En("authIdTokenMaxAge")||300;let Ra=null;var Pa;!function(e){Mo=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Ti("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Pa="Browser",Wr(new rr("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ni(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:Pa,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ro(Pa)},c=new Oo(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mo);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Wr(new rr("auth-internal",(e=>(e=>new Ca(e))(Do(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),oi(Ea,Ta,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Pa)),oi(Ea,Ta,"esm2017");oi("firebase","10.11.1","app");const Na="@firebase/installations",Oa="0.6.6",Da=1e4,La="w:".concat(Oa),Ma="FIS_v2",Fa="https://firebaseinstallations.googleapis.com/v1",ja=36e5,Ua=new Un("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function za(e){return e instanceof jn&&e.code.includes("request-failed")}function Va(e){let{projectId:t}=e;return"".concat(Fa,"/projects/").concat(t,"/installations")}function Ba(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function qa(e,t){const n=(await t.json()).error;return Ua.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Wa(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Ha(e,t){let{refreshToken:n}=t;const r=Wa(e);return r.append("Authorization",function(e){return"".concat(Ma," ").concat(e)}(n)),r}async function Ka(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Ga(e){return new Promise((t=>{setTimeout(t,e)}))}const Qa=/^[cdef][\w-]{21}$/,Ya="";function $a(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Qa.test(t)?t:Ya}catch(e){return Ya}}function Xa(e){return"".concat(e.appName,"!").concat(e.appId)}const Ja=new Map;function Za(e,t){const n=Xa(e);el(n,t),function(e,t){const n=nl();n&&n.postMessage({key:e,fid:t});rl()}(n,t)}function el(e,t){const n=Ja.get(e);if(n)for(const r of n)r(t)}let tl=null;function nl(){return!tl&&"BroadcastChannel"in self&&(tl=new BroadcastChannel("[Firebase] FID Change"),tl.onmessage=e=>{el(e.data.key,e.data.fid)}),tl}function rl(){0===Ja.size&&tl&&(tl.close(),tl=null)}const il="firebase-installations-database",ol=1,sl="firebase-installations-store";let al=null;function ll(){return al||(al=Cr(il,ol,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(sl)}})),al}async function cl(e,t){const n=Xa(e),r=(await ll()).transaction(sl,"readwrite"),i=r.objectStore(sl),o=await i.get(n);return await i.put(t,n),await r.done,o&&o.fid===t.fid||Za(e,t.fid),t}async function ul(e){const t=Xa(e),n=(await ll()).transaction(sl,"readwrite");await n.objectStore(sl).delete(t),await n.done}async function dl(e,t){const n=Xa(e),r=(await ll()).transaction(sl,"readwrite"),i=r.objectStore(sl),o=await i.get(n),s=t(o);return void 0===s?await i.delete(n):await i.put(s,n),await r.done,!s||o&&o.fid===s.fid||Za(e,s.fid),s}async function hl(e){let t;const n=await dl(e.appConfig,(n=>{const r=function(e){const t=e||{fid:$a(),registrationStatus:0};return ml(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Ua.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const o=Va(n),s=Wa(n),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const l={fid:i,authVersion:Ma,appId:n.appId,sdkVersion:La},c={method:"POST",headers:s,body:JSON.stringify(l)},u=await Ka((()=>fetch(o,c)));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Ba(e.authToken)}}throw await qa("Create Installation",u)}(e,t);return cl(e.appConfig,n)}catch(n){throw za(n)&&409===n.customData.serverCode?await ul(e.appConfig):await cl(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:fl(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return n.fid===Ya?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function fl(e){let t=await pl(e.appConfig);for(;1===t.registrationStatus;)await Ga(100),t=await pl(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await hl(e);return n||t}return t}function pl(e){return dl(e,(e=>{if(!e)throw Ua.create("installation-not-found");return ml(e)}))}function ml(e){return 1===(t=e).registrationStatus&&t.registrationTime+Da<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function gl(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(Va(e),"/").concat(n,"/authTokens:generate")}(n,t),o=Ha(n,t),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const a={installation:{sdkVersion:La,appId:n.appId}},l={method:"POST",headers:o,body:JSON.stringify(a)},c=await Ka((()=>fetch(i,l)));if(c.ok){return Ba(await c.json())}throw await qa("Generate Auth Token",c)}async function vl(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await dl(e.appConfig,(r=>{if(!wl(r))throw Ua.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+ja}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await yl(e.appConfig);for(;1===n.authToken.requestStatus;)await Ga(100),n=await yl(e.appConfig);const r=n.authToken;return 0===r.requestStatus?vl(e,t):r}(e,n),r;{if(!navigator.onLine)throw Ua.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await gl(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await cl(e.appConfig,r),n}catch(n){if(!za(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await cl(e.appConfig,n)}else await ul(e.appConfig);throw n}}(e,n),n}}));return t?await t:r.authToken}function yl(e){return dl(e,(e=>{if(!wl(e))throw Ua.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Da<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function wl(e){return void 0!==e&&2===e.registrationStatus}async function bl(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await hl(e);t&&await t}(n);return(await vl(n,t)).token}function _l(e){return Ua.create("missing-app-config-values",{valueName:e})}const Sl="installations",Il=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw _l("App Configuration");if(!e.name)throw _l("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw _l(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Hr(t,"heartbeat"),_delete:()=>Promise.resolve()}},xl=e=>{const t=Hr(e.getProvider("app").getImmediate(),Sl).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await hl(t);return r?r.catch(console.error):vl(t).catch(console.error),n.fid}(t),getToken:e=>bl(t,e)}};Wr(new rr(Sl,Il,"PUBLIC")),Wr(new rr("installations-internal",xl,"PRIVATE")),oi(Na,Oa),oi(Na,Oa,"esm2017");const kl="analytics",El="firebase_id",Tl="origin",Cl=6e4,Al="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Rl="https://www.googletagmanager.com/gtag/js",Pl=new pr("@firebase/analytics"),Nl=new Un("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ol(e){if(!e.startsWith(Rl)){const t=Nl.create("invalid-gtag-resource",{gtagURL:e});return Pl.warn(t.message),""}return e}function Dl(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function Ll(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Ol}),r=document.createElement("script"),i="".concat(Rl,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Ml(e,t,n,r){return async function(i){try{for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];if("event"===i){const[r,i]=s;await async function(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await Dl(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){o=[];break}o.push(i)}}0===o.length&&(o=Object.values(t)),await Promise.all(o),e("event",r,i||{})}catch(o){Pl.error(o)}}(e,t,n,r,i)}else if("config"===i){const[i,o]=s;await async function(e,t,n,r,i,o){const s=r[i];try{if(s)await t[s];else{const e=(await Dl(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(a){Pl.error(a)}e("config",i,o)}(e,t,n,r,i,o)}else if("consent"===i){const[t]=s;e("consent","update",t)}else if("get"===i){const[t,n,r]=s;e("get",t,n,r)}else if("set"===i){const[t]=s;e("set",t)}else e(i,...s)}catch(l){Pl.error(l)}}}const Fl=30;const jl=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Ul(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function zl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jl,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw Nl.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Nl.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Bl;return setTimeout((async()=>{a.abort()}),void 0!==n?n:Cl),Vl({appId:r,apiKey:i,measurementId:o},s,a,t)}async function Vl(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:jl;var s;const{appId:a,measurementId:l}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(o),r(Nl.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(n,r)}catch(c){if(l)return Pl.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===c||void 0===c?void 0:c.message,"]")),{appId:a,measurementId:l};throw c}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:Ul(r)},o=Al.replace("{app-id}",n),s=await fetch(o,i);if(200!==s.status&&304!==s.status){let e="";try{const n=await s.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw Nl.create("config-fetch-failed",{httpStatus:s.status,responseMessage:e})}return s.json()}(e);return o.deleteThrottleMetadata(a),t}catch(c){const t=c;if(!function(e){if(!(e instanceof jn)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(o.deleteThrottleMetadata(a),l)return Pl.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===t||void 0===t?void 0:t.message,"]")),{appId:a,measurementId:l};throw c}const r=503===Number(null===(s=null===t||void 0===t?void 0:t.customData)||void 0===s?void 0:s.httpStatus)?tr(i,o.intervalMillis,Fl):tr(i,o.intervalMillis),u={throttleEndTimeMillis:Date.now()+r,backoffCount:i+1};return o.setThrottleMetadata(a,u),Pl.debug("Calling attemptFetch again in ".concat(r," millis")),Vl(e,u,n,o)}}class Bl{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let ql,Wl;function Hl(e){Wl=e}function Kl(e){ql=e}async function Gl(e,t,n,r,i,o,s){var a;const l=zl(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Pl.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((e=>Pl.error(e))),t.push(l);const c=async function(){if(!Mn())return Pl.warn(Nl.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Fn()}catch(e){return Pl.warn(Nl.create("indexeddb-unavailable",{errorInfo:null===e||void 0===e?void 0:e.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Rl)&&n.src.includes(e))return n;return null})(o)||Ll(o,u.measurementId),Wl&&(i("consent","default",Wl),Hl(void 0)),i("js",new Date);const h=null!==(a=null===s||void 0===s?void 0:s.config)&&void 0!==a?a:{};return h[Tl]="firebase",h.update=!0,null!=d&&(h[El]=d),i("config",u.measurementId,h),ql&&(i("set",ql),Kl(void 0)),u.measurementId}class Ql{constructor(e){this.app=e}_delete(){return delete Yl[this.app.options.appId],Promise.resolve()}}let Yl={},$l=[];const Xl={};let Jl,Zl,ec="dataLayer",tc="gtag",nc=!1;function rc(){const e=[];if(Nn()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>"(".concat(t+1,") ").concat(e))).join(" "),n=Nl.create("invalid-analytics-context",{errorInfo:t});Pl.warn(n.message)}}function ic(e,t,n){rc();const r=e.options.appId;if(!r)throw Nl.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Nl.create("no-api-key");Pl.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Yl[r])throw Nl.create("already-exists",{id:r});if(!nc){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(ec);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=Ml(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(Yl,$l,Xl,ec,tc);Zl=e,Jl=t,nc=!0}Yl[r]=Gl(e,$l,Xl,t,Jl,ec,n);return new Ql(e)}function oc(e,t,n,r){e=nr(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(Zl,Yl[e.app.options.appId],t,n,r).catch((e=>Pl.error(e)))}const sc="@firebase/analytics",ac="0.10.2";Wr(new rr(kl,((e,t)=>{let{options:n}=t;return ic(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),Wr(new rr("analytics-internal",(function(e){try{const t=e.getProvider(kl).getImmediate();return{logEvent:(e,n,r)=>oc(t,e,n,r)}}catch(t){throw Nl.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),oi(sc,ac),oi(sc,ac,"esm2017");class lc{constructor(e,t){this._delegate=e,this.firebase=t,Br(e,new rr("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),ii(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fr;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fr;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Br(this._delegate,e)}_addOrOverwriteComponent(e){qr(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const cc=new Un("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const uc=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=ei(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Vn(n,i.name))return n[i.name];const o=new t(i,r);return n[i.name]=o,o},app:i,registerVersion:oi,setLogLevel:ai,onLog:si,apps:null,SDK_VERSION:Zr,INTERNAL:{registerComponent:function(e){const n=e.name,o=n.replace("-compat","");if(Wr(e)&&"PUBLIC"===e.type){const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw cc.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&_n(s,e.serviceProps),r[o]=s,t.prototype[o]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Vn(n,e=e||Fr))throw cc.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(lc);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){_n(n,e)},createSubscribe:Qn,ErrorFactory:Un,deepExtend:_n}),n}(),dc=new pr("@firebase/app-compat");if(Pn()&&void 0!==self.firebase){dc.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&dc.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const hc=uc;!function(e){oi("@firebase/app-compat","0.2.32",e)}();hc.registerVersion("firebase","10.11.1","app-compat");const fc={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},pc="EMAIL_SIGNIN",mc="PASSWORD_RESET",gc="RECOVER_EMAIL",vc="REVERT_SECOND_FACTOR_ADDITION",yc="VERIFY_AND_CHANGE_EMAIL",wc="VERIFY_EMAIL";function bc(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _c=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Sc=bc,Ic=new Un("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xc=new pr("@firebase/auth");function kc(e){if(xc.logLevel<=cr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];xc.error("Auth (".concat(Zr,"): ").concat(e),...n)}}function Ec(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Pc(e,...n)}function Tc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Pc(e,...n)}function Cc(e,t,n){const r=Object.assign(Object.assign({},Sc()),{[t]:n});return new Un("auth","Firebase",r).create(t,{appName:e.name})}function Ac(e){return Cc(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rc(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ec(e,"argument-error"),Cc(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Pc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Ic.create(e,...n)}function Nc(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Pc(t,...r)}}function Oc(e){const t="INTERNAL ASSERTION FAILED: "+e;throw kc(t),new Error(t)}function Dc(e,t){e||Oc(t)}function Lc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Mc(){return"http:"===Fc()||"https:"===Fc()}function Fc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class jc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Dc(t>e,"Short delay should be less than long delay!"),this.isMobile=An()||On()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Mc()||Nn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Uc(e,t){Dc(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class zc{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Oc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Oc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Oc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Vc={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Bc=new jc(3e4,6e4);function qc(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Wc(e,t,n,r){return Hc(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=Hn(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),zc.fetch()(Gc(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Hc(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Vc),t);try{const t=new Yc(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw $c(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw $c(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw $c(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw $c(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Cc(e,a,s);Ec(e,a)}}catch(i){if(i instanceof jn)throw i;Ec(e,"network-request-failed",{message:String(i)})}}async function Kc(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Wc(e,t,n,r,i);return"mfaPendingCredential"in o&&Ec(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Gc(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Uc(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Qc(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Yc{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Tc(this.auth,"network-request-failed"))),Bc.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function $c(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Tc(e,t,r);return i.customData._tokenResponse=n,i}function Xc(e){return void 0!==e&&void 0!==e.getResponse}function Jc(e){return void 0!==e&&void 0!==e.enterprise}class Zc{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Qc(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function eu(e,t){return Wc(e,"GET","/v2/recaptchaConfig",qc(e,t))}async function tu(e,t){return Wc(e,"POST","/v1/accounts:lookup",t)}function nu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function ru(e){return 1e3*Number(e)}function iu(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return kc("JWT malformed, contained fewer than 3 sections"),null;try{const e=bn(n);return e?JSON.parse(e):(kc("Failed to decode base64 JWT payload"),null)}catch(i){return kc("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function ou(e){const t=iu(e);return Nc(t,"internal-error"),Nc("undefined"!==typeof t.exp,"internal-error"),Nc("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function su(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof jn&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class au{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class lu{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=nu(this.lastLoginAt),this.creationTime=nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function cu(e){var t;const n=e.auth,r=await e.getIdToken(),i=await su(e,tu(n,{idToken:r}));Nc(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?uu(o.providerUserInfo):[],a=(l=e.providerData,c=s,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new lu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function uu(e){return e.map((e=>{var{providerId:t}=e,n=bi(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class du{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Nc(e.idToken,"internal-error"),Nc("undefined"!==typeof e.idToken,"internal-error"),Nc("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):ou(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Nc(0!==e.length,"internal-error");const t=ou(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Nc(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Hc(e,{},(async()=>{const n=Hn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Gc(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",zc.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new du;return n&&(Nc("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Nc("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Nc("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new du,this.toJSON())}_performRefresh(){return Oc("not implemented")}}function hu(e,t){Nc("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class fu{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=bi(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new au(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new lu(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await su(this,this.stsTokenManager.getToken(this.auth,e));return Nc(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=nr(e),r=await n.getIdToken(t),i=iu(r);Nc(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:nu(ru(i.auth_time)),issuedAtTime:nu(ru(i.iat)),expirationTime:nu(ru(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=nr(e);await cu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Nc(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Nc(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await cu(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qr(this.auth.app))return Promise.reject(Ac(this.auth));const e=await this.getIdToken();return await su(this,async function(e,t){return Wc(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:S}=t;Nc(y&&S,e,"internal-error");const I=du.fromJSON(this.name,S);Nc("string"===typeof y,e,"internal-error"),hu(u,e.name),hu(d,e.name),Nc("boolean"===typeof w,e,"internal-error"),Nc("boolean"===typeof b,e,"internal-error"),hu(h,e.name),hu(f,e.name),hu(p,e.name),hu(m,e.name),hu(g,e.name),hu(v,e.name);const x=new fu({uid:y,auth:e,email:d,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:I,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(x.providerData=_.map((e=>Object.assign({},e)))),m&&(x._redirectEventId=m),x}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new du;r.updateFromServerResponse(t);const i=new fu({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await cu(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Nc(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?uu(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new du;s.updateFromIdToken(n);const a=new fu({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new lu(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const pu=new Map;function mu(e){Dc(e instanceof Function,"Expected a class definition");let t=pu.get(e);return t?(Dc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,pu.set(e,t),t)}class gu{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}gu.type="NONE";const vu=gu;function yu(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class wu{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=yu(this.userKey,r.apiKey,i),this.fullPersistenceKey=yu("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?fu._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new wu(mu(vu),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||mu(vu);const o=yu(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=fu._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new wu(i,e,n)):new wu(i,e,n)}}function bu(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(xu(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_u(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Eu(t))return"Blackberry";if(Tu(t))return"Webos";if(Su(t))return"Safari";if((t.includes("chrome/")||Iu(t))&&!t.includes("edge/"))return"Chrome";if(ku(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function _u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return/firefox\//i.test(e)}function Su(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Iu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return/crios\//i.test(e)}function xu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return/iemobile/i.test(e)}function ku(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return/android/i.test(e)}function Eu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return/blackberry/i.test(e)}function Tu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return/webos/i.test(e)}function Cu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Au(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return Cu(e)||ku(e)||Tu(e)||Eu(e)||/windows phone/i.test(e)||xu(e)}function Ru(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=bu(Cn());break;case"Worker":t="".concat(bu(Cn()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Zr,"/").concat(r)}class Pu{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Nu{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Ou{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lu(this),this.idTokenSubscription=new Lu(this),this.beforeStateQueue=new Pu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ic,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=mu(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await wu.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await tu(this,{idToken:e}),n=await fu._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Qr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Nc(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await cu(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qr(this.app))return Promise.reject(Ac(this));const t=e?nr(e):null;return t&&Nc(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Nc(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Qr(this.app)?Promise.reject(Ac(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qr(this.app)?Promise.reject(Ac(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(mu(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Wc(e,"GET","/v2/passwordPolicy",qc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Nu(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Un("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Wc(e,"POST","/v2/accounts:revokeToken",qc(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&mu(e)||this._popupRedirectResolver;Nc(t,this,"argument-error"),this.redirectPersistenceManager=await wu.create(this,[mu(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Nc(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Nc(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ru(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(xc.logLevel<=cr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];xc.warn("Auth (".concat(Zr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Du(e){return nr(e)}class Lu{constructor(e){this.auth=e,this.observer=null,this.addObserver=Qn((e=>this.observer=e))}get next(){return Nc(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fu(e){return Mu.loadJS(e)}function ju(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Uu{constructor(e){this.type="recaptcha-enterprise",this.auth=Du(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Jc(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{eu(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Zc(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Jc(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Mu.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Fu(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function zu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Uu(e);let o;try{o=await i.verify(n)}catch(a){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Vu(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await zu(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await zu(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Bu(e,t,n){const r=Du(e);Nc(r._canInitEmulator,r,"emulator-config-failed"),Nc(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=qu(t),{host:s,port:a}=function(e){const t=qu(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Wu(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Wu(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function qu(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Wu(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Hu{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Oc("not implemented")}_getIdTokenResponse(e){return Oc("not implemented")}_linkToIdToken(e,t){return Oc("not implemented")}_getReauthenticationResolver(e){return Oc("not implemented")}}async function Ku(e,t){return Wc(e,"POST","/v1/accounts:resetPassword",qc(e,t))}async function Gu(e,t){return Wc(e,"POST","/v1/accounts:signUp",t)}async function Qu(e,t){return Kc(e,"POST","/v1/accounts:signInWithPassword",qc(e,t))}async function Yu(e,t){return Wc(e,"POST","/v1/accounts:sendOobCode",qc(e,t))}async function $u(e,t){return Yu(e,t)}async function Xu(e,t){return Yu(e,t)}class Ju extends Hu{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ju(e,t,"password")}static _fromEmailAndCode(e,t){return new Ju(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Vu(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Qu);case"emailLink":return async function(e,t){return Kc(e,"POST","/v1/accounts:signInWithEmailLink",qc(e,t))}(e,{email:this._email,oobCode:this._password});default:Ec(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Vu(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Gu);case"emailLink":return async function(e,t){return Kc(e,"POST","/v1/accounts:signInWithEmailLink",qc(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ec(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Zu(e,t){return Kc(e,"POST","/v1/accounts:signInWithIdp",qc(e,t))}class ed extends Hu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ed(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ec("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=bi(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new ed(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Zu(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Zu(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Zu(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Hn(t)}return e}}const td={USER_NOT_FOUND:"user-not-found"};class nd extends Hu{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new nd({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new nd({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Kc(e,"POST","/v1/accounts:signInWithPhoneNumber",qc(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Kc(e,"POST","/v1/accounts:signInWithPhoneNumber",qc(e,t));if(n.temporaryProof)throw $c(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Kc(e,"POST","/v1/accounts:signInWithPhoneNumber",qc(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),td)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new nd({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class rd{constructor(e){var t,n,r,i,o,s;const a=Kn(Gn(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Nc(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Kn(Gn(e)).link,n=t?Kn(Gn(t)).deep_link_id:null,r=Kn(Gn(e)).deep_link_id;return(r?Kn(Gn(r)).link:null)||r||n||t||e}(e);try{return new rd(t)}catch(n){return null}}}class id{constructor(){this.providerId=id.PROVIDER_ID}static credential(e,t){return Ju._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=rd.parseLink(t);return Nc(n,"argument-error"),Ju._fromEmailAndCode(e,n.code,n.tenantId)}}id.PROVIDER_ID="password",id.EMAIL_PASSWORD_SIGN_IN_METHOD="password",id.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class od{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class sd extends od{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ad extends sd{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return Nc("providerId"in t&&"signInMethod"in t,"argument-error"),ed._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Nc(e.idToken||e.accessToken,"argument-error"),ed._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ad.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ad.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:s,providerId:a}=t;if(!r&&!i&&!n&&!o)return null;if(!a)return null;try{return new ad(a)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:o})}catch(l){return null}}}class ld extends sd{constructor(){super("facebook.com")}static credential(e){return ed._fromParams({providerId:ld.PROVIDER_ID,signInMethod:ld.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ld.credentialFromTaggedObject(e)}static credentialFromError(e){return ld.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ld.credential(t.oauthAccessToken)}catch(n){return null}}}ld.FACEBOOK_SIGN_IN_METHOD="facebook.com",ld.PROVIDER_ID="facebook.com";class cd extends sd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ed._fromParams({providerId:cd.PROVIDER_ID,signInMethod:cd.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return cd.credentialFromTaggedObject(e)}static credentialFromError(e){return cd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return cd.credential(n,r)}catch(i){return null}}}cd.GOOGLE_SIGN_IN_METHOD="google.com",cd.PROVIDER_ID="google.com";class ud extends sd{constructor(){super("github.com")}static credential(e){return ed._fromParams({providerId:ud.PROVIDER_ID,signInMethod:ud.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ud.credentialFromTaggedObject(e)}static credentialFromError(e){return ud.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ud.credential(t.oauthAccessToken)}catch(n){return null}}}ud.GITHUB_SIGN_IN_METHOD="github.com",ud.PROVIDER_ID="github.com";class dd extends Hu{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Zu(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Zu(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Zu(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new dd(n,i):null}static _create(e,t){return new dd(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class hd extends od{constructor(e){Nc(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return hd.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return hd.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=dd.fromJSON(e);return Nc(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return dd._create(r,n)}catch(i){return null}}}class fd extends sd{constructor(){super("twitter.com")}static credential(e,t){return ed._fromParams({providerId:fd.PROVIDER_ID,signInMethod:fd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return fd.credentialFromTaggedObject(e)}static credentialFromError(e){return fd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return fd.credential(n,r)}catch(i){return null}}}async function pd(e,t){return Kc(e,"POST","/v1/accounts:signUp",qc(e,t))}fd.TWITTER_SIGN_IN_METHOD="twitter.com",fd.PROVIDER_ID="twitter.com";class md{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await fu._fromIdTokenResponse(e,n,r),o=gd(n);return new md({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=gd(n);return new md({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function gd(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class vd extends jn{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,vd.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new vd(e,t,n,r)}}function yd(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw vd._fromErrorAndOperation(e,n,t,r);throw n}))}function wd(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function bd(e,t){const n=nr(e);await Sd(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Wc(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=wd(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function _d(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await su(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return md._forOperation(e,"link",r)}async function Sd(e,t,n){await cu(t);const r=!1===e?"provider-already-linked":"no-such-provider";Nc(wd(t.providerData).has(n)===e,t.auth,r)}async function Id(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Qr(r.app))return Promise.reject(Ac(r));const i="reauthenticate";try{const o=await su(e,yd(r,i,t,e),n);Nc(o.idToken,r,"internal-error");const s=iu(o.idToken);Nc(s,r,"internal-error");const{sub:a}=s;return Nc(e.uid===a,r,"user-mismatch"),md._forOperation(e,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&Ec(r,"user-mismatch"),o}}async function xd(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Qr(e.app))return Promise.reject(Ac(e));const r="signIn",i=await yd(e,r,t),o=await md._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function kd(e,t){return xd(Du(e),t)}async function Ed(e,t){const n=nr(e);return await Sd(!1,n,t.providerId),_d(n,t)}async function Td(e,t){return Id(nr(e),t)}async function Cd(e,t){if(Qr(e.app))return Promise.reject(Ac(e));const n=Du(e),r=await async function(e,t){return Kc(e,"POST","/v1/accounts:signInWithCustomToken",qc(e,t))}(n,{token:t,returnSecureToken:!0}),i=await md._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class Ad{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Rd._fromServerResponse(e,t):"totpInfo"in t?Pd._fromServerResponse(e,t):Ec(e,"internal-error")}}class Rd extends Ad{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Rd(t)}}class Pd extends Ad{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Pd(t)}}function Nd(e,t,n){var r;Nc((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Nc("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Nc(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Nc(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Od(e){const t=Du(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Dd(e,t){await async function(e,t){return Wc(e,"POST","/v1/accounts:update",qc(e,t))}(nr(e),{oobCode:t})}async function Ld(e,t){const n=nr(e),r=await Ku(n,{oobCode:t}),i=r.requestType;switch(Nc(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Nc(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Nc(r.mfaInfo,n,"internal-error");default:Nc(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=Ad._fromServerResponse(Du(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function Md(e,t){const n={identifier:t,continueUri:Mc()?Lc():"http://localhost"},{signinMethods:r}=await async function(e,t){return Wc(e,"POST","/v1/accounts:createAuthUri",qc(e,t))}(nr(e),n);return r||[]}async function Fd(e,t){const n=nr(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Nd(n.auth,r,t);const{email:i}=await async function(e,t){return Yu(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function jd(e,t,n){const r=nr(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Nd(r.auth,i,n);const{email:o}=await async function(e,t){return Yu(e,t)}(r.auth,i);o!==e.email&&await e.reload()}async function Ud(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=nr(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await su(i,async function(e,t){return Wc(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}async function zd(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await su(e,async function(e,t){return Wc(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(o,!0)}class Vd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Bd extends Vd{constructor(e,t,n,r){super(e,t,n),this.username=r}}class qd extends Vd{constructor(e,t){super(e,"facebook.com",t)}}class Wd extends Bd{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Hd extends Vd{constructor(e,t){super(e,"google.com",t)}}class Kd extends Bd{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Gd(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=iu(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Vd(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new qd(o,i);case"github.com":return new Wd(o,i);case"google.com":return new Hd(o,i);case"twitter.com":return new Kd(o,i,e.screenName||null);case"custom":case"anonymous":return new Vd(o,null);default:return new Vd(o,r,i)}}(n)}class Qd{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new Qd("enroll",e,t)}static _fromMfaPendingCredential(e){return new Qd("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Qd._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Qd._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Yd{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Du(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Ad._fromServerResponse(n,e)));Nc(r.mfaPendingCredential,n,"internal-error");const o=Qd._fromMfaPendingCredential(r.mfaPendingCredential);return new Yd(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const s=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await md._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Nc(t.user,n,"internal-error"),md._forOperation(t.user,t.operationType,s);default:Ec(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class $d{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Ad._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new $d(e)}async getSession(){return Qd._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await su(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await su(this.user,function(e,t){return Wc(e,"POST","/v2/accounts/mfaEnrollment:withdraw",qc(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(r){throw r}}}const Xd=new WeakMap;const Jd="__sak";class Zd{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Jd,"1"),this.storage.removeItem(Jd),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class eh extends Zd{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Cn();return Su(e)||Cu(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Au(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Dn()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}eh.type="LOCAL";const th=eh;class nh extends Zd{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}nh.type="SESSION";const rh=nh;class ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new ih(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function oh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ih.receivers=[];class sh{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=oh("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function ah(){return window}function lh(){return"undefined"!==typeof ah().WorkerGlobalScope&&"function"===typeof ah().importScripts}const ch="firebaseLocalStorageDb",uh="firebaseLocalStorage",dh="fbase_key";class hh{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function fh(e,t){return e.transaction([uh],t?"readwrite":"readonly").objectStore(uh)}function ph(){const e=indexedDB.open(ch,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(uh,{keyPath:dh})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(uh)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ch);return new hh(e).toPromise()}(),t(await ph()))}))}))}async function mh(e,t,n){const r=fh(e,!0).put({[dh]:t,value:n});return new hh(r).toPromise()}function gh(e,t){const n=fh(e,!0).delete(t);return new hh(n).toPromise()}class vh{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await ph()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lh()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ih._getInstance(lh()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new sh(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ph();return await mh(e,Jd,"1"),await gh(e,Jd),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>mh(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=fh(e,!1).get(t),r=await new hh(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>gh(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=fh(e,!1).getAll();return new hh(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}vh.type="LOCAL";const yh=vh;const wh=1e12;class bh{constructor(e){this.auth=e,this.counter=wh,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new _h(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||wh;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||wh;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||wh;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class _h{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;Nc(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Sh=ju("rcb"),Ih=new jc(3e4,6e4);class xh{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=ah().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Nc(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Xc(ah().grecaptcha)?Promise.resolve(ah().grecaptcha):new Promise(((n,r)=>{const i=ah().setTimeout((()=>{r(Tc(e,"network-request-failed"))}),Ih.get());ah()[Sh]=()=>{ah().clearTimeout(i),delete ah()[Sh];const o=ah().grecaptcha;if(!o||!Xc(o))return void r(Tc(e,"internal-error"));const s=o.render;o.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(o)};Fu("".concat(Mu.recaptchaV2Script,"?").concat(Hn({onload:Sh,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(Tc(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=ah().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class kh{async load(e){return new bh(e)}clearedOneInstance(){}}const Eh="recaptcha",Th={theme:"light",type:"image"};class Ch{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Th);this.parameters=n,this.type=Eh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Du(e),this.isInvisible="invisible"===this.parameters.size,Nc("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;Nc(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new kh:new xh,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Nc(!this.parameters.sitekey,this.auth,"argument-error"),Nc(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Nc("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=ah()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){Nc(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Nc(Mc()&&!lh(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Wc(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Nc(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Nc(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ah{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=nd._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Rh(e,t,n){var r;const i=await n.verify();try{let o;if(Nc("string"===typeof i,e,"argument-error"),Nc(n.type===Eh,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){Nc("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Wc(e,"POST","/v2/accounts/mfaEnrollment:start",qc(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Nc("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;Nc(n,e,"missing-multi-factor-info");const s=await function(e,t){return Wc(e,"POST","/v2/accounts/mfaSignIn:start",qc(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Wc(e,"POST","/v1/accounts:sendVerificationCode",qc(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Ph{constructor(e){this.providerId=Ph.PROVIDER_ID,this.auth=Du(e)}verifyPhoneNumber(e,t){return Rh(this.auth,e,nr(t))}static credential(e,t){return nd._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ph.credentialFromTaggedObject(t)}static credentialFromError(e){return Ph.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?nd._fromTokenResponse(n,r):null}}function Nh(e,t){return t?mu(t):(Nc(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ph.PROVIDER_ID="phone",Ph.PHONE_SIGN_IN_METHOD="phone";class Oh extends Hu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Zu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Zu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Dh(e){return xd(e.auth,new Oh(e),e.bypassAuthState)}function Lh(e){const{auth:t,user:n}=e;return Nc(n,t,"internal-error"),Id(n,new Oh(e),e.bypassAuthState)}async function Mh(e){const{auth:t,user:n}=e;return Nc(n,t,"internal-error"),_d(n,new Oh(e),e.bypassAuthState)}class Fh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Dh;case"linkViaPopup":case"linkViaRedirect":return Mh;case"reauthViaPopup":case"reauthViaRedirect":return Lh;default:Ec(this.auth,"internal-error")}}resolve(e){Dc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Dc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jh=new jc(2e3,1e4);class Uh extends Fh{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Uh.currentPopupAction&&Uh.currentPopupAction.cancel(),Uh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Nc(e,this.auth,"internal-error"),e}async onExecution(){Dc(1===this.filter.length,"Popup operations only handle one event");const e=oh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Tc(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Tc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Tc(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,jh.get())};e()}}Uh.currentPopupAction=null;const zh="pendingRedirect",Vh=new Map;class Bh extends Fh{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Vh.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Kh(t),r=Hh(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Vh.set(this.auth._key(),e)}return this.bypassAuthState||Vh.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function qh(e,t){return Hh(e)._set(Kh(t),"true")}function Wh(e,t){Vh.set(e._key(),t)}function Hh(e){return mu(e._redirectPersistence)}function Kh(e){return yu(zh,e.config.apiKey,e.name)}function Gh(e,t,n){return async function(e,t,n){if(Qr(e.app))return Promise.reject(Ac(e));const r=Du(e);Rc(e,t,od),await r._initializationPromise;const i=Nh(r,n);return await qh(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function Qh(e,t,n){return async function(e,t,n){const r=nr(e);if(Rc(r.auth,t,od),Qr(r.auth.app))return Promise.reject(Ac(r.auth));await r.auth._initializationPromise;const i=Nh(r.auth,n);await qh(i,r.auth);const o=await Xh(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}function Yh(e,t,n){return async function(e,t,n){const r=nr(e);Rc(r.auth,t,od),await r.auth._initializationPromise;const i=Nh(r.auth,n);await Sd(!1,r,t.providerId),await qh(i,r.auth);const o=await Xh(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}async function $h(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Qr(e.app))return Promise.reject(Ac(e));const r=Du(e),i=Nh(r,t),o=new Bh(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}async function Xh(e){const t=oh("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Jh{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ef(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ef(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Tc(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zh(e))}saveEventToCache(e){this.cachedEventUids.add(Zh(e)),this.lastProcessedEventTime=Date.now()}}function Zh(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function ef(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function tf(e){return Wc(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const nf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rf=/^https?/;function of(e){const t=Lc(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!rf.test(n))return!1;if(nf.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const sf=new jc(3e4,6e4);function af(){const e=ah().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function lf(e){return new Promise(((t,n)=>{var r,i,o;function s(){af(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{af(),n(Tc(e,"network-request-failed"))},timeout:sf.get()})}if(null===(i=null===(r=ah().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=ah().gapi)||void 0===o?void 0:o.load)){const t=ju("iframefcb");return ah()[t]=()=>{gapi.load?s():n(Tc(e,"network-request-failed"))},Fu("".concat(Mu.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw cf=null,e}))}let cf=null;const uf=new jc(5e3,15e3),df="__/auth/iframe",hf="emulator/auth/iframe",ff={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mf(e){const t=e.config;Nc(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Uc(t,hf):"https://".concat(e.config.authDomain,"/").concat(df),r={apiKey:t.apiKey,appName:e.name,v:Zr},i=pf.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(Hn(r).slice(1))}async function gf(e){const t=await function(e){return cf=cf||lf(e),cf}(e),n=ah().gapi;return Nc(n,e,"internal-error"),t.open({where:document.body,url:mf(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ff,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Tc(e,"network-request-failed"),o=ah().setTimeout((()=>{r(i)}),uf.get());function s(){ah().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const vf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class yf{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function wf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},vf),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Cn().toLowerCase();n&&(a=Iu(c)?"_blank":n),_u(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Cu(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new yf(null);const d=window.open(t||"",a,u);Nc(d,e,"popup-blocked");try{d.focus()}catch(h){}return new yf(d)}const bf="__/auth/handler",_f="emulator/auth/handler",Sf=encodeURIComponent("fac");async function If(e,t,n,r,i,o){Nc(e.config.authDomain,e,"auth-domain-config-required"),Nc(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Zr,eventId:i};if(t instanceof od){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",Bn(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof sd){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Sf,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(bf);return Uc(t,_f)}(e),"?").concat(Hn(a).slice(1)).concat(c)}const xf="webStorageSupport";const kf=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rh,this._completeRedirectFn=$h,this._overrideRedirectResult=Wh}async _openPopup(e,t,n,r){var i;Dc(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return wf(e,await If(e,t,n,Lc(),r),oh())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){ah().location.href=e}(await If(e,t,n,Lc(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Dc(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await gf(e),n=new Jh(e);return t.register("authEvent",(t=>{Nc(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xf,{type:xf},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[xf];void 0!==i&&t(!!i),Ec(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await tf(e);for(const r of t)try{if(of(r))return}catch(n){}Ec(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Au()||Su()||Cu()}};class Ef{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Oc("unexpected MultiFactorSessionType")}}}class Tf extends Ef{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Tf(e)}_finalizeEnroll(e,t,n){return function(e,t){return Wc(e,"POST","/v2/accounts/mfaEnrollment:finalize",qc(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Wc(e,"POST","/v2/accounts/mfaSignIn:finalize",qc(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Cf{constructor(){}static assertion(e){return Tf._fromCredential(e)}}Cf.FACTOR_ID="phone";var Af="@firebase/auth",Rf="1.7.2";class Pf{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Nc(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}En("authIdTokenMaxAge");function Nf(){return window}!function(e){Mu=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Tc("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function(e){Wr(new rr("auth",((t,n)=>{let{options:r}=n;const i=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;Nc(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:a,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ru(e)},u=new Ou(i,o,s,c);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mu);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(u,r),u}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Wr(new rr("auth-internal",(e=>(e=>new Pf(e))(Du(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),oi(Af,Rf,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(e)),oi(Af,Rf,"esm2017")}("Browser");async function Of(e,t,n){var r;const{BuildInfo:i}=Nf();Dc(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(Dc(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),s={};return Cu()?s.ibi=i.packageName:ku()?s.apn=i.packageName:Ec(e,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,If(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,s)}function Df(e){const{cordova:t}=Nf();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const Lf=20;class Mf extends Jh{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function Ff(e){const t=await zf()._get(Vf(e));return t&&await zf()._remove(Vf(e)),t}function jf(e,t){var n,r;const i=function(e){const t=Bf(e),n=t.link?decodeURIComponent(t.link):void 0,r=Bf(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Bf(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Bf(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=s?Tc(s):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Uf(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Lf;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function zf(){return mu(th)}function Vf(e){return yu("authEvent",e.config.apiKey,e.name)}function Bf(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return Kn(n.join("?"))}const qf=class{constructor(){this._redirectPersistence=rh,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$h,this._overrideRedirectResult=Wh}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Mf(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){Ec(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,s,a,l,c,u;const d=Nf();Nc("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Nc("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Nc("function"===typeof(null===(o=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Nc("function"===typeof(null===(l=null===(a=null===(s=null===d||void 0===d?void 0:d.cordova)||void 0===s?void 0:s.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Nc("function"===typeof(null===(u=null===(c=null===d||void 0===d?void 0:d.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),Vh.clear(),await this._originValidation(e);const o=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Uf(),postBody:null,tenantId:e.tenantId,error:Tc(e,"no-auth-event")}}(e,n,r);await function(e,t){return zf()._set(Vf(e),t)}(e,o);const s=await Of(e,o,t);return async function(e,t,n){const{cordova:r}=Nf();let i=()=>{};try{await new Promise(((o,s)=>{let a=null;function l(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout((()=>{s(Tc(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),ku()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await Df(s))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=Nf(),n={};Cu()?n.iosBundleId=t.packageName:ku()?n.androidPackageName=t.packageName:Ec(e,"operation-not-supported-in-this-environment"),await tf(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=Nf(),o=setTimeout((async()=>{await Ff(e),t.onEvent(Wf())}),500),s=async n=>{clearTimeout(o);const r=await Ff(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=jf(r,n.url)),t.onEvent(i||Wf())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,s);const a=r,l="".concat(i.packageName.toLowerCase(),"://");Nf().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&s({url:e}),"function"===typeof a)try{a(e)}catch(t){console.error(t)}}}};function Wf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Tc("no-auth-event")}}function Hf(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Kf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return!("file:"!==Hf()&&"ionic:"!==Hf()&&"capacitor:"!==Hf()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Gf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return Dn()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return/Edge\/\d+/.test(e)}(e)}function Qf(){try{const e=self.localStorage,t=oh();if(e)return e.setItem(t,"1"),e.removeItem(t),!Gf()||Mn()}catch(e){return Yf()&&Mn()}return!1}function Yf(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function $f(){return("http:"===Hf()||"https:"===Hf()||Nn()||Kf())&&!(On()||Rn())&&Qf()&&!Yf()}function Xf(){return Kf()&&"undefined"!==typeof document}const Jf={LOCAL:"local",NONE:"none",SESSION:"session"},Zf=Nc,ep="persistence";async function tp(e){await e._initializationPromise;const t=np(),n=yu(ep,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function np(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const rp=Nc;class ip{constructor(){this.browserResolver=mu(kf),this.cordovaResolver=mu(qf),this.underlyingResolver=null,this._redirectPersistence=rh,this._completeRedirectFn=$h,this._overrideRedirectResult=Wh}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Xf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return rp(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Xf()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function op(e){return e.unwrap()}function sp(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new up(e,function(e,t){var n;const r=nr(e),i=t;return Nc(t.customData.operationType,r,"argument-error"),Nc(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Yd._fromError(r,i)}(e,t))}else if(r){const e=ap(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function ap(e){const{_tokenResponse:t}=e instanceof jn?e.customData:e;if(!t)return null;if(!(e instanceof jn)&&"temporaryProof"in t&&"phoneNumber"in t)return Ph.credentialFromResult(e);const n=t.providerId;if(!n||n===fc.PASSWORD)return null;let r;switch(n){case fc.GOOGLE:r=cd;break;case fc.FACEBOOK:r=ld;break;case fc.GITHUB:r=ud;break;case fc.TWITTER:r=fd;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:s,nonce:a}=t;return i||o||e||s?s?n.startsWith("saml.")?dd._create(n,s):ed._fromParams({providerId:n,signInMethod:n,pendingToken:s,idToken:e,accessToken:i}):new ad(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof jn?r.credentialFromError(e):r.credentialFromResult(e)}function lp(e,t){return t.catch((t=>{throw t instanceof jn&&sp(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,ap(r)),additionalUserInfo:Gd(e),user:dp.getOrCreate(n)};var r}))}async function cp(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>lp(e,n.confirm(t))}}class up{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return lp(op(this.auth),this.resolver.resolveSignIn(e))}}class dp{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=nr(e);return Xd.has(t)||Xd.set(t,$d._fromUser(t)),Xd.get(t)}(e)}static getOrCreate(e){return dp.USER_MAP.has(e)||dp.USER_MAP.set(e,new dp(e)),dp.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return lp(this.auth,Ed(this._delegate,e))}async linkWithPhoneNumber(e,t){return cp(this.auth,async function(e,t,n){const r=nr(e);await Sd(!1,r,"phone");const i=await Rh(r.auth,t,nr(n));return new Ah(i,(e=>Ed(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return lp(this.auth,async function(e,t,n){const r=nr(e);Rc(r.auth,t,od);const i=Nh(r.auth,n);return new Uh(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,ip))}async linkWithRedirect(e){return await tp(Du(this.auth)),Yh(this._delegate,e,ip)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return lp(this.auth,Td(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return cp(this.auth,async function(e,t,n){const r=nr(e);if(Qr(r.auth.app))return Promise.reject(Ac(r.auth));const i=await Rh(r.auth,t,nr(n));return new Ah(i,(e=>Td(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return lp(this.auth,async function(e,t,n){const r=nr(e);if(Qr(r.auth.app))return Promise.reject(Tc(r.auth,"operation-not-supported-in-this-environment"));Rc(r.auth,t,od);const i=Nh(r.auth,n);return new Uh(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,ip))}async reauthenticateWithRedirect(e){return await tp(Du(this.auth)),Qh(this._delegate,e,ip)}sendEmailVerification(e){return Fd(this._delegate,e)}async unlink(e){return await bd(this._delegate,e),this}updateEmail(e){return function(e,t){const n=nr(e);return Qr(n.auth.app)?Promise.reject(Ac(n.auth)):zd(n,t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return zd(nr(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){const n=nr(e);if(Qr(n.auth.app))return Promise.reject(Ac(n.auth));await _d(n,t)}(this._delegate,e)}updateProfile(e){return Ud(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return jd(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}dp.USER_MAP=new WeakMap;const hp=Nc;class fp{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;hp(n,"invalid-api-key",{appName:e.name}),hp(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?ip:void 0;this._delegate=t.initialize({options:{persistence:mp(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(_c),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?dp.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Bu(this._delegate,e,t)}applyActionCode(e){return Dd(this._delegate,e)}checkActionCode(e){return Ld(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Ku(nr(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Od(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return lp(this._delegate,async function(e,t,n){if(Qr(e.app))return Promise.reject(Ac(e));const r=Du(e),i=Vu(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pd),o=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Od(e),t})),s=await md._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Md(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=rd.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){hp($f(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await Du(e)._initializationPromise,$h(e,t,!1)}(this._delegate,ip);return e?lp(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){Du(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=pp(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=pp(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=Du(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){Nc(t.handleCodeInApp,r,"argument-error"),t&&Nd(r,e,t)}(i,n),await Vu(r,i,"getOobCode",Xu)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=Du(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Nd(r,i,n),await Vu(r,i,"getOobCode",$u)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Zf(Object.values(Jf).includes(t),e,"invalid-persistence-type"),On()?Zf(t!==Jf.SESSION,e,"unsupported-persistence-type"):Rn()?Zf(t===Jf.NONE,e,"unsupported-persistence-type"):Yf()?Zf(t===Jf.NONE||t===Jf.LOCAL&&Mn(),e,"unsupported-persistence-type"):Zf(t===Jf.NONE||Qf(),e,"unsupported-persistence-type")}(this._delegate,e),e){case Jf.SESSION:t=rh;break;case Jf.LOCAL:t=await mu(yh)._isAvailable()?yh:th;break;case Jf.NONE:t=vu;break;default:return Ec("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return lp(this._delegate,async function(e){var t;if(Qr(e.app))return Promise.reject(Ac(e));const n=Du(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new md({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await pd(n,{returnSecureToken:!0}),i=await md._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return lp(this._delegate,kd(this._delegate,e))}signInWithCustomToken(e){return lp(this._delegate,Cd(this._delegate,e))}signInWithEmailAndPassword(e,t){return lp(this._delegate,function(e,t,n){return Qr(e.app)?Promise.reject(Ac(e)):kd(nr(e),id.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Od(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return lp(this._delegate,async function(e,t,n){if(Qr(e.app))return Promise.reject(Ac(e));const r=nr(e),i=id.credentialWithLink(t,n||Lc());return Nc(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),kd(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return cp(this._delegate,async function(e,t,n){if(Qr(e.app))return Promise.reject(Ac(e));const r=Du(e),i=await Rh(r,t,nr(n));return new Ah(i,(e=>kd(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return hp($f(),this._delegate,"operation-not-supported-in-this-environment"),lp(this._delegate,async function(e,t,n){if(Qr(e.app))return Promise.reject(Tc(e,"operation-not-supported-in-this-environment"));const r=Du(e);Rc(e,t,od);const i=Nh(r,n);return new Uh(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,ip))}async signInWithRedirect(e){return hp($f(),this._delegate,"operation-not-supported-in-this-environment"),await tp(this._delegate),Gh(this._delegate,e,ip)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Ld(nr(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function pp(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&dp.getOrCreate(e)),error:t,complete:n}}function mp(e,t){const n=function(e,t){const n=np();if(!n)return[];const r=yu(ep,e,t);switch(n.getItem(r)){case Jf.NONE:return[vu];case Jf.LOCAL:return[yh,rh];case Jf.SESSION:return[rh];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(yh)||n.push(yh),"undefined"!==typeof window)for(const r of[th,rh])n.includes(r)||n.push(r);return n.includes(vu)||n.push(vu),n}fp.Persistence=Jf;class gp{constructor(){this.providerId="phone",this._delegate=new Ph(op(hc.auth()))}static credential(e,t){return Ph.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}gp.PHONE_SIGN_IN_METHOD=Ph.PHONE_SIGN_IN_METHOD,gp.PROVIDER_ID=Ph.PROVIDER_ID;const vp=Nc;class yp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hc.app();var r;vp(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Ch(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var wp;(wp=hc).INTERNAL.registerComponent(new rr("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new fp(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:pc,PASSWORD_RESET:mc,RECOVER_EMAIL:gc,REVERT_SECOND_FACTOR_ADDITION:vc,VERIFY_AND_CHANGE_EMAIL:yc,VERIFY_EMAIL:wc}},EmailAuthProvider:id,FacebookAuthProvider:ld,GithubAuthProvider:ud,GoogleAuthProvider:cd,OAuthProvider:ad,SAMLAuthProvider:hd,PhoneAuthProvider:gp,PhoneMultiFactorGenerator:Cf,RecaptchaVerifier:yp,TwitterAuthProvider:fd,Auth:fp,AuthCredential:Hu,Error:jn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),wp.registerVersion("@firebase/auth-compat","0.5.7");var bp,_p="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Sp={},Ip=Ip||{},xp=_p||self;function kp(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ep(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Tp="closure_uid_"+(1e9*Math.random()>>>0),Cp=0;function Ap(e,t,n){return e.call.apply(e.bind,arguments)}function Rp(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Pp(e,t,n){return(Pp=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ap:Rp).apply(null,arguments)}function Np(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Op(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Dp(){this.s=this.s,this.o=this.o}Dp.prototype.s=!1,Dp.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Tp)&&e[Tp]||(e[Tp]=++Cp))},Dp.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Lp=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Mp(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Fp(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(kp(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function jp(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}jp.prototype.h=function(){this.defaultPrevented=!0};var Up=function(){if(!xp.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};xp.addEventListener("test",e,t),xp.removeEventListener("test",e,t)}catch(n){}return e}();function zp(e){return/^[\s\xa0]*$/.test(e)}function Vp(){var e=xp.navigator;return e&&(e=e.userAgent)?e:""}function Bp(e){return-1!=Vp().indexOf(e)}function qp(e){return qp[" "](e),e}qp[" "]=function(){};var Wp,Hp,Kp=Bp("Opera"),Gp=Bp("Trident")||Bp("MSIE"),Qp=Bp("Edge"),Yp=Qp||Gp,$p=Bp("Gecko")&&!(-1!=Vp().toLowerCase().indexOf("webkit")&&!Bp("Edge"))&&!(Bp("Trident")||Bp("MSIE"))&&!Bp("Edge"),Xp=-1!=Vp().toLowerCase().indexOf("webkit")&&!Bp("Edge");function Jp(){var e=xp.document;return e?e.documentMode:void 0}e:{var Zp="",em=function(){var e=Vp();return $p?/rv:([^\);]+)(\)|;)/.exec(e):Qp?/Edge\/([\d\.]+)/.exec(e):Gp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Xp?/WebKit\/(\S+)/.exec(e):Kp?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(em&&(Zp=em?em[1]:""),Gp){var tm=Jp();if(null!=tm&&tm>parseFloat(Zp)){Wp=String(tm);break e}}Wp=Zp}if(xp.document&&Gp){var nm=Jp();Hp=nm||(parseInt(Wp,10)||void 0)}else Hp=void 0;var rm=Hp;function im(e,t){if(jp.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if($p){e:{try{qp(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:om[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&im.$.h.call(this)}}Op(im,jp);var om={2:"touch",3:"pen",4:"mouse"};im.prototype.h=function(){im.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var sm="closure_listenable_"+(1e6*Math.random()|0),am=0;function lm(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++am,this.fa=this.ia=!1}function cm(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function um(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function dm(e){const t={};for(const n in e)t[n]=e[n];return t}const hm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fm(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<hm.length;t++)n=hm[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function pm(e){this.src=e,this.g={},this.h=0}function mm(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Lp(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(cm(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function gm(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}pm.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=gm(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new lm(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var vm="closure_lm_"+(1e6*Math.random()|0),ym={};function wm(e,t,n,r,i){if(r&&r.once)return _m(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)wm(e,t[o],n,r,i);return null}return n=Cm(n),e&&e[sm]?e.O(t,n,Ep(r)?!!r.capture:!!r,i):bm(e,t,n,!1,r,i)}function bm(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=Ep(i)?!!i.capture:!!i,a=Em(e);if(a||(e[vm]=a=new pm(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=km;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Up||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(xm(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function _m(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)_m(e,t[o],n,r,i);return null}return n=Cm(n),e&&e[sm]?e.P(t,n,Ep(r)?!!r.capture:!!r,i):bm(e,t,n,!0,r,i)}function Sm(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Sm(e,t[o],n,r,i);else r=Ep(r)?!!r.capture:!!r,n=Cm(n),e&&e[sm]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=gm(o=e.g[t],n,r,i))&&(cm(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Em(e))&&(t=e.g[t.toString()],e=-1,t&&(e=gm(t,n,r,i)),(n=-1<e?t[e]:null)&&Im(n))}function Im(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[sm])mm(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(xm(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Em(t))?(mm(n,e),0==n.h&&(n.src=null,t[vm]=null)):cm(e)}}}function xm(e){return e in ym?ym[e]:ym[e]="on"+e}function km(e,t){if(e.fa)e=!0;else{t=new im(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Im(e),e=n.call(r,t)}return e}function Em(e){return(e=e[vm])instanceof pm?e:null}var Tm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cm(e){return"function"===typeof e?e:(e[Tm]||(e[Tm]=function(t){return e.handleEvent(t)}),e[Tm])}function Am(){Dp.call(this),this.i=new pm(this),this.S=this,this.J=null}function Rm(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new jp(t,e);else if(t instanceof jp)t.target=t.target||e;else{var i=t;fm(t=new jp(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Pm(s,r,!0,t)&&i}if(i=Pm(s=t.g=e,r,!0,t)&&i,i=Pm(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Pm(s=t.g=n[o],r,!1,t)&&i}function Pm(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&mm(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Op(Am,Dp),Am.prototype[sm]=!0,Am.prototype.removeEventListener=function(e,t,n,r){Sm(this,e,t,n,r)},Am.prototype.N=function(){if(Am.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)cm(n[r]);delete t.g[e],t.h--}}this.J=null},Am.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Am.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Nm=xp.JSON.stringify;function Om(){var e=zm;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Dm=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Lm),(e=>e.reset()));class Lm{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Mm(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Fm(e){xp.setTimeout((()=>{throw e}),0)}let jm,Um=!1,zm=new class{constructor(){this.h=this.g=null}add(e,t){const n=Dm.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Vm=()=>{const e=xp.Promise.resolve(void 0);jm=()=>{e.then(Bm)}};var Bm=()=>{for(var e;e=Om();){try{e.h.call(e.g)}catch(n){Fm(n)}var t=Dm;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Um=!1};function qm(e,t){Am.call(this),this.h=e||1,this.g=t||xp,this.j=Pp(this.qb,this),this.l=Date.now()}function Wm(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Hm(e,t,n){if("function"===typeof e)n&&(e=Pp(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Pp(e.handleEvent,e)}return 2147483647<Number(t)?-1:xp.setTimeout(e,t||0)}function Km(e){e.g=Hm((()=>{e.g=null,e.i&&(e.i=!1,Km(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Op(qm,Am),(bp=qm.prototype).ga=!1,bp.T=null,bp.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Rm(this,"tick"),this.ga&&(Wm(this),this.start()))}},bp.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},bp.N=function(){qm.$.N.call(this),Wm(this),delete this.g};class Gm extends Dp{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Km(this)}N(){super.N(),this.g&&(xp.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qm(e){Dp.call(this),this.h=e,this.g={}}Op(Qm,Dp);var Ym=[];function $m(e,t,n,r){Array.isArray(n)||(n&&(Ym[0]=n.toString()),n=Ym);for(var i=0;i<n.length;i++){var o=wm(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Xm(e){um(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Im(e)}),e),e.g={}}function Jm(){this.g=!0}function Zm(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Nm(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Qm.prototype.N=function(){Qm.$.N.call(this),Xm(this)},Qm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jm.prototype.Ea=function(){this.g=!1},Jm.prototype.info=function(){};var eg={},tg=null;function ng(){return tg=tg||new Am}function rg(e){jp.call(this,eg.Ta,e)}function ig(e){const t=ng();Rm(t,new rg(t))}function og(e,t){jp.call(this,eg.STAT_EVENT,e),this.stat=t}function sg(e){const t=ng();Rm(t,new og(t,e))}function ag(e,t){jp.call(this,eg.Ua,e),this.size=t}function lg(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return xp.setTimeout((function(){e()}),t)}eg.Ta="serverreachability",Op(rg,jp),eg.STAT_EVENT="statevent",Op(og,jp),eg.Ua="timingevent",Op(ag,jp);var cg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ug={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function dg(){}function hg(e){return e.h||(e.h=e.i())}function fg(){}dg.prototype.h=null;var pg,mg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function gg(){jp.call(this,"d")}function vg(){jp.call(this,"c")}function yg(){}function wg(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Qm(this),this.P=_g,e=Yp?125:void 0,this.V=new qm(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new bg}function bg(){this.i=null,this.g="",this.h=!1}Op(gg,jp),Op(vg,jp),Op(yg,dg),yg.prototype.g=function(){return new XMLHttpRequest},yg.prototype.i=function(){return{}},pg=new yg;var _g=45e3,Sg={},Ig={};function xg(e,t,n){e.L=1,e.A=qg(jg(t)),e.u=n,e.S=!0,kg(e,null)}function kg(e,t){e.G=Date.now(),Ag(e),e.B=jg(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),nv(n.i,"t",r),e.o=0,n=e.l.J,e.h=new bg,e.g=ry(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Gm(Pp(e.Pa,e,e.g),e.O)),$m(e.U,e.g,"readystatechange",e.nb),t=e.I?dm(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),ig(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function Eg(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Tg(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=Cg(e,n),r==Ig){4==t&&(e.s=4,sg(14),i=!1),Zm(e.j,e.m,null,"[Incomplete Response]");break}if(r==Sg){e.s=4,sg(15),Zm(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Zm(e.j,e.m,r,null),Dg(e,r)}Eg(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,sg(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yv(t),t.M=!0,sg(11))):(Zm(e.j,e.m,n,"[Invalid Chunked Response]"),Og(e),Ng(e))}function Cg(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?Ig:(n=Number(t.substring(n,r)),isNaN(n)?Sg:(r+=1)+n>t.length?Ig:(t=t.slice(r,r+n),e.o=r+n,t))}function Ag(e){e.Y=Date.now()+e.P,Rg(e,e.P)}function Rg(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=lg(Pp(e.lb,e),t)}function Pg(e){e.C&&(xp.clearTimeout(e.C),e.C=null)}function Ng(e){0==e.l.H||e.J||Jv(e.l,e)}function Og(e){Pg(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Wm(e.V),Xm(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Dg(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||cv(n.i,e)))if(!e.K&&cv(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Xv(n),Vv(n)}Qv(n),sg(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=lg(Pp(n.ib,n),6e3));if(1>=lv(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else ey(n,11)}else if((e.K||n.g==e)&&Xv(n),!zp(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(uv(o,o.h),o.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Bg(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=ny(r,r.J?r.pa:null,r.Y),s.K){dv(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(Pg(a),Ag(a)),r.g=s}else Gv(r);0<n.j.length&&qv(n)}else"stop"!=c[0]&&"close"!=c[0]||ey(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ey(n,7):zv(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}ig()}catch(c){}}function Lg(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(kp(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(kp(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(kp(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(bp=wg.prototype).setTimeout=function(e){this.P=e},bp.nb=function(e){e=e.target;const t=this.M;t&&3==Dv(e)?t.l():this.Pa(e)},bp.Pa=function(e){try{if(e==this.g)e:{const u=Dv(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Yp||this.g&&(this.h.h||this.g.ja()||Lv(this.g)))){this.J||4!=u||7==t||ig(),Pg(this);var n=this.g.da();this.ca=n;t:if(Eg(this)){var r=Lv(this.g);e="";var i=r.length,o=4==Dv(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Og(this),Ng(this);var s="";break t}this.h.i=new xp.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zp(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,sg(12),Og(this),Ng(this);break e}Zm(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dg(this,n)}this.S?(Tg(this,u,s),Yp&&this.i&&3==u&&($m(this.U,this.V,"tick",this.mb),this.V.start())):(Zm(this.j,this.m,s,null),Dg(this,s)),4==u&&Og(this),this.i&&!this.J&&(4==u?Jv(this.l,this):(this.i=!1,Ag(this)))}else(function(e){const t={};e=(e.g&&2<=Dv(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(zp(e[r]))continue;var n=Mm(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,sg(12)):(this.s=0,sg(13)),Og(this),Ng(this)}}}catch(u){}},bp.mb=function(){if(this.g){var e=Dv(this.g),t=this.g.ja();this.o<t.length&&(Pg(this),Tg(this,e,t),this.i&&4!=e&&Ag(this))}},bp.cancel=function(){this.J=!0,Og(this)},bp.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(ig(),sg(17)),Og(this),this.s=2,Ng(this)):Rg(this,this.Y-e)};var Mg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fg(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Fg){this.h=e.h,Ug(this,e.j),this.s=e.s,this.g=e.g,zg(this,e.m),this.l=e.l;var t=e.i,n=new Jg;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Vg(this,n),this.o=e.o}else e&&(t=String(e).match(Mg))?(this.h=!1,Ug(this,t[1]||"",!0),this.s=Wg(t[2]||""),this.g=Wg(t[3]||"",!0),zg(this,t[4]),this.l=Wg(t[5]||"",!0),Vg(this,t[6]||"",!0),this.o=Wg(t[7]||"")):(this.h=!1,this.i=new Jg(null,this.h))}function jg(e){return new Fg(e)}function Ug(e,t,n){e.j=n?Wg(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function zg(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Vg(e,t,n){t instanceof Jg?(e.i=t,function(e,t){t&&!e.j&&(Zg(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ev(this,t),nv(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Hg(t,$g)),e.i=new Jg(t,e.h))}function Bg(e,t,n){e.i.set(t,n)}function qg(e){return Bg(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Wg(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Hg(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Kg),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Kg(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Fg.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Hg(t,Gg,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Hg(t,Gg,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Hg(n,"/"==n.charAt(0)?Yg:Qg,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Hg(n,Xg)),e.join("")};var Gg=/[#\/\?@]/g,Qg=/[#\?:]/g,Yg=/[#\?]/g,$g=/[#\?@]/g,Xg=/#/g;function Jg(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Zg(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ev(e,t){Zg(e),t=rv(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function tv(e,t){return Zg(e),t=rv(e,t),e.g.has(t)}function nv(e,t,n){ev(e,t),0<n.length&&(e.i=null,e.g.set(rv(e,t),Mp(n)),e.h+=n.length)}function rv(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(bp=Jg.prototype).add=function(e,t){Zg(this),this.i=null,e=rv(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},bp.forEach=function(e,t){Zg(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},bp.ta=function(){Zg(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},bp.Z=function(e){Zg(this);let t=[];if("string"===typeof e)tv(this,e)&&(t=t.concat(this.g.get(rv(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},bp.set=function(e,t){return Zg(this),this.i=null,tv(this,e=rv(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},bp.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},bp.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var iv=class{constructor(e,t){this.g=e,this.map=t}};function ov(e){this.l=e||sv,xp.PerformanceNavigationTiming?e=0<(e=xp.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(xp.g&&xp.g.Ka&&xp.g.Ka()&&xp.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var sv=10;function av(e){return!!e.h||!!e.g&&e.g.size>=e.j}function lv(e){return e.h?1:e.g?e.g.size:0}function cv(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function uv(e,t){e.g?e.g.add(t):e.h=t}function dv(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function hv(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Mp(e.i)}ov.prototype.cancel=function(){if(this.i=hv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var fv,pv=class{stringify(e){return xp.JSON.stringify(e,void 0)}parse(e){return xp.JSON.parse(e,void 0)}};function mv(){this.g=new pv}function gv(e,t,n){const r=n||"";try{Lg(e,(function(e,n){let i=e;Ep(e)&&(i=Nm(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function vv(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function yv(e){this.l=e.ec||null,this.j=e.ob||!1}function wv(e,t){Am.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=bv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Op(yv,dg),yv.prototype.g=function(){return new wv(this.l,this.j)},yv.prototype.i=(fv={},function(){return fv}),Op(wv,Am);var bv=0;function _v(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Sv(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Iv(e)}function Iv(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(bp=wv.prototype).open=function(e,t){if(this.readyState!=bv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Iv(this)},bp.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||xp).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},bp.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sv(this)),this.readyState=bv},bp.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Iv(this)),this.g&&(this.readyState=3,Iv(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof xp.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_v(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},bp.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Sv(this):Iv(this),3==this.readyState&&_v(this)}},bp.Za=function(e){this.g&&(this.response=this.responseText=e,Sv(this))},bp.Ya=function(e){this.g&&(this.response=e,Sv(this))},bp.ka=function(){this.g&&Sv(this)},bp.setRequestHeader=function(e,t){this.v.append(e,t)},bp.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},bp.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(wv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var xv=xp.JSON.parse;function kv(e){Am.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ev,this.L=this.M=!1}Op(kv,Am);var Ev="",Tv=/^https?$/i,Cv=["POST","PUT"];function Av(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Rv(e),Nv(e)}function Rv(e){e.F||(e.F=!0,Rm(e,"complete"),Rm(e,"error"))}function Pv(e){if(e.h&&"undefined"!=typeof Ip&&(!e.C[1]||4!=Dv(e)||2!=e.da()))if(e.v&&4==Dv(e))Hm(e.La,0,e);else if(Rm(e,"readystatechange"),4==Dv(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(Mg)[1]||null;!i&&xp.self&&xp.self.location&&(i=xp.self.location.protocol.slice(0,-1)),r=!Tv.test(i?i.toLowerCase():"")}n=r}if(n)Rm(e,"complete"),Rm(e,"success");else{e.m=6;try{var o=2<Dv(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",Rv(e)}}finally{Nv(e)}}}function Nv(e,t){if(e.g){Ov(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Rm(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Ov(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(xp.clearTimeout(e.A),e.A=null)}function Dv(e){return e.g?e.g.readyState:0}function Lv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Ev:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(By){return null}}function Mv(e){let t="";return um(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Fv(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Mv(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Bg(e,t,n))}function jv(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Uv(e){this.Ga=0,this.j=[],this.l=new Jm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=jv("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=jv("baseRetryDelayMs",5e3,e),this.hb=jv("retryDelaySeedMs",1e4,e),this.eb=jv("forwardChannelMaxRetries",2,e),this.xa=jv("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new ov(e&&e.concurrentRequestLimit),this.Ja=new mv,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function zv(e){if(Bv(e),3==e.H){var t=e.W++,n=jg(e.I);if(Bg(n,"SID",e.K),Bg(n,"RID",t),Bg(n,"TYPE","terminate"),Hv(e,n),(t=new wg(e,e.l,t)).L=2,t.A=qg(jg(n)),n=!1,xp.navigator&&xp.navigator.sendBeacon)try{n=xp.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&xp.Image&&((new Image).src=t.A,n=!0),n||(t.g=ry(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Ag(t)}ty(e)}function Vv(e){e.g&&(Yv(e),e.g.cancel(),e.g=null)}function Bv(e){Vv(e),e.u&&(xp.clearTimeout(e.u),e.u=null),Xv(e),e.i.cancel(),e.m&&("number"===typeof e.m&&xp.clearTimeout(e.m),e.m=null)}function qv(e){if(!av(e.i)&&!e.m){e.m=!0;var t=e.Na;jm||Vm(),Um||(jm(),Um=!0),zm.add(t,e),e.C=0}}function Wv(e,t){var n;n=t?t.m:e.W++;const r=jg(e.I);Bg(r,"SID",e.K),Bg(r,"RID",n),Bg(r,"AID",e.V),Hv(e,r),e.o&&e.s&&Fv(r,e.o,e.s),n=new wg(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Kv(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),uv(e.i,n),xg(n,r,t)}function Hv(e,t){e.na&&um(e.na,(function(e,n){Bg(t,n,e)})),e.h&&Lg({},(function(e,n){Bg(t,n,e)}))}function Kv(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Pp(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{gv(a,e,"req"+n+"_")}catch(ob){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Gv(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;jm||Vm(),Um||(jm(),Um=!0),zm.add(t,e),e.A=0}}function Qv(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=lg(Pp(e.Ma,e),Zv(e,e.A)),e.A++,!0)}function Yv(e){null!=e.B&&(xp.clearTimeout(e.B),e.B=null)}function $v(e){e.g=new wg(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=jg(e.wa);Bg(t,"RID","rpc"),Bg(t,"SID",e.K),Bg(t,"AID",e.V),Bg(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Bg(t,"TO",e.qa),Bg(t,"TYPE","xmlhttp"),Hv(e,t),e.o&&e.s&&Fv(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=qg(jg(t)),n.u=null,n.S=!0,kg(n,e)}function Xv(e){null!=e.v&&(xp.clearTimeout(e.v),e.v=null)}function Jv(e,t){var n=null;if(e.g==t){Xv(e),Yv(e),e.g=null;var r=2}else{if(!cv(e.i,t))return;n=t.F,dv(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;Rm(r=ng(),new ag(r,n)),qv(e)}else Gv(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(lv(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=lg(Pp(e.Na,e,t),Zv(e,e.C)),e.C++,!0))}(e,t)||2==r&&Qv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ey(e,5);break;case 4:ey(e,10);break;case 3:ey(e,6);break;default:ey(e,2)}}function Zv(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ey(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Pp(e.pb,e);n||(n=new Fg("//www.google.com/images/cleardot.gif"),xp.location&&"http"==xp.location.protocol||Ug(n,"https"),qg(n)),function(e,t){const n=new Jm;if(xp.Image){const r=new Image;r.onload=Np(vv,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Np(vv,n,r,"TestLoadImage: error",!1,t),r.onabort=Np(vv,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Np(vv,n,r,"TestLoadImage: timeout",!1,t),xp.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else sg(2);e.H=0,e.h&&e.h.za(t),ty(e),Bv(e)}function ty(e){if(e.H=0,e.ma=[],e.h){const t=hv(e.i);0==t.length&&0==e.j.length||(Fp(e.ma,t),Fp(e.ma,e.j),e.i.i.length=0,Mp(e.j),e.j.length=0),e.h.ya()}}function ny(e,t,n){var r=n instanceof Fg?jg(n):new Fg(n);if(""!=r.g)t&&(r.g=t+"."+r.g),zg(r,r.m);else{var i=xp.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Fg(null);r&&Ug(o,r),t&&(o.g=t),i&&zg(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&Bg(r,n,t),Bg(r,"VER",e.ra),Hv(e,r),r}function ry(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new kv(new yv({ob:n})):new kv(e.va)).Oa(e.J),t}function iy(){}function oy(){if(Gp&&!(10<=Number(rm)))throw Error("Environmental error: no available transport.")}function sy(e,t){Am.call(this),this.g=new Uv(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!zp(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!zp(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new cy(this)}function ay(e){gg.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ly(){vg.call(this),this.status=1}function cy(e){this.g=e}function uy(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function dy(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function hy(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(bp=kv.prototype).Oa=function(e){this.M=e},bp.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():pg.g(),this.C=this.u?hg(this.u):hg(pg),this.g.onreadystatechange=Pp(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void Av(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=xp.FormData&&e instanceof xp.FormData,!(0<=Lp(Cv,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ov(this),0<this.B&&((this.L=function(e){return Gp&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pp(this.ua,this)):this.A=Hm(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Av(this,o)}},bp.ua=function(){"undefined"!=typeof Ip&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rm(this,"timeout"),this.abort(8))},bp.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Rm(this,"complete"),Rm(this,"abort"),Nv(this))},bp.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nv(this,!0)),kv.$.N.call(this)},bp.La=function(){this.s||(this.G||this.v||this.l?Pv(this):this.kb())},bp.kb=function(){Pv(this)},bp.isActive=function(){return!!this.g},bp.da=function(){try{return 2<Dv(this)?this.g.status:-1}catch(fv){return-1}},bp.ja=function(){try{return this.g?this.g.responseText:""}catch(fv){return""}},bp.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),xv(t)}},bp.Ia=function(){return this.m},bp.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(bp=Uv.prototype).ra=8,bp.H=1,bp.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new wg(this,this.l,e);let o=this.s;if(this.U&&(o?(o=dm(o),fm(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Kv(this,i,t),Bg(n=jg(this.I),"RID",e),Bg(n,"CVER",22),this.F&&Bg(n,"X-HTTP-Session-Id",this.F),Hv(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Mv(o)))+"&"+t:this.o&&Fv(n,this.o,o)),uv(this.i,i),this.bb&&Bg(n,"TYPE","init"),this.P?(Bg(n,"$req",t),Bg(n,"SID","null"),i.aa=!0,xg(i,n,null)):xg(i,n,t),this.H=2}}else 3==this.H&&(e?Wv(this,e):0==this.j.length||av(this.i)||Wv(this))},bp.Ma=function(){if(this.u=null,$v(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=lg(Pp(this.jb,this),e)}},bp.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,sg(10),Vv(this),$v(this))},bp.ib=function(){null!=this.v&&(this.v=null,Vv(this),Qv(this),sg(19))},bp.pb=function(e){e?(this.l.info("Successfully pinged google.com"),sg(2)):(this.l.info("Failed to ping google.com"),sg(1))},bp.isActive=function(){return!!this.h&&this.h.isActive(this)},(bp=iy.prototype).Ba=function(){},bp.Aa=function(){},bp.za=function(){},bp.ya=function(){},bp.isActive=function(){return!0},bp.Va=function(){},oy.prototype.g=function(e,t){return new sy(e,t)},Op(sy,Am),sy.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;sg(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=ny(e,null,e.Y),qv(e)},sy.prototype.close=function(){zv(this.g)},sy.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Nm(e),e=n);t.j.push(new iv(t.fb++,e)),3==t.H&&qv(t)},sy.prototype.N=function(){this.g.h=null,delete this.j,zv(this.g),delete this.g,sy.$.N.call(this)},Op(ay,gg),Op(ly,vg),Op(cy,iy),cy.prototype.Ba=function(){Rm(this.g,"a")},cy.prototype.Aa=function(e){Rm(this.g,new ay(e))},cy.prototype.za=function(e){Rm(this.g,new ly)},cy.prototype.ya=function(){Rm(this.g,"b")},Op(uy,(function(){this.blockSize=-1})),uy.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},uy.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)dy(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){dy(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){dy(this,r),i=0;break}}this.h=i,this.i+=t},uy.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var fy={};function py(e){return-128<=e&&128>e?function(e,t){var n=fy;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new hy([0|e],0>e?-1:0)})):new hy([0|e],0>e?-1:0)}function my(e){if(isNaN(e)||!isFinite(e))return vy;if(0>e)return Sy(my(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=gy;return new hy(t,0)}var gy=4294967296,vy=py(0),yy=py(1),wy=py(16777216);function by(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function _y(e){return-1==e.h}function Sy(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new hy(n,~e.h).add(yy)}function Iy(e,t){return e.add(Sy(t))}function xy(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function ky(e,t){this.g=e,this.h=t}function Ey(e,t){if(by(t))throw Error("division by zero");if(by(e))return new ky(vy,vy);if(_y(e))return t=Ey(Sy(e),t),new ky(Sy(t.g),Sy(t.h));if(_y(t))return t=Ey(e,Sy(t)),new ky(Sy(t.g),t.h);if(30<e.g.length){if(_y(e)||_y(t))throw Error("slowDivide_ only works with positive integers.");for(var n=yy,r=t;0>=r.X(e);)n=Ty(n),r=Ty(r);var i=Cy(n,1),o=Cy(r,1);for(r=Cy(r,2),n=Cy(n,2);!by(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=Cy(r,1),n=Cy(n,1)}return t=Iy(e,i.R(t)),new ky(i,t)}for(i=vy;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=my(n)).R(t);_y(s)||0<s.X(e);)s=(o=my(n-=r)).R(t);by(o)&&(o=yy),i=i.add(o),e=Iy(e,s)}return new ky(i,e)}function Ty(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new hy(n,e.h)}function Cy(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new hy(i,e.h)}(bp=hy.prototype).ea=function(){if(_y(this))return-Sy(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:gy+r)*t,t*=gy}return e},bp.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(by(this))return"0";if(_y(this))return"-"+Sy(this).toString(e);for(var t=my(Math.pow(e,6)),n=this,r="";;){var i=Ey(n,t).g,o=((0<(n=Iy(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(by(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},bp.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},bp.X=function(e){return _y(e=Iy(this,e))?-1:by(e)?0:1},bp.abs=function(){return _y(this)?Sy(this):this},bp.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new hy(n,-2147483648&n[n.length-1]?-1:0)},bp.R=function(e){if(by(this)||by(e))return vy;if(_y(this))return _y(e)?Sy(this).R(Sy(e)):Sy(Sy(this).R(e));if(_y(e))return Sy(this.R(Sy(e)));if(0>this.X(wy)&&0>e.X(wy))return my(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,xy(n,2*r+2*i),n[2*r+2*i+1]+=o*l,xy(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,xy(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,xy(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new hy(n,0)},bp.gb=function(e){return Ey(this,e).h},bp.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new hy(n,this.h&e.h)},bp.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new hy(n,this.h|e.h)},bp.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new hy(n,this.h^e.h)},oy.prototype.createWebChannel=oy.prototype.g,sy.prototype.send=sy.prototype.u,sy.prototype.open=sy.prototype.m,sy.prototype.close=sy.prototype.close,cg.NO_ERROR=0,cg.TIMEOUT=8,cg.HTTP_ERROR=6,ug.COMPLETE="complete",fg.EventType=mg,mg.OPEN="a",mg.CLOSE="b",mg.ERROR="c",mg.MESSAGE="d",Am.prototype.listen=Am.prototype.O,kv.prototype.listenOnce=kv.prototype.P,kv.prototype.getLastError=kv.prototype.Sa,kv.prototype.getLastErrorCode=kv.prototype.Ia,kv.prototype.getStatus=kv.prototype.da,kv.prototype.getResponseJson=kv.prototype.Wa,kv.prototype.getResponseText=kv.prototype.ja,kv.prototype.send=kv.prototype.ha,kv.prototype.setWithCredentials=kv.prototype.Oa,uy.prototype.digest=uy.prototype.l,uy.prototype.reset=uy.prototype.reset,uy.prototype.update=uy.prototype.j,hy.prototype.add=hy.prototype.add,hy.prototype.multiply=hy.prototype.R,hy.prototype.modulo=hy.prototype.gb,hy.prototype.compare=hy.prototype.X,hy.prototype.toNumber=hy.prototype.ea,hy.prototype.toString=hy.prototype.toString,hy.prototype.getBits=hy.prototype.D,hy.fromNumber=my,hy.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Sy(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=my(Math.pow(n,8)),i=vy,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=my(Math.pow(n,s)),i=i.R(s).add(my(a))):i=(i=i.R(r)).add(my(a))}return i};var Ay=Sp.createWebChannelTransport=function(){return new oy},Ry=Sp.getStatEventTarget=function(){return ng()},Py=Sp.ErrorCode=cg,Ny=Sp.EventType=ug,Oy=Sp.Event=eg,Dy=Sp.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ly=Sp.FetchXmlHttpFactory=yv,My=Sp.WebChannel=fg,Fy=Sp.XhrIo=kv,jy=Sp.Md5=uy,Uy=Sp.Integer=hy;const zy="@firebase/firestore";class Vy{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vy.UNAUTHENTICATED=new Vy(null),Vy.GOOGLE_CREDENTIALS=new Vy("google-credentials-uid"),Vy.FIRST_PARTY=new Vy("first-party-uid"),Vy.MOCK_USER=new Vy("mock-user");let By="10.11.1";const qy=new pr("@firebase/firestore");function Wy(){return qy.logLevel}function Hy(e){if(qy.logLevel<=cr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Qy);qy.debug("Firestore (".concat(By,"): ").concat(e),...i)}}function Ky(e){if(qy.logLevel<=cr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Qy);qy.error("Firestore (".concat(By,"): ").concat(e),...i)}}function Gy(e){if(qy.logLevel<=cr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Qy);qy.warn("Firestore (".concat(By,"): ").concat(e),...i)}}function Qy(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Yy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(By,") INTERNAL ASSERTION FAILED: ")+e;throw Ky(t),new Error(t)}function $y(e,t){e||Yy()}function Xy(e,t){return e}const Jy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Zy extends jn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class ew{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class tw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class nw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Vy.UNAUTHENTICATED)))}shutdown(){}}class rw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class iw{constructor(e){this.t=e,this.currentUser=Vy.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new ew;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ew,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Hy("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Hy("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ew)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Hy("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?($y("string"==typeof t.accessToken),new tw(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $y(null===e||"string"==typeof e),new Vy(e)}}class ow{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Vy.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class sw{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new ow(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Vy.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class aw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lw{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Hy("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Hy("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Hy("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Hy("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?($y("string"==typeof e.token),this.R=e.token,new aw(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function cw(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class uw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=cw(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function dw(e,t){return e<t?-1:e>t?1:0}function hw(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function fw(e){return e+"\0"}class pw{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Zy(Jy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Zy(Jy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Zy(Jy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Zy(Jy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pw.fromMillis(Date.now())}static fromDate(e){return pw.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new pw(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?dw(this.nanoseconds,e.nanoseconds):dw(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class mw{constructor(e){this.timestamp=e}static fromTimestamp(e){return new mw(e)}static min(){return new mw(new pw(0,0))}static max(){return new mw(new pw(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class gw{constructor(e,t,n){void 0===t?t=0:t>e.length&&Yy(),void 0===n?n=e.length-t:n>e.length-t&&Yy(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===gw.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gw?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class vw extends gw{construct(e,t,n){return new vw(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Zy(Jy.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new vw(e)}static emptyPath(){return new vw([])}}const yw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ww extends gw{construct(e,t,n){return new ww(e,t,n)}static isValidIdentifier(e){return yw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ww.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ww(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Zy(Jy.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Zy(Jy.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Zy(Jy.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Zy(Jy.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ww(t)}static emptyPath(){return new ww([])}}class bw{constructor(e){this.path=e}static fromPath(e){return new bw(vw.fromString(e))}static fromName(e){return new bw(vw.fromString(e).popFirst(5))}static empty(){return new bw(vw.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===vw.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return vw.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new bw(new vw(e.slice()))}}class _w{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Sw(e){return e.fields.find((e=>2===e.kind))}function Iw(e){return e.fields.filter((e=>2!==e.kind))}_w.UNKNOWN_ID=-1;class xw{constructor(e,t){this.fieldPath=e,this.kind=t}}class kw{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new kw(0,Cw.min())}}function Ew(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=mw.fromTimestamp(1e9===r?new pw(n+1,0):new pw(n,r));return new Cw(i,bw.empty(),t)}function Tw(e){return new Cw(e.readTime,e.key,-1)}class Cw{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Cw(mw.min(),bw.empty(),-1)}static max(){return new Cw(mw.max(),bw.empty(),-1)}}function Aw(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=bw.comparator(e.documentKey,t.documentKey),0!==n?n:dw(e.largestBatchId,t.largestBatchId))}const Rw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Pw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Nw(e){if(e.code!==Jy.FAILED_PRECONDITION||e.message!==Rw)throw e;Hy("LocalStore","Unexpectedly lost primary lease")}class Ow{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Yy(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ow(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ow?t:Ow.resolve(t)}catch(e){return Ow.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ow.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ow.reject(t)}static resolve(e){return new Ow(((t,n)=>{t(e)}))}static reject(e){return new Ow(((t,n)=>{n(e)}))}static waitFor(e){return new Ow(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Ow.resolve(!1);for(const n of e)t=t.next((e=>e?Ow.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Ow(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Ow(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Dw{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new ew,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new jw(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=qw(t.target.error);this.V.reject(new jw(e,n))}}static open(e,t,n,r){try{return new Dw(t,e.transaction(r,n))}catch(e){throw new jw(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Hy("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new zw(t)}}class Lw{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===Lw.S(Cn())&&Ky("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Hy("SimpleDb","Removing database:",e),Vw(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Mn())return!1;if(Lw.C())return!0;const e=Cn(),t=Lw.S(e),n=0<t&&t<10,r=Mw(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(Hy("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new jw(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Zy(Jy.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Zy(Jy.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new jw(e,r))},r.onupgradeneeded=e=>{Hy("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.O(t,r.transaction,e.oldVersion,this.version).next((()=>{Hy("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.N&&(this.db.onversionchange=e=>this.N(e)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.M(e);const t=Dw.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),Ow.reject(e)))).toPromise();return o.catch((()=>{})),await t.m,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(Hy("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Mw(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Fw{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Vw(this.B.delete())}}class jw extends Zy{constructor(e,t){super(Jy.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Uw(e){return"IndexedDbTransactionError"===e.name}class zw{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Hy("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Hy("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Vw(n)}add(e){return Hy("SimpleDb","ADD",this.store.name,e,e),Vw(this.store.add(e))}get(e){return Vw(this.store.get(e)).next((t=>(void 0===t&&(t=null),Hy("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Hy("SimpleDb","DELETE",this.store.name,e),Vw(this.store.delete(e))}count(){return Hy("SimpleDb","COUNT",this.store.name),Vw(this.store.count())}U(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new Ow(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}}G(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Ow(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}j(e,t){Hy("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.H=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}J(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Y(e){const t=this.cursor({});return new Ow(((n,r)=>{t.onerror=e=>{const t=qw(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new Ow(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new Fw(i),s=t(i.primaryKey,i.value,o);if(s instanceof Ow){const e=s.catch((e=>(o.done(),Ow.reject(e))));n.push(e)}o.isDone?r():null===o.K?i.continue():i.continue(o.K)}})).next((()=>Ow.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Vw(e){return new Ow(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=qw(e.target.error);n(t)}}))}let Bw=!1;function qw(e){const t=Lw.S(Cn());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Zy("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Bw||(Bw=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Ww{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){Hy("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Hy("IndexBackfiller","Documents written: ".concat(await this.Z.ee()))}catch(e){Uw(e)?Hy("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await Nw(e)}await this.X(6e4)}))}}class Hw{constructor(e,t){this.localStore=e,this.persistence=t}async ee(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.te(t,e)))}te(e,t){const n=new Set;let r=t,i=!0;return Ow.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Hy("IndexBackfiller","Processing collection: ".concat(t)),this.ne(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}ne(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.re(r,n))).next((n=>(Hy("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}re(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Tw(t);Aw(r,n)>0&&(n=r)})),new Cw(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Kw{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Gw(e){return null==e}function Qw(e){return 0===e&&1/e==-1/0}function Yw(e){return"number"==typeof e&&Number.isInteger(e)&&!Qw(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function $w(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Jw(t)),t=Xw(e.get(n),t);return Jw(t)}function Xw(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Jw(e){return e+"\x01\x01"}function Zw(e){const t=e.length;if($y(t>=2),2===t)return $y("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),vw.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&Yy(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:Yy()}o=t+2}return new vw(r)}Kw.oe=-1;const eb=["userId","batchId"];function tb(e,t){return[e,$w(t)]}function nb(e,t,n){return[e,$w(t),n]}const rb={},ib=["prefixPath","collectionGroup","readTime","documentId"],ob=["prefixPath","collectionGroup","documentId"],sb=["collectionGroup","readTime","prefixPath","documentId"],ab=["canonicalId","targetId"],lb=["targetId","path"],cb=["path","targetId"],ub=["collectionId","parent"],db=["indexId","uid"],hb=["uid","sequenceNumber"],fb=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],pb=["indexId","uid","orderedDocumentKey"],mb=["userId","collectionPath","documentId"],gb=["userId","collectionPath","largestBatchId"],vb=["userId","collectionGroup","largestBatchId"],yb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],wb=[...yb,"documentOverlays"],bb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],_b=bb,Sb=[..._b,"indexConfiguration","indexState","indexEntries"],Ib=Sb;class xb extends Pw{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function kb(e,t){const n=Xy(e);return Lw.F(n._e,t)}function Eb(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Tb(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Cb(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ab{constructor(e,t){this.comparator=e,this.root=t||Pb.EMPTY}insert(e,t){return new Ab(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pb.BLACK,null,null))}remove(e){return new Ab(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pb.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rb(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rb(this.root,e,this.comparator,!0)}}class Rb{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pb{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Pb.RED,this.left=null!=r?r:Pb.EMPTY,this.right=null!=i?i:Pb.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Pb(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Pb.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Pb.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pb.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pb.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Yy();if(this.right.isRed())throw Yy();const e=this.left.check();if(e!==this.right.check())throw Yy();return e+(this.isRed()?0:1)}}Pb.EMPTY=null,Pb.RED=!0,Pb.BLACK=!1,Pb.EMPTY=new class{constructor(){this.size=0}get key(){throw Yy()}get value(){throw Yy()}get color(){throw Yy()}get left(){throw Yy()}get right(){throw Yy()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Pb(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Nb{constructor(e){this.comparator=e,this.data=new Ab(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ob(this.data.getIterator())}getIteratorFrom(e){return new Ob(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Nb))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Nb(this.comparator);return t.data=e,t}}class Ob{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Db(e){return e.hasNext()?e.getNext():void 0}class Lb{constructor(e){this.fields=e,e.sort(ww.comparator)}static empty(){return new Lb([])}unionWith(e){let t=new Nb(ww.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Lb(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return hw(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Mb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fb{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Mb("Invalid base64 string: "+e):e}}(e);return new Fb(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Fb(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dw(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fb.EMPTY_BYTE_STRING=new Fb("");const jb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ub(e){if($y(!!e),"string"==typeof e){let t=0;const n=jb.exec(e);if($y(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:zb(e.seconds),nanos:zb(e.nanos)}}function zb(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Vb(e){return"string"==typeof e?Fb.fromBase64String(e):Fb.fromUint8Array(e)}function Bb(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function qb(e){const t=e.mapValue.fields.__previous_value__;return Bb(t)?qb(t):t}function Wb(e){const t=Ub(e.mapValue.fields.__local_write_time__.timestampValue);return new pw(t.seconds,t.nanos)}class Hb{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class Kb{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Kb("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Kb&&e.projectId===this.projectId&&e.database===this.database}}const Gb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Qb={nullValue:"NULL_VALUE"};function Yb(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Bb(e)?4:c_(e)?9007199254740991:10:Yy()}function $b(e,t){if(e===t)return!0;const n=Yb(e);if(n!==Yb(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Wb(e).isEqual(Wb(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ub(e.timestampValue),r=Ub(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Vb(e.bytesValue).isEqual(Vb(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return zb(e.geoPointValue.latitude)===zb(t.geoPointValue.latitude)&&zb(e.geoPointValue.longitude)===zb(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return zb(e.integerValue)===zb(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=zb(e.doubleValue),r=zb(t.doubleValue);return n===r?Qw(n)===Qw(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return hw(e.arrayValue.values||[],t.arrayValue.values||[],$b);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Eb(n)!==Eb(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!$b(n[i],r[i])))return!1;return!0}(e,t);default:return Yy()}}function Xb(e,t){return void 0!==(e.values||[]).find((e=>$b(e,t)))}function Jb(e,t){if(e===t)return 0;const n=Yb(e),r=Yb(t);if(n!==r)return dw(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return dw(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=zb(e.integerValue||e.doubleValue),r=zb(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Zb(e.timestampValue,t.timestampValue);case 4:return Zb(Wb(e),Wb(t));case 5:return dw(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Vb(e),r=Vb(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=dw(n[i],r[i]);if(0!==e)return e}return dw(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=dw(zb(e.latitude),zb(t.latitude));return 0!==n?n:dw(zb(e.longitude),zb(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Jb(n[i],r[i]);if(e)return e}return dw(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Gb.mapValue&&t===Gb.mapValue)return 0;if(e===Gb.mapValue)return 1;if(t===Gb.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=dw(r[s],o[s]);if(0!==e)return e;const t=Jb(n[r[s]],i[o[s]]);if(0!==t)return t}return dw(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Yy()}}function Zb(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return dw(e,t);const n=Ub(e),r=Ub(t),i=dw(n.seconds,r.seconds);return 0!==i?i:dw(n.nanos,r.nanos)}function e_(e){return t_(e)}function t_(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ub(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Vb(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return bw.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=t_(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(t_(e.fields[i]));return n+"}"}(e.mapValue):Yy()}function n_(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function r_(e){return!!e&&"integerValue"in e}function i_(e){return!!e&&"arrayValue"in e}function o_(e){return!!e&&"nullValue"in e}function s_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function a_(e){return!!e&&"mapValue"in e}function l_(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Tb(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=l_(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=l_(e.arrayValue.values[n]);return t}return Object.assign({},e)}function c_(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function u_(e){return"nullValue"in e?Qb:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?n_(Kb.empty(),bw.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Yy()}function d_(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?n_(Kb.empty(),bw.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Gb:Yy()}function h_(e,t){const n=Jb(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function f_(e,t){const n=Jb(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class p_{constructor(e){this.value=e}static empty(){return new p_({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!a_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=l_(t)}setAll(e){let t=ww.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=l_(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());a_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $b(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];a_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Tb(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new p_(l_(this.value))}}function m_(e){const t=[];return Tb(e.fields,((e,n)=>{const r=new ww([e]);if(a_(n)){const e=m_(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Lb(t)}class g_{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new g_(e,0,mw.min(),mw.min(),mw.min(),p_.empty(),0)}static newFoundDocument(e,t,n,r){return new g_(e,1,t,mw.min(),n,r,0)}static newNoDocument(e,t){return new g_(e,2,t,mw.min(),mw.min(),p_.empty(),0)}static newUnknownDocument(e,t){return new g_(e,3,t,mw.min(),mw.min(),p_.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(mw.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=p_.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=p_.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mw.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof g_&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new g_(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class v_{constructor(e,t){this.position=e,this.inclusive=t}}function y_(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?bw.comparator(bw.fromName(s.referenceValue),n.key):Jb(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function w_(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!$b(e.position[n],t.position[n]))return!1;return!0}class b_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function __(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class S_{}class I_ extends S_{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new O_(e,t,n):"array-contains"===t?new F_(e,n):"in"===t?new j_(e,n):"not-in"===t?new U_(e,n):"array-contains-any"===t?new z_(e,n):new I_(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new D_(e,n):new L_(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Jb(t,this.value)):null!==t&&Yb(this.value)===Yb(t)&&this.matchesComparison(Jb(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Yy()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class x_ extends S_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new x_(e,t)}matches(e){return k_(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function k_(e){return"and"===e.op}function E_(e){return"or"===e.op}function T_(e){return C_(e)&&k_(e)}function C_(e){for(const t of e.filters)if(t instanceof x_)return!1;return!0}function A_(e){if(e instanceof I_)return e.field.canonicalString()+e.op.toString()+e_(e.value);if(T_(e))return e.filters.map((e=>A_(e))).join(",");{const t=e.filters.map((e=>A_(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function R_(e,t){return e instanceof I_?function(e,t){return t instanceof I_&&e.op===t.op&&e.field.isEqual(t.field)&&$b(e.value,t.value)}(e,t):e instanceof x_?function(e,t){return t instanceof x_&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&R_(n,t.filters[r])),!0)}(e,t):void Yy()}function P_(e,t){const n=e.filters.concat(t);return x_.create(n,e.op)}function N_(e){return e instanceof I_?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(e_(e.value))}(e):e instanceof x_?function(e){return e.op.toString()+" {"+e.getFilters().map(N_).join(" ,")+"}"}(e):"Filter"}class O_ extends I_{constructor(e,t,n){super(e,t,n),this.key=bw.fromName(n.referenceValue)}matches(e){const t=bw.comparator(e.key,this.key);return this.matchesComparison(t)}}class D_ extends I_{constructor(e,t){super(e,"in",t),this.keys=M_("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class L_ extends I_{constructor(e,t){super(e,"not-in",t),this.keys=M_("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function M_(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>bw.fromName(e.referenceValue)))}class F_ extends I_{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return i_(t)&&Xb(t.arrayValue,this.value)}}class j_ extends I_{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Xb(this.value.arrayValue,t)}}class U_ extends I_{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Xb(this.value.arrayValue,t)}}class z_ extends I_{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!i_(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Xb(this.value.arrayValue,e)))}}class V_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ue=null}}function B_(e){return new V_(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function q_(e){const t=Xy(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>A_(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Gw(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>e_(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>e_(e))).join(",")),t.ue=e}return t.ue}function W_(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!__(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!R_(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!w_(e.startAt,t.startAt)&&w_(e.endAt,t.endAt)}function H_(e){return bw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function K_(e,t){return e.filters.filter((e=>e instanceof I_&&e.field.isEqual(t)))}function G_(e,t,n){let r=Qb,i=!0;for(const o of K_(e,t)){let e=Qb,t=!0;switch(o.op){case"<":case"<=":e=u_(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=Qb}h_({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];h_({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Q_(e,t,n){let r=Gb,i=!0;for(const o of K_(e,t)){let e=Gb,t=!0;switch(o.op){case">=":case">":e=d_(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=Gb}f_({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];f_({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Y_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function $_(e,t,n,r,i,o,s,a){return new Y_(e,t,n,r,i,o,s,a)}function X_(e){return new Y_(e)}function J_(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Z_(e){return null!==e.collectionGroup}function eS(e){const t=Xy(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Nb(ww.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new b_(r,n))})),e.has(ww.keyField().canonicalString())||t.ce.push(new b_(ww.keyField(),n))}return t.ce}function tS(e){const t=Xy(e);return t.le||(t.le=nS(t,eS(e))),t.le}function nS(e,t){if("F"===e.limitType)return B_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new b_(e.field,t)}));const n=e.endAt?new v_(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new v_(e.startAt.position,e.startAt.inclusive):null;return B_(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function rS(e,t){const n=e.filters.concat([t]);return new Y_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function iS(e,t,n){return new Y_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function oS(e,t){return W_(tS(e),tS(t))&&e.limitType===t.limitType}function sS(e){return"".concat(q_(tS(e)),"|lt:").concat(e.limitType)}function aS(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>N_(e))).join(", "),"]")),Gw(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>e_(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>e_(e))).join(",")),"Target(".concat(t,")")}(tS(e)),"; limitType=").concat(e.limitType,")")}function lS(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):bw.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of eS(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=y_(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,eS(e),t))&&!(e.endAt&&!function(e,t,n){const r=y_(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,eS(e),t))}(e,t)}function cS(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function uS(e){return(t,n)=>{let r=!1;for(const i of eS(e)){const e=dS(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function dS(e,t,n){const r=e.field.isKeyField()?bw.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Jb(r,i):Yy()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Yy()}}class hS{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Tb(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Cb(this.inner)}size(){return this.innerSize}}const fS=new Ab(bw.comparator);function pS(){return fS}const mS=new Ab(bw.comparator);function gS(){let e=mS;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function vS(e){let t=mS;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function yS(){return bS()}function wS(){return bS()}function bS(){return new hS((e=>e.toString()),((e,t)=>e.isEqual(t)))}const _S=new Ab(bw.comparator),SS=new Nb(bw.comparator);function IS(){let e=SS;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const xS=new Nb(dw);function kS(){return xS}function ES(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qw(t)?"-0":t}}function TS(e){return{integerValue:""+e}}function CS(e,t){return Yw(t)?TS(t):ES(e,t)}class AS{constructor(){this._=void 0}}function RS(e,t,n){return e instanceof OS?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Bb(t)&&(t=qb(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof DS?LS(e,t):e instanceof MS?FS(e,t):function(e,t){const n=NS(e,t),r=US(n)+US(e.Pe);return r_(n)&&r_(e.Pe)?TS(r):ES(e.serializer,r)}(e,t)}function PS(e,t,n){return e instanceof DS?LS(e,t):e instanceof MS?FS(e,t):n}function NS(e,t){return e instanceof jS?function(e){return r_(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class OS extends AS{}class DS extends AS{constructor(e){super(),this.elements=e}}function LS(e,t){const n=zS(t);for(const r of e.elements)n.some((e=>$b(e,r)))||n.push(r);return{arrayValue:{values:n}}}class MS extends AS{constructor(e){super(),this.elements=e}}function FS(e,t){let n=zS(t);for(const r of e.elements)n=n.filter((e=>!$b(e,r)));return{arrayValue:{values:n}}}class jS extends AS{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function US(e){return zb(e.integerValue||e.doubleValue)}function zS(e){return i_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class VS{constructor(e,t){this.field=e,this.transform=t}}class BS{constructor(e,t){this.version=e,this.transformResults=t}}class qS{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new qS}static exists(e){return new qS(void 0,e)}static updateTime(e){return new qS(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function WS(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class HS{}function KS(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new nI(e.key,qS.none()):new XS(e.key,e.data,qS.none());{const n=e.data,r=p_.empty();let i=new Nb(ww.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new JS(e.key,r,new Lb(i.toArray()),qS.none())}}function GS(e,t,n){e instanceof XS?function(e,t,n){const r=e.value.clone(),i=eI(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof JS?function(e,t,n){if(!WS(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=eI(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ZS(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function QS(e,t,n,r){return e instanceof XS?function(e,t,n,r){if(!WS(e.precondition,t))return n;const i=e.value.clone(),o=tI(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof JS?function(e,t,n,r){if(!WS(e.precondition,t))return n;const i=tI(e.fieldTransforms,r,t),o=t.data;return o.setAll(ZS(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return WS(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function YS(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=NS(r.transform,e||null);null!=i&&(null===n&&(n=p_.empty()),n.set(r.field,i))}return n||null}function $S(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&hw(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof DS&&t instanceof DS||e instanceof MS&&t instanceof MS?hw(e.elements,t.elements,$b):e instanceof jS&&t instanceof jS?$b(e.Pe,t.Pe):e instanceof OS&&t instanceof OS}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class XS extends HS{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class JS extends HS{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ZS(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function eI(e,t,n){const r=new Map;$y(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,PS(s,a,n[i]))}return r}function tI(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,RS(e,o,t))}return r}class nI extends HS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rI extends HS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class iI{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&GS(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=QS(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=QS(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=wS();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=KS(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(mw.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),IS())}isEqual(e){return this.batchId===e.batchId&&hw(this.mutations,e.mutations,((e,t)=>$S(e,t)))&&hw(this.baseMutations,e.baseMutations,((e,t)=>$S(e,t)))}}class oI{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){$y(e.mutations.length===n.length);let r=_S;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new oI(e,t,n,r)}}class sI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class aI{constructor(e,t){this.count=e,this.unchangedNames=t}}var lI,cI;function uI(e){switch(e){default:return Yy();case Jy.CANCELLED:case Jy.UNKNOWN:case Jy.DEADLINE_EXCEEDED:case Jy.RESOURCE_EXHAUSTED:case Jy.INTERNAL:case Jy.UNAVAILABLE:case Jy.UNAUTHENTICATED:return!1;case Jy.INVALID_ARGUMENT:case Jy.NOT_FOUND:case Jy.ALREADY_EXISTS:case Jy.PERMISSION_DENIED:case Jy.FAILED_PRECONDITION:case Jy.ABORTED:case Jy.OUT_OF_RANGE:case Jy.UNIMPLEMENTED:case Jy.DATA_LOSS:return!0}}function dI(e){if(void 0===e)return Ky("GRPC error has no .code"),Jy.UNKNOWN;switch(e){case lI.OK:return Jy.OK;case lI.CANCELLED:return Jy.CANCELLED;case lI.UNKNOWN:return Jy.UNKNOWN;case lI.DEADLINE_EXCEEDED:return Jy.DEADLINE_EXCEEDED;case lI.RESOURCE_EXHAUSTED:return Jy.RESOURCE_EXHAUSTED;case lI.INTERNAL:return Jy.INTERNAL;case lI.UNAVAILABLE:return Jy.UNAVAILABLE;case lI.UNAUTHENTICATED:return Jy.UNAUTHENTICATED;case lI.INVALID_ARGUMENT:return Jy.INVALID_ARGUMENT;case lI.NOT_FOUND:return Jy.NOT_FOUND;case lI.ALREADY_EXISTS:return Jy.ALREADY_EXISTS;case lI.PERMISSION_DENIED:return Jy.PERMISSION_DENIED;case lI.FAILED_PRECONDITION:return Jy.FAILED_PRECONDITION;case lI.ABORTED:return Jy.ABORTED;case lI.OUT_OF_RANGE:return Jy.OUT_OF_RANGE;case lI.UNIMPLEMENTED:return Jy.UNIMPLEMENTED;case lI.DATA_LOSS:return Jy.DATA_LOSS;default:return Yy()}}(cI=lI||(lI={}))[cI.OK=0]="OK",cI[cI.CANCELLED=1]="CANCELLED",cI[cI.UNKNOWN=2]="UNKNOWN",cI[cI.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cI[cI.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cI[cI.NOT_FOUND=5]="NOT_FOUND",cI[cI.ALREADY_EXISTS=6]="ALREADY_EXISTS",cI[cI.PERMISSION_DENIED=7]="PERMISSION_DENIED",cI[cI.UNAUTHENTICATED=16]="UNAUTHENTICATED",cI[cI.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cI[cI.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cI[cI.ABORTED=10]="ABORTED",cI[cI.OUT_OF_RANGE=11]="OUT_OF_RANGE",cI[cI.UNIMPLEMENTED=12]="UNIMPLEMENTED",cI[cI.INTERNAL=13]="INTERNAL",cI[cI.UNAVAILABLE=14]="UNAVAILABLE",cI[cI.DATA_LOSS=15]="DATA_LOSS";let hI=null;function fI(){return new TextEncoder}const pI=new Uy([4294967295,4294967295],0);function mI(e){const t=fI().encode(e),n=new jy;return n.update(t),new Uint8Array(n.digest())}function gI(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Uy([n,r],0),new Uy([i,o],0)]}class vI{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new yI("Invalid padding: ".concat(t));if(n<0)throw new yI("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new yI("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new yI("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=Uy.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(Uy.fromNumber(n)));return 1===r.compare(pI)&&(r=new Uy([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=mI(e),[n,r]=gI(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new vI(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Ie)return;const t=mI(e),[n,r]=gI(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class yI extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wI{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,bI.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new wI(mw.min(),r,new Ab(dw),pS(),IS())}}class bI{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new bI(n,t,IS(),IS(),IS())}}class _I{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class SI{constructor(e,t){this.targetId=e,this.me=t}}class II{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fb.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class xI{constructor(){this.fe=0,this.ge=TI(),this.pe=Fb.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=IS(),t=IS(),n=IS();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Yy()}})),new bI(this.pe,this.ye,e,t,n)}ve(){this.we=!1,this.ge=TI()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,$y(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class kI{constructor(e){this.Le=e,this.Be=new Map,this.ke=pS(),this.qe=EI(),this.Qe=new Ab(dw)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Yy()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(H_(i))if(0===n){const e=new bw(i.path);this.Ue(t,e,g_.newNoDocument(e,mw.min()))}else $y(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==hI||hI.et(function(e,t,n,r,i){var o,s,a,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(a=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=Vb(n).toUint8Array()}catch(e){if(e instanceof Mb)return Gy("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new vI(o,r,i)}catch(e){return Gy(e instanceof yI?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Ie?null:s}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&H_(i.target)){const t=new bw(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,g_.newNoDocument(t,e))}n.be&&(t.set(r,n.Ce()),n.ve())}}));let n=IS();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new wI(e,t,this.Qe,this.ke,n);return this.ke=pS(),this.qe=EI(),this.Qe=new Ab(dw),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new xI,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Nb(dw),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Hy("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new xI),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function EI(){return new Ab(bw.comparator)}function TI(){return new Ab(bw.comparator)}const CI={asc:"ASCENDING",desc:"DESCENDING"},AI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RI={and:"AND",or:"OR"};class PI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function NI(e,t){return e.useProto3Json||Gw(t)?t:{value:t}}function OI(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function DI(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function LI(e,t){return OI(e,t.toTimestamp())}function MI(e){return $y(!!e),mw.fromTimestamp(function(e){const t=Ub(e);return new pw(t.seconds,t.nanos)}(e))}function FI(e,t){return jI(e,t).canonicalString()}function jI(e,t){const n=function(e){return new vw(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function UI(e){const t=vw.fromString(e);return $y(ax(t)),t}function zI(e,t){return FI(e.databaseId,t.path)}function VI(e,t){const n=UI(t);if(n.get(1)!==e.databaseId.projectId)throw new Zy(Jy.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Zy(Jy.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new bw(HI(n))}function BI(e,t){return FI(e.databaseId,t)}function qI(e){const t=UI(e);return 4===t.length?vw.emptyPath():HI(t)}function WI(e){return new vw(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function HI(e){return $y(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function KI(e,t,n){return{name:zI(e,t),fields:n.value.mapValue.fields}}function GI(e,t,n){const r=VI(e,t.name),i=MI(t.updateTime),o=t.createTime?MI(t.createTime):mw.min(),s=new p_({mapValue:{fields:t.fields}}),a=g_.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function QI(e,t){let n;if(t instanceof XS)n={update:KI(e,t.key,t.value)};else if(t instanceof nI)n={delete:zI(e,t.key)};else if(t instanceof JS)n={update:KI(e,t.key,t.data),updateMask:sx(t.fieldMask)};else{if(!(t instanceof rI))return Yy();n={verify:zI(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof OS)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof DS)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof MS)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof jS)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Yy()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:LI(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Yy()}(e,t.precondition)),n}function YI(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?qS.updateTime(MI(e.updateTime)):void 0!==e.exists?qS.exists(e.exists):qS.none()}(t.currentDocument):qS.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)$y("REQUEST_TIME"===t.setToServerValue),n=new OS;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new DS(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new MS(e)}else"increment"in t?n=new jS(e,t.increment):Yy();const r=ww.fromServerFormat(t.fieldPath);return new VS(r,n)}(e,t))):[];if(t.update){t.update.name;const i=VI(e,t.update.name),o=new p_({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Lb(t.map((e=>ww.fromServerFormat(e))))}(t.updateMask);return new JS(i,o,e,n,r)}return new XS(i,o,n,r)}if(t.delete){const r=VI(e,t.delete);return new nI(r,n)}if(t.verify){const r=VI(e,t.verify);return new rI(r,n)}return Yy()}function $I(e,t){return{documents:[BI(e,t.path)]}}function XI(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=BI(e,i);const o=function(e){if(0!==e.length)return ox(x_.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:rx(e.field),direction:ex(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=NI(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function JI(e){let t=qI(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$y(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=ZI(e);return t instanceof x_&&T_(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new b_(ix(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Gw(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new v_(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new v_(n,t)}(n.endAt)),$_(t,i,s,o,a,"F",l,c)}function ZI(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ix(e.unaryFilter.field);return I_.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=ix(e.unaryFilter.field);return I_.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ix(e.unaryFilter.field);return I_.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ix(e.unaryFilter.field);return I_.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Yy()}}(e):void 0!==e.fieldFilter?function(e){return I_.create(ix(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Yy()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return x_.create(e.compositeFilter.filters.map((e=>ZI(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Yy()}}(e.compositeFilter.op))}(e):Yy()}function ex(e){return CI[e]}function tx(e){return AI[e]}function nx(e){return RI[e]}function rx(e){return{fieldPath:e.canonicalString()}}function ix(e){return ww.fromServerFormat(e.fieldPath)}function ox(e){return e instanceof I_?function(e){if("=="===e.op){if(s_(e.value))return{unaryFilter:{field:rx(e.field),op:"IS_NAN"}};if(o_(e.value))return{unaryFilter:{field:rx(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(s_(e.value))return{unaryFilter:{field:rx(e.field),op:"IS_NOT_NAN"}};if(o_(e.value))return{unaryFilter:{field:rx(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rx(e.field),op:tx(e.op),value:e.value}}}(e):e instanceof x_?function(e){const t=e.getFilters().map((e=>ox(e)));return 1===t.length?t[0]:{compositeFilter:{op:nx(e.op),filters:t}}}(e):Yy()}function sx(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function ax(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class lx{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:mw.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:mw.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Fb.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new lx(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new lx(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lx(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lx(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class cx{constructor(e){this.ut=e}}function ux(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:dx(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:zI(e,t.key),fields:t.data.value.mapValue.fields,updateTime:OI(e,t.version.toTimestamp()),createTime:OI(e,t.createTime.toTimestamp())}}(e.ut,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:hx(t.version)};else{if(!t.isUnknownDocument())return Yy();r.unknownDocument={path:n.path.toArray(),version:hx(t.version)}}return r}function dx(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function hx(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function fx(e){const t=new pw(e.seconds,e.nanoseconds);return mw.fromTimestamp(t)}function px(e,t){const n=(t.baseMutations||[]).map((t=>YI(e.ut,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>YI(e.ut,t))),i=pw.fromMillis(t.localWriteTimeMs);return new iI(t.batchId,i,n,r)}function mx(e){const t=fx(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?fx(e.lastLimboFreeSnapshotVersion):mw.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return $y(1===e.documents.length),tS(X_(qI(e.documents[0])))}(e.query):function(e){return tS(JI(e))}(e.query),new lx(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Fb.fromBase64String(e.resumeToken))}function gx(e,t){const n=hx(t.snapshotVersion),r=hx(t.lastLimboFreeSnapshotVersion);let i;i=H_(t.target)?$I(e.ut,t.target):XI(e.ut,t.target)._t;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:q_(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function vx(e){const t=JI({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?iS(t,t.limit,"L"):t}function yx(e,t){return new sI(t.largestBatchId,YI(e.ut,t.overlayMutation))}function wx(e,t){const n=t.path.lastSegment();return[e,$w(t.path.popLast()),n]}function bx(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:hx(r.readTime),documentKey:$w(r.documentKey.path),largestBatchId:r.largestBatchId}}class _x{getBundleMetadata(e,t){return Sx(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:fx(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return Sx(e).put(function(e){return{bundleId:e.id,createTime:hx(MI(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return Ix(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:vx(e.bundledQuery),readTime:fx(e.readTime)}}(e)}))}saveNamedQuery(e,t){return Ix(e).put(function(e){return{name:e.name,readTime:hx(MI(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Sx(e){return kb(e,"bundles")}function Ix(e){return kb(e,"namedQueries")}class xx{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){const n=t.uid||"";return new xx(e,n)}getOverlay(e,t){return kx(e).get(wx(this.userId,t)).next((e=>e?yx(this.serializer,e):null))}getOverlays(e,t){const n=yS();return Ow.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new sI(t,i);r.push(this.lt(e,o))})),Ow.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add($w(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(kx(e).j("collectionPathOverlayIndex",r))})),Ow.waitFor(i)}getOverlaysForCollection(e,t,n){const r=yS(),i=$w(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return kx(e).U("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=yx(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=yS();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return kx(e).J({index:"collectionGroupOverlayIndex",range:s},((e,t,n)=>{const s=yx(this.serializer,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()})).next((()=>i))}lt(e,t){return kx(e).put(function(e,t,n){const[r,i,o]=wx(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:QI(e.ut,n.mutation)}}(this.serializer,this.userId,t))}}function kx(e){return kb(e,"documentOverlays")}class Ex{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(zb(e.integerValue));else if("doubleValue"in e){const n=zb(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),Qw(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Tt(t,20),"string"==typeof n&&(n=Ub(n)),t.dt("".concat(n.seconds||"")),t.Et(n.nanos||0)}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Vb(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Tt(t,45),t.Et(n.latitude||0),t.Et(n.longitude||0)}else"mapValue"in e?c_(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Yy()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const n=e.fields||{};this.Tt(t,55);for(const r of Object.keys(n))this.At(r,t),this.Pt(n[r],t)}yt(e,t){const n=e.values||[];this.Tt(t,50);for(const r of n)this.Pt(r,t)}ft(e,t){this.Tt(t,37),bw.fromName(e).path.forEach((e=>{this.Tt(t,60),this.wt(e,t)}))}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function Tx(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Cx(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Tx(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Ex.St=new Ex;class Ax{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Dt(n.value),n=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ft(n.value),n=t.next();this.Mt()}xt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Dt(e);else if(e<2048)this.Dt(960|e>>>6),this.Dt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e);else{const e=t.codePointAt(0);this.Dt(240|e>>>18),this.Dt(128|63&e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e)}}this.Ct()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ft(e);else if(e<2048)this.Ft(960|e>>>6),this.Ft(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e);else{const e=t.codePointAt(0);this.Ft(240|e>>>18),this.Ft(128|63&e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e)}}this.Mt()}Nt(e){const t=this.Lt(e),n=Cx(t);this.Bt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Lt(e),n=Cx(t);this.Bt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Bt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Lt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Bt(1),this.buffer[this.position++]=e}$t(e){this.Bt(1),this.buffer[this.position++]=~e}Bt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Rx{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class Px{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Nx{constructor(){this.Wt=new Ax,this.Gt=new Rx(this.Wt),this.zt=new Px(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Ox{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Ox(this.indexId,this.documentKey,this.arrayValue,n)}}function Dx(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Lx(e.arrayValue,t.arrayValue),0!==n?n:(n=Lx(e.directionalValue,t.directionalValue),0!==n?n:bw.comparator(e.documentKey,t.documentKey)))}function Lx(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Mx{constructor(e){this.Jt=new Nb(((e,t)=>ww.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Jt=this.Jt.add(e):this.Zt.push(e)}}get Xt(){return this.Jt.size>1}en(e){if($y(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=Sw(e);if(void 0!==t&&!this.tn(t))return!1;const n=Iw(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.tn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Jt.size>0){const e=this.Jt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.nn(e,t)||!this.rn(this.Yt[o++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.Yt.length||!this.rn(this.Yt[o++],e))return!1}return!0}sn(){if(this.Xt)return null;let e=new Nb(ww.comparator);const t=[];for(const n of this.Zt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new xw(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new xw(n.field,0))}for(const n of this.Yt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new xw(n.field,"asc"===n.dir?0:1)));return new _w(_w.UNKNOWN_ID,this.collectionId,t,kw.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Fx(e){var t,n;if($y(e instanceof I_||e instanceof x_),e instanceof I_){if(e instanceof j_){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>I_.create(e.field,"==",t))))||[];return x_.create(r,"or")}return e}const r=e.filters.map((e=>Fx(e)));return x_.create(r,e.op)}function jx(e){if(0===e.getFilters().length)return[];const t=Bx(Fx(e));return $y(Vx(t)),Ux(t)||zx(t)?[t]:t.getFilters()}function Ux(e){return e instanceof I_}function zx(e){return e instanceof x_&&T_(e)}function Vx(e){return Ux(e)||zx(e)||function(e){if(e instanceof x_&&E_(e)){for(const t of e.getFilters())if(!Ux(t)&&!zx(t))return!1;return!0}return!1}(e)}function Bx(e){if($y(e instanceof I_||e instanceof x_),e instanceof I_)return e;if(1===e.filters.length)return Bx(e.filters[0]);const t=e.filters.map((e=>Bx(e)));let n=x_.create(t,e.op);return n=Hx(n),Vx(n)?n:($y(n instanceof x_),$y(k_(n)),$y(n.filters.length>1),n.filters.reduce(((e,t)=>qx(e,t))))}function qx(e,t){let n;return $y(e instanceof I_||e instanceof x_),$y(t instanceof I_||t instanceof x_),n=e instanceof I_?t instanceof I_?function(e,t){return x_.create([e,t],"and")}(e,t):Wx(e,t):t instanceof I_?Wx(t,e):function(e,t){if($y(e.filters.length>0&&t.filters.length>0),k_(e)&&k_(t))return P_(e,t.getFilters());const n=E_(e)?e:t,r=E_(e)?t:e,i=n.filters.map((e=>qx(e,r)));return x_.create(i,"or")}(e,t),Hx(n)}function Wx(e,t){if(k_(t))return P_(t,e.getFilters());{const n=t.filters.map((t=>qx(e,t)));return x_.create(n,"or")}}function Hx(e){if($y(e instanceof I_||e instanceof x_),e instanceof I_)return e;const t=e.getFilters();if(1===t.length)return Hx(t[0]);if(C_(e))return e;const n=t.map((e=>Hx(e))),r=[];return n.forEach((t=>{t instanceof I_?r.push(t):t instanceof x_&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:x_.create(r,e.op)}class Kx{constructor(){this.on=new Gx}addToCollectionParentIndex(e,t){return this.on.add(t),Ow.resolve()}getCollectionParents(e,t){return Ow.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return Ow.resolve()}deleteFieldIndex(e,t){return Ow.resolve()}deleteAllFieldIndexes(e){return Ow.resolve()}createTargetIndexes(e,t){return Ow.resolve()}getDocumentsMatchingTarget(e,t){return Ow.resolve(null)}getIndexType(e,t){return Ow.resolve(0)}getFieldIndexes(e,t){return Ow.resolve([])}getNextCollectionGroupToUpdate(e){return Ow.resolve(null)}getMinOffset(e,t){return Ow.resolve(Cw.min())}getMinOffsetFromCollectionGroup(e,t){return Ow.resolve(Cw.min())}updateCollectionGroup(e,t,n){return Ow.resolve()}updateIndexEntries(e,t){return Ow.resolve()}}class Gx{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Nb(vw.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Nb(vw.comparator)).toArray()}}const Qx=new Uint8Array(0);class Yx{constructor(e,t){this.databaseId=t,this._n=new Gx,this.an=new hS((e=>q_(e)),((e,t)=>W_(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this._n.add(t)}));const i={collectionId:n,parent:$w(r)};return $x(e).put(i)}return Ow.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[fw(t),""],!1,!0);return $x(e).U(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Zw(r.parent))}return n}))}addFieldIndex(e,t){const n=Jx(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Zx(e);return i.next((e=>{n.put(bx(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Jx(e),r=Zx(e),i=Xx(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Jx(e),n=Xx(e),r=Zx(e);return t.j().next((()=>n.j())).next((()=>r.j()))}createTargetIndexes(e,t){return Ow.forEach(this.un(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new Mx(t).sn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=Xx(e);let r=!0;const i=new Map;return Ow.forEach(this.un(t),(t=>this.cn(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=IS();const r=[];return Ow.forEach(i,((i,o)=>{Hy("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(q_(t)));const s=function(e,t){const n=Sw(t);if(void 0===n)return null;for(const r of K_(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),a=function(e,t){const n=new Map;for(const r of Iw(t))for(const t of K_(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of Iw(t)){const t=0===i.kind?G_(e,i.fieldPath,e.startAt):Q_(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new v_(n,r)}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of Iw(t)){const t=0===i.kind?Q_(e,i.fieldPath,e.endAt):G_(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new v_(n,r)}(o,i),u=this.ln(i,o,l),d=this.ln(i,o,c),h=this.hn(i,o,a),f=this.Pn(i.indexId,s,u,l.inclusive,d,c.inclusive,h);return Ow.forEach(f,(i=>n.G(i,t.limit).next((t=>{t.forEach((t=>{const n=bw.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Ow.resolve(null)}))}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:jx(x_.create(e.filters,"and")).map((t=>B_(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.an.set(e,t),t)}Pn(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.In(t[u/l]):Qx,d=this.Tn(e,a,n[u%l],r),h=this.En(e,a,i[u%l],o),f=s.map((t=>this.Tn(e,a,t,!0)));c.push(...this.createRange(d,h,f))}return c}Tn(e,t,n,r){const i=new Ox(e,bw.empty(),t,n);return r?i:i.Ht()}En(e,t,n,r){const i=new Ox(e,bw.empty(),t,n);return r?i.Ht():i}cn(e,t){const n=new Mx(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.en(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.un(t);return Ow.forEach(r,(t=>this.cn(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Nb(ww.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}dn(e,t){const n=new Nx;for(const r of Iw(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.jt(r.kind);Ex.St.ht(e,i)}return n.Ut()}In(e){const t=new Nx;return Ex.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const n=new Nx;return Ex.St.ht(n_(this.databaseId,t),n.jt(function(e){const t=Iw(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ut()}hn(e,t,n){if(null===n)return[];let r=[];r.push(new Nx);let i=0;for(const o of Iw(e)){const e=n[i++];for(const n of r)if(this.Rn(t,o.fieldPath)&&i_(e))r=this.Vn(r,o,e);else{const t=n.jt(o.kind);Ex.St.ht(e,t)}}return this.mn(r)}ln(e,t,n){return this.hn(e,t,n.position)}mn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Ut();return t}Vn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new Nx;n.seed(e.Ut()),Ex.St.ht(o,n.jt(t.kind)),i.push(n)}return i}Rn(e,t){return!!e.filters.find((e=>e instanceof I_&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Jx(e),r=Zx(e);return(t?n.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.U()).next((e=>{const t=[];return Ow.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new kw(t.sequenceNumber,new Cw(fx(t.readTime),new bw(Zw(t.documentKey)),t.largestBatchId)):kw.empty(),r=e.fields.map((e=>{let[t,n]=e;return new xw(ww.fromServerFormat(t),n)}));return new _w(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:dw(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Jx(e),i=Zx(e);return this.fn(e).next((e=>r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Ow.forEach(t,(t=>i.put(bx(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Ow.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Ow.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Ow.forEach(i,(n=>this.gn(e,t,n).next((t=>{const i=this.pn(r,n);return t.isEqual(i)?Ow.resolve():this.yn(e,r,n,t,i)})))))))}))}wn(e,t,n,r){return Xx(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(n,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,n,r){return Xx(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(n,t.key),t.key.path.toArray()])}gn(e,t,n){const r=Xx(e);let i=new Nb(Dx);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.An(n,t)])},((e,r)=>{i=i.add(new Ox(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}pn(e,t){let n=new Nb(Dx);const r=this.dn(t,e);if(null==r)return n;const i=Sw(t);if(null!=i){const o=e.data.field(i.fieldPath);if(i_(o))for(const i of o.arrayValue.values||[])n=n.add(new Ox(t.indexId,e.key,this.In(i),r))}else n=n.add(new Ox(t.indexId,e.key,Qx,r));return n}yn(e,t,n,r,i){Hy("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=Db(o),l=Db(s);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=Db(s)):t?(i(a),a=Db(o)):(a=Db(o),l=Db(s))}}(r,i,Dx,(r=>{o.push(this.wn(e,t,n,r))}),(r=>{o.push(this.Sn(e,t,n,r))})),Ow.waitFor(o)}fn(e){let t=1;return Zx(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Dx(e,t))).filter(((e,t,n)=>!t||0!==Dx(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=Dx(o,e),i=Dx(o,t);if(0===n)r[0]=e.Ht();else if(n>0&&i<0)r.push(o),r.push(o.Ht());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.bn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,Qx,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,Qx,[]];i.push(IDBKeyRange.bound(e,t))}return i}bn(e,t){return Dx(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ek)}getMinOffset(e,t){return Ow.mapArray(this.un(t),(t=>this.cn(e,t).next((e=>e||Yy())))).next(ek)}}function $x(e){return kb(e,"collectionParents")}function Xx(e){return kb(e,"indexEntries")}function Jx(e){return kb(e,"indexConfiguration")}function Zx(e){return kb(e,"indexState")}function ek(e){$y(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Aw(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Cw(t.readTime,t.documentKey,n)}const tk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class nk{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new nk(e,nk.DEFAULT_COLLECTION_PERCENTILE,nk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function rk(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:s},((e,t,n)=>(a++,n.delete())));o.push(l.next((()=>{$y(1===a)})));const c=[];for(const u of n.mutations){const e=nb(t,u.key.path,n.batchId);o.push(i.delete(e)),c.push(u.key)}return Ow.waitFor(o).next((()=>c))}function ik(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Yy();t=e.noDocument}return JSON.stringify(t).length}nk.DEFAULT_COLLECTION_PERCENTILE=10,nk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nk.DEFAULT=new nk(41943040,nk.DEFAULT_COLLECTION_PERCENTILE,nk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nk.DISABLED=new nk(-1,0,0);class ok{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Dn={}}static ct(e,t,n,r){$y(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new ok(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ak(e).J({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=lk(e),o=ak(e);return o.add({}).next((s=>{$y("number"==typeof s);const a=new iI(s,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>QI(e.ut,t))),i=n.mutations.map((t=>QI(e.ut,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),c=[];let u=new Nb(((e,t)=>dw(e.canonicalString(),t.canonicalString())));for(const e of r){const t=nb(this.userId,e.key.path,s);u=u.add(e.key.path.popLast()),c.push(o.put(l)),c.push(i.put(t,rb))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Dn[s]=a.keys()})),Ow.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return ak(e).get(t).next((e=>e?($y(e.userId===this.userId),px(this.serializer,e)):null))}Cn(e,t){return this.Dn[t]?Ow.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Dn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return ak(e).J({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&($y(t.batchId>=n),i=px(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return ak(e).J({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ak(e).U("userMutationsIndex",t).next((e=>e.map((e=>px(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=tb(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return lk(e).J({range:r},((n,r,o)=>{const[s,a,l]=n,c=Zw(a);if(s===this.userId&&t.path.isEqual(c))return ak(e).get(l).next((e=>{if(!e)throw Yy();$y(e.userId===this.userId),i.push(px(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Nb(dw);const r=[];return t.forEach((t=>{const i=tb(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=lk(e).J({range:o},((e,r,i)=>{const[o,s,a]=e,l=Zw(s);o===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(s)})),Ow.waitFor(r).next((()=>this.vn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=tb(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new Nb(dw);return lk(e).J({range:o},((e,t,i)=>{const[o,a,l]=e,c=Zw(a);o===this.userId&&n.isPrefixOf(c)?c.length===r&&(s=s.add(l)):i.done()})).next((()=>this.vn(e,s)))}vn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(ak(e).get(t).next((e=>{if(null===e)throw Yy();$y(e.userId===this.userId),n.push(px(this.serializer,e))})))})),Ow.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return rk(e._e,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Fn(t.batchId)})),Ow.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Ow.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return lk(e).J({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Zw(e[1]);r.push(t)}else n.done()})).next((()=>{$y(0===r.length)}))}))}containsKey(e,t){return sk(e,this.userId,t)}Mn(e){return ck(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function sk(e,t,n){const r=tb(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return lk(e).J({range:o,H:!0},((e,n,r)=>{const[o,a,l]=e;o===t&&a===i&&(s=!0),r.done()})).next((()=>s))}function ak(e){return kb(e,"mutations")}function lk(e){return kb(e,"documentMutations")}function ck(e){return kb(e,"mutationQueues")}class uk{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new uk(0)}static Nn(){return new uk(-1)}}class dk{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Ln(e).next((t=>{const n=new uk(t.highestTargetId);return t.highestTargetId=n.next(),this.Bn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Ln(e).next((e=>mw.fromTimestamp(new pw(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Ln(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Ln(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Bn(e,r))))}addTargetData(e,t){return this.kn(e,t).next((()=>this.Ln(e).next((n=>(n.targetCount+=1,this.qn(t,n),this.Bn(e,n))))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>hk(e).delete(t.targetId))).next((()=>this.Ln(e))).next((t=>($y(t.targetCount>0),t.targetCount-=1,this.Bn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return hk(e).J(((o,s)=>{const a=mx(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Ow.waitFor(i))).next((()=>r))}forEachTarget(e,t){return hk(e).J(((e,n)=>{const r=mx(n);t(r)}))}Ln(e){return fk(e).get("targetGlobalKey").next((e=>($y(null!==e),e)))}Bn(e,t){return fk(e).put("targetGlobalKey",t)}kn(e,t){return hk(e).put(gx(this.serializer,t))}qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Ln(e).next((e=>e.targetCount))}getTargetData(e,t){const n=q_(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return hk(e).J({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=mx(n);W_(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=pk(e);return t.forEach((t=>{const o=$w(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),Ow.waitFor(r)}removeMatchingKeys(e,t,n){const r=pk(e);return Ow.forEach(t,(t=>{const i=$w(t.path);return Ow.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=pk(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=pk(e);let i=IS();return r.J({range:n,H:!0},((e,t,n)=>{const r=Zw(e[1]),o=new bw(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=$w(t.path),r=IDBKeyRange.bound([n],[fw(n)],!1,!0);let i=0;return pk(e).J({index:"documentTargetsIndex",H:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}ot(e,t){return hk(e).get(t).next((e=>e?mx(e):null))}}function hk(e){return kb(e,"targets")}function fk(e){return kb(e,"targetGlobal")}function pk(e){return kb(e,"targetDocuments")}function mk(e,t){let[n,r]=e,[i,o]=t;const s=dw(n,i);return 0===s?dw(r,o):s}class gk{constructor(e){this.Qn=e,this.buffer=new Nb(mk),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();mk(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class vk{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){Hy("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Uw(e)?Hy("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Nw(e)}await this.Gn(3e5)}))}}class yk{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Ow.resolve(Kw.oe);const n=new gk(t);return this.zn.forEachTarget(e,(e=>n.Un(e.sequenceNumber))).next((()=>this.zn.Hn(e,(e=>n.Un(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Hy("LruGarbageCollector","Garbage collection skipped; disabled"),Ow.resolve(tk)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Hy("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),tk):this.Jn(e,t)))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let n,r,i,o,s,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Hy("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Wy()<=cr.DEBUG&&Hy("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Ow.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function wk(e,t){return new yk(e,t)}class bk{constructor(e,t){this.db=e,this.garbageCollector=wk(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Yn(e){let t=0;return this.Hn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,((e,n)=>t(n)))}addReference(e,t,n){return _k(e,n)}removeReference(e,t,n){return _k(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return _k(e,t)}Xn(e,t){return function(e,t){let n=!1;return ck(e).Y((r=>sk(e,r,t).next((e=>(e&&(n=!0),Ow.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Zn(e,((o,s)=>{if(s<=t){const t=this.Xn(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,mw.min()),pk(e).delete(function(e){return[0,$w(e.path)]}(o)))))}));r.push(t)}})).next((()=>Ow.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return _k(e,t)}Zn(e,t){const n=pk(e);let r,i=Kw.oe;return n.J({index:"documentTargetsIndex"},((e,n)=>{let[o,s]=e,{path:a,sequenceNumber:l}=n;0===o?(i!==Kw.oe&&t(new bw(Zw(r)),i),i=l,r=a):i=Kw.oe})).next((()=>{i!==Kw.oe&&t(new bw(Zw(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function _k(e,t){return pk(e).put(function(e,t){return{targetId:0,path:$w(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Sk{constructor(){this.changes=new hS((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,g_.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ow.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ik{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Tk(e).put(n)}removeEntry(e,t,n){return Tk(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],dx(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.er(e,n))))}getEntry(e,t){let n=g_.newInvalidDocument(t);return Tk(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ck(t))},((e,r)=>{n=this.tr(t,r)})).next((()=>n))}nr(e,t){let n={size:0,document:g_.newInvalidDocument(t)};return Tk(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ck(t))},((e,r)=>{n={document:this.tr(t,r),size:ik(r)}})).next((()=>n))}getEntries(e,t){let n=pS();return this.rr(e,t,((e,t)=>{const r=this.tr(e,t);n=n.insert(e,r)})).next((()=>n))}ir(e,t){let n=pS(),r=new Ab(bw.comparator);return this.rr(e,t,((e,t)=>{const i=this.tr(e,t);n=n.insert(e,i),r=r.insert(e,ik(t))})).next((()=>({documents:n,sr:r})))}rr(e,t,n){if(t.isEmpty())return Ow.resolve();let r=new Nb(Rk);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(Ck(r.first()),Ck(r.last())),o=r.getIterator();let s=o.getNext();return Tk(e).J({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=bw.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&Rk(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.$(Ck(s)):r.done()})).next((()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),dx(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Tk(e).U(IDBKeyRange.bound(s,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=pS();for(const i of e){const e=this.tr(bw.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(lS(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=pS();const o=Ak(t,n),s=Ak(t,Cw.max());return Tk(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},((e,t,n)=>{const o=this.tr(bw.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new kk(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Ek(e).get("remoteDocumentGlobalKey").next((e=>($y(!!e),e)))}er(e,t){return Ek(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=GI(e.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=bw.fromSegments(t.noDocument.path),r=fx(t.noDocument.readTime);n=g_.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Yy();{const e=bw.fromSegments(t.unknownDocument.path),r=fx(t.unknownDocument.version);n=g_.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new pw(e[0],e[1]);return mw.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(mw.min()))return e}return g_.newInvalidDocument(e)}}function xk(e){return new Ik(e)}class kk extends Sk{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new hS((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Nb(((e,t)=>dw(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.ar.get(i);if(t.push(this._r.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=ux(this._r.serializer,o);r=r.add(i.path.popLast());const l=ik(a);n+=l-s.size,t.push(this._r.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=ux(this._r.serializer,o.convertToNoDocument(mw.min()));t.push(this._r.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,n))})),t.push(this._r.updateMetadata(e,n)),Ow.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next((e=>(this.ar.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this._r.ir(e,t).next((e=>{let{documents:t,sr:n}=e;return n.forEach(((e,n)=>{this.ar.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function Ek(e){return kb(e,"remoteDocumentGlobal")}function Tk(e){return kb(e,"remoteDocumentsV14")}function Ck(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Ak(e,t){const n=t.documentKey.path.toArray();return[e,dx(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Rk(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=dw(n[o],r[o]),i)return i;return i=dw(n.length,r.length),i||(i=dw(n[n.length-2],r[r.length-2]),i||dw(n[n.length-1],r[r.length-1]))}class Pk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Nk{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&QS(n.mutation,e,Lb.empty(),pw.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,IS()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:IS();const r=yS();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=gS();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=yS();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,IS())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=pS();const o=bS(),s=bS();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof JS)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),QS(s.mutation,t,s.mutation.getFieldMask(),pw.now())):o.set(t.key,Lb.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new Pk(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=bS();let r=new Ab(((e,t)=>e-t)),i=IS();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Lb.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||IS()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=wS();l.forEach((e=>{if(!i.has(e)){const r=KS(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Ow.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return bw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Z_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Ow.resolve(yS());let s=-1,a=i;return o.next((t=>Ow.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Ow.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,IS()))).next((e=>({batchId:s,changes:vS(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new bw(t)).next((e=>{let t=gS();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=gS();return this.indexManager.getCollectionParents(e,i).next((s=>Ow.forEach(s,(s=>{const a=function(e,t){return new Y_(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,g_.newInvalidDocument(r)))}));let n=gS();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&QS(o.mutation,r,Lb.empty(),pw.now()),lS(t,r)&&(n=n.insert(e,r))})),n}))}}class Ok{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return Ow.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:MI(e.createTime)}}(t)),Ow.resolve()}getNamedQuery(e,t){return Ow.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:vx(e.bundledQuery),readTime:MI(e.readTime)}}(t)),Ow.resolve()}}class Dk{constructor(){this.overlays=new Ab(bw.comparator),this.lr=new Map}getOverlay(e,t){return Ow.resolve(this.overlays.get(t))}getOverlays(e,t){const n=yS();return Ow.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.lt(e,t,r)})),Ow.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.lr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.lr.delete(n)),Ow.resolve()}getOverlaysForCollection(e,t,n){const r=yS(),i=t.length+1,o=new bw(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ow.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Ab(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=yS(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=yS(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return Ow.resolve(s)}lt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new sI(t,n));let i=this.lr.get(t);void 0===i&&(i=IS(),this.lr.set(t,i)),this.lr.set(t,i.add(n.key))}}class Lk{constructor(){this.hr=new Nb(Mk.Pr),this.Ir=new Nb(Mk.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const n=new Mk(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.dr(new Mk(e,t))}Ar(e,t){e.forEach((e=>this.removeReference(e,t)))}Rr(e){const t=new bw(new vw([])),n=new Mk(t,e),r=new Mk(t,e+1),i=[];return this.Ir.forEachInRange([n,r],(e=>{this.dr(e),i.push(e.key)})),i}Vr(){this.hr.forEach((e=>this.dr(e)))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new bw(new vw([])),n=new Mk(t,e),r=new Mk(t,e+1);let i=IS();return this.Ir.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Mk(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Mk{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return bw.comparator(e.key,t.key)||dw(e.gr,t.gr)}static Tr(e,t){return dw(e.gr,t.gr)||bw.comparator(e.key,t.key)}}class Fk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Nb(Mk.Pr)}checkEmpty(e){return Ow.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new iI(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.yr=this.yr.add(new Mk(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Ow.resolve(o)}lookupMutationBatch(e,t){return Ow.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Sr(n),i=r<0?0:r;return Ow.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ow.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Ow.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Mk(t,0),r=new Mk(t,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([n,r],(e=>{const t=this.wr(e.gr);i.push(t)})),Ow.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Nb(dw);return t.forEach((e=>{const t=new Mk(e,0),r=new Mk(e,Number.POSITIVE_INFINITY);this.yr.forEachInRange([t,r],(e=>{n=n.add(e.gr)}))})),Ow.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;bw.isDocumentKey(i)||(i=i.child(""));const o=new Mk(new bw(i),0);let s=new Nb(dw);return this.yr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.gr)),!0)}),o),Ow.resolve(this.br(s))}br(e){const t=[];return e.forEach((e=>{const n=this.wr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){$y(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.yr;return Ow.forEach(t.mutations,(r=>{const i=new Mk(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.yr=n}))}Fn(e){}containsKey(e,t){const n=new Mk(t,0),r=this.yr.firstAfterOrEqual(n);return Ow.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ow.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class jk{constructor(e){this.Cr=e,this.docs=new Ab(bw.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ow.resolve(n?n.document.mutableCopy():g_.newInvalidDocument(t))}getEntries(e,t){let n=pS();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():g_.newInvalidDocument(e))})),Ow.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=pS();const o=t.path,s=new bw(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Aw(Tw(s),n)<=0||(r.has(s.key)||lS(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Ow.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Yy()}vr(e,t){return Ow.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Uk(this)}getSize(e){return Ow.resolve(this.size)}}class Uk extends Sk{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(n)})),Ow.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class zk{constructor(e){this.persistence=e,this.Fr=new hS((e=>q_(e)),W_),this.lastRemoteSnapshotVersion=mw.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Lk,this.targetCount=0,this.Nr=uk.On()}forEachTarget(e,t){return this.Fr.forEach(((e,n)=>t(n))),Ow.resolve()}getLastRemoteSnapshotVersion(e){return Ow.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ow.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Ow.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),Ow.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new uk(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,Ow.resolve()}updateTargetData(e,t){return this.kn(t),Ow.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,Ow.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Fr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Ow.waitFor(i).next((()=>r))}getTargetCount(e){return Ow.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fr.get(t)||null;return Ow.resolve(n)}addMatchingKeys(e,t,n){return this.Or.Er(t,n),Ow.resolve()}removeMatchingKeys(e,t,n){this.Or.Ar(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Ow.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),Ow.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Or.mr(t);return Ow.resolve(n)}containsKey(e,t){return Ow.resolve(this.Or.containsKey(t))}}class Vk{constructor(e,t){this.Lr={},this.overlays={},this.Br=new Kw(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new zk(this),this.indexManager=new Kx,this.remoteDocumentCache=function(e){return new jk(e)}((e=>this.referenceDelegate.Qr(e))),this.serializer=new cx(t),this.Kr=new Ok(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Dk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new Fk(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,n){Hy("MemoryPersistence","Starting transaction:",e);const r=new Bk(this.Br.next());return this.referenceDelegate.$r(),n(r).next((e=>this.referenceDelegate.Ur(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Wr(e,t){return Ow.or(Object.values(this.Lr).map((n=>()=>n.containsKey(e,t))))}}class Bk extends Pw{constructor(e){super(),this.currentSequenceNumber=e}}class qk{constructor(e){this.persistence=e,this.Gr=new Lk,this.zr=null}static jr(e){return new qk(e)}get Hr(){if(this.zr)return this.zr;throw Yy()}addReference(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),Ow.resolve()}removeReference(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),Ow.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),Ow.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach((e=>this.Hr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Hr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ow.forEach(this.Hr,(n=>{const r=bw.fromPath(n);return this.Jr(e,r).next((e=>{e||t.removeEntry(r,mw.min())}))})).next((()=>(this.zr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Jr(e,t).next((e=>{e?this.Hr.delete(t.toString()):this.Hr.add(t.toString())}))}Qr(e){return 0}Jr(e,t){return Ow.or([()=>Ow.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class Wk{constructor(e){this.serializer=e}O(e,t,n,r){const i=new Dw("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",eb,{unique:!0}),e.createObjectStore("documentMutations")}(e),Hk(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=Ow.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Hk(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:mw.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").U().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",eb,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return Ow.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Zr(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(i))))),n<7&&r>=7&&(o=o.next((()=>this.ei(i)))),n<8&&r>=8&&(o=o.next((()=>this.ti(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.ni(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:mb});t.createIndex("collectionPathOverlayIndex",gb,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",vb,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:ib});t.createIndex("documentKeyIndex",ob),t.createIndex("collectionGroupIndex",sb)}(e))).next((()=>this.ri(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.ii(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:db}).createIndex("sequenceNumberIndex",hb,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:fb}).createIndex("documentKeyIndex",pb,{unique:!1})}(e)))),n<16&&r>=16&&(o=o.next((()=>{t.objectStore("indexState").clear()})).next((()=>{t.objectStore("indexEntries").clear()}))),o}Xr(e){let t=0;return e.store("remoteDocuments").J(((e,n)=>{t+=ik(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Zr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.U().next((t=>Ow.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",r).next((n=>Ow.forEach(n,(n=>{$y(n.userId===t.userId);const r=px(this.serializer,n);return rk(e,t.userId,r).next((()=>{}))}))))}))))}ei(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.J(((n,i)=>{const o=new vw(n),s=function(e){return[0,$w(e)]}(o);r.push(t.get(s).next((n=>n?Ow.resolve():(n=>t.put({targetId:0,path:$w(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>Ow.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:ub});const n=t.store("collectionParents"),r=new Gx,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:$w(r)})}};return t.store("remoteDocuments").J({H:!0},((e,t)=>{const n=new vw(e);return i(n.popLast())})).next((()=>t.store("documentMutations").J({H:!0},((e,t)=>{let[n,r,o]=e;const s=Zw(r);return i(s.popLast())}))))}ni(e){const t=e.store("targets");return t.J(((e,n)=>{const r=mx(n),i=gx(this.serializer,r);return t.put(i)}))}ri(e,t){const n=t.store("remoteDocuments"),r=[];return n.J(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=function(e){return e.document?new bw(vw.fromString(e.document.name).popFirst(5)):e.noDocument?bw.fromSegments(e.noDocument.path):e.unknownDocument?bw.fromSegments(e.unknownDocument.path):Yy()}(n).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(s))})).next((()=>Ow.waitFor(r)))}ii(e,t){const n=t.store("mutations"),r=xk(this.serializer),i=new Vk(qk.jr,this.serializer.ut);return n.U().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:IS();px(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Ow.forEach(n,((e,n)=>{const o=new Vy(n),s=xx.ct(this.serializer,o),a=i.getIndexManager(o),l=ok.ct(o,this.serializer,a,i.referenceDelegate);return new Nk(r,l,s,a).recalculateAndSaveOverlaysForDocumentKeys(new xb(t,Kw.oe),e).next()}))}))}}function Hk(e){e.createObjectStore("targetDocuments",{keyPath:lb}).createIndex("documentTargetsIndex",cb,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ab,{unique:!0}),e.createObjectStore("targetGlobal")}const Kk="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Gk{constructor(e,t,n,r,i,o,s,a,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:16;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.si=i,this.window=o,this.document=s,this.oi=l,this._i=c,this.ai=u,this.Br=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=e=>Promise.resolve(),!Gk.D())throw new Zy(Jy.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bk(this,r),this.Ii=t+"main",this.serializer=new cx(a),this.Ti=new Lw(this.Ii,this.ai,new Wk(this.serializer)),this.qr=new dk(this.referenceDelegate,this.serializer),this.remoteDocumentCache=xk(this.serializer),this.Kr=new _x,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===c&&Ky("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Zy(Jy.FAILED_PRECONDITION,Kk);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.qr.getHighestSequenceNumber(e)))})).then((e=>{this.Br=new Kw(e,this.oi)})).then((()=>{this.kr=!0})).catch((e=>(this.Ti&&this.Ti.close(),Promise.reject(e))))}mi(e){return this.Pi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((async()=>{this.started&&await this.di()})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Yk(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.fi(e).next((e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))))}))})).next((()=>this.gi(e))).next((t=>this.isPrimary&&!t?this.pi(e).next((()=>!1)):!!t&&this.yi(e).next((()=>!0)))))).catch((e=>{if(Uw(e))return Hy("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Hy("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.si.enqueueRetryable((()=>this.Pi(e))),this.isPrimary=e}))}fi(e){return Qk(e).get("owner").next((e=>Ow.resolve(this.wi(e))))}Si(e){return Yk(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=kb(e,"clientMetadata");return t.U().next((e=>{const n=this.Ci(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Ow.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Ei)for(const t of e)this.Ei.removeItem(this.vi(t.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.di().then((()=>this.bi())).then((()=>this.Vi()))))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?Ow.resolve(!0):Qk(e).get("owner").next((t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new Zy(Jy.FAILED_PRECONDITION,Kk);return!1}}return!(!this.networkEnabled||!this.inForeground)||Yk(e).U().next((e=>void 0===this.Ci(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Hy("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new xb(e,Kw.oe);return this.pi(t).next((()=>this.Si(t)))})),this.Ti.close(),this.Ni()}Ci(e,t){return e.filter((e=>this.Di(e.updateTimeMs,t)&&!this.Fi(e.clientId)))}Li(){return this.runTransaction("getActiveClients","readonly",(e=>Yk(e).U().next((e=>this.Ci(e,18e5).map((e=>e.clientId))))))}get started(){return this.kr}getMutationQueue(e,t){return ok.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Yx(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return xx.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,n){Hy("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 16===e?Ib:15===e?Sb:14===e?_b:13===e?bb:12===e?wb:11===e?yb:void Yy()}(this.ai);let o;return this.Ti.runTransaction(e,r,i,(r=>(o=new xb(r,this.Br?this.Br.next():Kw.oe),"readwrite-primary"===t?this.fi(o).next((e=>!!e||this.gi(o))).next((t=>{if(!t)throw Ky("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))),new Zy(Jy.FAILED_PRECONDITION,Rw);return n(o)})).next((e=>this.yi(o).next((()=>e)))):this.Bi(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}Bi(e){return Qk(e).get("owner").next((e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)&&!this.wi(e)&&!(this._i||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Zy(Jy.FAILED_PRECONDITION,Kk)}))}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Qk(e).put("owner",t)}static D(){return Lw.D()}pi(e){const t=Qk(e);return t.get("owner").next((e=>this.wi(e)?(Hy("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ow.resolve()))}Di(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Ky("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.di())))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const e=/(?:Version|Mobile)\/1[456]/;Ln()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const n=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return Hy("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Ky("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Ky("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch(e){}}vi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Qk(e){return kb(e,"owner")}function Yk(e){return kb(e,"clientMetadata")}function $k(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Xk{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ki=n,this.qi=r}static Qi(e,t){let n=IS(),r=IS();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Xk(e,t.fromCache,n,r)}}class Jk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Zk{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=Ln()?8:Mw(Cn())>0?6:4}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.zi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ji(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Jk;return this.Hi(e,t,n).next((r=>{if(i.result=r,this.$i)return this.Ji(e,t,n,r.size)}))})).next((()=>i.result))}Ji(e,t,n,r){return n.documentReadCount<this.Ui?(Wy()<=cr.DEBUG&&Hy("QueryEngine","SDK will not create cache indexes for query:",aS(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Ow.resolve()):(Wy()<=cr.DEBUG&&Hy("QueryEngine","Query:",aS(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(Wy()<=cr.DEBUG&&Hy("QueryEngine","The SDK decides to create cache indexes for query:",aS(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tS(t))):Ow.resolve())}zi(e,t){if(J_(t))return Ow.resolve(null);let n=tS(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=iS(t,null,"F"),n=tS(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=IS(...r);return this.Gi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Yi(t,r);return this.Zi(t,o,i,n.readTime)?this.zi(e,iS(t,null,"F")):this.Xi(e,o,t,n)}))))})))))}ji(e,t,n,r){return J_(t)||r.isEqual(mw.min())?Ow.resolve(null):this.Gi.getDocuments(e,n).next((i=>{const o=this.Yi(t,i);return this.Zi(t,o,n,r)?Ow.resolve(null):(Wy()<=cr.DEBUG&&Hy("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),aS(t)),this.Xi(e,o,t,Ew(r,-1)).next((e=>e)))}))}Yi(e,t){let n=new Nb(uS(e));return t.forEach(((t,r)=>{lS(e,r)&&(n=n.add(r))})),n}Zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Hi(e,t,n){return Wy()<=cr.DEBUG&&Hy("QueryEngine","Using full collection scan to execute query:",aS(t)),this.Gi.getDocumentsMatchingQuery(e,t,Cw.min(),n)}Xi(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class eE{constructor(e,t,n,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new Ab(dw),this.ns=new hS((e=>q_(e)),W_),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(n)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Nk(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ts)))}}function tE(e,t,n,r){return new eE(e,t,n,r)}async function nE(e,t){const n=Xy(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=IS();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({_s:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function rE(e){const t=Xy(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.qr.getLastRemoteSnapshotVersion(e)))}function iE(e,t,n){let r=IS(),i=IS();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=pS();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(mw.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Hy("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{us:r,cs:i}}))}function oE(e,t){const n=Xy(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function sE(e,t){const n=Xy(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.qr.getTargetData(e,t).next((i=>i?(r=i,Ow.resolve(r)):n.qr.allocateTargetId(e).next((i=>(r=new lx(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}async function aE(e,t,n){const r=Xy(e),i=r.ts.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Uw(e))throw e;Hy("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function lE(e,t,n){const r=Xy(e);let i=mw.min(),o=IS();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Xy(e),i=r.ns.get(n);return void 0!==i?Ow.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,tS(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.es.getDocumentsMatchingQuery(e,t,n?i:mw.min(),n?o:IS()))).next((e=>(dE(r,cS(t),e),{documents:e,ls:o})))))}function cE(e,t){const n=Xy(e),r=Xy(n.qr),i=n.ts.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.ot(e,t).next((e=>e?e.target:null))))}function uE(e,t){const n=Xy(e),r=n.rs.get(t)||mw.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.ss.getAllFromCollectionGroup(e,t,Ew(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(dE(n,t,e),e)))}function dE(e,t,n){let r=e.rs.get(t)||mw.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}async function hE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:IS();const r=await sE(e,tS(vx(t.bundledQuery))),i=Xy(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=MI(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(e,t);const s=r.withResumeToken(Fb.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(s.targetId,s),i.qr.updateTargetData(e,s).next((()=>i.qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.Kr.saveNamedQuery(e,t)))}))}function fE(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function pE(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function mE(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class gE{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Ts(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new Zy(r.error.code,r.error.message))),o?new gE(e,t,r.state,i):(Ky("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vE{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Ts(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Zy(n.error.code,n.error.message))),i?new vE(e,n.state,r):(Ky("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=kS();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=Yw(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new yE(e,i):(Ky("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class wE{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new wE(t.clientId,t.onlineState):(Ky("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class bE{constructor(){this.activeTargetIds=kS()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _E{constructor(e,t,n,r,i){this.window=e,this.si=t,this.persistenceKey=n,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Ab(dw),this.started=!1,this.ps=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ys=fE(this.persistenceKey,this.Rs),this.ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new bE),this.Ss=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.bs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ds=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Cs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.vs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Li();for(const n of e){if(n===this.Rs)continue;const e=this.getItem(fE(this.persistenceKey,n));if(e){const t=yE.Ts(n,e);t&&(this.gs=this.gs.insert(t.clientId,t))}}this.Fs();const t=this.storage.getItem(this.Cs);if(t){const e=this.Ms(t);e&&this.xs(e)}for(const n of this.ps)this.fs(n);this.ps=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,n){this.Ns(e,t,n),this.Ls(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(mE(this.persistenceKey,e));if(n){const r=vE.Ts(e,n);r&&(t=r.state)}}return this.Bs.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Bs.As(e),this.Fs()}isLocalQueryTarget(e){return this.Bs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(mE(this.persistenceKey,e))}updateQueryState(e,t,n){this.ks(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Ls(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Hy("SharedClientState","READ",e,t),t}setItem(e,t){Hy("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Hy("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const t=e;if(t.storageArea===this.storage){if(Hy("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ys)return void Ky("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ss.test(t.key)){if(null==t.newValue){const e=this.Ks(t.key);return this.$s(e,null)}{const e=this.Us(t.key,t.newValue);if(e)return this.$s(e.clientId,e)}}else if(this.bs.test(t.key)){if(null!==t.newValue){const e=this.Ws(t.key,t.newValue);if(e)return this.Gs(e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.zs(t.key,t.newValue);if(e)return this.js(e)}}else if(t.key===this.Cs){if(null!==t.newValue){const e=this.Ms(t.newValue);if(e)return this.xs(e)}}else if(t.key===this.ws){const e=function(e){let t=Kw.oe;if(null!=e)try{const n=JSON.parse(e);$y("number"==typeof n),t=n}catch(e){Ky("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Kw.oe&&this.sequenceNumberHandler(e)}else if(t.key===this.vs){const e=this.Hs(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Js(e))))}}else this.ps.push(t)}))}}get Bs(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Bs.Es())}Ns(e,t,n){const r=new gE(this.currentUser,e,t,n),i=pE(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Es())}Ls(e){const t=pE(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){const t={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(t))}ks(e,t,n){const r=mE(this.persistenceKey,e),i=new vE(e,t,n);this.setItem(r,i.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const n=this.Ks(e);return yE.Ts(n,t)}Ws(e,t){const n=this.bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return gE.Ts(new Vy(i),r,t)}zs(e,t){const n=this.Ds.exec(e),r=Number(n[1]);return vE.Ts(r,t)}Ms(e){return wE.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);Hy("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const n=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),i=this.Os(n),o=[],s=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||s.push(e)})),this.syncEngine.Xs(o,s).then((()=>{this.gs=n}))}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=kS();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class SE{constructor(){this.eo=new bE,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,n){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new bE,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class IE{ro(e){}shutdown(){}}class xE{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Hy("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Hy("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let kE=null;function EE(){return null===kE?kE=268435456+Math.round(2147483648*Math.random()):kE++,"0x"+kE.toString(16)}const TE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CE{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}}const AE="WebChannelConnection";class RE extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.yo=t+"://"+e.host,this.wo="projects/".concat(n,"/databases/").concat(r),this.So="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get bo(){return!1}Do(e,t,n,r,i){const o=EE(),s=this.Co(e,t.toUriEncodedString());Hy("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(a,r,i),this.Fo(e,s,a,n).then((t=>(Hy("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw Gy("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}Mo(e,t,n,r,i,o){return this.Do(e,t,n,r,i)}vo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+By,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}Co(e,t){const n=TE[e];return"".concat(this.yo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,t,n,r){const i=EE();return new Promise(((o,s)=>{const a=new Fy;a.setWithCredentials(!0),a.listenOnce(Ny.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Py.NO_ERROR:const t=a.getResponseJson();Hy(AE,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case Py.TIMEOUT:Hy(AE,"RPC '".concat(e,"' ").concat(i," timed out")),s(new Zy(Jy.DEADLINE_EXCEEDED,"Request time out"));break;case Py.HTTP_ERROR:const n=a.getStatus();if(Hy(AE,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Jy).indexOf(t)>=0?t:Jy.UNKNOWN}(t.status);s(new Zy(e,t.message))}else s(new Zy(Jy.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Zy(Jy.UNAVAILABLE,"Connection failed."));break;default:Yy()}}finally{Hy(AE,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Hy(AE,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}xo(e,t,n){const r=EE(),i=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Ay(),s=Ry(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new Ly({})),this.vo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Hy(AE,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=o.createWebChannel(c,a);let d=!1,h=!1;const f=new CE({co:t=>{h?Hy(AE,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Hy(AE,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Hy(AE,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},lo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,My.EventType.OPEN,(()=>{h||(Hy(AE,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.Vo())})),p(u,My.EventType.CLOSE,(()=>{h||(h=!0,Hy(AE,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.fo())})),p(u,My.EventType.ERROR,(t=>{h||(h=!0,Gy(AE,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.fo(new Zy(Jy.UNAVAILABLE,"The operation could not be completed")))})),p(u,My.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];$y(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){Hy(AE,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=lI[e];if(void 0!==t)return dI(t)}(t),i=s.message;void 0===n&&(n=Jy.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.fo(new Zy(n,i)),u.close()}else Hy(AE,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.po(i)}})),p(s,Oy.STAT_EVENT,(t=>{t.stat===Dy.PROXY?Hy(AE,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Dy.NOPROXY&&Hy(AE,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.mo()}),0),f}}function PE(){return"undefined"!=typeof window?window:null}function NE(){return"undefined"!=typeof document?document:null}function OE(e){return new PI(e,!0)}class DE{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.si=e,this.timerId=t,this.Oo=n,this.No=r,this.Lo=i,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();const t=Math.floor(this.Bo+this.$o()),n=Math.max(0,Date.now()-this.qo),r=Math.max(0,t-n);r>0&&Hy("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Bo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.ko=this.si.enqueueAfterDelay(this.timerId,r,(()=>(this.qo=Date.now(),e()))),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){null!==this.ko&&(this.ko.skipDelay(),this.ko=null)}cancel(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}class LE{constructor(e,t,n,r,i,o,s,a){this.si=e,this.Wo=n,this.Go=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new DE(e,t)}Yo(){return 1===this.state||5===this.state||this.Zo()}Zo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Xo()}async stop(){this.Yo()&&await this.close(0)}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&null===this.jo&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,(()=>this.n_())))}r_(e){this.i_(),this.stream.send(e)}async n_(){if(this.Zo())return this.close(0)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}async close(e,t){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,4!==e?this.Jo.reset():t&&t.code===Jy.RESOURCE_EXHAUSTED?(Ky(t.toString()),Ky("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):t&&t.code===Jy.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(t)}o_(){}auth(){this.state=1;const e=this.__(this.zo),t=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.zo===t&&this.a_(n,r)}),(t=>{e((()=>{const e=new Zy(Jy.UNKNOWN,"Fetching auth token failed: "+t.message);return this.u_(e)}))}))}a_(e,t){const n=this.__(this.zo);this.stream=this.c_(e,t),this.stream.ho((()=>{n((()=>this.listener.ho()))})),this.stream.Io((()=>{n((()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,(()=>(this.Zo()&&(this.state=3),Promise.resolve()))),this.listener.Io())))})),this.stream.Eo((e=>{n((()=>this.u_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Xo(){this.state=5,this.Jo.Ko((async()=>{this.state=0,this.start()}))}u_(e){return Hy("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}__(e){return t=>{this.si.enqueueAndForget((()=>this.zo===e?t():(Hy("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ME extends LE{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}c_(e,t){return this.connection.xo("Listen",e,t)}onMessage(e){this.Jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Yy()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?($y(void 0===t||"string"==typeof t),Fb.fromBase64String(t||"")):($y(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Fb.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Jy.UNKNOWN:dI(e.code);return new Zy(t,e.message||"")}(s);n=new II(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=VI(e,r.document.name),o=MI(r.document.updateTime),s=r.document.createTime?MI(r.document.createTime):mw.min(),a=new p_({mapValue:{fields:r.document.fields}}),l=g_.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new _I(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=VI(e,r.document),o=r.readTime?MI(r.readTime):mw.min(),s=g_.newNoDocument(i,o),a=r.removedTargetIds||[];n=new _I([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=VI(e,r.document),o=r.removedTargetIds||[];n=new _I([],o,i,null)}else{if(!("filter"in t))return Yy();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new aI(r,i),s=e.targetId;n=new SI(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return mw.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?mw.min():t.readTime?MI(t.readTime):mw.min()}(e);return this.listener.l_(t,n)}h_(e){const t={};t.database=WI(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=H_(r)?{documents:$I(e,r)}:{query:XI(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=DI(e,t.resumeToken);const r=NI(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(mw.min())>0){n.readTime=OI(e,t.snapshotVersion.toTimestamp());const r=NI(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Yy()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.r_(t)}P_(e){const t={};t.database=WI(this.serializer),t.removeTarget=e,this.r_(t)}}class FE extends LE{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,t){return this.connection.xo("Write",e,t)}onMessage(e){if($y(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();const t=function(e,t){return e&&e.length>0?($y(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?MI(e.updateTime):MI(t);return n.isEqual(mw.min())&&(n=MI(t)),new BS(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=MI(e.commitTime);return this.listener.d_(n,t)}return $y(!e.writeResults||0===e.writeResults.length),this.I_=!0,this.listener.A_()}R_(){const e={};e.database=WI(this.serializer),this.r_(e)}E_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>QI(this.serializer,e)))};this.r_(t)}}class jE extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.V_=!1}m_(){if(this.V_)throw new Zy(Jy.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,t,n,r){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.Do(e,jI(t,n),r,o,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Jy.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Zy(Jy.UNKNOWN,e.toString())}))}Mo(e,t,n,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[s,a]=o;return this.connection.Mo(e,jI(t,n),r,s,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Jy.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Zy(Jy.UNKNOWN,e.toString())}))}terminate(){this.V_=!0,this.connection.terminate()}}class UE{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve()))))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.y_?(Ky(t),this.y_=!1):Hy("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class zE{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=i,this.O_.ro((e=>{n.enqueueAndForget((async()=>{YE(this)&&(Hy("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Xy(e);t.M_.add(4),await BE(t),t.N_.set("Unknown"),t.M_.delete(4),await VE(t)}(this))}))})),this.N_=new UE(n,r)}}async function VE(e){if(YE(e))for(const t of e.x_)await t(!0)}async function BE(e){for(const t of e.x_)await t(!1)}function qE(e,t){const n=Xy(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),QE(n)?GE(n):pT(n).Zo()&&HE(n,t))}function WE(e,t){const n=Xy(e),r=pT(n);n.F_.delete(t),r.Zo()&&KE(n,t),0===n.F_.size&&(r.Zo()?r.t_():YE(n)&&n.N_.set("Unknown"))}function HE(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(mw.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}pT(e).h_(t)}function KE(e,t){e.L_.xe(t),pT(e).P_(t)}function GE(e){e.L_=new kI({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),pT(e).start(),e.N_.w_()}function QE(e){return YE(e)&&!pT(e).Yo()&&e.F_.size>0}function YE(e){return 0===Xy(e).M_.size}function $E(e){e.L_=void 0}async function XE(e){e.N_.set("Online")}async function JE(e){e.F_.forEach(((t,n)=>{HE(e,t)}))}async function ZE(e,t){$E(e),QE(e)?(e.N_.D_(t),GE(e)):e.N_.set("Unknown")}async function eT(e,t,n){if(e.N_.set("Online"),t instanceof II&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.F_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.F_.delete(r),e.L_.removeTarget(r))}(e,t)}catch(n){Hy("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await tT(e,n)}else if(t instanceof _I?e.L_.Ke(t):t instanceof SI?e.L_.He(t):e.L_.We(t),!n.isEqual(mw.min()))try{const t=await rE(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.L_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.F_.get(r);i&&e.F_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.F_.get(t);if(!r)return;e.F_.set(t,r.withResumeToken(Fb.EMPTY_BYTE_STRING,r.snapshotVersion)),KE(e,t);const i=new lx(r.target,t,n,r.sequenceNumber);HE(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Hy("RemoteStore","Failed to raise snapshot:",t),await tT(e,t)}}async function tT(e,t,n){if(!Uw(t))throw t;e.M_.add(1),await BE(e),e.N_.set("Offline"),n||(n=()=>rE(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Hy("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await VE(e)}))}function nT(e,t){return t().catch((n=>tT(e,n,t)))}async function rT(e){const t=Xy(e),n=mT(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;iT(t);)try{const e=await oE(t.localStore,r);if(null===e){0===t.v_.length&&n.t_();break}r=e.batchId,oT(t,e)}catch(e){await tT(t,e)}sT(t)&&aT(t)}function iT(e){return YE(e)&&e.v_.length<10}function oT(e,t){e.v_.push(t);const n=mT(e);n.Zo()&&n.T_&&n.E_(t.mutations)}function sT(e){return YE(e)&&!mT(e).Yo()&&e.v_.length>0}function aT(e){mT(e).start()}async function lT(e){mT(e).R_()}async function cT(e){const t=mT(e);for(const n of e.v_)t.E_(n.mutations)}async function uT(e,t,n){const r=e.v_.shift(),i=oI.from(r,t,n);await nT(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await rT(e)}async function dT(e,t){t&&mT(e).T_&&await async function(e,t){if(function(e){return uI(e)&&e!==Jy.ABORTED}(t.code)){const n=e.v_.shift();mT(e).e_(),await nT(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await rT(e)}}(e,t),sT(e)&&aT(e)}async function hT(e,t){const n=Xy(e);n.asyncQueue.verifyOperationInProgress(),Hy("RemoteStore","RemoteStore received new credentials");const r=YE(n);n.M_.add(3),await BE(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await VE(n)}async function fT(e,t){const n=Xy(e);t?(n.M_.delete(2),await VE(n)):t||(n.M_.add(2),await BE(n),n.N_.set("Unknown"))}function pT(e){return e.B_||(e.B_=function(e,t,n){const r=Xy(e);return r.m_(),new ME(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:XE.bind(null,e),Io:JE.bind(null,e),Eo:ZE.bind(null,e),l_:eT.bind(null,e)}),e.x_.push((async t=>{t?(e.B_.e_(),QE(e)?GE(e):e.N_.set("Unknown")):(await e.B_.stop(),$E(e))}))),e.B_}function mT(e){return e.k_||(e.k_=function(e,t,n){const r=Xy(e);return r.m_(),new FE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:()=>Promise.resolve(),Io:lT.bind(null,e),Eo:dT.bind(null,e),A_:cT.bind(null,e),d_:uT.bind(null,e)}),e.x_.push((async t=>{t?(e.k_.e_(),await rT(e)):(await e.k_.stop(),e.v_.length>0&&(Hy("RemoteStore","Stopping write stream with ".concat(e.v_.length," pending writes")),e.v_=[]))}))),e.k_}class gT{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ew,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new gT(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Zy(Jy.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vT(e,t){if(Ky("AsyncQueue","".concat(t,": ").concat(e)),Uw(e))return new Zy(Jy.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class yT{constructor(e){this.comparator=e?(t,n)=>e(t,n)||bw.comparator(t.key,n.key):(e,t)=>bw.comparator(e.key,t.key),this.keyedMap=gS(),this.sortedSet=new Ab(this.comparator)}static emptySet(e){return new yT(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof yT))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new yT;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class wT{constructor(){this.q_=new Ab(bw.comparator)}track(e){const t=e.doc.key,n=this.q_.get(t);n?0!==e.type&&3===n.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==n.type?this.q_=this.q_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.q_=this.q_.remove(t):1===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):Yy():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class bT{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new bT(e,t,yT.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oS(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class _T{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some((e=>e.G_()))}}class ST{constructor(){this.queries=new hS((e=>sS(e)),oS),this.onlineState="Unknown",this.z_=new Set}}async function IT(e,t){const n=Xy(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.W_()&&t.G_()&&(r=2):(o=new _T,r=t.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(i,!0);break;case 1:o.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=vT(e,"Initialization of query '".concat(aS(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.U_.push(t),t.j_(n.onlineState),o.K_&&t.H_(o.K_)&&TT(n)}async function xT(e,t){const n=Xy(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.U_.indexOf(t);e>=0&&(o.U_.splice(e,1),0===o.U_.length?i=t.G_()?0:1:!o.W_()&&t.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function kT(e,t){const n=Xy(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.U_)e.H_(i)&&(r=!0);t.K_=i}}r&&TT(n)}function ET(e,t,n){const r=Xy(e),i=r.queries.get(t);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(t)}function TT(e){e.z_.forEach((e=>{e.next()}))}var CT,AT;(AT=CT||(CT={})).J_="default",AT.Cache="cache";class RT{constructor(e,t,n){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new bT(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache)return!0;if(!this.G_())return!0;const n="Offline"!==t;return(!this.options.ra||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){if(e.docChanges.length>0)return!0;const t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}na(e){e=bT.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==CT.Cache}}class PT{constructor(e,t){this.ia=e,this.byteLength=t}sa(){return"metadata"in this.ia}}class NT{constructor(e){this.serializer=e}hs(e){return VI(this.serializer,e)}Ps(e){return e.metadata.exists?GI(this.serializer,e.document,!1):g_.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return MI(e)}}class OT{constructor(e,t,n){this.oa=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=DT(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++t;const n=vw.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}aa(e){const t=new Map,n=new NT(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.hs(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||IS()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Xy(e);let o=IS(),s=pS();for(const c of n){const e=t.hs(c.metadata.name);c.document&&(o=o.add(e));const n=t.Ps(c);n.setReadTime(t.Is(c.metadata.readTime)),s=s.insert(e,n)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),l=await sE(i,function(e){return tS(X_(vw.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>iE(e,a,s).next((t=>(a.apply(e),t))).next((t=>i.qr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.qr.addMatchingKeys(e,o,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.us,t.cs))).next((()=>t.us))))))}(this.localStore,new NT(this.serializer),this.documents,this.oa.id),t=this.aa(this.documents);for(const n of this.queries)await hE(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,ua:this.collectionGroups,ca:e}}}function DT(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class LT{constructor(e){this.key=e}}class MT{constructor(e){this.key=e}}class FT{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=IS(),this.mutatedKeys=IS(),this.Ia=uS(e),this.Ta=new yT(this.Ia)}get Ea(){return this.la}da(e,t){const n=t?t.Aa:new wT,r=t?t.Ta:this.Ta;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=lS(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.Ra(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Ia(u,a)>0||l&&this.Ia(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ta:o,Aa:n,Zi:s,mutatedKeys:i}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Yy()}};return n(e)-n(t)}(e.type,t.type)||this.Ia(e.doc,t.doc))),this.Va(n),r=null!=r&&r;const s=t&&!r?this.ma():[],a=0===this.Pa.size&&this.current&&!r?1:0,l=a!==this.ha;return this.ha=a,0!==o.length||l?{snapshot:new bT(this.query,e.Ta,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:s}:{fa:s}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new wT,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach((e=>this.la=this.la.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.la=this.la.delete(e))),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=IS(),this.Ta.forEach((e=>{this.ga(e.key)&&(this.Pa=this.Pa.add(e.key))}));const t=[];return e.forEach((e=>{this.Pa.has(e)||t.push(new MT(e))})),this.Pa.forEach((n=>{e.has(n)||t.push(new LT(n))})),t}pa(e){this.la=e.ls,this.Pa=IS();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return bT.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class jT{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class UT{constructor(e){this.key=e,this.wa=!1}}class zT{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new hS((e=>sS(e)),oS),this.Da=new Map,this.Ca=new Set,this.va=new Ab(bw.comparator),this.Fa=new Map,this.Ma=new Lk,this.xa={},this.Oa=new Map,this.Na=uk.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}async function VT(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=gC(e);let i;const o=r.ba.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await qT(r,t,n,!0),i}async function BT(e,t){const n=gC(e);await qT(n,t,!0,!1)}async function qT(e,t,n,r){const i=await sE(e.localStore,tS(t)),o=i.targetId,s=n?e.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await WT(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&qE(e.remoteStore,i),a}async function WT(e,t,n,r,i){e.Ba=(t,n,r)=>async function(e,t,n,r){let i=t.view.da(n);i.Zi&&(i=await lE(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.da(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return nC(e,t.targetId,a.fa),a.snapshot}(e,t,n,r);const o=await lE(e.localStore,t,!0),s=new FT(t,o.ls),a=s.da(o.documents),l=bI.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);nC(e,n,c.fa);const u=new jT(t,n,s);return e.ba.set(t,u),e.Da.has(n)?e.Da.get(n).push(t):e.Da.set(n,[t]),c.snapshot}async function HT(e,t,n){const r=Xy(e),i=r.ba.get(t),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter((e=>!oS(e,t)))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await aE(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&WE(r.remoteStore,i.targetId),eC(r,i.targetId)})).catch(Nw)):(eC(r,i.targetId),await aE(r.localStore,i.targetId,!0))}async function KT(e,t){const n=Xy(e),r=n.ba.get(t),i=n.Da.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),WE(n.remoteStore,r.targetId))}async function GT(e,t){const n=Xy(e);try{const e=await function(e,t){const n=Xy(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.qr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.qr.addMatchingKeys(e,o.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(Fb.EMPTY_BYTE_STRING,mw.min()).withLastLimboFreeSnapshotVersion(mw.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&s.push(n.qr.updateTargetData(e,c))}));let a=pS(),l=IS();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(iE(e,o,t.documentUpdates).next((e=>{a=e.us,l=e.cs}))),!r.isEqual(mw.min())){const t=n.qr.getLastRemoteSnapshotVersion(e).next((t=>n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Ow.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Fa.get(t);r&&($y(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.wa=!0:e.modifiedDocuments.size>0?$y(r.wa):e.removedDocuments.size>0&&($y(r.wa),r.wa=!1))})),await oC(n,e,t)}catch(e){await Nw(e)}}function QT(e,t,n){const r=Xy(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ba.forEach(((n,r)=>{const i=r.view.j_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Xy(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.U_)i.j_(t)&&(r=!0)})),r&&TT(n)}(r.eventManager,t),e.length&&r.Sa.l_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function YT(e,t,n){const r=Xy(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fa.get(t),o=i&&i.key;if(o){let e=new Ab(bw.comparator);e=e.insert(o,g_.newNoDocument(o,mw.min()));const n=IS().add(o),i=new wI(mw.min(),new Map,new Ab(dw),e,n);await GT(r,i),r.va=r.va.remove(o),r.Fa.delete(t),iC(r)}else await aE(r.localStore,t,!1).then((()=>eC(r,t,n))).catch(Nw)}async function $T(e,t){const n=Xy(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Xy(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Ow.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);$y(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=IS();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);ZT(n,r,null),JT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await oC(n,e)}catch(e){await Nw(e)}}async function XT(e,t,n){const r=Xy(e);try{const e=await function(e,t){const n=Xy(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>($y(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);ZT(r,t,n),JT(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await oC(r,e)}catch(n){await Nw(n)}}function JT(e,t){(e.Oa.get(t)||[]).forEach((e=>{e.resolve()})),e.Oa.delete(t)}function ZT(e,t,n){const r=Xy(e);let i=r.xa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.xa[r.currentUser.toKey()]=i}}function eC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Da.get(t))e.ba.delete(r),n&&e.Sa.ka(r,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Rr(t).forEach((t=>{e.Ma.containsKey(t)||tC(e,t)}))}function tC(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);null!==n&&(WE(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),iC(e))}function nC(e,t,n){for(const r of n)r instanceof LT?(e.Ma.addReference(r.key,t),rC(e,r)):r instanceof MT?(Hy("SyncEngine","Document no longer in limbo: "+r.key),e.Ma.removeReference(r.key,t),e.Ma.containsKey(r.key)||tC(e,r.key)):Yy()}function rC(e,t){const n=t.key,r=n.path.canonicalString();e.va.get(n)||e.Ca.has(r)||(Hy("SyncEngine","New document in limbo: "+n),e.Ca.add(r),iC(e))}function iC(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new bw(vw.fromString(t)),r=e.Na.next();e.Fa.set(r,new UT(n)),e.va=e.va.insert(n,r),qE(e.remoteStore,new lx(tS(X_(n.path)),r,"TargetPurposeLimboResolution",Kw.oe))}}async function oC(e,t,n){const r=Xy(e),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach(((e,a)=>{s.push(r.Ba(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Xk.Qi(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.Sa.l_(i),await async function(e,t){const n=Xy(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Ow.forEach(t,(t=>Ow.forEach(t.ki,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Ow.forEach(t.qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Uw(e))throw e;Hy("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ts=n.ts.insert(e,i)}}}(r.localStore,o))}async function sC(e,t){const n=Xy(e);if(!n.currentUser.isEqual(t)){Hy("SyncEngine","User change. New user:",t.toKey());const e=await nE(n.localStore,t);n.currentUser=t,function(e,t){e.Oa.forEach((e=>{e.forEach((e=>{e.reject(new Zy(Jy.CANCELLED,t))}))})),e.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await oC(n,e._s)}}function aC(e,t){const n=Xy(e),r=n.Fa.get(t);if(r&&r.wa)return IS().add(r.key);{let e=IS();const r=n.Da.get(t);if(!r)return e;for(const t of r){const r=n.ba.get(t);e=e.unionWith(r.view.Ea)}return e}}async function lC(e,t){const n=Xy(e),r=await lE(n.localStore,t.query,!0),i=t.view.pa(r);return n.isPrimaryClient&&nC(n,t.targetId,i.fa),i}async function cC(e,t){const n=Xy(e);return uE(n.localStore,t).then((e=>oC(n,e)))}async function uC(e,t,n,r){const i=Xy(e),o=await function(e,t){const n=Xy(e),r=Xy(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Cn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Ow.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await rT(i.remoteStore):"acknowledged"===n||"rejected"===n?(ZT(i,t,r||null),JT(i,t),function(e,t){Xy(Xy(e).mutationQueue).Fn(t)}(i.localStore,t)):Yy(),await oC(i,o)):Hy("SyncEngine","Cannot apply mutation batch with id: "+t)}async function dC(e,t,n){const r=Xy(e),i=[],o=[];for(const s of t){let e;const t=r.Da.get(s);if(t&&0!==t.length){e=await sE(r.localStore,tS(t[0]));for(const e of t){const t=r.ba.get(e),n=await lC(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await cE(r.localStore,s);e=await sE(r.localStore,t),await WT(r,hC(t),s,!1,e.resumeToken)}i.push(e)}return r.Sa.l_(o),i}function hC(e){return $_(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function fC(e){return function(e){return Xy(Xy(e).persistence).Li()}(Xy(e).localStore)}async function pC(e,t,n,r){const i=Xy(e);if(i.La)return void Hy("SyncEngine","Ignoring unexpected query state notification.");const o=i.Da.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await uE(i.localStore,cS(o[0])),r=wI.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Fb.EMPTY_BYTE_STRING);await oC(i,e,r);break}case"rejected":await aE(i.localStore,t,!0),eC(i,t,r);break;default:Yy()}}async function mC(e,t,n){const r=gC(e);if(r.La){for(const e of t){if(r.Da.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){Hy("SyncEngine","Adding an already active target "+e);continue}const t=await cE(r.localStore,e),n=await sE(r.localStore,t);await WT(r,hC(t),n.targetId,!1,n.resumeToken),qE(r.remoteStore,n)}for(const e of n)r.Da.has(e)&&await aE(r.localStore,e,!1).then((()=>{WE(r.remoteStore,e),eC(r,e)})).catch(Nw)}}function gC(e){const t=Xy(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=GT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=aC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=YT.bind(null,t),t.Sa.l_=kT.bind(null,t.eventManager),t.Sa.ka=ET.bind(null,t.eventManager),t}function vC(e){const t=Xy(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$T.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=XT.bind(null,t),t}class yC{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=OE(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return tE(this.persistence,new Zk,e.initialUser,this.serializer)}createPersistence(e){return new Vk(qk.jr,this.serializer)}createSharedClientState(e){return new SE}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class wC extends yC{constructor(e,t,n){super(),this.Qa=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Qa.initialize(this,e),await vC(this.Qa.syncEngine),await rT(this.Qa.remoteStore),await this.persistence.mi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return tE(this.persistence,new Zk,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new vk(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Hw(t,this.persistence);return new Ww(e.asyncQueue,n)}createPersistence(e){const t=$k(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?nk.withCacheSize(this.cacheSizeBytes):nk.DEFAULT;return new Gk(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,PE(),NE(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new SE}}class bC extends wC{constructor(e,t){super(e,t,!1),this.Qa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Qa.syncEngine;this.sharedClientState instanceof _E&&(this.sharedClientState.syncEngine={Ys:uC.bind(null,t),Zs:pC.bind(null,t),Xs:mC.bind(null,t),Li:fC.bind(null,t),Js:cC.bind(null,t)},await this.sharedClientState.start()),await this.persistence.mi((async e=>{await async function(e,t){const n=Xy(e);if(gC(n),vC(n),!0===t&&!0!==n.La){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await dC(n,e.toArray());n.La=!0,await fT(n.remoteStore,!0);for(const r of t)qE(n.remoteStore,r)}else if(!1===t&&!1!==n.La){const e=[];let t=Promise.resolve();n.Da.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(eC(n,i),aE(n.localStore,i,!0)))),WE(n.remoteStore,i)})),await t,await dC(n,e),function(e){const t=Xy(e);t.Fa.forEach(((e,n)=>{WE(t.remoteStore,n)})),t.Ma.Vr(),t.Fa=new Map,t.va=new Ab(bw.comparator)}(n),n.La=!1,await fT(n.remoteStore,!1)}}(this.Qa.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=PE();if(!_E.D(t))throw new Zy(Jy.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=$k(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new _E(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class _C{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>QT(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=sC.bind(null,this.syncEngine),await fT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new ST}createDatastore(e){const t=OE(e.databaseInfo.databaseId),n=function(e){return new RE(e)}(e.databaseInfo);return function(e,t,n,r){return new jE(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new zE(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>QT(this.syncEngine,e,0)),xE.D()?new xE:new IE)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new zT(e,t,n,r,i,o);return s&&(a.La=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=Xy(e);Hy("RemoteStore","RemoteStore shutting down."),t.M_.add(5),await BE(t),t.O_.shutdown(),t.N_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}function SC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class IC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Ky("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class xC{constructor(e,t){this.Ua=e,this.serializer=t,this.metadata=new ew,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then((e=>{e&&e.sa()?this.metadata.resolve(e.ia.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ia))))}),(e=>this.metadata.reject(e)))}close(){return this.Ua.cancel()}async getMetadata(){return this.metadata.promise}async qa(){return await this.getMetadata(),this.Ga()}async Ga(){const e=await this.za();if(null===e)return null;const t=this.Wa.decode(e),n=Number(t);isNaN(n)&&this.ja("length string (".concat(t,") is not valid number"));const r=await this.Ha(n);return new PT(JSON.parse(r),e.length+n)}Ja(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async za(){for(;this.Ja()<0&&!await this.Ya(););if(0===this.buffer.length)return null;const e=this.Ja();e<0&&this.ja("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ha(e){for(;this.buffer.length<e;)await this.Ya()&&this.ja("Reached the end of bundle when more is expected.");const t=this.Wa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}ja(e){throw this.Ua.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ya(){const e=await this.Ua.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class kC{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Zy(Jy.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=Xy(e),r={documents:t.map((e=>zI(n.serializer,e)))},i=await n.Mo("BatchGetDocuments",n.serializer.databaseId,vw.emptyPath(),r,t.length),o=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){$y(!!t.found),t.found.name,t.found.updateTime;const n=VI(e,t.found.name),r=MI(t.found.updateTime),i=t.found.createTime?MI(t.found.createTime):mw.min(),o=new p_({mapValue:{fields:t.found.fields}});return g_.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){$y(!!t.missing),$y(!!t.readTime);const n=VI(e,t.missing),r=MI(t.readTime);return g_.newNoDocument(n,r)}(e,t):Yy()}(n.serializer,e);o.set(t.key.toString(),t)}));const s=[];return t.forEach((e=>{const t=o.get(e.toString());$y(!!t),s.push(t)})),s}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new nI(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=bw.fromPath(t);this.mutations.push(new rI(n,this.precondition(n)))})),await async function(e,t){const n=Xy(e),r={writes:t.map((e=>QI(n.serializer,e)))};await n.Do("Commit",n.serializer.databaseId,vw.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Yy();t=mw.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Zy(Jy.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(mw.min())?qS.exists(!1):qS.updateTime(t):qS.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(mw.min()))throw new Zy(Jy.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return qS.updateTime(t)}return qS.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class EC{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Za=n.maxAttempts,this.Jo=new DE(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Jo.Ko((async()=>{const e=new kC(this.datastore),t=this.tu(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.nu(e)}))))})).catch((e=>{this.nu(e)}))}))}tu(e){try{const t=this.updateFunction(e);return!Gw(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget((()=>(this.eu(),Promise.resolve())))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!uI(t)}return!1}}class TC{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Vy.UNAUTHENTICATED,this.clientId=uw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Hy("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Hy("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Zy(Jy.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ew;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=vT(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function CC(e,t){e.asyncQueue.verifyOperationInProgress(),Hy("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await nE(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function AC(e,t){e.asyncQueue.verifyOperationInProgress();const n=await PC(e);Hy("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>hT(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>hT(t.remoteStore,n))),e._onlineComponents=t}function RC(e){return"FirebaseError"===e.name?e.code===Jy.FAILED_PRECONDITION||e.code===Jy.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function PC(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Hy("FirestoreClient","Using user provided OfflineComponentProvider");try{await CC(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!RC(n))throw n;Gy("Error using user provided cache. Falling back to memory cache: "+n),await CC(e,new yC)}}else Hy("FirestoreClient","Using default OfflineComponentProvider"),await CC(e,new yC);return e._offlineComponents}async function NC(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Hy("FirestoreClient","Using user provided OnlineComponentProvider"),await AC(e,e._uninitializedComponentsProvider._online)):(Hy("FirestoreClient","Using default OnlineComponentProvider"),await AC(e,new _C))),e._onlineComponents}function OC(e){return PC(e).then((e=>e.persistence))}function DC(e){return PC(e).then((e=>e.localStore))}function LC(e){return NC(e).then((e=>e.remoteStore))}function MC(e){return NC(e).then((e=>e.syncEngine))}function FC(e){return NC(e).then((e=>e.datastore))}async function jC(e){const t=await NC(e),n=t.eventManager;return n.onListen=VT.bind(null,t.syncEngine),n.onUnlisten=HT.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=BT.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=KT.bind(null,t.syncEngine),n}function UC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ew;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new IC({next:o=>{t.enqueueAndForget((()=>xT(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new Zy(Jy.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Zy(Jy.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new RT(X_(n.path),o,{includeMetadataChanges:!0,ra:!0});return IT(e,s)}(await jC(e),e.asyncQueue,t,n,r))),r.promise}function zC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ew;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new IC({next:n=>{t.enqueueAndForget((()=>xT(e,s))),n.fromCache&&"server"===r.source?i.reject(new Zy(Jy.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new RT(n,o,{includeMetadataChanges:!0,ra:!0});return IT(e,s)}(await jC(e),e.asyncQueue,t,n,r))),r.promise}function VC(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?fI().encode(e):e,function(e,t){return new xC(e,t)}(function(e,t){if(e instanceof Uint8Array)return SC(e,t);if(e instanceof ArrayBuffer)return SC(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,OE(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Xy(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Xy(e),r=MI(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Kr.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(DT(r));const i=new OT(r,e.localStore,t.serializer);let o=await t.qa();for(;o;){const e=await i._a(o);e&&n._updateProgress(e),o=await t.qa()}const s=await i.complete();return await oC(e,s.ca,void 0),await function(e,t){const n=Xy(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Kr.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(s.progress),Promise.resolve(s.ua)}catch(e){return Gy("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await MC(e),i,r)}))}function BC(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const qC=new Map;function WC(e,t,n){if(!n)throw new Zy(Jy.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function HC(e,t,n,r){if(!0===t&&!0===r)throw new Zy(Jy.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function KC(e){if(!bw.isDocumentKey(e))throw new Zy(Jy.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function GC(e){if(bw.isDocumentKey(e))throw new Zy(Jy.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function QC(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Yy()}function YC(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Zy(Jy.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=QC(e);throw new Zy(Jy.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function $C(e,t){if(t<=0)throw new Zy(Jy.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class XC{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Zy(Jy.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Zy(Jy.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BC(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Zy(Jy.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Zy(Jy.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Zy(Jy.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class JC{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XC({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Zy(Jy.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Zy(Jy.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XC(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new nw;switch(e.type){case"firstParty":return new sw(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Zy(Jy.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=qC.get(e);t&&(Hy("ComponentProvider","Removing Datastore"),qC.delete(e),t.terminate())}(this),Promise.resolve()}}function ZC(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=YC(e,JC))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&Gy("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Vy.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[wn(JSON.stringify({alg:"none",type:"JWT"})),wn(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Zy(Jy.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Vy(o)}e._authCredentials=new rw(new tw(t,n))}}class eA{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new eA(this.firestore,e,this._query)}}class tA{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nA(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tA(this.firestore,e,this._key)}}class nA extends eA{constructor(e,t,n){super(e,t,X_(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tA(this.firestore,null,new bw(e))}withConverter(e){return new nA(this.firestore,e,this._path)}}function rA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=nr(e),WC("collection","path",t),e instanceof JC){const n=vw.fromString(t,...r);return GC(n),new nA(e,null,n)}{if(!(e instanceof tA||e instanceof nA))throw new Zy(Jy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(vw.fromString(t,...r));return GC(n),new nA(e.firestore,null,n)}}function iA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=nr(e),1===arguments.length&&(t=uw.newId()),WC("doc","path",t),e instanceof JC){const n=vw.fromString(t,...r);return KC(n),new tA(e,null,new bw(n))}{if(!(e instanceof tA||e instanceof nA))throw new Zy(Jy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(vw.fromString(t,...r));return KC(n),new tA(e.firestore,e instanceof nA?e.converter:null,new bw(n))}}function oA(e,t){return e=nr(e),t=nr(t),(e instanceof tA||e instanceof nA)&&(t instanceof tA||t instanceof nA)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function sA(e,t){return e=nr(e),t=nr(t),e instanceof eA&&t instanceof eA&&e.firestore===t.firestore&&oS(e._query,t._query)&&e.converter===t.converter}class aA{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new DE(this,"async_queue_retry"),this.hu=()=>{const e=NE();e&&Hy("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Jo.Uo()};const e=NE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=NE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise((()=>{}));const t=new ew;return this.Iu((()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.su.push(e),this.Tu())))}async Tu(){if(0!==this.su.length){try{await this.su[0](),this.su.shift(),this.Jo.reset()}catch(e){if(!Uw(e))throw e;Hy("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Jo.Ko((()=>this.Tu()))}}Iu(e){const t=this.iu.then((()=>(this.uu=!0,e().catch((e=>{this.au=e,this.uu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ky("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.uu=!1,e))))));return this.iu=t,t}enqueueAfterDelay(e,t,n){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const r=gT.createAndSchedule(this,e,t,n,(e=>this.Eu(e)));return this._u.push(r),r}Pu(){this.au&&Yy()}verifyOperationInProgress(){}async du(){let e;do{e=this.iu,await e}while(e!==this.iu)}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then((()=>{this._u.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()}))}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}function lA(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class cA{constructor(){this._progressObserver={},this._taskCompletionResolver=new ew,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class uA extends JC{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new aA,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||hA(this),this._firestoreClient.terminate()}}function dA(e){return e._firestoreClient||hA(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function hA(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Hb(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,BC(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new TC(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function fA(e,t,n){const r=new ew;return e.asyncQueue.enqueue((async()=>{try{await CC(e,n),await AC(e,t),r.resolve()}catch(e){const n=e;if(!RC(n))throw n;Gy("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function pA(e){return function(e){const t=new ew;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Xy(e);YE(n.remoteStore)||Hy("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Xy(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Oa.get(e)||[];r.push(t),n.Oa.set(e,r)}catch(e){const n=vT(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await MC(e),t))),t.promise}(dA(e=YC(e,uA)))}function mA(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await OC(e),n=await LC(e);return t.setNetworkEnabled(!0),function(e){const t=Xy(e);return t.M_.delete(0),VE(t)}(n)}))}(dA(e=YC(e,uA)))}function gA(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await OC(e),n=await LC(e);return t.setNetworkEnabled(!1),async function(e){const t=Xy(e);t.M_.add(0),await BE(t),t.N_.set("Offline")}(n)}))}(dA(e=YC(e,uA)))}function vA(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Xy(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Kr.getNamedQuery(e,t)))}(await DC(e),t)))}(dA(e=YC(e,uA)),t).then((t=>t?new eA(e,null,t.query):null))}function yA(e){if(e._initialized||e._terminated)throw new Zy(Jy.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class wA{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wA(Fb.fromBase64String(e))}catch(e){throw new Zy(Jy.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new wA(Fb.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class bA{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Zy(Jy.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ww(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _A{constructor(e){this._methodName=e}}class SA{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Zy(Jy.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Zy(Jy.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return dw(this._lat,e._lat)||dw(this._long,e._long)}}const IA=/^__.*__$/;class xA{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new JS(e,this.data,this.fieldMask,t,this.fieldTransforms):new XS(e,this.data,t,this.fieldTransforms)}}class kA{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new JS(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function EA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Yy()}}class TA{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.mu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new TA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.wu(e),r}Su(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return GA(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(EA(this.fu)&&IA.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class CA{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||OE(e)}Fu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new TA({fu:e,methodName:t,vu:n,path:ww.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function AA(e){const t=e._freezeSettings(),n=OE(e._databaseId);return new CA(e._databaseId,!!t.ignoreUndefinedProperties,n)}function RA(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Fu(o.merge||o.mergeFields?2:0,t,n,i);qA("Data must be an object, but it was:",s,r);const a=VA(r,s);let l,c;if(o.merge)l=new Lb(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=WA(t,r,n);if(!s.contains(i))throw new Zy(Jy.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));QA(e,i)||e.push(i)}l=new Lb(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new xA(new p_(a),l,c)}class PA extends _A{_toFieldTransform(e){if(2!==e.fu)throw 1===e.fu?e.Du("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Du("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof PA}}function NA(e,t,n){return new TA({fu:3,vu:t.settings.vu,methodName:e._methodName,yu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class OA extends _A{_toFieldTransform(e){return new VS(e.path,new OS)}isEqual(e){return e instanceof OA}}class DA extends _A{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=NA(this,e,!0),n=this.Mu.map((e=>zA(e,t))),r=new DS(n);return new VS(e.path,r)}isEqual(e){return e instanceof DA&&qn(this.Mu,e.Mu)}}class LA extends _A{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=NA(this,e,!0),n=this.Mu.map((e=>zA(e,t))),r=new MS(n);return new VS(e.path,r)}isEqual(e){return e instanceof LA&&qn(this.Mu,e.Mu)}}class MA extends _A{constructor(e,t){super(e),this.xu=t}_toFieldTransform(e){const t=new jS(e.serializer,CS(e.serializer,this.xu));return new VS(e.path,t)}isEqual(e){return e instanceof MA&&this.xu===e.xu}}function FA(e,t,n,r){const i=e.Fu(1,t,n);qA("Data must be an object, but it was:",i,r);const o=[],s=p_.empty();Tb(r,((e,r)=>{const a=KA(t,e,n);r=nr(r);const l=i.Su(a);if(r instanceof PA)o.push(a);else{const e=zA(r,l);null!=e&&(o.push(a),s.set(a,e))}}));const a=new Lb(o);return new kA(s,a,i.fieldTransforms)}function jA(e,t,n,r,i,o){const s=e.Fu(1,t,n),a=[WA(t,r,n)],l=[i];if(o.length%2!=0)throw new Zy(Jy.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<o.length;h+=2)a.push(WA(t,o[h])),l.push(o[h+1]);const c=[],u=p_.empty();for(let h=a.length-1;h>=0;--h)if(!QA(c,a[h])){const e=a[h];let t=l[h];t=nr(t);const n=s.Su(e);if(t instanceof PA)c.push(e);else{const r=zA(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Lb(c);return new kA(u,d,s.fieldTransforms)}function UA(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return zA(n,e.Fu(r?4:3,t))}function zA(e,t){if(BA(e=nr(e)))return qA("Unsupported field value:",t,e),VA(e,t);if(e instanceof _A)return function(e,t){if(!EA(t.fu))throw t.Du("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Du("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=zA(i,t.bu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=nr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return CS(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=pw.fromDate(e);return{timestampValue:OI(t.serializer,n)}}if(e instanceof pw){const n=new pw(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:OI(t.serializer,n)}}if(e instanceof SA)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof wA)return{bytesValue:DI(t.serializer,e._byteString)};if(e instanceof tA){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Du("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:FI(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Du("Unsupported field value: ".concat(QC(e)))}(e,t)}function VA(e,t){const n={};return Cb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Tb(e,((e,r)=>{const i=zA(r,t.pu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function BA(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof pw||e instanceof SA||e instanceof wA||e instanceof tA||e instanceof _A)}function qA(e,t,n){if(!BA(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=QC(n);throw"an object"===r?t.Du(e+" a custom object"):t.Du(e+" "+r)}}function WA(e,t,n){if((t=nr(t))instanceof bA)return t._internalPath;if("string"==typeof t)return KA(e,t);throw GA("Field path arguments must be of type string or ",e,!1,void 0,n)}const HA=new RegExp("[~\\*/\\[\\]]");function KA(e,t,n){if(t.search(HA)>=0)throw GA("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new bA(...t.split("."))._internalPath}catch(l){throw GA("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function GA(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new Zy(Jy.INVALID_ARGUMENT,a+e+l)}function QA(e,t){return e.some((e=>e.isEqual(t)))}class YA{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new tA(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new $A(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(XA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class $A extends YA{data(){return super.data()}}function XA(e,t){return"string"==typeof t?KA(e,t):t instanceof bA?t._internalPath:t._delegate._internalPath}function JA(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Zy(Jy.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ZA{}class eR extends ZA{}function tR(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof ZA&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof rR)).length,n=e.filter((e=>e instanceof nR)).length;if(t>1||t>0&&n>0)throw new Zy(Jy.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class nR extends eR{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new nR(e,t,n)}_apply(e){const t=this._parse(e);return dR(e._query,t),new eA(e.firestore,e.converter,rS(e._query,t))}_parse(e){const t=AA(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Zy(Jy.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){uR(s,o);const t=[];for(const n of s)t.push(cR(r,e,n));a={arrayValue:{values:t}}}else a=cR(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||uR(s,o),a=UA(n,t,s,"in"===o||"not-in"===o);return I_.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class rR extends ZA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new rR(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:x_.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)dR(n,i),n=rS(n,i)}(e._query,t),new eA(e.firestore,e.converter,rS(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class iR extends eR{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new iR(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Zy(Jy.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Zy(Jy.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new b_(t,n)}(e._query,this._field,this._direction);return new eA(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Y_(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class oR extends eR{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new oR(e,t,n)}_apply(e){return new eA(e.firestore,e.converter,iS(e._query,this._limit,this._limitType))}}class sR extends eR{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new sR(e,t,n)}_apply(e){const t=lR(e,this.type,this._docOrFields,this._inclusive);return new eA(e.firestore,e.converter,function(e,t){return new Y_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class aR extends eR{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new aR(e,t,n)}_apply(e){const t=lR(e,this.type,this._docOrFields,this._inclusive);return new eA(e.firestore,e.converter,function(e,t){return new Y_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function lR(e,t,n,r){if(n[0]=nr(n[0]),n[0]instanceof YA)return function(e,t,n,r,i){if(!r)throw new Zy(Jy.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const o=[];for(const s of eS(e))if(s.field.isKeyField())o.push(n_(t,r.key));else{const e=r.data.field(s.field);if(Bb(e))throw new Zy(Jy.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new Zy(Jy.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}o.push(e)}return new v_(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=AA(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new Zy(Jy.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<i.length;l++){const o=i[l];if(s[l].field.isKeyField()){if("string"!=typeof o)throw new Zy(Jy.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof o));if(!Z_(e)&&-1!==o.indexOf("/"))throw new Zy(Jy.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(o,"' contains a slash."));const n=e.path.child(vw.fromString(o));if(!bw.isDocumentKey(n))throw new Zy(Jy.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new bw(n);a.push(n_(t,i))}else{const e=UA(n,r,o);a.push(e)}}return new v_(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function cR(e,t,n){if("string"==typeof(n=nr(n))){if(""===n)throw new Zy(Jy.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Z_(t)&&-1!==n.indexOf("/"))throw new Zy(Jy.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(vw.fromString(n));if(!bw.isDocumentKey(r))throw new Zy(Jy.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return n_(e,new bw(r))}if(n instanceof tA)return n_(e,n._key);throw new Zy(Jy.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(QC(n),"."))}function uR(e,t){if(!Array.isArray(e)||0===e.length)throw new Zy(Jy.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function dR(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Zy(Jy.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Zy(Jy.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class hR{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Yb(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zb(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vb(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Yy()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Tb(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new SA(zb(e.latitude),zb(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=qb(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Wb(e));default:return null}}convertTimestamp(e){const t=Ub(e);return new pw(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=vw.fromString(e);$y(ax(n));const r=new Kb(n.get(1),n.get(3)),i=new bw(n.popFirst(5));return r.isEqual(t)||Ky("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function fR(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class pR extends hR{constructor(e){super(),this.firestore=e}convertBytes(e){return new wA(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tA(this.firestore,null,t)}}class mR{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gR extends YA{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new vR(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(XA("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class vR extends gR{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class yR{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new mR(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new vR(this._firestore,this._userDataWriter,n.key,n,new mR(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Zy(Jy.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new vR(e._firestore,e._userDataWriter,n.doc.key,n.doc,new mR(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new vR(e._firestore,e._userDataWriter,t.doc.key,t.doc,new mR(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:wR(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function wR(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Yy()}}function bR(e,t){return e instanceof gR&&t instanceof gR?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof yR&&t instanceof yR&&e._firestore===t._firestore&&sA(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class _R extends hR{constructor(e){super(),this.firestore=e}convertBytes(e){return new wA(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tA(this.firestore,null,t)}}function SR(e){e=YC(e,tA);const t=YC(e.firestore,uA),n=dA(t),r=new _R(t);return function(e,t){const n=new ew;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Xy(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Zy(Jy.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=vT(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await DC(e),t,n))),n.promise}(n,e._key).then((n=>new gR(t,r,e._key,n,new mR(null!==n&&n.hasLocalMutations,!0),e.converter)))}function IR(e){e=YC(e,eA);const t=YC(e.firestore,uA),n=dA(t),r=new _R(t);return function(e,t){const n=new ew;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await lE(e,t,!0),i=new FT(t,r.ls),o=i.da(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=vT(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await DC(e),t,n))),n.promise}(n,e._query).then((n=>new yR(t,r,e,n)))}function xR(e,t,n){e=YC(e,tA);const r=YC(e.firestore,uA),i=fR(e.converter,t,n);return CR(r,[RA(AA(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,qS.none())])}function kR(e,t,n){e=YC(e,tA);const r=YC(e.firestore,uA),i=AA(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return o="string"==typeof(t=nr(t))||t instanceof bA?jA(i,"updateDoc",e._key,t,n,a):FA(i,"updateDoc",e._key,t),CR(r,[o.toMutation(e._key,qS.exists(!0))])}function ER(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=nr(e);let a={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||lA(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(lA(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[l+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let u,d,h;if(e instanceof tA)d=YC(e.firestore,uA),h=X_(e._key.path),u={next:t=>{n[l]&&n[l](AR(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=YC(e,eA);d=YC(t.firestore,uA),h=t._query;const r=new _R(d);u={next:e=>{n[l]&&n[l](new yR(d,r,t,e))},error:n[l+1],complete:n[l+2]},JA(e._query)}return function(e,t,n,r){const i=new IC(r),o=new RT(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>IT(await jC(e),o))),()=>{i.$a(),e.asyncQueue.enqueueAndForget((async()=>xT(await jC(e),o)))}}(dA(d),h,c,u)}function TR(e,t){return function(e,t){const n=new IC(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Xy(e).z_.add(t),t.next()}(await jC(e),n))),()=>{n.$a(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Xy(e).z_.delete(t)}(await jC(e),n)))}}(dA(e=YC(e,uA)),lA(t)?t:{next:t})}function CR(e,t){return function(e,t){const n=new ew;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=vC(e);try{const e=await function(e,t){const n=Xy(e),r=pw.now(),i=t.reduce(((e,t)=>e.add(t.key)),IS());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=pS(),l=IS();return n.ss.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=YS(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new JS(e.key,t,m_(t.value.mapValue),qS.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:vS(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.xa[e.currentUser.toKey()];r||(r=new Ab(dw)),r=r.insert(t,n),e.xa[e.currentUser.toKey()]=r}(r,e.batchId,n),await oC(r,e.changes),await rT(r.remoteStore)}catch(e){const t=vT(e,"Failed to persist write");n.reject(t)}}(await MC(e),t,n))),n.promise}(dA(e),t)}function AR(e,t,n){const r=n.docs.get(t._key),i=new _R(e);return new gR(e,i,t._key,r,new mR(n.hasPendingWrites,n.fromCache),t.converter)}const RR={maxAttempts:5};class PR{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=AA(e)}set(e,t,n){this._verifyNotCommitted();const r=NR(e,this._firestore),i=fR(r.converter,t,n),o=RA(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,qS.none())),this}update(e,t,n){this._verifyNotCommitted();const r=NR(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=nr(t))||t instanceof bA?jA(this._dataReader,"WriteBatch.update",r._key,t,n,s):FA(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,qS.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=NR(e,this._firestore);return this._mutations=this._mutations.concat(new nI(t._key,qS.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Zy(Jy.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function NR(e,t){if((e=nr(e)).firestore!==t)throw new Zy(Jy.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class OR extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=AA(e)}get(e){const t=NR(e,this._firestore),n=new pR(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Yy();const r=e[0];if(r.isFoundDocument())return new YA(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new YA(this._firestore,n,t._key,null,t.converter);throw Yy()}))}set(e,t,n){const r=NR(e,this._firestore),i=fR(r.converter,t,n),o=RA(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=NR(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=nr(t))||t instanceof bA?jA(this._dataReader,"Transaction.update",r._key,t,n,s):FA(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=NR(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=NR(e,this._firestore),n=new _R(this._firestore);return super.get(e).then((e=>new gR(this._firestore,n,t._key,e._document,new mR(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){By=e}(Zr),Wr(new rr("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new uA(new iw(e.getProvider("auth-internal")),new lw(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Zy(Jy.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kb(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),oi(zy,"4.6.1",e),oi(zy,"4.6.1","esm2017")}();function DR(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Zy("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function LR(){if("undefined"===typeof Uint8Array)throw new Zy("unimplemented","Uint8Arrays are not available in this environment.")}function MR(){if("undefined"==typeof atob)throw new Zy("unimplemented","Blobs are unavailable in Firestore in this environment.")}class FR{constructor(e){this._delegate=e}static fromBase64String(e){return MR(),new FR(wA.fromBase64String(e))}static fromUint8Array(e){return LR(),new FR(wA.fromUint8Array(e))}toBase64(){return MR(),this._delegate.toBase64()}toUint8Array(){return LR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function jR(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class UR{enableIndexedDbPersistence(e,t){return function(e,t){yA(e=YC(e,uA));const n=dA(e);if(n._uninitializedComponentsProvider)throw new Zy(Jy.FAILED_PRECONDITION,"SDK cache is already specified.");Gy("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new _C;return fA(n,i,new wC(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){yA(e=YC(e,uA));const t=dA(e);if(t._uninitializedComponentsProvider)throw new Zy(Jy.FAILED_PRECONDITION,"SDK cache is already specified.");Gy("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new _C;return fA(t,r,new bC(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Zy(Jy.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new ew;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Lw.D())return Promise.resolve();const t=e+"main";await Lw.delete(t)}($k(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class zR{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Kb||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Gy("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ZC(this._delegate,e,t,n)}enableNetwork(){return mA(this._delegate)}disableNetwork(){return gA(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,HC("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return pA(this._delegate)}onSnapshotsInSync(e){return TR(this._delegate,e)}get app(){if(!this._appCompat)throw new Zy("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new eP(this,rA(this._delegate,e))}catch(t){throw KR(t,"collection()","Firestore.collection()")}}doc(e){try{return new HR(this,iA(this._delegate,e))}catch(t){throw KR(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new XR(this,function(e,t){if(e=YC(e,JC),WC("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Zy(Jy.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new eA(e,null,function(e){return new Y_(vw.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw KR(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=YC(e,uA);const r=Object.assign(Object.assign({},RR),n);return function(e){if(e.maxAttempts<1)throw new Zy(Jy.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new ew;return e.asyncQueue.enqueueAndForget((async()=>{const i=await FC(e);new EC(e.asyncQueue,i,n,t,r).Xa()})),r.promise}(dA(e),(n=>t(new OR(e,n))),r)}(this._delegate,(t=>e(new BR(this,t))))}batch(){return dA(this._delegate),new qR(new PR(this._delegate,(e=>CR(this._delegate,e))))}loadBundle(e){return function(e,t){const n=dA(e=YC(e,uA)),r=new cA;return VC(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return vA(this._delegate,e).then((e=>e?new XR(this,e):null))}}class VR extends hR{constructor(e){super(),this.firestore=e}convertBytes(e){return new FR(new wA(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return HR.forKey(t,this.firestore,null)}}class BR{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new VR(e)}get(e){const t=tP(e);return this._delegate.get(t).then((e=>new YR(this._firestore,new gR(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=tP(e);return n?(DR("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=tP(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=tP(e);return this._delegate.delete(t),this}}class qR{constructor(e){this._delegate=e}set(e,t,n){const r=tP(e);return n?(DR("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=tP(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=tP(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class WR{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new vR(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new $R(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=WR.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new WR(e,new VR(e),t),r.set(t,i)),i}}WR.INSTANCES=new WeakMap;class HR{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new VR(e)}static forPath(e,t,n){if(e.length%2!==0)throw new Zy("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new HR(t,new tA(t._delegate,n,new bw(e)))}static forKey(e,t,n){return new HR(t,new tA(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new eP(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new eP(this.firestore,rA(this._delegate,e))}catch(t){throw KR(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=nr(e))instanceof tA&&oA(this._delegate,e)}set(e,t){t=DR("DocumentReference.set",t);try{return t?xR(this._delegate,e,t):xR(this._delegate,e)}catch(n){throw KR(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?kR(this._delegate,e):kR(this._delegate,e,t,...r)}catch(o){throw KR(o,"updateDoc()","DocumentReference.update()")}}delete(){return CR(YC((e=this._delegate).firestore,uA),[new nI(e._key,qS.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=GR(t),i=QR(t,(e=>new YR(this.firestore,new gR(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return ER(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?SR(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=YC(e,tA);const t=YC(e.firestore,uA);return UC(dA(t),e._key,{source:"server"}).then((n=>AR(t,e,n)))}(this._delegate):function(e){e=YC(e,tA);const t=YC(e.firestore,uA);return UC(dA(t),e._key).then((n=>AR(t,e,n)))}(this._delegate),t.then((e=>new YR(this.firestore,new gR(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new HR(this.firestore,e?this._delegate.withConverter(WR.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function KR(e,t,n){return e.message=e.message.replace(t,n),e}function GR(e){for(const t of e)if("object"===typeof t&&!jR(t))return t;return{}}function QR(e,t){var n,r;let i;return i=jR(e[0])?e[0]:jR(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class YR{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new HR(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return bR(this._delegate,e._delegate)}}class $R extends YR{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||Yy(),t}}class XR{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new VR(e)}where(e,t,n){try{return new XR(this.firestore,tR(this._delegate,function(e,t,n){const r=t,i=XA("where",e);return nR._create(i,r,n)}(e,t,n)))}catch(r){throw KR(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new XR(this.firestore,tR(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=XA("orderBy",e);return iR._create(n,t)}(e,t)))}catch(n){throw KR(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new XR(this.firestore,tR(this._delegate,($C("limit",t=e),oR._create("limit",t,"F"))))}catch(t){throw KR(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new XR(this.firestore,tR(this._delegate,($C("limitToLast",t=e),oR._create("limitToLast",t,"L"))))}catch(t){throw KR(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new XR(this.firestore,tR(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sR._create("startAt",t,!0)}(...arguments)))}catch(e){throw KR(e,"startAt()","Query.startAt()")}}startAfter(){try{return new XR(this.firestore,tR(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sR._create("startAfter",t,!1)}(...arguments)))}catch(e){throw KR(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new XR(this.firestore,tR(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return aR._create("endBefore",t,!1)}(...arguments)))}catch(e){throw KR(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new XR(this.firestore,tR(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return aR._create("endAt",t,!0)}(...arguments)))}catch(e){throw KR(e,"endAt()","Query.endAt()")}}isEqual(e){return sA(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?IR(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=YC(e,eA);const t=YC(e.firestore,uA),n=dA(t),r=new _R(t);return zC(n,e._query,{source:"server"}).then((n=>new yR(t,r,e,n)))}(this._delegate):function(e){e=YC(e,eA);const t=YC(e.firestore,uA),n=dA(t),r=new _R(t);return JA(e._query),zC(n,e._query).then((n=>new yR(t,r,e,n)))}(this._delegate),t.then((e=>new ZR(this.firestore,new yR(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=GR(t),i=QR(t,(e=>new ZR(this.firestore,new yR(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return ER(this._delegate,r,i)}withConverter(e){return new XR(this.firestore,e?this._delegate.withConverter(WR.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class JR{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new $R(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ZR{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new XR(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new $R(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new JR(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new $R(this._firestore,n))}))}isEqual(e){return bR(this._delegate,e._delegate)}}class eP extends XR{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new HR(this.firestore,e):null}doc(e){try{return new HR(this.firestore,void 0===e?iA(this._delegate):iA(this._delegate,e))}catch(t){throw KR(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=YC(e.firestore,uA),r=iA(e),i=fR(e.converter,t);return CR(n,[RA(AA(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,qS.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new HR(this.firestore,e)))}isEqual(e){return oA(this._delegate,e._delegate)}withConverter(e){return new eP(this.firestore,e?this._delegate.withConverter(WR.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function tP(e){return YC(e,tA)}class nP{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new bA(...t)}static documentId(){return new nP(ww.keyField().canonicalString())}isEqual(e){return(e=nr(e))instanceof bA&&this._delegate._internalPath.isEqual(e._internalPath)}}class rP{constructor(e){this._delegate=e}static serverTimestamp(){const e=new OA("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new rP(e)}static delete(){const e=new PA("deleteField");return e._methodName="FieldValue.delete",new rP(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new DA("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new rP(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new LA("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new rP(e)}static increment(e){const t=new MA("increment",e);return t._methodName="FieldValue.increment",new rP(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const iP={Firestore:zR,GeoPoint:SA,Timestamp:pw,Blob:FR,Transaction:BR,WriteBatch:qR,DocumentReference:HR,DocumentSnapshot:YR,Query:XR,QueryDocumentSnapshot:$R,QuerySnapshot:ZR,CollectionReference:eP,FieldPath:nP,FieldValue:rP,setLogLevel:function(e){var t;t=e,qy.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new rr("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},iP)))}(e,((e,t)=>new zR(e,t,new UR))),e.registerVersion("@firebase/firestore-compat","0.3.30")}(hc);const oP={apiKey:"AIzaSyDxLIA0DmvYCBcrMJpLFFIBFRvc_uN2Zwg",authDomain:"nova-type.firebaseapp.com",projectId:"nova-type",storageBucket:"nova-type.appspot.com",messagingSenderId:"393406962403",appId:"1:393406962403:web:7e65b59332c690105383d6",measurementId:"G-TJ0MCJPEDZ"},sP=ei(oP),aP=new is;aP.setCustomParameters({prompt:"select_account"});const lP=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ni();const t=Hr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Hr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(qn(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Ei(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ka,persistence:[Ds,vs,ws]}),r=En("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Aa)return;const r=null===t||void 0===t?void 0:t.token;Ra!==r&&(Ra=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){nr(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){nr(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const o=xn("auth");return o&&Bo(n,"http://".concat(o)),n}(sP);!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ni();e=nr(e);const t=Hr(e,kl);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Hr(e,kl);if(n.isInitialized()){const e=n.getImmediate();if(qn(t,n.getOptions()))return e;throw Nl.create("already-initialized")}const r=n.initialize({options:t})}(e)}(sP);hc.initializeApp(oP);const cP=hc.firestore();function uP(){return uP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uP.apply(this,arguments)}var dP;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(dP||(dP={}));const hP="popstate";function fP(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function pP(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function mP(e,t){return{usr:e.state,key:e.key,idx:t}}function gP(e,t,n,r){return void 0===n&&(n=null),uP({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?yP(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function vP(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function yP(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function wP(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=dP.Pop,l=null,c=u();function u(){return(s.state||{idx:null}).idx}function d(){a=dP.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:a,location:f.location,delta:t})}function h(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:vP(e);return n=n.replace(/ $/,"%20"),fP(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,s.replaceState(uP({},s.state,{idx:c}),""));let f={get action(){return a},get location(){return e(i,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(hP,d),l=e,()=>{i.removeEventListener(hP,d),l=null}},createHref:e=>t(i,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=dP.Push;let r=gP(f.location,e,t);n&&n(r,e),c=u()+1;let d=mP(r,c),h=f.createHref(r);try{s.pushState(d,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(h)}o&&l&&l({action:a,location:f.location,delta:1})},replace:function(e,t){a=dP.Replace;let r=gP(f.location,e,t);n&&n(r,e),c=u();let i=mP(r,c),d=f.createHref(r);s.replaceState(i,"",d),o&&l&&l({action:a,location:f.location,delta:0})},go:e=>s.go(e)};return f}var bP;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(bP||(bP={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function _P(e,t,n){void 0===n&&(n="/");let r=LP(("string"===typeof t?yP(t):t).pathname||"/",n);if(null==r)return null;let i=SP(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s){let e=DP(r);o=NP(i[s],e)}return o}function SP(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(fP(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=zP([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(fP(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),SP(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:PP(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of IP(e.path))i(e,t,r);else i(e,t)})),t}function IP(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=IP(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const xP=/^:[\w-]+$/,kP=3,EP=2,TP=1,CP=10,AP=-2,RP=e=>"*"===e;function PP(e,t){let n=e.split("/"),r=n.length;return n.some(RP)&&(r+=AP),t&&(r+=EP),n.filter((e=>!RP(e))).reduce(((e,t)=>e+(xP.test(t)?kP:""===t?TP:CP)),r)}function NP(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],a=s===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=OP({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;o.push({params:r,pathname:zP([i,c.pathname]),pathnameBase:VP(zP([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=zP([i,c.pathnameBase]))}return o}function OP(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);pP("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function DP(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return pP(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function LP(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function MP(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function FP(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function jP(e,t){let n=FP(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function UP(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=yP(e):(i=uP({},e),fP(!i.pathname||!i.pathname.includes("?"),MP("?","pathname","search",i)),fP(!i.pathname||!i.pathname.includes("#"),MP("#","pathname","hash",i)),fP(!i.search||!i.search.includes("#"),MP("#","search","hash",i)));let o,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(null==a)o=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?yP(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:BP(r),hash:qP(i)}}(i,o),c=a&&"/"!==a&&a.endsWith("/"),u=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const zP=e=>e.join("/").replace(/\/\/+/g,"/"),VP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),BP=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",qP=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function WP(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const HP=["post","put","patch","delete"],KP=(new Set(HP),["get",...HP]);new Set(KP),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function GP(){return GP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GP.apply(this,arguments)}const QP=t.createContext(null);const YP=t.createContext(null);const $P=t.createContext(null);const XP=t.createContext(null);const JP=t.createContext({outlet:null,matches:[],isDataRoute:!1});const ZP=t.createContext(null);function eN(){return null!=t.useContext(XP)}function tN(){return eN()||fP(!1),t.useContext(XP).location}function nN(e){t.useContext($P).static||t.useLayoutEffect(e)}function rN(){let{isDataRoute:e}=t.useContext(JP);return e?function(){let{router:e}=hN(uN.UseNavigateStable),n=pN(dN.UseNavigateStable),r=t.useRef(!1);nN((()=>{r.current=!0}));let i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,GP({fromRouteId:n},i)))}),[e,n]);return i}():function(){eN()||fP(!1);let e=t.useContext(QP),{basename:n,future:r,navigator:i}=t.useContext($P),{matches:o}=t.useContext(JP),{pathname:s}=tN(),a=JSON.stringify(jP(o,r.v7_relativeSplatPath)),l=t.useRef(!1);return nN((()=>{l.current=!0})),t.useCallback((function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void i.go(t);let o=UP(t,JSON.parse(a),s,"path"===r.relative);null==e&&"/"!==n&&(o.pathname="/"===o.pathname?n:zP([n,o.pathname])),(r.replace?i.replace:i.push)(o,r.state,r)}),[n,i,a,s,e])}()}function iN(e,n,r,i){eN()||fP(!1);let{navigator:o}=t.useContext($P),{matches:s}=t.useContext(JP),a=s[s.length-1],l=a?a.params:{},c=(a&&a.pathname,a?a.pathnameBase:"/");a&&a.route;let u,d=tN();if(n){var h;let e="string"===typeof n?yP(n):n;"/"===c||(null==(h=e.pathname)?void 0:h.startsWith(c))||fP(!1),u=e}else u=d;let f=u.pathname||"/",p=f;if("/"!==c){let e=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let m=_P(e,{pathname:p});let g=cN(m&&m.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:zP([c,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:zP([c,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,r,i);return n&&g?t.createElement(XP.Provider,{value:{location:GP({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:dP.Pop}},g):g}function oN(){let e=function(){var e;let n=t.useContext(ZP),r=fN(dN.UseRouteError),i=pN(dN.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=WP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,null)}const sN=t.createElement(oN,null);class aN extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(JP.Provider,{value:this.props.routeContext},t.createElement(ZP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lN(e){let{routeContext:n,match:r,children:i}=e,o=t.useContext(QP);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(JP.Provider,{value:n},i)}function cN(e,n,r,i){var o;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var s;if(null==(s=r)||!s.errors)return null;e=r.matches}let a=e,l=null==(o=r)?void 0:o.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||fP(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,u=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){c=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight(((e,i,o)=>{let s,d=!1,h=null,f=null;var p;r&&(s=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||sN,c&&(u<0&&0===o?(p="route-fallback",!1||mN[p]||(mN[p]=!0),d=!0,f=null):u===o&&(d=!0,f=i.route.hydrateFallbackElement||null)));let m=n.concat(a.slice(0,o+1)),g=()=>{let n;return n=s?h:d?f:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(lN,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?t.createElement(aN,{location:r.location,revalidation:r.revalidation,component:h,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var uN=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(uN||{}),dN=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(dN||{});function hN(e){let n=t.useContext(QP);return n||fP(!1),n}function fN(e){let n=t.useContext(YP);return n||fP(!1),n}function pN(e){let n=function(e){let n=t.useContext(JP);return n||fP(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||fP(!1),r.route.id}const mN={};r.startTransition;function gN(e){fP(!1)}function vN(e){let{basename:n="/",children:r=null,location:i,navigationType:o=dP.Pop,navigator:s,static:a=!1,future:l}=e;eN()&&fP(!1);let c=n.replace(/^\/*/,"/"),u=t.useMemo((()=>({basename:c,navigator:s,static:a,future:GP({v7_relativeSplatPath:!1},l)})),[c,l,s,a]);"string"===typeof i&&(i=yP(i));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=i,g=t.useMemo((()=>{let e=LP(d,c);return null==e?null:{location:{pathname:e,search:h,hash:f,state:p,key:m},navigationType:o}}),[c,d,h,f,p,m,o]);return null==g?null:t.createElement($P.Provider,{value:u},t.createElement(XP.Provider,{children:r,value:g}))}function yN(e){let{children:t,location:n}=e;return iN(wN(t),n)}new Promise((()=>{}));t.Component;function wN(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let o=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,wN(e.props.children,o));e.type!==gN&&fP(!1),e.props.index&&e.props.children&&fP(!1);let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=wN(e.props.children,o)),r.push(s)})),r}const bN=()=>{const e=rN();return(0,t.useEffect)((()=>{lP.onAuthStateChanged((()=>{(async()=>{lP.currentUser?(e("/LoadingPage"),await async function(){if(!SN())throw new Error("Can't initialize! User not logged in!");let e,t,n;try{e=await async function(){var e;const t=cP.collection("Users").doc(null===(e=lP.currentUser)||void 0===e?void 0:e.uid),n=await t.collection("historySettings").doc("historySetting").get();if(n.exists){var r;return{...null!==(r=n.data())&&void 0!==r?r:{}}}throw new Error("failed to get history settings data")}(),t=await async function(){var e;const t=cP.collection("Users").doc(null===(e=lP.currentUser)||void 0===e?void 0:e.uid),n=await t.collection("settings").doc("setting").get();if(n.exists){var r;return{...null!==(r=n.data())&&void 0!==r?r:{}}}throw new Error("failed to get settings data")}(),n=await async function(){var e;const t=cP.collection("Users").doc(null===(e=lP.currentUser)||void 0===e?void 0:e.uid),n=await t.collection("typingStatArrays").doc("typingStatArray").get();if(n.exists){const e=n.data();return Object.values(null!==e&&void 0!==e?e:{}).at(0)}throw new Error("failed to get typing stats data")}(),mn.overrideHistorySettings(e),mn.overrideWithSettingsData(t),mn.overrideWithTypingStatData(n)}catch(r){return void await async function(){var e;const t=cP.collection("Users").doc(null===(e=lP.currentUser)||void 0===e?void 0:e.uid),n=t.collection("settings"),i=t.collection("historySettings"),o=t.collection("typingStatArrays");try{await n.doc("setting").set(mn.getSettings().toDoc()),await i.doc("historySetting").set(mn.getHistorySettings().toDoc()),await o.doc("typingStatArray").set(mn.typingStatsToDoc())}catch(r){console.error(r)}}()}}(),await VL(),e(-1)):(e("/LoadingPage"),await mn.reset(),await VL(),e(-1))})()}))}),[]),(0,U.jsx)(U.Fragment,{children:(0,U.jsx)("span",{})})};async function _N(){try{await async function(e,t,n){if(Qr(e.app))return Promise.reject(Ti(e,"operation-not-supported-in-this-environment"));const r=Do(e);Ri(e,t,ts);const i=js(r,n);return new Hs(r,"signInViaPopup",t,i).executeNotNull()}(lP,aP)}catch(e){console.error(e)}}function SN(){return!!lP.currentUser&&null!=lP.currentUser.uid}async function IN(){try{await async function(){var e;if(!SN())return;const t=cP.collection("Users").doc(null===(e=lP.currentUser)||void 0===e?void 0:e.uid),n=t.collection("typingStatArrays"),r=t.collection("historySettings"),i=t.collection("settings"),o=n.doc("typingStatArray"),s=r.doc("historySetting"),a=i.doc("setting"),l=cP.batch();l.update(o,mn.typingStatsToDoc()),l.update(s,mn.getHistorySettings().toDoc()),l.update(a,mn.getSettings().toDoc()),l.commit().then((()=>{})).catch((e=>{console.error("Error writing batch",e)}))}(),await function(e){return nr(e).signOut()}(lP)}catch(e){console.error(e)}}async function xN(){var e;if(!SN())return;const t=cP.collection("Users").doc(null===(e=lP.currentUser)||void 0===e?void 0:e.uid).collection("settings");try{await t.doc("setting").update(mn.getSettings().toDoc())}catch(n){console.error(n)}}var kN,EN=!1,TN=!1,CN=!0,AN=!1,RN=!0,PN=0;function NN(){var e;null===(e=kN.current)||void 0===e||e.focus()}var ON=()=>{};const DN=()=>{const e=(0,t.useContext)(zL),n=(0,t.useContext)(UL);kN=(0,t.useRef)(null);const r=async()=>{TN=!0;const t=await ft(e);e.setToType(t.toString()),e.setTypedSoFar(""),e.setWpm(0),LN(),AN=!1,TN=!1},i=async t=>{o(),await r(),e.setTypedSoFar(""),mn.pushTypingStat(new pn({wpm:+e.wpm,accuracy:+e.accuracy,generatedPrompt:e.toType.valueOf(),typedPrompt:t,duration:+e.duration,startTime:PN,endTime:(new Date).getTime()})),async function(){var e;if(!SN())return;const t=cP.collection("Users").doc(null===(e=lP.currentUser)||void 0===e?void 0:e.uid).collection("typingStatArrays");try{await t.doc("typingStatArray").update(mn.typingStatsToDoc())}catch(n){}}().then((()=>{NN()}))},o=()=>{!function(){var e;null===(e=kN.current)||void 0===e||e.blur()}(),e.setTimersArePaused(!0)},s=()=>{e.setTimersArePaused(!1)};t.useEffect((()=>{r(),mn.setSettings({fontSize:+e.fontSize,wordCount:+e.wordCount,numbersEnabled:e.numbersEnabled.valueOf(),sentencesEnabled:e.sentencesEnabled.valueOf(),wordsEnabled:e.wordsEnabled.valueOf(),symbolsEnabled:e.symbolsEnabled.valueOf(),lowercaseEnabled:e.lowercaseEnabled.valueOf()})}),[e.wordCount,e.wordsEnabled,e.numbersEnabled,e.symbolsEnabled,e.lowercaseEnabled,e.sentencesEnabled,e.fontSize]),ON=r;const a=e=>{e.preventDefault()},l=t=>{CN?TN||(AN||(RN=!1,AN=!0,PN=(new Date).getTime(),RN=!0,s()),e.setTypedSoFar(t.target.value),EN||(n.setStarArray([...n.starArray,bt()]),EN=!0,setTimeout((()=>{EN=!1}),300)),e.toType.length<=t.target.value.length&&i(t.target.value)):e.setTypedSoFar(e.typedSoFar.toString())};return(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(dn.Control,{as:"textarea",ref:kN,style:{position:"fixed",left:"200vw",top:"200vh"},onChange:e=>l(e),onKeyDown:e=>(e=>{!e.key.includes("Arrow")&&RN||e.preventDefault(),CN=!e.repeat})(e),onKeyUp:e=>{CN=!0},onMouseMove:e=>a(e),onMouseDown:e=>(e=>{kN.current&&kN.current.focus(),e.preventDefault()})(e),onMouseEnter:e=>a(e),onMouseOut:e=>a(e),onMouseUp:e=>a(e),onPaste:e=>(e=>{e.preventDefault()})(e),value:e.typedSoFar.toString()})})};var LN=()=>{};const MN=()=>{const e=(0,t.useContext)(zL),n=(0,t.useRef)(null),[r,i]=(0,t.useState)((0,U.jsx)(U.Fragment,{}));return LN=()=>{null!==n.current&&(n.current.scrollTop=0)},t.useEffect((()=>{i(yt(e.toType.valueOf(),e.typedSoFar.valueOf(),!0,+e.fontSize,e)),((e,t)=>{var r;const i=null===(r=n.current)||void 0===r?void 0:r.childNodes[e];i instanceof HTMLElement&&i.scrollIntoView({behavior:t,block:"center"})})(e.typedSoFar.length+1,"smooth")}),[e.fontSize,e.toType,e.typedSoFar]),(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("div",{style:{height:"20px"}}),(0,U.jsxs)("div",{className:"scrollCss",ref:n,contentEditable:!1,style:{height:"30vh",width:"".concat(+e.scrollPaneWidth,"vw"),overflow:"hidden",whiteSpace:"normal",wordWrap:"break-word",overflowY:"hidden"},onMouseUp:()=>{NN()},children:[" ",r]},"scrollPane")]})};function FN(){const e=D(Ee);return e[Te]||e}const jN=t.createContext();function UN(e){return p("MuiGrid",e)}const zN=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],VN=Le("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((e=>"spacing-xs-".concat(e))),...["column-reverse","column","row-reverse","row"].map((e=>"direction-xs-".concat(e))),...["nowrap","wrap-reverse","wrap"].map((e=>"wrap-xs-".concat(e))),...zN.map((e=>"grid-xs-".concat(e))),...zN.map((e=>"grid-sm-".concat(e))),...zN.map((e=>"grid-md-".concat(e))),...zN.map((e=>"grid-lg-".concat(e))),...zN.map((e=>"grid-xl-".concat(e)))]),BN=VN,qN=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function WN(e){const t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function HN(e){let{breakpoints:t,values:n}=e,r="";Object.keys(n).forEach((e=>{""===r&&0!==n[e]&&(r=e)}));const i=Object.keys(t).sort(((e,n)=>t[e]-t[n]));return i.slice(0,i.indexOf(r))}const KN=Re("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:i,item:o,spacing:s,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]];const r=[];return t.forEach((t=>{const i=e[t];Number(i)>0&&r.push(n["spacing-".concat(t,"-").concat(String(i))])})),r}(s,c,t));const d=[];return c.forEach((e=>{const r=n[e];r&&d.push(t["grid-".concat(e,"-").concat(String(r))])})),[t.root,r&&t.container,o&&t.item,l&&t.zeroMinWidth,...u,"row"!==i&&t["direction-xs-".concat(String(i))],"wrap"!==a&&t["wrap-xs-".concat(String(a))],...d]}})((e=>{let{ownerState:t}=e;return(0,a.A)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){let{theme:t,ownerState:n}=e;const r=(0,F.kW)({values:n.direction,breakpoints:t.breakpoints.values});return(0,F.NI)({theme:t},r,(e=>{const t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(BN.item)]={maxWidth:"none"}),t}))}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,rowSpacing:i}=n;let o={};if(r&&0!==i){const e=(0,F.kW)({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=HN({breakpoints:t.breakpoints.values,values:e})),o=(0,F.NI)({theme:t},e,((e,r)=>{var i;const o=t.spacing(e);return"0px"!==o?{marginTop:"-".concat(WN(o)),["& > .".concat(BN.item)]:{paddingTop:WN(o)}}:null!=(i=n)&&i.includes(r)?{}:{marginTop:0,["& > .".concat(BN.item)]:{paddingTop:0}}}))}return o}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,columnSpacing:i}=n;let o={};if(r&&0!==i){const e=(0,F.kW)({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=HN({breakpoints:t.breakpoints.values,values:e})),o=(0,F.NI)({theme:t},e,((e,r)=>{var i;const o=t.spacing(e);return"0px"!==o?{width:"calc(100% + ".concat(WN(o),")"),marginLeft:"-".concat(WN(o)),["& > .".concat(BN.item)]:{paddingLeft:WN(o)}}:null!=(i=n)&&i.includes(r)?{}:{width:"100%",marginLeft:0,["& > .".concat(BN.item)]:{paddingLeft:0}}}))}return o}),(function(e){let t,{theme:n,ownerState:r}=e;return n.breakpoints.keys.reduce(((e,i)=>{let o={};if(r[i]&&(t=r[i]),!t)return e;if(!0===t)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=(0,F.kW)({values:r.columns,breakpoints:n.breakpoints.values}),l="object"===typeof s?s[i]:s;if(void 0===l||null===l)return e;const c="".concat(Math.round(t/l*1e8)/1e6,"%");let u={};if(r.container&&r.item&&0!==r.columnSpacing){const e=n.spacing(r.columnSpacing);if("0px"!==e){const t="calc(".concat(c," + ").concat(WN(e),")");u={flexBasis:t,maxWidth:t}}}o=(0,a.A)({flexBasis:c,flexGrow:0,maxWidth:c},u)}return 0===n.breakpoints.values[i]?Object.assign(e,o):e[n.breakpoints.up(i)]=o,e}),{})}));const GN=e=>{const{classes:t,container:n,direction:r,item:i,spacing:o,wrap:s,zeroMinWidth:a,breakpoints:l}=e;let c=[];n&&(c=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return["spacing-xs-".concat(String(e))];const n=[];return t.forEach((t=>{const r=e[t];if(Number(r)>0){const e="spacing-".concat(t,"-").concat(String(r));n.push(e)}})),n}(o,l));const u=[];l.forEach((t=>{const n=e[t];n&&u.push("grid-".concat(t,"-").concat(String(n)))}));return m({root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...c,"row"!==r&&"direction-xs-".concat(String(r)),"wrap"!==s&&"wrap-xs-".concat(String(s)),...u]},UN,t)},QN=t.forwardRef((function(e,n){const r=Pe({props:e,name:"MuiGrid"}),{breakpoints:i}=FN(),o=(0,M.A)(r),{className:l,columns:u,columnSpacing:d,component:h="div",container:f=!1,direction:p="row",item:m=!1,rowSpacing:g,spacing:v=0,wrap:y="wrap",zeroMinWidth:w=!1}=o,b=(0,s.A)(o,qN),_=g||v,S=d||v,I=t.useContext(jN),x=f?u||12:I,k={},E=(0,a.A)({},b);i.keys.forEach((e=>{null!=b[e]&&(k[e]=b[e],delete E[e])}));const T=(0,a.A)({},o,{columns:x,container:f,direction:p,item:m,rowSpacing:_,columnSpacing:S,wrap:y,zeroMinWidth:w,spacing:v},k,{breakpoints:i.keys}),C=GN(T);return(0,U.jsx)(jN.Provider,{value:x,children:(0,U.jsx)(KN,(0,a.A)({ownerState:T,className:c(C.root,l),as:h,ref:n},E))})}));const YN=QN;function $N(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function XN(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useMemo((()=>n.every((e=>null==e))?null:e=>{n.forEach((t=>{$N(t,e)}))}),n)}const JN=XN,ZN="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;const eO=function(e){const n=t.useRef(e);return ZN((()=>{n.current=e})),t.useRef((function(){return(0,n.current)(...arguments)})).current},tO=eO,nO={};const rO=[];class iO{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new iO}start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}}function oO(){const e=function(e,n){const r=t.useRef(nO);return r.current===nO&&(r.current=e(n)),r}(iO.create).current;var n;return n=e.disposeEffect,t.useEffect(n,rO),e}let sO=!0,aO=!1;const lO=new iO,cO={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function uO(e){e.metaKey||e.altKey||e.ctrlKey||(sO=!0)}function dO(){sO=!1}function hO(){"hidden"===this.visibilityState&&aO&&(sO=!0)}function fO(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return sO||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!cO[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function pO(){const e=t.useCallback((e=>{null!=e&&function(e){e.addEventListener("keydown",uO,!0),e.addEventListener("mousedown",dO,!0),e.addEventListener("pointerdown",dO,!0),e.addEventListener("touchstart",dO,!0),e.addEventListener("visibilitychange",hO,!0)}(e.ownerDocument)}),[]),n=t.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!fO(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(aO=!0,lO.start(100,(()=>{aO=!1})),n.current=!1,!0)},ref:e}}const mO=pO;function gO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vO(e,t){return vO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vO(e,t)}function yO(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,vO(e,t)}const wO=t.createContext(null);function bO(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function _O(e,t,n){return null!=n[t]?n[t]:e.props[t]}function SO(e,n,r){var i=bO(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var s in e)s in t?o.length&&(i[s]=o,o=[]):o.push(s);var a={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];a[i[l][r]]=n(c)}a[l]=n(l)}for(r=0;r<o.length;r++)a[o[r]]=n(o[r]);return a}(n,i);return Object.keys(o).forEach((function(s){var a=o[s];if((0,t.isValidElement)(a)){var l=s in n,c=s in i,u=n[s],d=(0,t.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,t.isValidElement)(u)&&(o[s]=(0,t.cloneElement)(a,{onExited:r.bind(null,a),in:u.props.in,exit:_O(a,"exit",e),enter:_O(a,"enter",e)})):o[s]=(0,t.cloneElement)(a,{in:!1}):o[s]=(0,t.cloneElement)(a,{onExited:r.bind(null,a),in:!0,exit:_O(a,"exit",e),enter:_O(a,"enter",e)})}})),o}var IO=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},xO=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(gO(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}yO(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,o=n.children,s=n.handleExited;return{children:n.firstRender?(r=e,i=s,bO(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:_O(e,"appear",r),enter:_O(e,"enter",r),exit:_O(e,"exit",r)})}))):SO(e,o,s),firstRender:!1}},r.handleExited=function(e,t){var n=bO(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,a.A)({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=(0,s.A)(e,["component","childFactory"]),o=this.state.contextValue,a=IO(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(wO.Provider,{value:o},a):t.createElement(wO.Provider,{value:o},t.createElement(n,i,a))},n}(t.Component);xO.propTypes={},xO.defaultProps={component:"div",childFactory:function(e){return e}};const kO=xO;const EO=function(e){const{className:n,classes:r,pulsate:i=!1,rippleX:o,rippleY:s,rippleSize:a,in:l,onExited:u,timeout:d}=e,[h,f]=t.useState(!1),p=c(n,r.ripple,r.rippleVisible,i&&r.ripplePulsate),m={width:a,height:a,top:-a/2+s,left:-a/2+o},g=c(r.child,h&&r.childLeaving,i&&r.childPulsate);return l||h||f(!0),t.useEffect((()=>{if(!l&&null!=u){const e=setTimeout(u,d);return()=>{clearTimeout(e)}}}),[u,l,d]),(0,U.jsx)("span",{className:p,style:m,children:(0,U.jsx)("span",{className:g})})};const TO=Le("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);var CO,AO,RO,PO;const NO=["center","classes","className"];let OO,DO,LO,MO;const FO=(0,qe.i7)(OO||(OO=CO||(CO=o(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),jO=(0,qe.i7)(DO||(DO=AO||(AO=o(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),UO=(0,qe.i7)(LO||(LO=RO||(RO=o(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),zO=Re("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),VO=Re(EO,{name:"MuiTouchRipple",slot:"Ripple"})(MO||(MO=PO||(PO=o(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),TO.rippleVisible,FO,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),TO.ripplePulsate,(e=>{let{theme:t}=e;return t.transitions.duration.shorter}),TO.child,TO.childLeaving,jO,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),TO.childPulsate,UO,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut})),BO=t.forwardRef((function(e,n){const r=Pe({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:l}=r,u=(0,s.A)(r,NO),[d,h]=t.useState([]),f=t.useRef(0),p=t.useRef(null);t.useEffect((()=>{p.current&&(p.current(),p.current=null)}),[d]);const m=t.useRef(!1),g=oO(),v=t.useRef(null),y=t.useRef(null),w=t.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:i,cb:s}=e;h((e=>[...e,(0,U.jsx)(VO,{classes:{ripple:c(o.ripple,TO.ripple),rippleVisible:c(o.rippleVisible,TO.rippleVisible),ripplePulsate:c(o.ripplePulsate,TO.ripplePulsate),child:c(o.child,TO.child),childLeaving:c(o.childLeaving,TO.childLeaving),childPulsate:c(o.childPulsate,TO.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},f.current)])),f.current+=1,p.current=s}),[o]),b=t.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:r=!1,center:o=i||t.pulsate,fakeElement:s=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&m.current)return void(m.current=!1);"touchstart"===(null==e?void 0:e.type)&&(m.current=!0);const a=s?null:y.current,l=a?a.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,d;if(o||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(o)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2===0&&(d+=1);else{const e=2*Math.max(Math.abs((a?a.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((a?a.clientHeight:0)-u),u)+2;d=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===v.current&&(v.current=()=>{w({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})},g.start(80,(()=>{v.current&&(v.current(),v.current=null)}))):w({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})}),[i,w,g]),_=t.useCallback((()=>{b({},{pulsate:!0})}),[b]),S=t.useCallback(((e,t)=>{if(g.clear(),"touchend"===(null==e?void 0:e.type)&&v.current)return v.current(),v.current=null,void g.start(0,(()=>{S(e,t)}));v.current=null,h((e=>e.length>0?e.slice(1):e)),p.current=t}),[g]);return t.useImperativeHandle(n,(()=>({pulsate:_,start:b,stop:S})),[_,b,S]),(0,U.jsx)(zO,(0,a.A)({className:c(TO.root,o.root,l),ref:y},u,{children:(0,U.jsx)(kO,{component:null,exit:!0,children:d})}))})),qO=BO;function WO(e){return p("MuiButtonBase",e)}const HO=Le("MuiButtonBase",["root","disabled","focusVisible"]),KO=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],GO=Re("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(HO.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),QO=t.forwardRef((function(e,n){const r=Pe({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:l,className:u,component:d="button",disabled:h=!1,disableRipple:f=!1,disableTouchRipple:p=!1,focusRipple:g=!1,LinkComponent:v="a",onBlur:y,onClick:w,onContextMenu:b,onDragLeave:_,onFocus:S,onFocusVisible:I,onKeyDown:x,onKeyUp:k,onMouseDown:E,onMouseLeave:T,onMouseUp:C,onTouchEnd:A,onTouchMove:R,onTouchStart:P,tabIndex:N=0,TouchRippleProps:O,touchRippleRef:D,type:L}=r,M=(0,s.A)(r,KO),F=t.useRef(null),j=t.useRef(null),z=JN(j,D),{isFocusVisibleRef:V,onFocus:B,onBlur:q,ref:W}=mO(),[H,K]=t.useState(!1);h&&H&&K(!1),t.useImperativeHandle(i,(()=>({focusVisible:()=>{K(!0),F.current.focus()}})),[]);const[G,Q]=t.useState(!1);t.useEffect((()=>{Q(!0)}),[]);const Y=G&&!f&&!h;function $(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;return tO((r=>{t&&t(r);return!n&&j.current&&j.current[e](r),!0}))}t.useEffect((()=>{H&&g&&!f&&G&&j.current.pulsate()}),[f,g,H,G]);const X=$("start",E),J=$("stop",b),Z=$("stop",_),ee=$("stop",C),te=$("stop",(e=>{H&&e.preventDefault(),T&&T(e)})),ne=$("start",P),re=$("stop",A),ie=$("stop",R),oe=$("stop",(e=>{q(e),!1===V.current&&K(!1),y&&y(e)}),!1),se=tO((e=>{F.current||(F.current=e.currentTarget),B(e),!0===V.current&&(K(!0),I&&I(e)),S&&S(e)})),ae=()=>{const e=F.current;return d&&"button"!==d&&!("A"===e.tagName&&e.href)},le=t.useRef(!1),ce=tO((e=>{g&&!le.current&&H&&j.current&&" "===e.key&&(le.current=!0,j.current.stop(e,(()=>{j.current.start(e)}))),e.target===e.currentTarget&&ae()&&" "===e.key&&e.preventDefault(),x&&x(e),e.target===e.currentTarget&&ae()&&"Enter"===e.key&&!h&&(e.preventDefault(),w&&w(e))})),ue=tO((e=>{g&&" "===e.key&&j.current&&H&&!e.defaultPrevented&&(le.current=!1,j.current.stop(e,(()=>{j.current.pulsate(e)}))),k&&k(e),w&&e.target===e.currentTarget&&ae()&&" "===e.key&&!e.defaultPrevented&&w(e)}));let de=d;"button"===de&&(M.href||M.to)&&(de=v);const he={};"button"===de?(he.type=void 0===L?"button":L,he.disabled=h):(M.href||M.to||(he.role="button"),h&&(he["aria-disabled"]=h));const fe=JN(n,W,F);const pe=(0,a.A)({},r,{centerRipple:o,component:d,disabled:h,disableRipple:f,disableTouchRipple:p,focusRipple:g,tabIndex:N,focusVisible:H}),me=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o=m({root:["root",t&&"disabled",n&&"focusVisible"]},WO,i);return n&&r&&(o.root+=" ".concat(r)),o})(pe);return(0,U.jsxs)(GO,(0,a.A)({as:de,className:c(me.root,u),ownerState:pe,onBlur:oe,onClick:w,onContextMenu:J,onFocus:se,onKeyDown:ce,onKeyUp:ue,onMouseDown:X,onMouseLeave:te,onMouseUp:ee,onDragLeave:Z,onTouchEnd:re,onTouchMove:ie,onTouchStart:ne,ref:fe,tabIndex:h?-1:N,type:L},he,M,{children:[l,Y?(0,U.jsx)(qO,(0,a.A)({ref:z,center:o},O)):null]}))})),YO=QO;function $O(e){return p("MuiButton",e)}const XO=Le("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const JO=t.createContext({});const ZO=t.createContext(void 0),eD=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],tD=e=>(0,a.A)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),nD=Re(YO,{shouldForwardProp:e=>Ae(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat(De(n.color))],t["size".concat(De(n.size))],t["".concat(n.variant,"Size").concat(De(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((e=>{let{theme:t,ownerState:n}=e;var r,i;const o="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],s="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return(0,a.A)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,a.A)({textDecoration:"none",backgroundColor:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,$.X4)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===n.variant&&"inherit"!==n.color&&{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,$.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===n.variant&&"inherit"!==n.color&&{border:"1px solid ".concat((t.vars||t).palette[n.color].main),backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,$.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===n.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===n.variant&&"inherit"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}),"&:active":(0,a.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[8]}),["&.".concat(XO.focusVisible)]:(0,a.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[6]}),["&.".concat(XO.disabled)]:(0,a.A)({color:(t.vars||t).palette.action.disabled},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)},"contained"===n.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===n.variant&&{padding:"6px 8px"},"text"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main},"outlined"===n.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:t.vars?"1px solid rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.5)"):"1px solid ".concat((0,$.X4)(t.palette[n.color].main,.5))},"contained"===n.variant&&{color:t.vars?t.vars.palette.text.primary:null==(r=(i=t.palette).getContrastText)?void 0:r.call(i,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:o,boxShadow:(t.vars||t).shadows[2]},"contained"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main},"inherit"===n.color&&{color:"inherit",borderColor:"currentColor"},"small"===n.size&&"text"===n.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"text"===n.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"outlined"===n.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"outlined"===n.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"contained"===n.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"contained"===n.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},n.fullWidth&&{width:"100%"})}),(e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(XO.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(XO.disabled)]:{boxShadow:"none"}}})),rD=Re("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t["iconSize".concat(De(n.size))]]}})((e=>{let{ownerState:t}=e;return(0,a.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},tD(t))})),iD=Re("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t["iconSize".concat(De(n.size))]]}})((e=>{let{ownerState:t}=e;return(0,a.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},tD(t))})),oD=t.forwardRef((function(e,n){const r=t.useContext(JO),i=t.useContext(ZO),o=Pe({props:R(r,e),name:"MuiButton"}),{children:l,color:u="primary",component:d="button",className:h,disabled:f=!1,disableElevation:p=!1,disableFocusRipple:g=!1,endIcon:v,focusVisibleClassName:y,fullWidth:w=!1,size:b="medium",startIcon:_,type:S,variant:I="text"}=o,x=(0,s.A)(o,eD),k=(0,a.A)({},o,{color:u,component:d,disabled:f,disableElevation:p,disableFocusRipple:g,fullWidth:w,size:b,type:S,variant:I}),E=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,classes:s}=e,l=m({root:["root",o,"".concat(o).concat(De(t)),"size".concat(De(i)),"".concat(o,"Size").concat(De(i)),"color".concat(De(t)),n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon","iconSize".concat(De(i))],endIcon:["icon","endIcon","iconSize".concat(De(i))]},$O,s);return(0,a.A)({},s,l)})(k),T=_&&(0,U.jsx)(rD,{className:E.startIcon,ownerState:k,children:_}),C=v&&(0,U.jsx)(iD,{className:E.endIcon,ownerState:k,children:v}),A=i||"";return(0,U.jsxs)(nD,(0,a.A)({ownerState:k,className:c(r.className,E.root,h,A),component:d,disabled:f,focusRipple:!g,focusVisibleClassName:c(E.focusVisible,y),ref:n,type:S},x,{classes:E,children:[T,l,C]}))})),sD=oD,aD=()=>(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(YN,{container:!0,direction:"row",justifyContent:"center",sx:{padding:"20px"},children:(0,U.jsx)(sD,{onClick:()=>(ON(),void NN()),sx:{color:"#635985",backgroundColor:"#292140",borderRadius:"20px","&:hover":{backgroundColor:"#393055"}},children:vt("40px","40px","./svgFiles/restart.svg")})})}),lD=e=>{var[t,n]=(e/1e3+"").split("."),r="";n||(n="0");const i=parseInt(t);i>=60&&(r=Math.floor(i/60)+"",t=i%60+"");return i>=60?r.padStart(2,"0")+":"+t.padStart(2,"0")+":"+n.padEnd(2,"0"):t.padStart(2,"0")+":"+n.padEnd(2,"0")},cD=()=>{const e=(0,t.useContext)(zL),n=()=>{if(e.timersArePaused)e.setDuration(0);else{const t=70;setTimeout((()=>{e.setDuration(+e.duration+t),e.setWpm(function(e,t){const n=e.length/5,r=Math.abs(t/1e3/60);return Math.round(n/r)}(e.typedSoFar,+e.duration))}),t)}};return t.useEffect((()=>n()),[e.duration,e.timersArePaused]),(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)("span",{children:[(0,U.jsx)("span",{style:{color:"#9287B7"},children:"Duration:\xa0"}),(0,U.jsx)("span",{style:{color:"#B8AAE9"},children:lD(+e.duration)})]})})},uD=e=>{let{stat:n,statName:r,color:i}=e;(0,t.useContext)(zL);var o=2.55*+n,s=255-o;return n+""==="NaN"&&(o=0,s=255),(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)("span",{children:[(0,U.jsxs)("span",{style:{color:"".concat(i)},children:[r,"\xa0"]}),(0,U.jsx)("span",{style:{color:"rgb(".concat(s,", ").concat(o,", 0)")},children:n.toString()})]})})},dD=()=>{const e=(0,t.useContext)(zL);return(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(YN,{container:!0,justifyContent:"space-between",sx:{width:"".concat(+e.scrollPaneWidth,"vw")},children:[(0,U.jsx)(uD,{stat:e.wpm,statName:"WPM:",color:"#9287B7"}),(0,U.jsx)(uD,{stat:e.accuracy,statName:"Accuracy:",color:"#9287B7"}),(0,U.jsx)(cD,{})]})})},hD=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function fD(e){return p("MuiPaper",e)}Le("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const pD=["className","component","elevation","square","variant"],mD=Re("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((e=>{let{theme:t,ownerState:n}=e;var r;return(0,a.A)({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.divider)},"elevation"===n.variant&&(0,a.A)({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,$.X4)("#fff",hD(n.elevation)),", ").concat((0,$.X4)("#fff",hD(n.elevation)),")")},t.vars&&{backgroundImage:null==(r=t.vars.overlays)?void 0:r[n.elevation]}))})),gD=t.forwardRef((function(e,t){const n=Pe({props:e,name:"MuiPaper"}),{className:r,component:i="div",elevation:o=1,square:l=!1,variant:u="elevation"}=n,d=(0,s.A)(n,pD),h=(0,a.A)({},n,{component:i,elevation:o,square:l,variant:u}),f=(e=>{const{square:t,elevation:n,variant:r,classes:i}=e;return m({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},fD,i)})(h);return(0,U.jsx)(mD,(0,a.A)({as:i,ownerState:h,className:c(f.root,r),ref:t},d))})),vD=gD;function yD(e){return"string"===typeof e}function wD(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n}function bD(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t}const _D=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function SD(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=e,l=(0,s.A)(e,_D),u=o?{}:function(e,t,n){return"function"===typeof e?e(t,n):e}(r,i),{props:d,internalRef:h}=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const e=c(null==n?void 0:n.className,o,null==i?void 0:i.className,null==r?void 0:r.className),t=(0,a.A)({},null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),s=(0,a.A)({},n,i,r);return e.length>0&&(s.className=e),Object.keys(t).length>0&&(s.style=t),{props:s,internalRef:void 0}}const s=wD((0,a.A)({},i,r)),l=bD(r),u=bD(i),d=t(s),h=c(null==d?void 0:d.className,null==n?void 0:n.className,o,null==i?void 0:i.className,null==r?void 0:r.className),f=(0,a.A)({},null==d?void 0:d.style,null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),p=(0,a.A)({},d,n,u,l);return h.length>0&&(p.className=h),Object.keys(f).length>0&&(p.style=f),{props:p,internalRef:d.ref}}((0,a.A)({},l,{externalSlotProps:u})),f=XN(h,null==u?void 0:u.ref,null==(t=e.additionalProps)?void 0:t.ref),p=function(e,t,n){return void 0===e||yD(e)?t:(0,a.A)({},t,{ownerState:(0,a.A)({},t.ownerState,n)})}(n,(0,a.A)({},d,{ref:f}),i);return p}function ID(e){return e&&e.ownerDocument||document}function xD(e){let{controlled:n,default:r,name:i,state:o="value"}=e;const{current:s}=t.useRef(void 0!==n),[a,l]=t.useState(r);return[s?n:a,t.useCallback((e=>{s||l(e)}),[])]}var kD=n(7040);const ED={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function TD(e,t){return e-t}function CD(e,t){var n;const{index:r}=null!=(n=e.reduce(((e,n,r)=>{const i=Math.abs(t-n);return null===e||i<e.distance||i===e.distance?{distance:i,index:r}:e}),null))?n:{};return r}function AD(e,t){if(void 0!==t.current&&e.changedTouches){const n=e;for(let e=0;e<n.changedTouches.length;e+=1){const r=n.changedTouches[e];if(r.identifier===t.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function RD(e,t,n){return 100*(e-t)/(n-t)}function PD(e,t,n){const r=Math.round((e-n)/t)*t+n;return Number(r.toFixed(function(e){if(Math.abs(e)<1){const t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}(t)))}function ND(e){let{values:t,newValue:n,index:r}=e;const i=t.slice();return i[r]=n,i.sort(TD)}function OD(e){let{sliderRef:t,activeIndex:n,setActive:r}=e;var i,o;const s=ID(t.current);var a;null!=(i=t.current)&&i.contains(s.activeElement)&&Number(null==s||null==(o=s.activeElement)?void 0:o.getAttribute("data-index"))===n||(null==(a=t.current)||a.querySelector('[type="range"][data-index="'.concat(n,'"]')).focus());r&&r(n)}function DD(e,t){return"number"===typeof e&&"number"===typeof t?e===t:"object"===typeof e&&"object"===typeof t&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e===t;return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}(e,t)}const LD={horizontal:{offset:e=>({left:"".concat(e,"%")}),leap:e=>({width:"".concat(e,"%")})},"horizontal-reverse":{offset:e=>({right:"".concat(e,"%")}),leap:e=>({width:"".concat(e,"%")})},vertical:{offset:e=>({bottom:"".concat(e,"%")}),leap:e=>({height:"".concat(e,"%")})}},MD=e=>e;let FD;function jD(){return void 0===FD&&(FD="undefined"===typeof CSS||"function"!==typeof CSS.supports||CSS.supports("touch-action","none")),FD}function UD(e){const{"aria-labelledby":n,defaultValue:r,disabled:i=!1,disableSwap:o=!1,isRtl:s=!1,marks:l=!1,max:c=100,min:u=0,name:d,onChange:h,onChangeCommitted:f,orientation:p="horizontal",rootRef:m,scale:g=MD,step:v=1,shiftStep:y=10,tabIndex:w,value:b}=e,_=t.useRef(),[S,I]=t.useState(-1),[x,k]=t.useState(-1),[E,T]=t.useState(!1),C=t.useRef(0),[A,R]=xD({controlled:b,default:null!=r?r:u,name:"Slider"}),P=h&&((e,t,n)=>{const r=e.nativeEvent||e,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:t,name:d}}),h(i,t,n)}),N=Array.isArray(A);let O=N?A.slice().sort(TD):[A];O=O.map((e=>null==e?u:(0,kD.A)(e,u,c)));const D=!0===l&&null!==v?[...Array(Math.floor((c-u)/v)+1)].map(((e,t)=>({value:u+v*t}))):l||[],L=D.map((e=>e.value)),{isFocusVisibleRef:M,onBlur:F,onFocus:j,ref:U}=pO(),[z,V]=t.useState(-1),B=t.useRef(),q=XN(U,B),W=XN(m,q),H=e=>t=>{var n;const r=Number(t.currentTarget.getAttribute("data-index"));j(t),!0===M.current&&V(r),k(r),null==e||null==(n=e.onFocus)||n.call(e,t)},K=e=>t=>{var n;F(t),!1===M.current&&V(-1),k(-1),null==e||null==(n=e.onBlur)||n.call(e,t)},G=(e,t)=>{const n=Number(e.currentTarget.getAttribute("data-index")),r=O[n],i=L.indexOf(r);let s=t;if(D&&null==v){const e=L[L.length-1];s=s>e?e:s<L[0]?L[0]:s<r?L[i-1]:L[i+1]}if(s=(0,kD.A)(s,u,c),N){o&&(s=(0,kD.A)(s,O[n-1]||-1/0,O[n+1]||1/0));const e=s;s=ND({values:O,newValue:s,index:n});let t=n;o||(t=s.indexOf(e)),OD({sliderRef:B,activeIndex:t})}R(s),V(n),P&&!DD(s,A)&&P(e,s,n),f&&f(e,s)},Q=e=>t=>{var n;if(null!==v){const e=Number(t.currentTarget.getAttribute("data-index")),n=O[e];let r=null;("ArrowLeft"===t.key||"ArrowDown"===t.key)&&t.shiftKey||"PageDown"===t.key?r=Math.max(n-y,u):(("ArrowRight"===t.key||"ArrowUp"===t.key)&&t.shiftKey||"PageUp"===t.key)&&(r=Math.min(n+y,c)),null!==r&&(G(t,r),t.preventDefault())}null==e||null==(n=e.onKeyDown)||n.call(e,t)};ZN((()=>{var e;i&&B.current.contains(document.activeElement)&&(null==(e=document.activeElement)||e.blur())}),[i]),i&&-1!==S&&I(-1),i&&-1!==z&&V(-1);const Y=t.useRef();let $=p;s&&"horizontal"===p&&($+="-reverse");const X=e=>{let{finger:t,move:n=!1}=e;const{current:r}=B,{width:i,height:s,bottom:a,left:l}=r.getBoundingClientRect();let d,h;if(d=0===$.indexOf("vertical")?(a-t.y)/s:(t.x-l)/i,-1!==$.indexOf("-reverse")&&(d=1-d),h=function(e,t,n){return(n-t)*e+t}(d,u,c),v)h=PD(h,v,u);else{const e=CD(L,h);h=L[e]}h=(0,kD.A)(h,u,c);let f=0;if(N){f=n?Y.current:CD(O,h),o&&(h=(0,kD.A)(h,O[f-1]||-1/0,O[f+1]||1/0));const e=h;h=ND({values:O,newValue:h,index:f}),o&&n||(f=h.indexOf(e),Y.current=f)}return{newValue:h,activeIndex:f}},J=eO((e=>{const t=AD(e,_);if(!t)return;if(C.current+=1,"mousemove"===e.type&&0===e.buttons)return void Z(e);const{newValue:n,activeIndex:r}=X({finger:t,move:!0});OD({sliderRef:B,activeIndex:r,setActive:I}),R(n),!E&&C.current>2&&T(!0),P&&!DD(n,A)&&P(e,n,r)})),Z=eO((e=>{const t=AD(e,_);if(T(!1),!t)return;const{newValue:n}=X({finger:t,move:!0});I(-1),"touchend"===e.type&&k(-1),f&&f(e,n),_.current=void 0,te()})),ee=eO((e=>{if(i)return;jD()||e.preventDefault();const t=e.changedTouches[0];null!=t&&(_.current=t.identifier);const n=AD(e,_);if(!1!==n){const{newValue:t,activeIndex:r}=X({finger:n});OD({sliderRef:B,activeIndex:r,setActive:I}),R(t),P&&!DD(t,A)&&P(e,t,r)}C.current=0;const r=ID(B.current);r.addEventListener("touchmove",J,{passive:!0}),r.addEventListener("touchend",Z,{passive:!0})})),te=t.useCallback((()=>{const e=ID(B.current);e.removeEventListener("mousemove",J),e.removeEventListener("mouseup",Z),e.removeEventListener("touchmove",J),e.removeEventListener("touchend",Z)}),[Z,J]);t.useEffect((()=>{const{current:e}=B;return e.addEventListener("touchstart",ee,{passive:jD()}),()=>{e.removeEventListener("touchstart",ee),te()}}),[te,ee]),t.useEffect((()=>{i&&te()}),[i,te]);const ne=RD(N?O[0]:u,u,c),re=RD(O[O.length-1],u,c)-ne,ie=e=>t=>{var n;null==(n=e.onMouseLeave)||n.call(e,t),k(-1)};return{active:S,axis:$,axisProps:LD,dragging:E,focusedThumbIndex:z,getHiddenInputProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r;const o=wD(t),l={onChange:(h=o||{},e=>{var t;null==(t=h.onChange)||t.call(h,e),G(e,e.target.valueAsNumber)}),onFocus:H(o||{}),onBlur:K(o||{}),onKeyDown:Q(o||{})};var h;const f=(0,a.A)({},o,l);return(0,a.A)({tabIndex:w,"aria-labelledby":n,"aria-orientation":p,"aria-valuemax":g(c),"aria-valuemin":g(u),name:d,type:"range",min:e.min,max:e.max,step:null===e.step&&e.marks?"any":null!=(r=e.step)?r:void 0,disabled:i},t,f,{style:(0,a.A)({},ED,{direction:s?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=wD(e),n={onMouseDown:(r=t||{},e=>{var t;if(null==(t=r.onMouseDown)||t.call(r,e),i)return;if(e.defaultPrevented)return;if(0!==e.button)return;e.preventDefault();const n=AD(e,_);if(!1!==n){const{newValue:t,activeIndex:r}=X({finger:n});OD({sliderRef:B,activeIndex:r,setActive:I}),R(t),P&&!DD(t,A)&&P(e,t,r)}C.current=0;const o=ID(B.current);o.addEventListener("mousemove",J,{passive:!0}),o.addEventListener("mouseup",Z)})};var r;const o=(0,a.A)({},t,n);return(0,a.A)({},e,{ref:W},o)},getThumbProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=wD(e),n={onMouseOver:(r=t||{},e=>{var t;null==(t=r.onMouseOver)||t.call(r,e);const n=Number(e.currentTarget.getAttribute("data-index"));k(n)}),onMouseLeave:ie(t||{})};var r;return(0,a.A)({},e,t,n)},marks:D,open:x,range:N,rootRef:W,trackLeap:re,trackOffset:ne,values:O,getThumbStyle:e=>({pointerEvents:-1!==S&&S!==e?"none":void 0})}}const zD=t.createContext();const VD=()=>{const e=t.useContext(zD);return null!=e&&e};const BD=e=>!e||!yD(e);function qD(e){return p("MuiSlider",e)}const WD=Le("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]);const HD=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"],KD=Pe;function GD(e){return e}const QD=Re("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["color".concat(De(n.color))],"medium"!==n.size&&t["size".concat(De(n.size))],n.marked&&t.marked,"vertical"===n.orientation&&t.vertical,"inverted"===n.track&&t.trackInverted,!1===n.track&&t.trackFalse]}})((e=>{let{theme:t}=e;var n;return{borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},["&.".concat(WD.disabled)]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},["&.".concat(WD.dragging)]:{["& .".concat(WD.thumb,", & .").concat(WD.track)]:{transition:"none"}},variants:[...Object.keys((null!=(n=t.vars)?n:t).palette).filter((e=>{var n;return(null!=(n=t.vars)?n:t).palette[e].main})).map((e=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}})),YD=Re("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),$D=Re("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})((e=>{let{theme:t}=e;var n;return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.keys((null!=(n=t.vars)?n:t).palette).filter((e=>{var n;return(null!=(n=t.vars)?n:t).palette[e].main})).map((e=>({props:{color:e,track:"inverted"},style:(0,a.A)({},t.vars?{backgroundColor:t.vars.palette.Slider["".concat(e,"Track")],borderColor:t.vars.palette.Slider["".concat(e,"Track")]}:(0,a.A)({backgroundColor:(0,$.a)(t.palette[e].main,.62),borderColor:(0,$.a)(t.palette[e].main,.62)},t.applyStyles("dark",{backgroundColor:(0,$.e$)(t.palette[e].main,.5)}),t.applyStyles("dark",{borderColor:(0,$.e$)(t.palette[e].main,.5)})))})))]}})),XD=Re("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.thumb,t["thumbColor".concat(De(n.color))],"medium"!==n.size&&t["thumbSize".concat(De(n.size))]]}})((e=>{let{theme:t}=e;var n;return{position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},["&.".concat(WD.disabled)]:{"&:hover":{boxShadow:"none"}},variants:[...Object.keys((null!=(n=t.vars)?n:t).palette).filter((e=>{var n;return(null!=(n=t.vars)?n:t).palette[e].main})).map((e=>({props:{color:e},style:{["&:hover, &.".concat(WD.focusVisible)]:(0,a.A)({},t.vars?{boxShadow:"0px 0px 0px 8px rgba(".concat(t.vars.palette[e].mainChannel," / 0.16)")}:{boxShadow:"0px 0px 0px 8px ".concat((0,$.X4)(t.palette[e].main,.16))},{"@media (hover: none)":{boxShadow:"none"}}),["&.".concat(WD.active)]:(0,a.A)({},t.vars?{boxShadow:"0px 0px 0px 14px rgba(".concat(t.vars.palette[e].mainChannel," / 0.16)}")}:{boxShadow:"0px 0px 0px 14px ".concat((0,$.X4)(t.palette[e].main,.16))})}}))),{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}}]}})),JD=Re((function(e){const{children:n,className:r,value:i}=e,o=(e=>{const{open:t}=e;return{offset:c(t&&WD.valueLabelOpen),circle:WD.valueLabelCircle,label:WD.valueLabelLabel}})(e);return n?t.cloneElement(n,{className:c(n.props.className)},(0,U.jsxs)(t.Fragment,{children:[n.props.children,(0,U.jsx)("span",{className:c(o.offset,r),"aria-hidden":!0,children:(0,U.jsx)("span",{className:o.circle,children:(0,U.jsx)("span",{className:o.label,children:i})})})]})):null}),{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})((e=>{let{theme:t}=e;return(0,a.A)({zIndex:1,whiteSpace:"nowrap"},t.typography.body2,{fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},["&.".concat(WD.valueLabelOpen)]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},["&.".concat(WD.valueLabelOpen)]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]})})),ZD=Re("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>Ce(e)&&"markActive"!==e,overridesResolver:(e,t)=>{const{markActive:n}=e;return[t.mark,n&&t.markActive]}})((e=>{let{theme:t}=e;return{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]}})),eL=Re("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>Ce(e)&&"markLabelActive"!==e,overridesResolver:(e,t)=>t.markLabel})((e=>{let{theme:t}=e;return(0,a.A)({},t.typography.body2,{color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]})})),tL=e=>{let{children:t}=e;return t},nL=t.forwardRef((function(e,n){var r,i,o,l,u,d,h,f,p,g,v,y,w,b,_,S,I,x,k,E,T,C,A,R;const P=KD({props:e,name:"MuiSlider"}),N=VD(),{"aria-label":O,"aria-valuetext":D,"aria-labelledby":L,component:M="span",components:F={},componentsProps:j={},color:z="primary",classes:V,className:B,disableSwap:q=!1,disabled:W=!1,getAriaLabel:H,getAriaValueText:K,marks:G=!1,max:Q=100,min:Y=0,orientation:$="horizontal",shiftStep:X=10,size:J="medium",step:Z=1,scale:ee=GD,slotProps:te,slots:ne,track:re="normal",valueLabelDisplay:ie="off",valueLabelFormat:oe=GD}=P,se=(0,s.A)(P,HD),ae=(0,a.A)({},P,{isRtl:N,max:Q,min:Y,classes:V,disabled:W,disableSwap:q,orientation:$,marks:G,color:z,size:J,step:Z,shiftStep:X,scale:ee,track:re,valueLabelDisplay:ie,valueLabelFormat:oe}),{axisProps:le,getRootProps:ce,getHiddenInputProps:ue,getThumbProps:de,open:he,active:fe,axis:pe,focusedThumbIndex:me,range:ge,dragging:ve,marks:ye,values:we,trackOffset:be,trackLeap:_e,getThumbStyle:Se}=UD((0,a.A)({},ae,{rootRef:n}));ae.marked=ye.length>0&&ye.some((e=>e.label)),ae.dragging=ve,ae.focusedThumbIndex=me;const Ie=(e=>{const{disabled:t,dragging:n,marked:r,orientation:i,track:o,classes:s,color:a,size:l}=e;return m({root:["root",t&&"disabled",n&&"dragging",r&&"marked","vertical"===i&&"vertical","inverted"===o&&"trackInverted",!1===o&&"trackFalse",a&&"color".concat(De(a)),l&&"size".concat(De(l))],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",l&&"thumbSize".concat(De(l)),a&&"thumbColor".concat(De(a))],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]},qD,s)})(ae),xe=null!=(r=null!=(i=null==ne?void 0:ne.root)?i:F.Root)?r:QD,ke=null!=(o=null!=(l=null==ne?void 0:ne.rail)?l:F.Rail)?o:YD,Ee=null!=(u=null!=(d=null==ne?void 0:ne.track)?d:F.Track)?u:$D,Te=null!=(h=null!=(f=null==ne?void 0:ne.thumb)?f:F.Thumb)?h:XD,Ce=null!=(p=null!=(g=null==ne?void 0:ne.valueLabel)?g:F.ValueLabel)?p:JD,Ae=null!=(v=null!=(y=null==ne?void 0:ne.mark)?y:F.Mark)?v:ZD,Re=null!=(w=null!=(b=null==ne?void 0:ne.markLabel)?b:F.MarkLabel)?w:eL,Pe=null!=(_=null!=(S=null==ne?void 0:ne.input)?S:F.Input)?_:"input",Ne=null!=(I=null==te?void 0:te.root)?I:j.root,Oe=null!=(x=null==te?void 0:te.rail)?x:j.rail,Le=null!=(k=null==te?void 0:te.track)?k:j.track,Me=null!=(E=null==te?void 0:te.thumb)?E:j.thumb,Fe=null!=(T=null==te?void 0:te.valueLabel)?T:j.valueLabel,je=null!=(C=null==te?void 0:te.mark)?C:j.mark,Ue=null!=(A=null==te?void 0:te.markLabel)?A:j.markLabel,ze=null!=(R=null==te?void 0:te.input)?R:j.input,Ve=SD({elementType:xe,getSlotProps:ce,externalSlotProps:Ne,externalForwardedProps:se,additionalProps:(0,a.A)({},BD(xe)&&{as:M}),ownerState:(0,a.A)({},ae,null==Ne?void 0:Ne.ownerState),className:[Ie.root,B]}),Be=SD({elementType:ke,externalSlotProps:Oe,ownerState:ae,className:Ie.rail}),qe=SD({elementType:Ee,externalSlotProps:Le,additionalProps:{style:(0,a.A)({},le[pe].offset(be),le[pe].leap(_e))},ownerState:(0,a.A)({},ae,null==Le?void 0:Le.ownerState),className:Ie.track}),We=SD({elementType:Te,getSlotProps:de,externalSlotProps:Me,ownerState:(0,a.A)({},ae,null==Me?void 0:Me.ownerState),className:Ie.thumb}),He=SD({elementType:Ce,externalSlotProps:Fe,ownerState:(0,a.A)({},ae,null==Fe?void 0:Fe.ownerState),className:Ie.valueLabel}),Ke=SD({elementType:Ae,externalSlotProps:je,ownerState:ae,className:Ie.mark}),Ge=SD({elementType:Re,externalSlotProps:Ue,ownerState:ae,className:Ie.markLabel}),Qe=SD({elementType:Pe,getSlotProps:ue,externalSlotProps:ze,ownerState:ae});return(0,U.jsxs)(xe,(0,a.A)({},Ve,{children:[(0,U.jsx)(ke,(0,a.A)({},Be)),(0,U.jsx)(Ee,(0,a.A)({},qe)),ye.filter((e=>e.value>=Y&&e.value<=Q)).map(((e,n)=>{const r=RD(e.value,Y,Q),i=le[pe].offset(r);let o;return o=!1===re?-1!==we.indexOf(e.value):"normal"===re&&(ge?e.value>=we[0]&&e.value<=we[we.length-1]:e.value<=we[0])||"inverted"===re&&(ge?e.value<=we[0]||e.value>=we[we.length-1]:e.value>=we[0]),(0,U.jsxs)(t.Fragment,{children:[(0,U.jsx)(Ae,(0,a.A)({"data-index":n},Ke,!yD(Ae)&&{markActive:o},{style:(0,a.A)({},i,Ke.style),className:c(Ke.className,o&&Ie.markActive)})),null!=e.label?(0,U.jsx)(Re,(0,a.A)({"aria-hidden":!0,"data-index":n},Ge,!yD(Re)&&{markLabelActive:o},{style:(0,a.A)({},i,Ge.style),className:c(Ie.markLabel,Ge.className,o&&Ie.markLabelActive),children:e.label})):null]},n)})),we.map(((e,t)=>{const n=RD(e,Y,Q),r=le[pe].offset(n),i="off"===ie?tL:Ce;return(0,U.jsx)(i,(0,a.A)({},!yD(i)&&{valueLabelFormat:oe,valueLabelDisplay:ie,value:"function"===typeof oe?oe(ee(e),t):oe,index:t,open:he===t||fe===t||"on"===ie,disabled:W},He,{children:(0,U.jsx)(Te,(0,a.A)({"data-index":t},We,{className:c(Ie.thumb,We.className,fe===t&&Ie.active,me===t&&Ie.focusVisible),style:(0,a.A)({},r,Se(t),We.style),children:(0,U.jsx)(Pe,(0,a.A)({"data-index":t,"aria-label":H?H(t):O,"aria-valuenow":ee(e),"aria-labelledby":L,"aria-valuetext":K?K(ee(e),t):D,value:we[t]},Qe))}))}),t)}))]}))})),rL=nL,iL=()=>{const e=(0,t.useContext)(zL);return(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(Qe,{sx:{padding:"10px",paddingLeft:"20px",flex:"1",display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,U.jsxs)(Qe,{sx:{flexDirection:"row",flex:"1",display:"flex",alignItems:"center"},children:[(0,U.jsxs)(Be,{id:"input-slider",sx:{color:"#635985"},children:["Font Size:","\xa0"]}),(0,U.jsx)(Be,{id:"input-slider",sx:{color:"#9287B7"},children:+e.fontSize})]}),(0,U.jsx)(rL,{sx:{color:"#9287B7","& .MuiSlider-thumb":{backgroundColor:"#9287B7",width:"15px",height:"15px","&:hover":{boxShadow:"0px 0px 0px 8px rgba(146, 135, 183, 0.5)"},"&:not(:hover)":{boxShadow:"0px 0px 0px 0px rgba(146, 135, 183, 0.5)"},"&:active":{boxShadow:"0px 0px 0px 12px rgba(146, 135, 183, 0.5)"}}},"aria-label":"FontSize",value:mn.getSettings().getFontSize(),valueLabelDisplay:"off",min:10,max:50,onChange:(t,n)=>((t,n)=>{"number"==typeof n&&(e.setFontSize(n),console.log(n))})(0,n),onMouseUp:()=>{xN().then((()=>{console.log("Finished updating online settings!")}))}})]})})},oL=()=>{const e=(0,t.useContext)(zL);return(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(Qe,{sx:{padding:"10px",paddingLeft:"30px",flex:"1",display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,U.jsxs)(Qe,{sx:{flexDirection:"row",flex:"1",display:"flex",alignItems:"center"},children:[(0,U.jsxs)(Be,{id:"input-slider",sx:{color:"#635985"},children:["Word Count:","\xa0"]}),(0,U.jsx)(Be,{id:"input-slider",sx:{color:"#9287B7"},children:+e.wordCount})]}),(0,U.jsx)(rL,{sx:{color:"#9287B7","& .MuiSlider-thumb":{backgroundColor:"#9287B7",width:"15px",height:"15px","&:hover":{boxShadow:"0px 0px 0px 8px rgba(146, 135, 183, 0.5)"},"&:not(:hover)":{boxShadow:"0px 0px 0px 0px rgba(146, 135, 183, 0.5)"},"&:active":{boxShadow:"0px 0px 0px 12px rgba(146, 135, 183, 0.5)"}}},"aria-label":"FontSize",value:mn.getSettings().getWordCount(),valueLabelDisplay:"off",min:10,max:100,step:5,onChange:(t,n)=>((t,n)=>{"number"==typeof n&&e.setWordCount(n)})(0,n),onMouseUp:()=>{xN().then((()=>{console.log("Finished updating online settings!")}))}})]})})},sL=xD;const aL=t.createContext(void 0);function lL(e){return p("PrivateSwitchBase",e)}Le("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const cL=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],uL=Re(YO)((e=>{let{ownerState:t}=e;return(0,a.A)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),dL=Re("input",{shouldForwardProp:Ae})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),hL=t.forwardRef((function(e,n){const{autoFocus:r,checked:i,checkedIcon:o,className:l,defaultChecked:u,disabled:d,disableFocusRipple:h=!1,edge:f=!1,icon:p,id:g,inputProps:v,inputRef:y,name:w,onBlur:b,onChange:_,onFocus:S,readOnly:I,required:x=!1,tabIndex:k,type:E,value:T}=e,C=(0,s.A)(e,cL),[A,R]=sL({controlled:i,default:Boolean(u),name:"SwitchBase",state:"checked"}),P=t.useContext(aL);let N=d;P&&"undefined"===typeof N&&(N=P.disabled);const O="checkbox"===E||"radio"===E,D=(0,a.A)({},e,{checked:A,disabled:N,disableFocusRipple:h,edge:f}),L=(e=>{const{classes:t,checked:n,disabled:r,edge:i}=e;return m({root:["root",n&&"checked",r&&"disabled",i&&"edge".concat(De(i))],input:["input"]},lL,t)})(D);return(0,U.jsxs)(uL,(0,a.A)({component:"span",className:c(L.root,l),centerRipple:!0,focusRipple:!h,disabled:N,tabIndex:null,role:void 0,onFocus:e=>{S&&S(e),P&&P.onFocus&&P.onFocus(e)},onBlur:e=>{b&&b(e),P&&P.onBlur&&P.onBlur(e)},ownerState:D,ref:n},C,{children:[(0,U.jsx)(dL,(0,a.A)({autoFocus:r,checked:i,defaultChecked:u,className:L.input,disabled:N,id:O?g:void 0,name:w,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;R(t),_&&_(e,t)},readOnly:I,ref:y,required:x,ownerState:D,tabIndex:k,type:E},"checkbox"===E&&void 0===T?{}:{value:T},v)),A?o:p]}))})),fL=hL;function pL(e){return p("MuiSvgIcon",e)}Le("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const mL=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],gL=Re("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat(De(n.color))],t["fontSize".concat(De(n.fontSize))]]}})((e=>{let{theme:t,ownerState:n}=e;var r,i,o,s,a,l,c,u,d,h,f,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(r=t.transitions)||null==(i=r.create)?void 0:i.call(r,"fill",{duration:null==(o=t.transitions)||null==(o=o.duration)?void 0:o.shorter}),fontSize:{inherit:"inherit",small:(null==(s=t.typography)||null==(a=s.pxToRem)?void 0:a.call(s,20))||"1.25rem",medium:(null==(l=t.typography)||null==(c=l.pxToRem)?void 0:c.call(l,24))||"1.5rem",large:(null==(u=t.typography)||null==(d=u.pxToRem)?void 0:d.call(u,35))||"2.1875rem"}[n.fontSize],color:null!=(h=null==(f=(t.vars||t).palette)||null==(f=f[n.color])?void 0:f.main)?h:{action:null==(p=(t.vars||t).palette)||null==(p=p.action)?void 0:p.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[n.color]}})),vL=t.forwardRef((function(e,n){const r=Pe({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:l="inherit",component:u="svg",fontSize:d="medium",htmlColor:h,inheritViewBox:f=!1,titleAccess:p,viewBox:g="0 0 24 24"}=r,v=(0,s.A)(r,mL),y=t.isValidElement(i)&&"svg"===i.type,w=(0,a.A)({},r,{color:l,component:u,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:f,viewBox:g,hasSvgAsChild:y}),b={};f||(b.viewBox=g);const _=(e=>{const{color:t,fontSize:n,classes:r}=e;return m({root:["root","inherit"!==t&&"color".concat(De(t)),"fontSize".concat(De(n))]},pL,r)})(w);return(0,U.jsxs)(gL,(0,a.A)({as:u,className:c(_.root,o),focusable:"false",color:h,"aria-hidden":!p||void 0,role:p?"img":void 0,ref:n},b,v,y&&i.props,{ownerState:w,children:[y?i.props.children:i,p?(0,U.jsx)("title",{children:p}):null]}))}));vL.muiName="SvgIcon";const yL=vL;function wL(e,n){function r(t,r){return(0,U.jsx)(yL,(0,a.A)({"data-testid":"".concat(n,"Icon"),ref:r},t,{children:e}))}return r.muiName=yL.muiName,t.memo(t.forwardRef(r))}const bL=wL((0,U.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),_L=wL((0,U.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),SL=Re("span",{shouldForwardProp:Ae})({position:"relative",display:"flex"}),IL=Re(bL)({transform:"scale(1)"}),xL=Re(_L)((e=>{let{theme:t,ownerState:n}=e;return(0,a.A)({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},n.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})})}));const kL=function(e){const{checked:t=!1,classes:n={},fontSize:r}=e,i=(0,a.A)({},e,{checked:t});return(0,U.jsxs)(SL,{className:n.root,ownerState:i,children:[(0,U.jsx)(IL,{fontSize:r,className:n.background,ownerState:i}),(0,U.jsx)(xL,{fontSize:r,className:n.dot,ownerState:i})]})};function EL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}),(()=>{}))}const TL=EL;const CL=t.createContext(void 0);function AL(e){return p("MuiRadio",e)}const RL=Le("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),PL=["checked","checkedIcon","color","icon","name","onChange","size","className"],NL=Re(fL,{shouldForwardProp:e=>Ae(e)||"classes"===e,name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"medium"!==n.size&&t["size".concat(De(n.size))],t["color".concat(De(n.color))]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,a.A)({color:(t.vars||t).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,$.X4)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{["&.".concat(RL.checked)]:{color:(t.vars||t).palette[n.color].main}},{["&.".concat(RL.disabled)]:{color:(t.vars||t).palette.action.disabled}})}));const OL=(0,U.jsx)(kL,{checked:!0}),DL=(0,U.jsx)(kL,{}),LL=t.forwardRef((function(e,n){var r,i;const o=Pe({props:e,name:"MuiRadio"}),{checked:l,checkedIcon:u=OL,color:d="primary",icon:h=DL,name:f,onChange:p,size:g="medium",className:v}=o,y=(0,s.A)(o,PL),w=(0,a.A)({},o,{color:d,size:g}),b=(e=>{const{classes:t,color:n,size:r}=e,i={root:["root","color".concat(De(n)),"medium"!==r&&"size".concat(De(r))]};return(0,a.A)({},t,m(i,AL,t))})(w),_=t.useContext(CL);let S=l;const I=TL(p,_&&_.onChange);let x=f;return _&&("undefined"===typeof S&&(S=function(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}(_.value,o.value)),"undefined"===typeof x&&(x=_.name)),(0,U.jsx)(NL,(0,a.A)({type:"radio",icon:t.cloneElement(h,{fontSize:null!=(r=DL.props.fontSize)?r:g}),checkedIcon:t.cloneElement(u,{fontSize:null!=(i=OL.props.fontSize)?i:g}),ownerState:w,classes:b,name:x,checked:S,onChange:I,ref:n,className:c(b.root,v)},y))})),ML=LL,FL=e=>{const n=(0,t.useContext)(zL);return(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(Qe,{sx:{padding:"10px",flex:"1",display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,U.jsx)(Be,{id:"input-slider",children:e.settingName}),(0,U.jsx)(ML,{onMouseUp:()=>{},onClick:()=>(()=>{let t=0;n.wordsEnabled&&t++,n.numbersEnabled&&t++,n.sentencesEnabled&&t++,(t>=2||0==e.setting||e.setSetting==n.setLowercaseEnabled||e.setSetting==n.setSymbolsEnabled)&&e.setSetting(!e.setting)})(),checked:e.setting.valueOf(),sx:{color:"#635985","&.Mui-checked":{color:"#9287B7"}}})]})})},jL=()=>{const e=(0,t.useContext)(zL);return(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(vD,{variant:"elevation",elevation:3,square:!1,sx:{borderRadius:"20px",height:"fit-content",display:"inline-block",width:"75vw",backdropFilter:"blur(5px)",backgroundColor:"rgba(41, 33, 64, 0.5)"},children:(0,U.jsx)("span",{style:{color:"#635985"},children:(0,U.jsxs)(YN,{container:!0,direction:"row",justifyContent:"space-evenly",children:[(0,U.jsx)(iL,{}),(0,U.jsx)(oL,{}),(0,U.jsx)(FL,{setting:e.numbersEnabled,setSetting:e.setNumbersEnabled,settingName:"Numbers"}),(0,U.jsx)(FL,{setting:e.sentencesEnabled,setSetting:e.setSentencesEnabled,settingName:"Sentences"}),(0,U.jsx)(FL,{setting:e.wordsEnabled,setSetting:e.setWordsEnabled,settingName:"Words"}),(0,U.jsx)(FL,{setting:e.symbolsEnabled,setSetting:e.setSymbolsEnabled,settingName:"Symbols"}),(0,U.jsx)(FL,{setting:e.lowercaseEnabled,setSetting:e.setLowercaseEnabled,settingName:"Lowercase"})]})})})})};var UL=(0,t.createContext)({starArray:[],setStarArray:()=>{}}),zL=(0,t.createContext)({typedSoFar:"",toType:"",wpm:0,scrollPaneWidth:0,accuracy:0,duration:0,timersArePaused:!0,fontSize:0,wordCount:0,numbersEnabled:!1,wordsEnabled:!1,sentencesEnabled:!0,symbolsEnabled:!1,lowercaseEnabled:!1,setLowercaseEnabled:()=>{},setSymbolsEnabled:()=>{},setSentencesEnabled:()=>{},setWordsEnabled:()=>{},setNumbersEnabled:()=>{},setWordCount:()=>{},setFontSize:()=>{},setTimersArePaused:()=>{},setDuration:()=>{},setAccuracy:()=>{},setScrollPaneWidth:()=>{},setWpm:()=>{},setToType:()=>{},setTypedSoFar:()=>{}}),VL=()=>{};const BL=()=>{const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(""),[o,s]=(0,t.useState)(0),[a,l]=(0,t.useState)(65),[c,u]=(0,t.useState)(100),[d,h]=(0,t.useState)(0),[f,p]=(0,t.useState)(!0),[m,g]=(0,t.useState)(mn.getSettings().getFontSize()),[v,y]=(0,t.useState)(mn.getSettings().getWordCount()),[w,b]=(0,t.useState)(mn.getSettings().getNumbersEnabled()),[_,S]=(0,t.useState)(mn.getSettings().getWordsEnabled()),[I,x]=(0,t.useState)(mn.getSettings().getSentencesEnabled()),[k,E]=(0,t.useState)(mn.getSettings().getSymbolsEnabled()),[T,C]=(0,t.useState)(mn.getSettings().getLowercaseEnabled()),A={typedSoFar:r,toType:e,wpm:o,scrollPaneWidth:a,accuracy:c,duration:d,timersArePaused:f,fontSize:m,wordCount:v,numbersEnabled:w,wordsEnabled:_,sentencesEnabled:I,symbolsEnabled:k,lowercaseEnabled:T,setLowercaseEnabled:C,setSymbolsEnabled:E,setSentencesEnabled:x,setWordsEnabled:S,setNumbersEnabled:b,setWordCount:y,setFontSize:g,setTimersArePaused:p,setDuration:h,setAccuracy:u,setScrollPaneWidth:l,setWpm:s,setToType:n,setTypedSoFar:i};VL=()=>{g(mn.getSettings().getFontSize()),y(mn.getSettings().getWordCount()),b(mn.getSettings().getNumbersEnabled()),S(mn.getSettings().getWordsEnabled()),x(mn.getSettings().getSentencesEnabled()),E(mn.getSettings().getSymbolsEnabled()),C(mn.getSettings().getLowercaseEnabled())};const[R,P]=(0,t.useState)([]),N={starArray:R,setStarArray:P};(0,t.useEffect)((()=>{(async()=>{const e=await ft(A);n(e.toString()),zL=(0,t.createContext)(A),UL=(0,t.createContext)(N)})()}),[]),(0,t.useEffect)((()=>{const e={fontSize:mn.getSettings().getFontSize(),wordCount:mn.getSettings().getWordCount(),numbersEnabled:w,sentencesEnabled:I,wordsEnabled:_,symbolsEnabled:k,lowercaseEnabled:T};mn.setSettings(e),xN()}),[w,I,_,k,T]);return(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(YN,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"center",padding:"30px",children:[(0,U.jsxs)(zL.Provider,{value:A,children:[(0,U.jsx)(jL,{}),(0,U.jsx)(MN,{}),(0,U.jsx)(UL.Provider,{value:N,children:(0,U.jsx)(DN,{})}),(0,U.jsx)(aD,{}),(0,U.jsx)(dD,{})]}),(0,U.jsx)(YN,{item:!0,sx:{position:"absolute",bottom:0,width:"100vw",height:"100vh",margin:0,padding:0,zIndex:-2},children:(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(Qe,{sx:{position:"fixed",width:"100vw",height:"100vh"},children:R})})})]})})};var qL=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function WL(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||qL(r)&&qL(i)))return!1;var r,i;return!0}const HL=function(e,t){var n;void 0===t&&(t=WL);var r,i=[],o=!1;return function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return o&&n===this&&t(s,i)||(r=e.apply(this,s),o=!0,n=this,i=s),r}};var KL="object"===typeof performance&&"function"===typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function GL(e){cancelAnimationFrame(e.id)}function QL(e,t){var n=KL();var r={id:requestAnimationFrame((function i(){KL()-n>=t?e.call(null):r.id=requestAnimationFrame(i)}))};return r}var YL=-1;function $L(e){if(void 0===e&&(e=!1),-1===YL||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),YL=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return YL}var XL=null;function JL(e){if(void 0===e&&(e=!1),null===XL||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?XL="positive-descending":(t.scrollLeft=1,XL=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),XL}return XL}var ZL=function(e,t){return e};function eM(e){var n,r=e.getItemOffset,i=e.getEstimatedTotalSize,o=e.getItemSize,s=e.getOffsetForIndexAndAlignment,l=e.getStartIndexForOffset,c=e.getStopIndexForStartIndex,u=e.initInstanceProps,d=e.shouldResetStyleCacheOnItemSizeChange,h=e.validateProps;return n=function(e){function n(t){var n;return(n=e.call(this,t)||this)._instanceProps=u(n.props,gO(n)),n._outerRef=void 0,n._resetIsScrollingTimeoutId=null,n.state={instance:gO(n),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"===typeof n.props.initialScrollOffset?n.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},n._callOnItemsRendered=void 0,n._callOnItemsRendered=HL((function(e,t,r,i){return n.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:r,visibleStopIndex:i})})),n._callOnScroll=void 0,n._callOnScroll=HL((function(e,t,r){return n.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:r})})),n._getItemStyle=void 0,n._getItemStyle=function(e){var t,i=n.props,s=i.direction,a=i.itemSize,l=i.layout,c=n._getItemStyleCache(d&&a,d&&l,d&&s);if(c.hasOwnProperty(e))t=c[e];else{var u=r(n.props,e,n._instanceProps),h=o(n.props,e,n._instanceProps),f="horizontal"===s||"horizontal"===l,p="rtl"===s,m=f?u:0;c[e]=t={position:"absolute",left:p?void 0:m,right:p?m:void 0,top:f?0:u,height:f?"100%":h,width:f?h:"100%"}}return t},n._getItemStyleCache=void 0,n._getItemStyleCache=HL((function(e,t,n){return{}})),n._onScrollHorizontal=function(e){var t=e.currentTarget,r=t.clientWidth,i=t.scrollLeft,o=t.scrollWidth;n.setState((function(e){if(e.scrollOffset===i)return null;var t=n.props.direction,s=i;if("rtl"===t)switch(JL()){case"negative":s=-i;break;case"positive-descending":s=o-r-i}return s=Math.max(0,Math.min(s,o-r)),{isScrolling:!0,scrollDirection:e.scrollOffset<s?"forward":"backward",scrollOffset:s,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._onScrollVertical=function(e){var t=e.currentTarget,r=t.clientHeight,i=t.scrollHeight,o=t.scrollTop;n.setState((function(e){if(e.scrollOffset===o)return null;var t=Math.max(0,Math.min(o,i-r));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._outerRefSetter=function(e){var t=n.props.outerRef;n._outerRef=e,"function"===typeof t?t(e):null!=t&&"object"===typeof t&&t.hasOwnProperty("current")&&(t.current=e)},n._resetIsScrollingDebounced=function(){null!==n._resetIsScrollingTimeoutId&&GL(n._resetIsScrollingTimeoutId),n._resetIsScrollingTimeoutId=QL(n._resetIsScrolling,150)},n._resetIsScrolling=function(){n._resetIsScrollingTimeoutId=null,n.setState({isScrolling:!1},(function(){n._getItemStyleCache(-1,null)}))},n}yO(n,e),n.getDerivedStateFromProps=function(e,t){return tM(e,t),h(e),null};var f=n.prototype;return f.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},f.scrollToItem=function(e,t){void 0===t&&(t="auto");var n=this.props,r=n.itemCount,i=n.layout,o=this.state.scrollOffset;e=Math.max(0,Math.min(e,r-1));var a=0;if(this._outerRef){var l=this._outerRef;a="vertical"===i?l.scrollWidth>l.clientWidth?$L():0:l.scrollHeight>l.clientHeight?$L():0}this.scrollTo(s(this.props,e,t,o,this._instanceProps,a))},f.componentDidMount=function(){var e=this.props,t=e.direction,n=e.initialScrollOffset,r=e.layout;if("number"===typeof n&&null!=this._outerRef){var i=this._outerRef;"horizontal"===t||"horizontal"===r?i.scrollLeft=n:i.scrollTop=n}this._callPropsCallbacks()},f.componentDidUpdate=function(){var e=this.props,t=e.direction,n=e.layout,r=this.state,i=r.scrollOffset;if(r.scrollUpdateWasRequested&&null!=this._outerRef){var o=this._outerRef;if("horizontal"===t||"horizontal"===n)if("rtl"===t)switch(JL()){case"negative":o.scrollLeft=-i;break;case"positive-ascending":o.scrollLeft=i;break;default:var s=o.clientWidth,a=o.scrollWidth;o.scrollLeft=a-s-i}else o.scrollLeft=i;else o.scrollTop=i}this._callPropsCallbacks()},f.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&GL(this._resetIsScrollingTimeoutId)},f.render=function(){var e=this.props,n=e.children,r=e.className,o=e.direction,s=e.height,l=e.innerRef,c=e.innerElementType,u=e.innerTagName,d=e.itemCount,h=e.itemData,f=e.itemKey,p=void 0===f?ZL:f,m=e.layout,g=e.outerElementType,v=e.outerTagName,y=e.style,w=e.useIsScrolling,b=e.width,_=this.state.isScrolling,S="horizontal"===o||"horizontal"===m,I=S?this._onScrollHorizontal:this._onScrollVertical,x=this._getRangeToRender(),k=x[0],E=x[1],T=[];if(d>0)for(var C=k;C<=E;C++)T.push((0,t.createElement)(n,{data:h,key:p(C,h),index:C,isScrolling:w?_:void 0,style:this._getItemStyle(C)}));var A=i(this.props,this._instanceProps);return(0,t.createElement)(g||v||"div",{className:r,onScroll:I,ref:this._outerRefSetter,style:(0,a.A)({position:"relative",height:s,width:b,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:o},y)},(0,t.createElement)(c||u||"div",{children:T,ref:l,style:{height:S?"100%":A,pointerEvents:_?"none":void 0,width:S?A:"100%"}}))},f._callPropsCallbacks=function(){if("function"===typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],n=e[1],r=e[2],i=e[3];this._callOnItemsRendered(t,n,r,i)}if("function"===typeof this.props.onScroll){var o=this.state,s=o.scrollDirection,a=o.scrollOffset,l=o.scrollUpdateWasRequested;this._callOnScroll(s,a,l)}},f._getRangeToRender=function(){var e=this.props,t=e.itemCount,n=e.overscanCount,r=this.state,i=r.isScrolling,o=r.scrollDirection,s=r.scrollOffset;if(0===t)return[0,0,0,0];var a=l(this.props,s,this._instanceProps),u=c(this.props,a,s,this._instanceProps),d=i&&"backward"!==o?1:Math.max(1,n),h=i&&"forward"!==o?1:Math.max(1,n);return[Math.max(0,a-d),Math.max(0,Math.min(t-1,u+h)),a,u]},n}(t.PureComponent),n.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},n}var tM=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},nM=function(e,t,n){var r=e.itemSize,i=n.itemMetadataMap,o=n.lastMeasuredIndex;if(t>o){var s=0;if(o>=0){var a=i[o];s=a.offset+a.size}for(var l=o+1;l<=t;l++){var c=r(l);i[l]={offset:s,size:c},s+=c}n.lastMeasuredIndex=t}return i[t]},rM=function(e,t,n,r,i){for(;r<=n;){var o=r+Math.floor((n-r)/2),s=nM(e,o,t).offset;if(s===i)return o;s<i?r=o+1:s>i&&(n=o-1)}return r>0?r-1:0},iM=function(e,t,n,r){for(var i=e.itemCount,o=1;n<i&&nM(e,n,t).offset<r;)n+=o,o*=2;return rM(e,t,Math.min(n,i-1),Math.floor(n/2),r)},oM=function(e,t){var n=e.itemCount,r=t.itemMetadataMap,i=t.estimatedItemSize,o=t.lastMeasuredIndex,s=0;if(o>=n&&(o=n-1),o>=0){var a=r[o];s=a.offset+a.size}return s+(n-o-1)*i},sM=eM({getItemOffset:function(e,t,n){return nM(e,t,n).offset},getItemSize:function(e,t,n){return n.itemMetadataMap[t].size},getEstimatedTotalSize:oM,getOffsetForIndexAndAlignment:function(e,t,n,r,i,o){var s=e.direction,a=e.height,l=e.layout,c=e.width,u="horizontal"===s||"horizontal"===l?c:a,d=nM(e,t,i),h=oM(e,i),f=Math.max(0,Math.min(h-u,d.offset)),p=Math.max(0,d.offset-u+d.size+o);switch("smart"===n&&(n=r>=p-u&&r<=f+u?"auto":"center"),n){case"start":return f;case"end":return p;case"center":return Math.round(p+(f-p)/2);default:return r>=p&&r<=f?r:r<p?p:f}},getStartIndexForOffset:function(e,t,n){return function(e,t,n){var r=t.itemMetadataMap,i=t.lastMeasuredIndex;return(i>0?r[i].offset:0)>=n?rM(e,t,i,0,n):iM(e,t,Math.max(0,i),n)}(e,n,t)},getStopIndexForStartIndex:function(e,t,n,r){for(var i=e.direction,o=e.height,s=e.itemCount,a=e.layout,l=e.width,c="horizontal"===i||"horizontal"===a?l:o,u=nM(e,t,r),d=n+c,h=u.offset+u.size,f=t;f<s-1&&h<d;)f++,h+=nM(e,f,r).size;return f},initInstanceProps:function(e,t){var n={itemMetadataMap:{},estimatedItemSize:e.estimatedItemSize||50,lastMeasuredIndex:-1};return t.resetAfterIndex=function(e,r){void 0===r&&(r=!0),n.lastMeasuredIndex=Math.min(n.lastMeasuredIndex,e-1),t._getItemStyleCache(-1),r&&t.forceUpdate()},n},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}});const aM=function(e,n){var r,i;return t.isValidElement(e)&&-1!==n.indexOf(null!=(r=e.type.muiName)?r:null==(i=e.type)||null==(i=i._payload)||null==(i=i.value)?void 0:i.muiName)},lM=ZN;const cM=t.createContext({});function uM(e){return p("MuiListItem",e)}const dM=Le("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);function hM(e){return p("MuiListItemButton",e)}const fM=Le("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function pM(e){return p("MuiListItemSecondaryAction",e)}Le("MuiListItemSecondaryAction",["root","disableGutters"]);const mM=["className"],gM=Re("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})((e=>{let{ownerState:t}=e;return(0,a.A)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})})),vM=t.forwardRef((function(e,n){const r=Pe({props:e,name:"MuiListItemSecondaryAction"}),{className:i}=r,o=(0,s.A)(r,mM),l=t.useContext(cM),u=(0,a.A)({},r,{disableGutters:l.disableGutters}),d=(e=>{const{disableGutters:t,classes:n}=e;return m({root:["root",t&&"disableGutters"]},pM,n)})(u);return(0,U.jsx)(gM,(0,a.A)({className:c(d.root,i),ownerState:u,ref:n},o))}));vM.muiName="ListItemSecondaryAction";const yM=vM,wM=["className"],bM=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],_M=Re("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})((e=>{let{theme:t,ownerState:n}=e;return(0,a.A)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!n.disablePadding&&(0,a.A)({paddingTop:8,paddingBottom:8},n.dense&&{paddingTop:4,paddingBottom:4},!n.disableGutters&&{paddingLeft:16,paddingRight:16},!!n.secondaryAction&&{paddingRight:48}),!!n.secondaryAction&&{["& > .".concat(fM.root)]:{paddingRight:48}},{["&.".concat(dM.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(dM.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,$.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(dM.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,$.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(dM.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"flex-start"===n.alignItems&&{alignItems:"flex-start"},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},n.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(dM.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,$.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,$.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}}},n.hasSecondaryAction&&{paddingRight:48})})),SM=Re("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),IM=t.forwardRef((function(e,n){const r=Pe({props:e,name:"MuiListItem"}),{alignItems:i="center",autoFocus:o=!1,button:l=!1,children:u,className:d,component:h,components:f={},componentsProps:p={},ContainerComponent:g="li",ContainerProps:{className:v}={},dense:y=!1,disabled:w=!1,disableGutters:b=!1,disablePadding:_=!1,divider:S=!1,focusVisibleClassName:I,secondaryAction:x,selected:k=!1,slotProps:E={},slots:T={}}=r,C=(0,s.A)(r.ContainerProps,wM),A=(0,s.A)(r,bM),R=t.useContext(cM),P=t.useMemo((()=>({dense:y||R.dense||!1,alignItems:i,disableGutters:b})),[i,R.dense,y,b]),N=t.useRef(null);lM((()=>{o&&N.current&&N.current.focus()}),[o]);const O=t.Children.toArray(u),D=O.length&&aM(O[O.length-1],["ListItemSecondaryAction"]),L=(0,a.A)({},r,{alignItems:i,autoFocus:o,button:l,dense:P.dense,disabled:w,disableGutters:b,disablePadding:_,divider:S,hasSecondaryAction:D,selected:k}),M=(e=>{const{alignItems:t,button:n,classes:r,dense:i,disabled:o,disableGutters:s,disablePadding:a,divider:l,hasSecondaryAction:c,selected:u}=e;return m({root:["root",i&&"dense",!s&&"gutters",!a&&"padding",l&&"divider",o&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",c&&"secondaryAction",u&&"selected"],container:["container"]},uM,r)})(L),F=JN(N,n),j=T.root||f.Root||_M,z=E.root||p.root||{},V=(0,a.A)({className:c(M.root,z.className,d),disabled:w},A);let B=h||"li";return l&&(V.component=h||"div",V.focusVisibleClassName=c(dM.focusVisible,I),B=YO),D?(B=V.component||h?B:"div","li"===g&&("li"===B?B="div":"li"===V.component&&(V.component="div")),(0,U.jsx)(cM.Provider,{value:P,children:(0,U.jsxs)(SM,(0,a.A)({as:g,className:c(M.container,v),ref:F,ownerState:L},C,{children:[(0,U.jsx)(j,(0,a.A)({},z,!yD(j)&&{as:B,ownerState:(0,a.A)({},L,z.ownerState)},V,{children:O})),O.pop()]}))})):(0,U.jsx)(cM.Provider,{value:P,children:(0,U.jsxs)(j,(0,a.A)({},z,{as:B,ref:F},!yD(j)&&{ownerState:(0,a.A)({},L,z.ownerState)},V,{children:[O,x&&(0,U.jsx)(yM,{children:x})]}))})})),xM=IM;function kM(e){return p("MuiListItemText",e)}const EM=Le("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),TM=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],CM=Re("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(EM.primary)]:t.primary},{["& .".concat(EM.secondary)]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})((e=>{let{ownerState:t}=e;return(0,a.A)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})})),AM=t.forwardRef((function(e,n){const r=Pe({props:e,name:"MuiListItemText"}),{children:i,className:o,disableTypography:l=!1,inset:u=!1,primary:d,primaryTypographyProps:h,secondary:f,secondaryTypographyProps:p}=r,g=(0,s.A)(r,TM),{dense:v}=t.useContext(cM);let y=null!=d?d:i,w=f;const b=(0,a.A)({},r,{disableTypography:l,inset:u,primary:!!y,secondary:!!w,dense:v}),_=(e=>{const{classes:t,inset:n,primary:r,secondary:i,dense:o}=e;return m({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},kM,t)})(b);return null==y||y.type===Be||l||(y=(0,U.jsx)(Be,(0,a.A)({variant:v?"body2":"body1",className:_.primary,component:null!=h&&h.variant?void 0:"span",display:"block"},h,{children:y}))),null==w||w.type===Be||l||(w=(0,U.jsx)(Be,(0,a.A)({variant:"body2",className:_.secondary,color:"text.secondary",display:"block"},p,{children:w}))),(0,U.jsxs)(CM,(0,a.A)({className:c(_.root,o),ownerState:b,ref:n},g,{children:[y,w]}))})),RM=e=>{var t;let{index:n,width:r,fontSize:i}=e;const o=mn.getTypingStats().at(n);let s=null,a=null,l=null;o&&(s=(0,U.jsx)(uD,{stat:o.getWpm(),statName:"WPM:",color:"#9287B7"}),a=(0,U.jsx)(uD,{stat:o.getAccuracy(),statName:"Accuracy:",color:"#9287B7"}),l=(0,U.jsx)(U.Fragment,{children:yt(o.getGeneratedPrompt(),o.getTypedPrompt(),!1,i,null)}));const c=()=>(0,U.jsx)(U.Fragment,{children:(0,U.jsx)("div",{style:{height:"15px"}})}),u=(e,t)=>(0,U.jsx)(U.Fragment,{children:d((0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(Be,{sx:{color:"white",paddingTop:"20px",paddingLeft:"20px"},children:e}),(0,U.jsx)("div",{className:"scrollCss",contentEditable:!1,style:{display:"inline-block",width:"calc(".concat(r,"vw - 100px)"),overflow:"hidden",height:"80px",borderRadius:"40px",paddingLeft:"10px",paddingRight:"10px",paddingTop:"10px",whiteSpace:"normal",wordWrap:"break-word",overflowY:"scroll"},children:t},"scrollPane"),c()]}))}),d=e=>(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(Qe,{sx:{width:"calc(".concat(r,"vw - 85px)"),borderRadius:"40px",backdropFilter:"blur(10px)",backgroundColor:"rgba(41, 33, 64, 0.1)"},children:e})}),h=u("Accuracy Visual",(0,U.jsx)(U.Fragment,{children:l})),f=u("Generated Prompt",(0,U.jsx)(Be,{sx:{fontSize:"".concat(i,"px"),color:"#9287B7"},children:null===o||void 0===o?void 0:o.getGeneratedPrompt()})),p=u("User Results",(0,U.jsx)(Be,{sx:{fontSize:"".concat(i,"px"),color:"#9287B7"},children:null===o||void 0===o?void 0:o.getTypedPrompt()}));if(null!==o&&void 0!==o&&o.getDuration())lD(+(null===o||void 0===o?void 0:o.getDuration()));return(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(YN,{container:!0,alignItems:"center",direction:"column",sx:{backdropFilter:"blur(5px)",backgroundColor:"rgba(41, 33, 64, 0.1)",borderRadius:"65px",paddingTop:"25px",paddingBottom:"25px",width:"calc(".concat(r,"vw - 50px)")},children:[(0,U.jsx)(Be,{sx:{color:"#9287B7"},children:"Test #"+(n+1)}),(0,U.jsxs)(Oe,{flexDirection:"row",children:[(0,U.jsx)(Be,{sx:{color:"#9287B7"},children:"Duration:\xa0"}),(0,U.jsx)(Be,{sx:{color:"#B8AAE9"},children:lD(null!==(t=o.getDuration())&&void 0!==t?t:0)})," "]}),s,a,c(),f,c(),p,c(),h]})})},PM=e=>{let{setFontSize:n}=e;const[r,i]=(0,t.useState)(mn.getHistorySettings().getFontSize());return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("div",{style:{height:"60px"}}),(0,U.jsxs)(Qe,{sx:{paddingLeft:"30px",paddingRight:"30px",flex:"1",display:"flex",alignItems:"center",flexDirection:"column",boxShadow:"0 0 50px rgba(24, 18, 43, 1)",backdropFilter:"blur(10px)",backgroundColor:"rgba(24, 18, 43, 0.5)",borderRadius:"100px"},children:[(0,U.jsxs)(Qe,{sx:{flexDirection:"row",flex:"1",display:"flex",alignItems:"center"},children:[(0,U.jsxs)(Be,{id:"input-slider",sx:{color:"#635985"},children:["Font Size:","\xa0"]}),(0,U.jsx)(Be,{id:"input-slider",sx:{color:"#9287B7"},children:+r})]}),(0,U.jsx)(rL,{sx:{color:"#9287B7","& .MuiSlider-thumb":{backgroundColor:"#9287B7",width:"15px",height:"15px","&:hover":{boxShadow:"0px 0px 0px 8px rgba(146, 135, 183, 0.5)"},"&:not(:hover)":{boxShadow:"0px 0px 0px 0px rgba(146, 135, 183, 0.5)"},"&:active":{boxShadow:"0px 0px 0px 12px rgba(146, 135, 183, 0.5)"}}},"aria-label":"FontSize",value:mn.getHistorySettings().getFontSize(),valueLabelDisplay:"off",min:10,max:50,onChange:(e,t)=>((e,t)=>{"number"==typeof t&&(n(t),mn.getHistorySettings().setFontSize(t),i(t),console.log(mn.getHistorySettings().getFontSize()))})(0,t),onMouseUp:()=>{(async function(){var e;if(!SN())return;const t=cP.collection("Users").doc(null===(e=lP.currentUser)||void 0===e?void 0:e.uid).collection("historySettings");try{await t.doc("historySetting").update(mn.getHistorySettings().toDoc())}catch(n){}})().then((()=>{console.log("Finished updating online history settings!")}))}})]})]})};var NM=[],OM=[];const DM=e=>{let{index:n,style:r,addSize:i,fontSize:o}=e;const s=(0,t.useRef)(null),a=(0,U.jsx)("div",{style:r,children:(0,U.jsx)(xM,{ref:s,onClick:e=>{var t;return console.log(null===(t=s.current)||void 0===t?void 0:t.clientHeight)},component:"div",disablePadding:!0,children:(0,U.jsx)(AM,{primary:(0,U.jsx)(RM,{index:n,width:85,fontSize:o})})},n)});return OM.push(s),t.useEffect((()=>{var e,t;i(null!==(e=null===(t=s.current)||void 0===t?void 0:t.clientHeight)&&void 0!==e?e:0,n)}),[i,n]),a},LM=()=>{const[e,n]=(0,t.useState)(mn.getHistorySettings().getFontSize()),r=(0,t.useRef)(null),i=(e,t)=>{var n;NM.push(e),null===(n=r.current)||void 0===n||n.resetAfterIndex(t)},[o,s]=(0,t.useState)(.5*window.innerHeight);return(0,t.useEffect)((()=>{const e=()=>{s(.5*window.innerHeight)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(Qe,{sx:{width:"".concat(85,"vw"),height:"50vh","&::-webkit-scrollbar-button":{display:"none"}},children:[(0,U.jsx)(sM,{ref:r,height:o,width:"".concat(85,"vw"),itemSize:e=>(e=>NM.at(e)||0)(e),itemCount:mn.getTypingStats().length,overscanCount:5,style:{overflowY:"scroll",overflowX:"hidden",scrollbarWidth:"initial",scrollbarColor:"#B6AAD7 transparent",msScrollbarArrowColor:"transparent"},children:t=>{let{index:n,style:r}=t;return(0,U.jsx)(DM,{index:n,style:{...r,paddingRight:"200px"},data:void 0,addSize:i,fontSize:e})}}),(0,U.jsx)(PM,{setFontSize:n})]})})};function MM(e){return ID(e).defaultView||window}function FM(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function jM(e){return parseInt(MM(e).getComputedStyle(e).paddingRight,10)||0}function UM(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,(e=>{const t=-1===o.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&FM(e,i)}))}function zM(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function VM(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=ID(e);return t.body===e?MM(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=function(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}(ID(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(jM(r)+e,"px");const t=ID(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight="".concat(jM(t)+e,"px")}))}let e;if(r.parentNode instanceof DocumentFragment)e=ID(r).body;else{const t=r.parentElement,n=MM(r);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}const BM=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&FM(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);UM(t,e.mount,e.modalRef,r,!0);const i=zM(this.containers,(e=>e.container===t));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=zM(this.containers,(t=>-1!==t.modals.indexOf(e))),r=this.containers[n];r.restore||(r.restore=VM(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=zM(this.containers,(t=>-1!==t.modals.indexOf(e))),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&FM(e.modalRef,t),UM(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=i.modals[i.modals.length-1];e.modalRef&&FM(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};function qM(e){const{container:n,disableEscapeKeyDown:r=!1,disableScrollLock:i=!1,manager:o=BM,closeAfterTransition:s=!1,onTransitionEnter:l,onTransitionExited:c,children:u,onClose:d,open:h,rootRef:f}=e,p=t.useRef({}),m=t.useRef(null),g=t.useRef(null),v=XN(g,f),[y,w]=t.useState(!h),b=function(e){return!!e&&e.props.hasOwnProperty("in")}(u);let _=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(_=!1);const S=()=>(p.current.modalRef=g.current,p.current.mount=m.current,p.current),I=()=>{o.mount(S(),{disableScrollLock:i}),g.current&&(g.current.scrollTop=0)},x=eO((()=>{const e=function(e){return"function"===typeof e?e():e}(n)||ID(m.current).body;o.add(S(),e),g.current&&I()})),k=t.useCallback((()=>o.isTopModal(S())),[o]),E=eO((e=>{m.current=e,e&&(h&&k()?I():g.current&&FM(g.current,_))})),T=t.useCallback((()=>{o.remove(S(),_)}),[_,o]);t.useEffect((()=>()=>{T()}),[T]),t.useEffect((()=>{h?x():b&&s||T()}),[h,T,b,s,x]);const C=e=>t=>{var n;null==(n=e.onKeyDown)||n.call(e,t),"Escape"===t.key&&229!==t.which&&k()&&(r||(t.stopPropagation(),d&&d(t,"escapeKeyDown")))},A=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&d&&d(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=wD(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r=(0,a.A)({},n,t);return(0,a.A)({role:"presentation"},r,{onKeyDown:C(r),ref:v})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.A)({"aria-hidden":!0},e,{onClick:A(e),open:h})},getTransitionProps:()=>({onEnter:EL((()=>{w(!1),l&&l()}),null==u?void 0:u.props.onEnter),onExited:EL((()=>{w(!0),c&&c(),s&&T()}),null==u?void 0:u.props.onExited)}),rootRef:v,portalRef:E,isTopModal:k,exited:y,hasTransition:b}}const WM=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function HM(e){const t=[],n=[];return Array.from(e.querySelectorAll(WM)).forEach(((e,r)=>{const i=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector('input[type="radio"]'.concat(t));let n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function KM(){return!0}function GM(e){const{children:n,disableAutoFocus:r=!1,disableEnforceFocus:i=!1,disableRestoreFocus:o=!1,getTabbable:s=HM,isEnabled:a=KM,open:l}=e,c=t.useRef(!1),u=t.useRef(null),d=t.useRef(null),h=t.useRef(null),f=t.useRef(null),p=t.useRef(!1),m=t.useRef(null),g=XN(n.ref,m),v=t.useRef(null);t.useEffect((()=>{l&&m.current&&(p.current=!r)}),[r,l]),t.useEffect((()=>{if(!l||!m.current)return;const e=ID(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{o||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}}),[l]),t.useEffect((()=>{if(!l||!m.current)return;const e=ID(m.current),t=t=>{v.current=t,!i&&a()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(c.current=!0,d.current&&d.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!a()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(i&&e.activeElement!==u.current&&e.activeElement!==d.current)return;if(e.activeElement!==f.current)f.current=null;else if(null!==f.current)return;if(!p.current)return;let n=[];if(e.activeElement!==u.current&&e.activeElement!==d.current||(n=s(m.current)),n.length>0){var r,o;const e=Boolean((null==(r=v.current)?void 0:r.shiftKey)&&"Tab"===(null==(o=v.current)?void 0:o.key)),t=n[0],i=n[n.length-1];"string"!==typeof t&&"string"!==typeof i&&(e?i.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const r=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[r,i,o,a,l,s]);const y=e=>{null===h.current&&(h.current=e.relatedTarget),p.current=!0};return(0,U.jsxs)(t.Fragment,{children:[(0,U.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),t.cloneElement(n,{ref:g,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),p.current=!0,f.current=e.target;const t=n.props.onFocus;t&&t(e)}}),(0,U.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:d,"data-testid":"sentinelEnd"})]})}var QM=n(7950),YM=n.t(QM,2);const $M=t.forwardRef((function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[s,a]=t.useState(null),l=XN(t.isValidElement(r)?r.ref:null,n);if(ZN((()=>{o||a(function(e){return"function"===typeof e?e():e}(i)||document.body)}),[i,o]),ZN((()=>{if(s&&!o)return $N(n,s),()=>{$N(n,null)}}),[n,s,o]),o){if(t.isValidElement(r)){const e={ref:l};return t.cloneElement(r,e)}return(0,U.jsx)(t.Fragment,{children:r})}return(0,U.jsx)(t.Fragment,{children:s?QM.createPortal(r,s):s})}));const XM=!1;var JM="unmounted",ZM="exited",eF="entering",tF="entered",nF="exiting",rF=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=ZM,r.appearStatus=eF):i=tF:i=t.unmountOnExit||t.mountOnEnter?JM:ZM,r.state={status:i},r.nextCallback=null,r}yO(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===JM?{status:ZM}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==eF&&n!==tF&&(t=eF):n!==eF&&n!==tF||(t=nF)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===eF){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:QM.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ZM&&this.setState({status:JM})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[QM.findDOMNode(this),r],o=i[0],s=i[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!n||XM?this.safeSetState({status:tF},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:eF},(function(){t.props.onEntering(o,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:tF},(function(){t.props.onEntered(o,s)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:QM.findDOMNode(this);t&&!XM?(this.props.onExit(r),this.safeSetState({status:nF},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:ZM},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:ZM},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:QM.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===JM)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,s.A)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(wO.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function iF(){}rF.contextType=wO,rF.propTypes={},rF.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:iF,onEntering:iF,onEntered:iF,onExit:iF,onExiting:iF,onExited:iF},rF.UNMOUNTED=JM,rF.EXITED=ZM,rF.ENTERING=eF,rF.ENTERED=tF,rF.EXITING=nF;const oF=rF,sF=e=>e.scrollTop;function aF(e,t){var n,r;const{timeout:i,easing:o,style:s={}}=e;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof o?o[t.mode]:o,delay:s.transitionDelay}}const lF=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],cF={entering:{opacity:1},entered:{opacity:1}},uF=t.forwardRef((function(e,n){const r=FN(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:l=!0,children:c,easing:u,in:d,onEnter:h,onEntered:f,onEntering:p,onExit:m,onExited:g,onExiting:v,style:y,timeout:w=i,TransitionComponent:b=oF}=e,_=(0,s.A)(e,lF),S=t.useRef(null),I=JN(S,c.ref,n),x=e=>t=>{if(e){const n=S.current;void 0===t?e(n):e(n,t)}},k=x(p),E=x(((e,t)=>{sF(e);const n=aF({style:y,timeout:w,easing:u},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),h&&h(e,t)})),T=x(f),C=x(v),A=x((e=>{const t=aF({style:y,timeout:w,easing:u},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),m&&m(e)})),R=x(g);return(0,U.jsx)(b,(0,a.A)({appear:l,in:d,nodeRef:S,onEnter:E,onEntered:T,onEntering:k,onExit:A,onExited:R,onExiting:C,addEndListener:e=>{o&&o(S.current,e)},timeout:w},_,{children:(e,n)=>t.cloneElement(c,(0,a.A)({style:(0,a.A)({opacity:0,visibility:"exited"!==e||d?void 0:"hidden"},cF[e],y,c.props.style),ref:I},n))}))})),dF=uF;function hF(e){return p("MuiBackdrop",e)}Le("MuiBackdrop",["root","invisible"]);const fF=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],pF=Re("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})((e=>{let{ownerState:t}=e;return(0,a.A)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),mF=t.forwardRef((function(e,t){var n,r,i;const o=Pe({props:e,name:"MuiBackdrop"}),{children:l,className:u,component:d="div",components:h={},componentsProps:f={},invisible:p=!1,open:g,slotProps:v={},slots:y={},TransitionComponent:w=dF,transitionDuration:b}=o,_=(0,s.A)(o,fF),S=(0,a.A)({},o,{component:d,invisible:p}),I=(e=>{const{classes:t,invisible:n}=e;return m({root:["root",n&&"invisible"]},hF,t)})(S),x=null!=(n=v.root)?n:f.root;return(0,U.jsx)(w,(0,a.A)({in:g,timeout:b},_,{children:(0,U.jsx)(pF,(0,a.A)({"aria-hidden":!0},x,{as:null!=(r=null!=(i=y.root)?i:h.Root)?r:d,className:c(I.root,u,null==x?void 0:x.className),ownerState:(0,a.A)({},S,null==x?void 0:x.ownerState),classes:I,ref:t,children:l}))}))}));function gF(e){return p("MuiModal",e)}Le("MuiModal",["root","hidden","backdrop"]);const vF=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],yF=Re("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})((e=>{let{theme:t,ownerState:n}=e;return(0,a.A)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),wF=Re(mF,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),bF=t.forwardRef((function(e,n){var r,i,o,l,u,d;const h=Pe({name:"MuiModal",props:e}),{BackdropComponent:f=wF,BackdropProps:p,className:g,closeAfterTransition:v=!1,children:y,container:w,component:b,components:_={},componentsProps:S={},disableAutoFocus:I=!1,disableEnforceFocus:x=!1,disableEscapeKeyDown:k=!1,disablePortal:E=!1,disableRestoreFocus:T=!1,disableScrollLock:C=!1,hideBackdrop:A=!1,keepMounted:R=!1,onBackdropClick:P,open:N,slotProps:O,slots:D}=h,L=(0,s.A)(h,vF),M=(0,a.A)({},h,{closeAfterTransition:v,disableAutoFocus:I,disableEnforceFocus:x,disableEscapeKeyDown:k,disablePortal:E,disableRestoreFocus:T,disableScrollLock:C,hideBackdrop:A,keepMounted:R}),{getRootProps:F,getBackdropProps:j,getTransitionProps:z,portalRef:V,isTopModal:B,exited:q,hasTransition:W}=qM((0,a.A)({},M,{rootRef:n})),H=(0,a.A)({},M,{exited:q}),K=(e=>{const{open:t,exited:n,classes:r}=e;return m({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},gF,r)})(H),G={};if(void 0===y.props.tabIndex&&(G.tabIndex="-1"),W){const{onEnter:e,onExited:t}=z();G.onEnter=e,G.onExited=t}const Q=null!=(r=null!=(i=null==D?void 0:D.root)?i:_.Root)?r:yF,Y=null!=(o=null!=(l=null==D?void 0:D.backdrop)?l:_.Backdrop)?o:f,$=null!=(u=null==O?void 0:O.root)?u:S.root,X=null!=(d=null==O?void 0:O.backdrop)?d:S.backdrop,J=SD({elementType:Q,externalSlotProps:$,externalForwardedProps:L,getSlotProps:F,additionalProps:{ref:n,as:b},ownerState:H,className:c(g,null==$?void 0:$.className,null==K?void 0:K.root,!H.open&&H.exited&&(null==K?void 0:K.hidden))}),Z=SD({elementType:Y,externalSlotProps:X,additionalProps:p,getSlotProps:e=>j((0,a.A)({},e,{onClick:t=>{P&&P(t),null!=e&&e.onClick&&e.onClick(t)}})),className:c(null==X?void 0:X.className,null==p?void 0:p.className,null==K?void 0:K.backdrop),ownerState:H});return R||N||W&&!q?(0,U.jsx)($M,{ref:V,container:w,disablePortal:E,children:(0,U.jsxs)(Q,(0,a.A)({},J,{children:[!A&&f?(0,U.jsx)(Y,(0,a.A)({},Z)):null,(0,U.jsx)(GM,{disableEnforceFocus:x,disableAutoFocus:I,disableRestoreFocus:T,isEnabled:B,open:N,children:t.cloneElement(y,G)})]}))}):null})),_F=bF;const SF=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];clearTimeout(t),t=setTimeout((()=>{e.apply(this,i)}),n)}return r.clear=()=>{clearTimeout(t)},r},IF=MM,xF=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function kF(e,t,n){var r;const i=function(e,t,n){const r=t.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),o=IF(t);let s;if(t.fakeTransform)s=t.fakeTransform;else{const e=o.getComputedStyle(t);s=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("transform")}let a=0,l=0;if(s&&"none"!==s&&"string"===typeof s){const e=s.split("(")[1].split(")")[0].split(",");a=parseInt(e[4],10),l=parseInt(e[5],10)}return"left"===e?"translateX(".concat(i?i.right+a-r.left:o.innerWidth+a-r.left,"px)"):"right"===e?"translateX(-".concat(i?r.right-i.left-a:r.left+r.width-a,"px)"):"up"===e?"translateY(".concat(i?i.bottom+l-r.top:o.innerHeight+l-r.top,"px)"):"translateY(-".concat(i?r.top-i.top+r.height-l:r.top+r.height-l,"px)")}(e,t,"function"===typeof(r=n)?r():r);i&&(t.style.webkitTransform=i,t.style.transform=i)}const EF=t.forwardRef((function(e,n){const r=FN(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:l,appear:c=!0,children:u,container:d,direction:h="down",easing:f=i,in:p,onEnter:m,onEntered:g,onEntering:v,onExit:y,onExited:w,onExiting:b,style:_,timeout:S=o,TransitionComponent:I=oF}=e,x=(0,s.A)(e,xF),k=t.useRef(null),E=JN(u.ref,k,n),T=e=>t=>{e&&(void 0===t?e(k.current):e(k.current,t))},C=T(((e,t)=>{kF(h,e,d),sF(e),m&&m(e,t)})),A=T(((e,t)=>{const n=aF({timeout:S,style:_,easing:f},{mode:"enter"});e.style.webkitTransition=r.transitions.create("-webkit-transform",(0,a.A)({},n)),e.style.transition=r.transitions.create("transform",(0,a.A)({},n)),e.style.webkitTransform="none",e.style.transform="none",v&&v(e,t)})),R=T(g),P=T(b),N=T((e=>{const t=aF({timeout:S,style:_,easing:f},{mode:"exit"});e.style.webkitTransition=r.transitions.create("-webkit-transform",t),e.style.transition=r.transitions.create("transform",t),kF(h,e,d),y&&y(e)})),O=T((e=>{e.style.webkitTransition="",e.style.transition="",w&&w(e)})),D=t.useCallback((()=>{k.current&&kF(h,k.current,d)}),[h,d]);return t.useEffect((()=>{if(p||"down"===h||"right"===h)return;const e=SF((()=>{k.current&&kF(h,k.current,d)})),t=IF(k.current);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[h,p,d]),t.useEffect((()=>{p||D()}),[p,D]),(0,U.jsx)(I,(0,a.A)({nodeRef:k,onEnter:C,onEntered:R,onEntering:A,onExit:N,onExited:O,onExiting:P,addEndListener:e=>{l&&l(k.current,e)},appear:c,in:p,timeout:S},x,{children:(e,n)=>t.cloneElement(u,(0,a.A)({ref:E,style:(0,a.A)({visibility:"exited"!==e||p?void 0:"hidden"},_,u.props.style)},n))}))})),TF=EF;function CF(e){return p("MuiDrawer",e)}Le("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const AF=["BackdropProps"],RF=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],PF=(e,t)=>{const{ownerState:n}=e;return[t.root,("permanent"===n.variant||"persistent"===n.variant)&&t.docked,t.modal]},NF=Re(_F,{name:"MuiDrawer",slot:"Root",overridesResolver:PF})((e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.drawer}})),OF=Re("div",{shouldForwardProp:Ae,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:PF})({flex:"0 0 auto"}),DF=Re(vD,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t["paperAnchor".concat(De(n.anchor))],"temporary"!==n.variant&&t["paperAnchorDocked".concat(De(n.anchor))]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,a.A)({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},"left"===n.anchor&&{left:0},"top"===n.anchor&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},"right"===n.anchor&&{right:0},"bottom"===n.anchor&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},"left"===n.anchor&&"temporary"!==n.variant&&{borderRight:"1px solid ".concat((t.vars||t).palette.divider)},"top"===n.anchor&&"temporary"!==n.variant&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider)},"right"===n.anchor&&"temporary"!==n.variant&&{borderLeft:"1px solid ".concat((t.vars||t).palette.divider)},"bottom"===n.anchor&&"temporary"!==n.variant&&{borderTop:"1px solid ".concat((t.vars||t).palette.divider)})})),LF={left:"right",right:"left",top:"down",bottom:"up"};const MF=t.forwardRef((function(e,n){const r=Pe({props:e,name:"MuiDrawer"}),i=FN(),o=VD(),l={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:u="left",BackdropProps:d,children:h,className:f,elevation:p=16,hideBackdrop:g=!1,ModalProps:{BackdropProps:v}={},onClose:y,open:w=!1,PaperProps:b={},SlideProps:_,TransitionComponent:S=TF,transitionDuration:I=l,variant:x="temporary"}=r,k=(0,s.A)(r.ModalProps,AF),E=(0,s.A)(r,RF),T=t.useRef(!1);t.useEffect((()=>{T.current=!0}),[]);const C=function(e,t){let{direction:n}=e;return"rtl"===n&&function(e){return-1!==["left","right"].indexOf(e)}(t)?LF[t]:t}({direction:o?"rtl":"ltr"},u),A=u,R=(0,a.A)({},r,{anchor:A,elevation:p,open:w,variant:x},E),P=(e=>{const{classes:t,anchor:n,variant:r}=e;return m({root:["root"],docked:[("permanent"===r||"persistent"===r)&&"docked"],modal:["modal"],paper:["paper","paperAnchor".concat(De(n)),"temporary"!==r&&"paperAnchorDocked".concat(De(n))]},CF,t)})(R),N=(0,U.jsx)(DF,(0,a.A)({elevation:"temporary"===x?p:0,square:!0},b,{className:c(P.paper,b.className),ownerState:R,children:h}));if("permanent"===x)return(0,U.jsx)(OF,(0,a.A)({className:c(P.root,P.docked,f),ownerState:R,ref:n},E,{children:N}));const O=(0,U.jsx)(S,(0,a.A)({in:w,direction:LF[C],timeout:I,appear:T.current},_,{children:N}));return"persistent"===x?(0,U.jsx)(OF,(0,a.A)({className:c(P.root,P.docked,f),ownerState:R,ref:n},E,{children:O})):(0,U.jsx)(NF,(0,a.A)({BackdropProps:(0,a.A)({},d,v,{transitionDuration:I}),className:c(P.root,P.modal,f),open:w,ownerState:R,onClose:y,hideBackdrop:g,ref:n},E,k,{children:O}))})),FF=MF,jF=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],UF=Re(YO,{shouldForwardProp:e=>Ae(e)||"classes"===e,name:"MuiListItemButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:n}=e;return(0,a.A)({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(fM.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,$.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(fM.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,$.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(fM.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,$.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,$.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(fM.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(fM.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity}},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},"flex-start"===n.alignItems&&{alignItems:"flex-start"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.dense&&{paddingTop:4,paddingBottom:4})})),zF=t.forwardRef((function(e,n){const r=Pe({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:o=!1,component:l="div",children:u,dense:d=!1,disableGutters:h=!1,divider:f=!1,focusVisibleClassName:p,selected:g=!1,className:v}=r,y=(0,s.A)(r,jF),w=t.useContext(cM),b=t.useMemo((()=>({dense:d||w.dense||!1,alignItems:i,disableGutters:h})),[i,w.dense,d,h]),_=t.useRef(null);lM((()=>{o&&_.current&&_.current.focus()}),[o]);const S=(0,a.A)({},r,{alignItems:i,dense:b.dense,disableGutters:h,divider:f,selected:g}),I=(e=>{const{alignItems:t,classes:n,dense:r,disabled:i,disableGutters:o,divider:s,selected:l}=e,c=m({root:["root",r&&"dense",!o&&"gutters",s&&"divider",i&&"disabled","flex-start"===t&&"alignItemsFlexStart",l&&"selected"]},hM,n);return(0,a.A)({},n,c)})(S),x=JN(_,n);return(0,U.jsx)(cM.Provider,{value:b,children:(0,U.jsx)(UF,(0,a.A)({ref:x,href:y.href||y.to,component:(y.href||y.to)&&"div"===l?"button":l,focusVisibleClassName:c(I.focusVisible,p),ownerState:S,className:c(I.root,v)},y,{classes:I,children:u}))})}));function VF(e){return p("MuiList",e)}Le("MuiList",["root","padding","dense","subheader"]);const BF=["children","className","component","dense","disablePadding","subheader"],qF=Re("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((e=>{let{ownerState:t}=e;return(0,a.A)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),WF=t.forwardRef((function(e,n){const r=Pe({props:e,name:"MuiList"}),{children:i,className:o,component:l="ul",dense:u=!1,disablePadding:d=!1,subheader:h}=r,f=(0,s.A)(r,BF),p=t.useMemo((()=>({dense:u})),[u]),g=(0,a.A)({},r,{component:l,dense:u,disablePadding:d}),v=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return m({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},VF,t)})(g);return(0,U.jsx)(cM.Provider,{value:p,children:(0,U.jsxs)(qF,(0,a.A)({as:l,className:c(v.root,o),ref:n,ownerState:g},f,{children:[h,i]}))})})),HF=e=>{let{setIsDrawerOpen:t}=e;const n=rN(),r=(e,t,n)=>(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(zF,{onClick:()=>i(t),children:[vt("32px","32px",n),(0,U.jsx)(AM,{primary:(0,U.jsx)("span",{style:{color:"White",marginLeft:"10px"},children:e})})]})}),i=e=>{n(e)};return(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(Qe,{sx:{width:250},onClick:e=>t(!1),children:(0,U.jsxs)(WF,{children:[r("Home","/HomePage","./svgFiles/home.svg"),r("Typing Practice","/TypingPage","./svgFiles/keyboard.svg"),r("History","/HistoryPage","./svgFiles/history.svg"),r("Login Signup","/SignupLoginPage","./svgFiles/account.svg"),r("About","/AboutPage","./svgFiles/information.svg")]})})})},KF=()=>{const[e,n]=(0,t.useState)(!1);return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(sD,{onClick:()=>n(!0),variant:"contained",sx:{color:"White",textEmphasisColor:"#292140",backgroundColor:"#635985","&:hover":{backgroundColor:"#9287B7"}},children:vt("32px","32px","./svgFiles/menu.svg")}),(0,U.jsx)(FF,{anchor:"right",open:e,PaperProps:{sx:{backgroundColor:"#9287B7"}},sx:{color:"#635985"},onClose:()=>n(!1),children:(0,U.jsx)(HF,{setIsDrawerOpen:n})})]})},GF=e=>{let{hideLogo:t=!1}=e;const n=rN();var r=(0,U.jsx)(sD,{disableRipple:!0,sx:{textTransform:"none",backgroundColor:"transparent","&:hover":{backgroundColor:"transparent"}},onClick:()=>{n("/HomePage")},children:(0,U.jsx)(Qe,{sx:{opacity:1},children:mt(1,15)})});return 1==t&&(r=(0,U.jsx)(Qe,{sx:{opacity:0},children:mt(1,15)})),(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(YN,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"flex-start",sx:{padding:"10px",paddingLeft:"100px",paddingTop:"30px",paddingBottom:"20px",paddingRight:"30px"},children:[r,(0,U.jsx)(KF,{})]})})};function QF(e){return p("MuiLink",e)}const YF=Le("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var $F=n(7162);const XF={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},JF=e=>{let{theme:t,ownerState:n}=e;const r=(e=>XF[e]||e)(n.color),i=(0,$F.Yn)(t,"palette.".concat(r),!1)||n.color,o=(0,$F.Yn)(t,"palette.".concat(r,"Channel"));return"vars"in t&&o?"rgba(".concat(o," / 0.4)"):(0,$.X4)(i,.4)},ZF=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],ej=Re(Be,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["underline".concat(De(n.underline))],"button"===n.component&&t.button]}})((e=>{let{theme:t,ownerState:n}=e;return(0,a.A)({},"none"===n.underline&&{textDecoration:"none"},"hover"===n.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===n.underline&&(0,a.A)({textDecoration:"underline"},"inherit"!==n.color&&{textDecorationColor:JF({theme:t,ownerState:n})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===n.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(YF.focusVisible)]:{outline:"auto"}})})),tj=t.forwardRef((function(e,n){const r=Pe({props:e,name:"MuiLink"}),{className:i,color:o="primary",component:l="a",onBlur:u,onFocus:d,TypographyClasses:h,underline:f="always",variant:p="inherit",sx:g}=r,v=(0,s.A)(r,ZF),{isFocusVisibleRef:y,onBlur:w,onFocus:b,ref:_}=mO(),[S,I]=t.useState(!1),x=JN(n,_),k=(0,a.A)({},r,{color:o,component:l,focusVisible:S,underline:f,variant:p}),E=(e=>{const{classes:t,component:n,focusVisible:r,underline:i}=e;return m({root:["root","underline".concat(De(i)),"button"===n&&"button",r&&"focusVisible"]},QF,t)})(k);return(0,U.jsx)(ej,(0,a.A)({color:o,className:c(E.root,i),classes:h,component:l,onBlur:e=>{w(e),!1===y.current&&I(!1),u&&u(e)},onFocus:e=>{b(e),!0===y.current&&I(!0),d&&d(e)},ref:x,ownerState:k,variant:p,sx:[...Object.keys(XF).includes(o)?[]:[{color:o}],...Array.isArray(g)?g:[g]]},v))})),nj=tj,rj=e=>{let{darkMode:t=!1}=e;const n=(new Date).getFullYear();var r="#18122B";return t&&(r="#8C83A4"),(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(Oe,{direction:"row",justifyContent:"space-between",children:[(0,U.jsxs)(Be,{sx:{position:"absolute",paddingLeft:"10px",paddingBottom:"10px",color:r,display:"flex",width:"100vw",justifyContent:"center",alignItems:"center",flexDirection:"row",zIndex:0,pointerEvents:"none"},children:["Copyright \xa9 ",n," Jake Yeo"]}),(0,U.jsx)(Qe,{sx:{display:"inline-block"},children:(0,U.jsxs)(nj,{href:"https://github.com/Jake-Yeo/type-runner",underline:"none",sx:{paddingLeft:"10px",paddingBottom:"10px",color:r,flex:"1",display:"flex",width:"fit-content",alignItems:"center",flexDirection:"row",zIndex:4,"&:hover":{color:"white"}},children:[vt("30px","30px","./svgFiles/githubColor.svg"),"\xa0GitHub"]})})]})})},ij=e=>{let{shootingStarInterval:n=300}=e;const[r,i]=(0,t.useState)([]);return(0,t.useEffect)((()=>{setTimeout((()=>{i([...r,bt()])}),n)}),[r]),(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(YN,{item:!0,sx:{position:"absolute",bottom:0,width:"100vw",height:"100vh",margin:0,padding:0,zIndex:-2},children:(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(Qe,{sx:{position:"absolute",width:"100vw",height:"100vh"},children:r})})})})},oj=e=>{let{width:t,height:n,opacity:r}=e;const i="data:image/svg+xml;utf8,".concat(encodeURIComponent(' \n    <svg viewBox="0 0 1733 168" fill="none" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M895 56.6547C449.5 -34.3453 139.833 -1.67863 0 56.6547V167.655H1733V56.6547C1546.83 114.988 1221.14 123.273 895 56.6547Z" fill="#D9D9D9"/>\n    </svg>\n  '));return(0,U.jsx)("img",{src:i,alt:"One Peak Wave",style:{width:t,height:n,opacity:r}})},sj=e=>{let{width:t,height:n,opacity:r}=e;const i="data:image/svg+xml;utf8,".concat(encodeURIComponent('\n    <svg viewBox="0 0 1733 165" fill="none" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">\n      <rect y="113" width="1733" height="52" fill="#9287B7" />\n      <path d="M351.5 53.0075C199.5 -46.4708 105 18.1901 0 53.0075V118H1733V53.0075C1643.17 85.2827 1426.9 130.468 1280.5 53.0075C1134.1 -24.4529 926.833 20.7323 841.5 53.0075C741.5 94.4568 503.5 152.486 351.5 53.0075Z" fill="#9287B7" />\n    </svg>\n  '));return(0,U.jsx)("img",{src:i,alt:"Two Peak Wave",style:{width:t,height:n,opacity:r}})},aj=e=>{let{heightSubtraction:t}=e;return t?(0,U.jsxs)(U.Fragment,{children:[gt("".concat(10-t,"vh"),.25,"forwards",8,oj),gt("".concat(15-t,"vh"),.25,"forwards",5,sj),gt("".concat(18-t,"vh"),.25,"backwards",9,sj),gt("".concat(20-t,"vh"),.25,"backwards",11,oj),gt("".concat(15-t,"vh"),.25,"forwards",8,sj),gt("".concat(25-t,"vh"),.25,"forwards",15,sj)]}):(0,U.jsxs)(U.Fragment,{children:[gt("10vh",.25,"forwards",8,oj),gt("15vh",.25,"forwards",5,sj),gt("18vh",.25,"backwards",9,sj),gt("20vh",.25,"backwards",11,oj),gt("15vh",.25,"forwards",8,sj),gt("25vh",.25,"forwards",15,sj)]})},lj=e=>{let{children:t}=e;return(0,U.jsxs)(Oe,{direction:"column",justifyContent:"space-between",alignItems:"center",minHeight:"100vh",width:"100vw",sx:{overflowX:"hidden",position:"relative"},children:[t,(0,U.jsx)(ij,{}),(0,U.jsx)(Qe,{sx:{position:"absolute",bottom:0,width:"100vw",height:"100vh",margin:0,padding:0,zIndex:-1},children:(0,U.jsx)(aj,{})})]})},cj=()=>{let e;return e=0===mn.getTypingStats().length?(0,U.jsx)(Be,{color:"white",children:"Empty! Type something first then come back!"}):(0,U.jsx)(LM,{}),(0,t.useEffect)((()=>()=>{ht()}),[]),(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(lj,{children:[(0,U.jsxs)(Oe,{sx:{overflowX:"hidden"},justifyContent:"flex-start",width:"100vw",height:"100vh",alignItems:"center",position:"relative",children:[(0,U.jsx)(GF,{}),e]}),(0,U.jsx)(Qe,{sx:{width:"100vw",bottom:"0px"},children:(0,U.jsx)(rj,{})})]})})},uj=()=>((0,t.useEffect)((()=>()=>{ht()}),[]),(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(Oe,{direction:"column",justifyContent:"space-between",height:"100vh",width:"100vw",sx:{overflowX:"hidden",position:"relative"},children:[(0,U.jsxs)(YN,{container:!0,direction:"column",justifyContent:"space-between",width:"100vw",children:[(0,U.jsx)(GF,{}),(0,U.jsx)(BL,{})]}),(0,U.jsxs)(YN,{item:!0,sx:{position:"relative"},children:[(0,U.jsx)(rj,{}),(0,U.jsxs)(Qe,{sx:{position:"absolute",bottom:0,width:"100vw",margin:0,padding:0,zIndex:-1},children:[gt("10vh",.25,"forwards",8,oj),gt("15vh",.25,"forwards",5,sj),gt("18vh",.25,"backwards",9,sj),gt("20vh",.25,"backwards",11,oj),gt("15vh",.25,"forwards",8,sj),gt("25vh",.25,"forwards",15,sj)]})]})]})}));new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(Oj){}new Map;const dj=r.startTransition;YM.flushSync,r.useId;function hj(e){let{basename:n,children:r,future:i,window:o}=e,s=t.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:o,v5Compat:!0})&&(a={}),wP((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return gP("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:vP(t)}),null,a)));let l=s.current,[c,u]=t.useState({action:l.action,location:l.location}),{v7_startTransition:d}=i||{},h=t.useCallback((e=>{d&&dj?dj((()=>u(e))):u(e)}),[u,d]);return t.useLayoutEffect((()=>l.listen(h)),[l,h]),t.createElement(vN,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:i})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var fj,pj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(fj||(fj={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(pj||(pj={}));const mj=e=>{let{width:t,height:n,opacity:r}=e;const i="data:image/svg+xml;utf8,".concat(encodeURIComponent('\n    <svg width="1896" height="86" viewBox="0 0 1896 86" fill="none" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">\n    <rect width="1896" height="86" fill="#020F22"/>\n    </svg>\n  '));return(0,U.jsx)("img",{src:i,alt:"MountainBase",style:{width:t,height:n,minHeight:29,opacity:r,zIndex:2}})},gj=e=>{let{width:t,height:n,opacity:r}=e;const i="data:image/svg+xml;utf8,".concat(encodeURIComponent('\n    <svg width="1459" height="151" viewBox="0 0 1459 151" fill="none" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M1458.5 151V91.198H1436.5L1379 101.663L1312.5 52.8251L1260 33.3894L1237.5 52.8251L1208 25.4158H1189.5L1172 8.47195L1148.5 0L1034.5 33.3894V101.663L996.5 44.3531H923L748.5 101.663L662 115.617L577 66.2805L440 80.2343L372.5 115.617L335.5 101.663L271 136.548L215.5 151L139 115.617L115.5 143.525L61 136.548L0 151H215.5H1458.5Z" fill="#020F22"/>\n    </svg>\n  '));return(0,U.jsx)("img",{src:i,alt:"MountainBase",style:{width:t,height:n,minHeight:43,opacity:r}})},vj=e=>{let{width:t,height:n,opacity:r}=e;const i="data:image/svg+xml;utf8,".concat(encodeURIComponent('\n    <svg width="27" height="8" viewBox="0 0 27 8" fill="none" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M9 5.25756C9 4.11594 10.0912 3.2858 11.1956 3.57504V3.57504C11.4252 3.63517 11.6665 3.64855 11.9012 3.61343L14.4963 3.22505C15.231 3.11509 15.8542 3.76376 15.7149 4.4935V4.4935C15.693 4.60818 15.6899 4.72566 15.7056 4.84135L15.7216 4.95811C15.8688 6.03819 15.0293 7 13.9392 7H10.7424C9.78012 7 9 6.21988 9 5.25756V5.25756Z" fill="#031835"/>\n    <path d="M4.5293 6.27353C3.87953 5.33485 4.30431 4.0312 5.37698 3.64046V3.64046C5.59998 3.55923 5.80598 3.43291 5.97898 3.27043L7.89168 1.47409C8.43322 0.965503 9.31481 1.14417 9.6156 1.82348V1.82348C9.66287 1.93024 9.72717 2.02861 9.80598 2.11475L9.88553 2.20169C10.6214 3.00594 10.4785 4.27461 9.58219 4.89503L6.9537 6.71449C6.16245 7.2622 5.07701 7.06478 4.5293 6.27353V6.27353Z" fill="#031835"/>\n    <path d="M15 5.17731C15 4.25944 15.6825 3.48476 16.5931 3.36913L19.134 3.04647C19.3743 3.01596 19.6184 3.0451 19.8447 3.13132L19.8627 3.13818C20.5206 3.3888 20.9038 4.07535 20.7718 4.76685V4.76685C20.7423 4.92126 20.7383 5.08116 20.7596 5.23691V5.23691C20.8858 6.16269 20.168 7 19.2336 7H16.8227C15.816 7 15 6.18395 15 5.17731V5.17731Z" fill="#031835"/>\n    <path d="M21.7454 2.84054C21.9057 2.62621 22.1576 2.5 22.4252 2.5L23.0279 2.5C23.3384 2.5 23.6446 2.42771 23.9223 2.28885L24.283 2.1085C24.4269 2.03654 24.5804 1.98559 24.7388 1.95721L25.0148 1.90777C25.2886 1.8587 25.5706 1.92319 25.7959 2.0864V2.0864C26.206 2.38351 26.3372 2.93585 26.1046 3.38569L26.0714 3.44989C26.0135 3.5618 25.9749 3.6846 25.9577 3.80942V3.80942C25.8583 4.53091 25.141 5.01025 24.4409 4.80951L22.1912 4.16443C21.6203 4.00072 21.3898 3.31625 21.7454 2.84054V2.84054Z" fill="#031835"/>\n    <path d="M11 2.1239C11 1.22313 11.6402 0.449488 12.5251 0.280942L13.5974 0.0766915C13.8572 0.0271966 14.1262 0.0721137 14.3559 0.203352V0.203352C14.7458 0.426151 14.963 0.861903 14.9063 1.30737L14.8411 1.81957C14.8259 1.9395 14.8237 2.06074 14.8346 2.18114V2.18114C14.9234 3.15787 14.1544 4 13.1736 4H12.8761C11.84 4 11 3.16004 11 2.1239V2.1239Z" fill="#031835"/>\n    <path d="M18.5331 2.5755C18.348 2.04677 18.6764 1.4772 19.2266 1.37238L20.7364 1.08481C21.0149 1.03176 21.3017 1.12001 21.5021 1.3205V1.3205C21.6193 1.43765 21.6999 1.58626 21.7343 1.74833L21.8575 2.32894C21.9428 2.73109 21.7653 3.14334 21.4145 3.35771V3.35771C21.2622 3.45076 21.0872 3.5 20.9088 3.5H20.5062C20.2912 3.5 20.0777 3.46534 19.8737 3.39737L19.1083 3.14222C18.8392 3.05252 18.6268 2.84325 18.5331 2.5755V2.5755Z" fill="#031835"/>\n    <path d="M14.7193 2.22077C14.6417 1.5882 15.1246 1.0258 15.7617 1.00702V1.00702C15.9187 1.0024 16.0728 0.963657 16.2133 0.893495L17.1769 0.412352C17.3846 0.308628 17.6238 0.286997 17.8468 0.35177V0.35177C18.2563 0.470722 18.531 0.854652 18.5114 1.2806L18.5027 1.47094C18.4975 1.58315 18.5087 1.69584 18.5357 1.80487V1.80487C18.7068 2.49566 18.2359 3.18319 17.5296 3.26992L16.1049 3.44485C15.4328 3.52737 14.8211 3.04943 14.7385 2.37734L14.7193 2.22077Z" fill="#031835"/>\n    <path d="M22.7754 6.83666C22.4811 7.1906 21.9133 7.08878 21.7603 6.65464V6.65464C21.7303 6.56948 21.6813 6.4923 21.6169 6.42898L20.9451 5.76827C20.8 5.62553 20.7171 5.43124 20.7146 5.22769V5.22769C20.7102 4.87896 20.9402 4.5706 21.2757 4.4754L21.4786 4.41784C21.5707 4.3917 21.6588 4.35302 21.7404 4.30288V4.30288C22.2724 3.97596 22.9705 4.1856 23.2344 4.75154L23.7767 5.91443C23.932 6.24742 23.6539 6.61925 23.2906 6.56451V6.56451C23.1312 6.54049 22.9709 6.60154 22.8679 6.72548L22.7754 6.83666Z" fill="#031835"/>\n    <path d="M23.7827 5.69452C23.5863 5.27822 23.9185 4.80664 24.3767 4.85147V4.85147C24.4665 4.86026 24.5572 4.84841 24.6418 4.81683L25.5245 4.48723C25.7152 4.41602 25.9263 4.42303 26.1119 4.50673V4.50673C26.4298 4.65013 26.6121 4.98889 26.5565 5.3332L26.523 5.5414C26.5077 5.63595 26.5056 5.73214 26.5165 5.82728V5.82728C26.588 6.44762 26.1029 6.99172 25.4785 6.99172H24.1954C23.828 6.99172 23.6085 6.58262 23.8116 6.27647V6.27647C23.9007 6.14218 23.9132 5.97106 23.8444 5.82529L23.7827 5.69452Z" fill="#031835"/>\n    <path d="M4.36322 5.44182C4.18614 6.35282 3.40563 7.02233 2.47829 7.05867L1.51332 7.09648C1.17505 7.10974 0.847307 6.97739 0.6131 6.73294V6.73294C0.317461 6.42438 0.211288 5.98032 0.335377 5.5714L0.605991 4.67963C0.635131 4.5836 0.655755 4.48519 0.667623 4.38555L0.718876 3.95523C0.829909 3.02301 1.81382 2.46646 2.67 2.85157L2.71926 2.87372C2.90335 2.95653 3.10558 2.99085 3.30669 2.97341V2.97341C4.08976 2.90553 4.72005 3.6061 4.57008 4.37766L4.36322 5.44182Z" fill="#031835"/>\n    <path d="M5.13835 0.346421C5.83943 0.297396 6.49376 0.70075 6.76494 1.34912L6.93906 1.76545C7.0749 2.09024 7.01323 2.46409 6.78025 2.72802V2.72802C6.60548 2.92603 6.35395 3.03926 6.08984 3.03881L4.73556 3.03651L3.55494 3.17999C2.94278 3.25438 2.44831 2.68824 2.60439 2.09165L2.61828 2.03858C2.66264 1.86899 2.64423 1.68908 2.56644 1.532V1.532C2.3369 1.0685 2.65118 0.520341 3.16714 0.484262L5.13835 0.346421Z" fill="#031835"/>\n    </svg>\n  '));return(0,U.jsx)("img",{src:i,alt:"CampFire",style:{width:t,height:n,opacity:r}})};var yj;const wj=e=>{let{translateXMultDeviation:n,translateYAddDeviation:r,blurAddDeviation:i,widthAddDeviation:s,animationTimeDeviation:a,scaleX:l,scaleY:c,rotationMultDeviation:u,opacityAddDeviation:d}=e;const h=a,f=tt(),p=(0,qe.i7)(yj||(yj=o(["\n\n    0% {\n        transform: translateY(0vh) translateX(0px) rotate(","deg) scaleX(",") scaleY(","); \n        filter: blur(","px);\n        opacity: 0;\n        width: ","px;\n    }\n\n    12.5% {\n        transform: translateY(","vh) translateX(","px) rotate(","deg) scaleX(",") scaleY(","); \n        filter: blur(","px);\n        opacity: ",";\n        width: ","px;\n    }\n\n    25% {\n        transform: translateY(","vh) translateX(0px) rotate(","deg) scaleX(",") scaleY(","); \n        filter: blur(","px);\n        opacity: ",";\n        width: ","px;\n    }\n\n    37.5% {\n        transform: translateY(","vh) translateX(","px) rotate(","deg) scaleX(",") scaleY(","); \n        filter: blur(","px);\n        opacity: ",";\n        width: ","px;\n    }\n\n    50% {\n        transform: translateY(","vh) translateX(0px) rotate(","deg) scaleX(",") scaleY(","); \n        filter: blur(","px);\n        opacity: ",";\n        width: ","px;\n    }\n\n    62.5% {\n        transform: translateY(","vh) translateX(","px) rotate(","deg) scaleX(",") scaleY(","); \n        filter: blur(","px);\n        opacity: ",";\n        width: ","px;\n    }\n\n    75% {\n        transform: translateY(","vh) translateX(0px) rotate(","deg) scaleX(",") scaleY(","); \n        filter: blur(","px);\n        opacity: ",";\n        width: ","px;\n    }\n\n    87.5% {\n        transform: translateY(","vh) translateX(","px) rotate(","deg) scaleX(",") scaleY(","); \n        filter: blur(","px);\n        opacity: ",";\n        width: ","px;\n    }\n\n    100% {\n        transform: translateY(","vh)  translateX(0px) rotate(","deg) scaleX(",") scaleY(","); \n        filter: blur(","px);\n        opacity: 0;\n        width: ","px;\n    }\n\n    id: ","\n\n    globalId: ","\n    "])),0*u,l,c,1+i,30+s,-5+r,-10*n,22.5*u,l,c,2+i,1+d,35+s,-10+r,45*u,l,c,3+i,1+d,40+s,-15+r,20*n,67.5*u,l,c,3+i,1+d,45+s,-20+r,90*u,l,c,3+i,1+d,50+s,-25+r,-30*n,112.5*u,l,c,4+i,1+d,55+s,-30+r,135*u,l,c,6+i,1+d,60+s,-35+r,30*n,157.5*u,l,c,6+i,.5+d,65+s,-40+r,180*u,l,c,20+i,70+s,f,dt),m=(0,t.useRef)(null);return(0,t.useEffect)((()=>{const e=setTimeout((()=>{var e;(()=>{for(var e=document.querySelectorAll('style[data-emotion="css"]'),t=0,n=Array.from(e).length-1;n>=0;n--){var r=e[n];if(r.innerHTML.includes(f)&&(t++,r.remove()),3==t)break}})(),null===(e=m.current)||void 0===e||e.remove()}),1e3*h);return()=>{var t;null===(t=m.current)||void 0===t||t.remove(),clearTimeout(e)}}),[]),(0,U.jsxs)(Qe,{ref:m,sx:{globalId:dt,id:f,position:"absolute",zIndex:2,width:"30px",height:"50px",marginLeft:"0px",top:"0px",animation:"".concat(p," ").concat(h,"s linear infinite"),animationFillMode:"forwards",overflowY:"hidden",pointerEvents:"none"},children:[" ",(0,U.jsx)("img",{src:"./svgFiles/smoke.png",alt:"Your GIF",style:{width:"100%",height:"100%",objectFit:"cover"}})]})},bj=()=>{const[e,n]=(0,t.useState)([]),r=()=>{const e={translateXMultDeviation:wt(-1,1),translateYAddDeviation:wt(-5,0),blurAddDeviation:0,widthAddDeviation:wt(-10,10),animationTimeDeviation:wt(5,10),scaleX:wt(-2,2),scaleY:wt(-2,2),rotationMultDeviation:wt(-1,1),opacityAddDeviation:wt(0,1)};return(0,U.jsx)(wj,{...e})};return(0,t.useEffect)((()=>{setTimeout((()=>{n([...e,r()])}),200)}),[e]),(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)(Qe,{sx:{marginBottom:"-5px",width:30,height:50,position:"relative",zIndex:0},children:[(0,U.jsx)(Qe,{sx:{position:"absolute",top:"10px"},children:(0,U.jsx)("img",{src:"./svgFiles/flame.gif",alt:"Your GIF",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,U.jsx)(Qe,{sx:{position:"absolute",width:"160px",height:"120px",backdropFilter:"blur(5px)",marginLeft:"-45px",top:"-30px"}}),(0,U.jsx)(Qe,{sx:{position:"absolute",width:"160px",height:"120px",backdropFilter:"blur(10px)",marginLeft:"-45px",top:"-30px"}}),(0,U.jsx)(Qe,{sx:{position:"absolute",width:"160px",height:"120px",backdropFilter:"blur(20px)",marginLeft:"-45px",top:"-30px"}}),(0,U.jsx)(Qe,{sx:{position:"absolute",width:"160px",height:"120px",backdropFilter:"blur(3px)",marginLeft:"-45px",top:"-30px"}}),e,(0,U.jsxs)(Qe,{sx:{position:"absolute",filter:"blur(0.5px)",top:"10px"},children:[" ",(0,U.jsx)("img",{src:"./svgFiles/flame.gif",alt:"Your GIF",style:{width:"100%",height:"100%",objectFit:"cover"}})]})]}),(0,U.jsxs)(Qe,{sx:{zIndex:1,position:"relative",mixBlendMode:"overlay"},children:[" ",(0,U.jsx)(vj,{width:"35px",height:"15px",opacity:1})]})]})},_j=e=>{let{width:t,height:n,opacity:r}=e;const i="data:image/svg+xml;utf8,".concat(encodeURIComponent('\n    <svg width="210" height="119" viewBox="0 0 210 119" preserveAspectRatio="none" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M104.638 0L110.638 42.5L119.638 84L136.138 119H165.138H206.138L195.638 99.5L172.138 77.5L144.638 48L104.638 0Z" fill="#031835"/>\n<path d="M104.638 0L110.638 42.5L119.638 84L136.138 119H165.138H206.138L195.638 99.5L172.138 77.5L144.638 48L104.638 0Z" fill="#031835"/>\n<path d="M104.638 0L98.6377 42.5L89.6377 84L73.1377 119H44.1377H3.1377L13.6377 99.5L37.1377 77.5L64.6377 48L104.638 0Z" fill="#031835"/>\n<path d="M104.638 0L98.6377 42.5L89.6377 84L73.1377 119H44.1377H3.1377L13.6377 99.5L37.1377 77.5L64.6377 48L104.638 0Z" fill="#031835"/>\n<path d="M104.639 0L107.64 15H101.64L104.639 0Z" fill="#031835"/>\n<path d="M204.089 118.624L206.51 108.37L208.157 108.905L204.089 118.624Z" fill="#031835"/>\n<path d="M4.23732 118.646L8.99904e-06 109L1.6377 108.436L4.23732 118.646Z" fill="#031835"/>\n</svg>\n\n  '));return(0,U.jsx)("img",{src:i,alt:"Tent",style:{width:t,height:n,opacity:r}})};var Sj,Ij;const xj=e=>{let{headWidthPx:n,animationDuratonSecs:r,topOffsetVh:i,leftOffsetVw:s,rotateAddDeviation:a}=e;const l=tt(),c=n,u=c*(4/30),d=2.8*c,h=c,f=r;var p=(0,qe.i7)(Sj||(Sj=o(["\n        0% {\n            transform: translate(0px) rotate(","deg);\n            width: 0px;\n            \n        }\n    \n        30% {\n            transform: translate(","px) rotate(","deg);\n            width: ","px;\n        }\n\n        40% {\n            filter: drop-shadow(0 0 2px white);\n        }\n\n        60% {\n            filter: drop-shadow(0 0 13px white);\n        }\n\n        70% {\n            filter: drop-shadow(0 0 6px white);\n        }\n\n        80% {\n            filter: drop-shadow(0 0 3px white);\n        }\n    \n        100% {\n            transform: translate(0px) rotate(","deg);\n            width: 0px;\n            filter: drop-shadow(0 0 20px white);\n        }\n\n        id: ","\n\n        globalId: ","\n        "])),45+a,-h/2,45+a,h,45+a,l,dt),m=(0,qe.i7)(Ij||(Ij=o(["\n        0% {\n            transform: translate(0px) rotate(","deg);\n            width: 0px;\n        }\n    \n        30% {\n            transform: translate(","px) rotate(","deg);\n            width: ","px;\n        }\n\n        40% {\n            filter: drop-shadow(0 0 2px white);\n        }\n\n        60% {\n            filter: drop-shadow(0 0 13px white);\n        }\n\n        70% {\n            filter: drop-shadow(0 0 6px white);\n        }\n\n        80% {\n            filter: drop-shadow(0 0 3px white);\n        }\n    \n        100% {\n            transform: translate(0px) rotate(","deg);\n            width: 0px;\n            filter: drop-shadow(0 0 20px white);\n        }\n\n        id: ","\n\n        globalId: ","\n        "])),-45+a,-h/2,-45+a,h,-45+a,l,dt);const g={globalId:dt,id:l,position:"absolute",width:"".concat(c,"px"),height:"".concat(u,"px"),background:"linear-gradient(-45deg, rgba(0, 0, 255, 0), white, rgba(0, 0, 255, 0))",borderRadius:"100px",transform:"translate(".concat(d,"px) rotate(45deg)"),filter:"drop-shadow(0 0 6px white)",zIndex:-10,animation:"".concat(p," ").concat(f,"s ease-in-out infinite")},v={globalId:dt,id:l,position:"absolute",width:"".concat(c,"px"),height:"".concat(u,"px"),background:"linear-gradient(-45deg, rgba(0, 0, 255, 0), white, rgba(0, 0, 255, 0))",borderRadius:"100px",transform:"translate(".concat(d,"px) rotate(-45deg)"),filter:"drop-shadow(0 0 6px white)",zIndex:-10,animation:"".concat(m," ").concat(f,"s ease-in-out infinite")},y=(0,t.useRef)(null);return(0,t.useEffect)((()=>{const e=setTimeout((()=>{var e;(()=>{for(var e=document.querySelectorAll('style[data-emotion="css"]'),t=0,n=Array.from(e).length-1;n>=0;n--){var r=e[n];if(r.innerHTML.includes(l)&&(t++,r.remove()),7==t)break}})(),null===(e=y.current)||void 0===e||e.remove()}),1e3*r);return()=>{var t;clearTimeout(e),null===(t=y.current)||void 0===t||t.remove()}}),[]),(0,U.jsxs)(Qe,{ref:y,sx:{globalId:dt,id:l,top:"".concat(i,"vh"),left:"".concat(s,"vw"),position:"absolute",zIndex:-11},children:[(0,U.jsx)(Qe,{sx:v})," ",(0,U.jsx)(Qe,{sx:g})," "]})},kj=e=>{let{children:n,occasionalShootingStar:r=!1}=e;var i=(0,U.jsx)(U.Fragment,{});r&&(i=(0,U.jsx)(ij,{shootingStarInterval:2e3}));const[o,s]=(0,t.useState)([]),a=()=>{const e=wt(10,88),t=wt(1,99),n=wt(6,15),r=wt(5,10),i=wt(1,180);return(0,U.jsx)(xj,{rotateAddDeviation:i,headWidthPx:r,animationDuratonSecs:n,topOffsetVh:e,leftOffsetVw:t})};return(0,t.useEffect)((()=>{setTimeout((()=>{s([...o,a()])}),500)}),[o]),(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(Qe,{sx:{background:"linear-gradient(180deg, rgb(24, 18, 43) 0%, rgb(3, 24, 53) 20%, rgb(40, 45, 65) 60%, rgba(211, 140, 96, 0.3) 100%)",zIndex:1,overflow:"hidden"},children:(0,U.jsxs)(Oe,{sx:{minHeight:"100vh",width:"100vw",position:"relative",overflow:"hidden",justifyContent:"center",alignItems:"center"},children:[n,(0,U.jsx)(Qe,{sx:{position:"absolute",top:"0px",width:"100vw",zIndex:2,transform:"rotate(180deg)",pointerEvents:"none"},children:(0,U.jsx)(aj,{heightSubtraction:7})}),(0,U.jsxs)(Oe,{sx:{position:"absolute",bottom:"0"},children:[(0,U.jsxs)(Oe,{direction:"row",sx:{width:"100vw",alignItems:"flex-end",justifyContent:"space-between",zIndex:"100"},children:[(0,U.jsx)(Qe,{width:"10px"}),(0,U.jsx)(_j,{width:"139px",height:"79px",opacity:1}),(0,U.jsx)(Qe,{width:"10px"}),(0,U.jsx)(Qe,{sx:{marginBottom:"-5px"},children:(0,U.jsxs)(Qe,{sx:{id:"CampFireAnimationBox",zIndex:-1,position:"relative"},children:[" ",(0,U.jsx)(bj,{})]})}),(0,U.jsx)(gj,{width:"85%",height:"15vh",opacity:1})]}),(0,U.jsx)(Qe,{sx:{id:"mountainBaseSvgBox",width:"100vw",height:"10vh",zIndex:100},children:(0,U.jsx)(mj,{width:"100%",height:"10vh",opacity:1})}),(0,U.jsxs)(YN,{item:!0,sx:{id:"getTwinklesGrid",position:"absolute",bottom:0,width:"100vw",height:"100vh",margin:0,padding:0,zIndex:0},children:[(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(Qe,{sx:{id:"getTwinkles",position:"absolute",width:"100vw",height:"100vh"},children:o})}),i]})]})]})})})},Ej=()=>{(0,t.useEffect)((()=>()=>{ht()}),[]);return(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(kj,{occasionalShootingStar:!0,children:[(0,U.jsxs)(Qe,{sx:{height:"100vh",width:"100vw",zIndex:3},children:[(0,U.jsx)(GF,{hideLogo:!0}),(0,U.jsx)(Qe,{style:{height:"10vh"}}),(0,U.jsx)(YN,{item:!0,sx:{zIndex:1},children:(0,U.jsxs)(Oe,{direction:"column",alignItems:"center",justifyContent:"center",children:[mt(2,20),null!=lP.currentUser?(0,U.jsx)(sD,{sx:{color:"white",backgroundColor:"#292140",borderRadius:"20px",width:"min-content",textTransform:"none","&:hover":{backgroundColor:"#393055"}},onClick:()=>{IN()},children:"Logout"}):(0,U.jsx)(sD,{sx:{color:"white",backgroundColor:"#292140",borderRadius:"20px",width:"min-content",textTransform:"none","&:hover":{backgroundColor:"#393055"}},onClick:async()=>{await _N()},children:"Signup/Login with Google"})]})})]}),(0,U.jsx)(Qe,{sx:{position:"absolute",zIndex:1e3,bottom:0,width:"100vw"},children:(0,U.jsx)(rj,{darkMode:!0})})]})})},Tj=()=>((0,t.useEffect)((()=>()=>{ht()}),[]),(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(Oe,{justifyContent:"center",alignItems:"center",sx:{width:"100vw",height:"100vh"},children:[(0,U.jsx)(Be,{color:"white",fontSize:65,children:"Loading..."}),(0,U.jsx)(Qe,{sx:{backgroundImage:'url("./svgFiles/infinite-spinner.svg")',backgroundSize:"contain",backgroundRepeat:"no-repeat",width:"".concat(65,"vw"),height:"".concat(32.5,"vw")}})]})})),Cj=()=>{const e=rN(),n=(0,t.useRef)(null),r=(0,U.jsxs)(lj,{children:[(0,U.jsx)(Qe,{sx:{position:"absolute",width:"100vw",bottom:"0px"},children:(0,U.jsx)(rj,{})}),(0,U.jsx)(Qe,{sx:{position:"absolute",bottom:"0px",height:"1px",width:"100vw",backgroundColor:"#8C83A4",overflowX:"hidden"}}),(0,U.jsx)(GF,{hideLogo:!0}),(0,U.jsx)(YN,{item:!0,children:(0,U.jsxs)(Oe,{direction:"column",alignItems:"center",justifyContent:"center",children:[mt(2,20),(0,U.jsx)(sD,{onClick:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.scrollIntoView({behavior:"smooth"})},sx:{color:"#635985",backgroundColor:"#292140",borderRadius:"20px",textTransform:"none","&:hover":{backgroundColor:"#393055"}},children:(0,U.jsx)(Be,{sx:{color:"white",fontSize:"20px",zIndex:10},children:"Welcome Click to Learn More!"})}),(0,U.jsx)(Qe,{style:{height:"43vh",zIndex:1}})]})})]}),i=(0,U.jsxs)(kj,{occasionalShootingStar:!0,children:[(0,U.jsx)(Be,{sx:{color:"white",maxWidth:"70vw",textAlign:"center",marginBottom:"10px"},children:"Welcome to NovaType, a visually stunning typing experience set against a backdrop of a beautiful space themed environment, meant to help users improve typing accuracy and dexterity."}),(0,U.jsx)(sD,{onClick:()=>{e("/TypingPage")},sx:{color:"#635985",backgroundColor:"#372F4E",borderRadius:"20px",textTransform:"none","&:hover":{backgroundColor:"#5B546E"}},children:(0,U.jsx)(Be,{sx:{color:"white",fontSize:"20px",zIndex:1e3},children:"Click Here to Play!"})}),(0,U.jsx)(Qe,{sx:{position:"absolute",top:"0px",height:"0px",width:"100vw",backgroundColor:"#8C83A4",overflowX:"hidden"}}),(0,U.jsx)("div",{ref:n})]});return(0,t.useEffect)((()=>()=>{ht()}),[]),(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)("div",{className:"scrollCss",contentEditable:!1,style:{height:"100vh",width:"100vw",overflowX:"hidden",overflowY:"hidden"},children:[r,i]},"scrollPane")})};const Aj=()=>{const[e,n]=(0,t.useState)((0,U.jsx)(U.Fragment,{}));return(0,t.useEffect)((()=>(async function(){n(await async function(){var e="";const t=[],n=await fetch("/constants/about.txt");var r=(await n.text()).split("\n"),i="";for(let o of r)o.includes("<")?(""!==e&&(t.push("<Title>"==e?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(Be,{sx:{fontSize:"25px",textDecoration:"underline"},children:i}),(0,U.jsx)(Be,{sx:{fontSize:"5px"},children:"\xa0"})]}):"<Paragraph>"==e?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)(Be,{children:["\xa0","\xa0","\xa0","\xa0","\xa0",i]}),(0,U.jsx)(Be,{children:"\xa0"})]}):"<Img>"==e?(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(Qe,{children:[(0,U.jsx)("img",{src:i,alt:"Example",style:{width:"100%",objectFit:"cover"}}),(0,U.jsx)(Be,{children:"\xa0"})]})}):(0,U.jsx)(U.Fragment,{})),i=""),e=o.trim()):i+=o.trim()+" ";return(0,U.jsx)(U.Fragment,{children:t})}())}(),()=>{ht()})),[]),(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(Oe,{children:[(0,U.jsxs)(Qe,{sx:{position:"fixed",zIndex:3},children:[" ",(0,U.jsxs)(kj,{occasionalShootingStar:!0,children:[(0,U.jsx)(Qe,{sx:{height:"100vh",width:"100vw",overflowY:"auto",zIndex:1,justifyContent:"center",display:"flex",scrollbarWidth:"initial",scrollbarColor:"#B6AAD7 transparent",msScrollbarArrowColor:"transparent"},children:(0,U.jsxs)(Qe,{sx:{width:"60vw",color:"white",zIndex:4,marginTop:"20vh"},children:[e,(0,U.jsx)(Qe,{sx:{height:"20vh"}})]})}),(0,U.jsx)(Qe,{sx:{width:"100vw",zIndex:3,position:"absolute",top:0},children:(0,U.jsx)(GF,{})})]})]}),(0,U.jsx)(Qe,{sx:{position:"fixed",zIndex:1e3,bottom:0,width:"100vw"},children:(0,U.jsx)(rj,{darkMode:!0})})]})})};const Rj=function(){const e=(0,t.useContext)(zL);return(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(hj,{children:[(0,U.jsx)(bN,{}),(0,U.jsxs)(yN,{children:[(0,U.jsx)(gN,{index:!0,element:(0,U.jsx)(Cj,{})}),(0,U.jsx)(gN,{path:"/TypingPage",element:(0,U.jsx)(uj,{})}),(0,U.jsx)(gN,{path:"/HistoryPage",element:(0,U.jsx)(zL.Provider,{value:e,children:(0,U.jsx)(cj,{})})}),(0,U.jsx)(gN,{path:"/SignupLoginPage",element:(0,U.jsx)(Ej,{})}),(0,U.jsx)(gN,{path:"/HomePage",element:(0,U.jsx)(Cj,{})}),(0,U.jsx)(gN,{path:"/LoadingPage",element:(0,U.jsx)(Tj,{})}),(0,U.jsx)(gN,{path:"/AboutPage",element:(0,U.jsx)(Aj,{})}),(0,U.jsx)(gN,{path:"*",element:(0,U.jsx)(Be,{sx:{color:"white"},children:"404 error"})})]})]})})},Pj=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:s}=t;n(e),r(e),i(e),o(e),s(e)}))};const Nj=(0,n(5513).A)({speedy:!1,key:"css"});i.createRoot(document.getElementById("root")).render((0,U.jsx)(P.C,{value:Nj,children:(0,U.jsx)(Rj,{})})),Pj()})()})();
//# sourceMappingURL=main.06b71966.js.map