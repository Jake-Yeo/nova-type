/*! For license information please see main.e9643e8c.js.LICENSE.txt */
(()=>{var e={5513:(e,t,n)=>{"use strict";n.d(t,{A:()=>ie});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),i=Math.abs,o=String.fromCharCode,s=Object.assign;function a(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function u(e,t){return 0|e.charCodeAt(t)}function d(e,t,n){return e.slice(t,n)}function h(e){return e.length}function f(e){return e.length}function p(e,t){return t.push(e),e}var m=1,g=1,v=0,y=0,w=0,b="";function _(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:m,column:g,length:s,return:""}}function S(e,t){return s(_("",null,null,"",null,null,0),e,{length:-e.length},t)}function I(){return w=y>0?u(b,--y):0,g--,10===w&&(g=1,m--),w}function k(){return w=y<v?u(b,y++):0,g++,10===w&&(g=1,m++),w}function E(){return u(b,y)}function x(){return y}function T(e,t){return d(b,e,t)}function C(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function A(e){return m=g=1,v=h(b=e),y=0,[]}function N(e){return b="",e}function P(e){return a(T(y-1,D(91===e?e+2:40===e?e+1:e)))}function R(e){for(;(w=E())&&w<33;)k();return C(e)>2||C(w)>3?"":" "}function O(e,t){for(;--t&&k()&&!(w<48||w>102||w>57&&w<65||w>70&&w<97););return T(e,x()+(t<6&&32==E()&&32==k()))}function D(e){for(;k();)switch(w){case e:return y;case 34:case 39:34!==e&&39!==e&&D(w);break;case 40:41===e&&D(e);break;case 92:k()}return y}function L(e,t){for(;k()&&e+w!==57&&(e+w!==84||47!==E()););return"/*"+T(t,y-1)+"*"+o(47===e?e:k())}function M(e){for(;!C(E());)k();return T(e,y)}var F="-ms-",j="-moz-",U="-webkit-",z="comm",V="rule",B="decl",q="@keyframes";function W(e,t){for(var n="",r=f(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function K(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case B:return e.return=e.return||e.value;case z:return"";case q:return e.return=e.value+"{"+W(e.children,r)+"}";case V:e.value=e.props.join(",")}return h(n=W(e.children,r))?e.return=e.value+"{"+n+"}":""}function H(e){return N(G("",null,null,null,[""],e=A(e),0,[0],e))}function G(e,t,n,r,i,s,a,d,f){for(var m=0,g=0,v=a,y=0,w=0,b=0,_=1,S=1,T=1,C=0,A="",N=i,D=s,F=r,j=A;S;)switch(b=C,C=k()){case 40:if(108!=b&&58==u(j,v-1)){-1!=c(j+=l(P(C),"&","&\f"),"&\f")&&(T=-1);break}case 34:case 39:case 91:j+=P(C);break;case 9:case 10:case 13:case 32:j+=R(b);break;case 92:j+=O(x()-1,7);continue;case 47:switch(E()){case 42:case 47:p($(L(k(),x()),t,n),f);break;default:j+="/"}break;case 123*_:d[m++]=h(j)*T;case 125*_:case 59:case 0:switch(C){case 0:case 125:S=0;case 59+g:-1==T&&(j=l(j,/\f/g,"")),w>0&&h(j)-v&&p(w>32?J(j+";",r,n,v-1):J(l(j," ","")+";",r,n,v-2),f);break;case 59:j+=";";default:if(p(F=Q(j,t,n,m,g,i,d,A,N=[],D=[],v),s),123===C)if(0===g)G(j,t,F,F,N,s,v,d,D);else switch(99===y&&110===u(j,3)?100:y){case 100:case 108:case 109:case 115:G(e,F,F,r&&p(Q(e,F,F,0,0,i,d,A,i,N=[],v),D),i,D,v,d,r?N:D);break;default:G(j,F,F,F,[""],D,0,d,D)}}m=g=w=0,_=T=1,A=j="",v=a;break;case 58:v=1+h(j),w=b;default:if(_<1)if(123==C)--_;else if(125==C&&0==_++&&125==I())continue;switch(j+=o(C),C*_){case 38:T=g>0?1:(j+="\f",-1);break;case 44:d[m++]=(h(j)-1)*T,T=1;break;case 64:45===E()&&(j+=P(k())),y=E(),g=v=h(A=j+=M(x())),C++;break;case 45:45===b&&2==h(j)&&(_=0)}}return s}function Q(e,t,n,r,o,s,c,u,h,p,m){for(var g=o-1,v=0===o?s:[""],y=f(v),w=0,b=0,S=0;w<r;++w)for(var I=0,k=d(e,g+1,g=i(b=c[w])),E=e;I<y;++I)(E=a(b>0?v[I]+" "+k:l(k,/&\f/g,v[I])))&&(h[S++]=E);return _(e,t,n,0===o?V:u,h,p,m)}function $(e,t,n){return _(e,t,n,z,o(w),d(e,2,-2),0)}function J(e,t,n,r){return _(e,t,n,B,d(e,0,r),d(e,r+1,-1),r)}var Y=function(e,t,n){for(var r=0,i=0;r=i,i=E(),38===r&&12===i&&(t[n]=1),!C(i);)k();return T(e,y)},X=function(e,t){return N(function(e,t){var n=-1,r=44;do{switch(C(r)){case 0:38===r&&12===E()&&(t[n]=1),e[n]+=Y(y-1,t,n);break;case 2:e[n]+=P(r);break;case 4:if(44===r){e[++n]=58===E()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=o(r)}}while(r=k());return e}(A(e),t))},Z=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Z.get(n))&&!r){Z.set(e,!0);for(var i=[],o=X(t,i),s=n.props,a=0,l=0;a<o.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=i[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^u(e,0)?(((t<<2^u(e,0))<<2^u(e,1))<<2^u(e,2))<<2^u(e,3):0}(e,t)){case 5103:return U+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return U+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return U+e+j+e+F+e+e;case 6828:case 4268:return U+e+F+e+e;case 6165:return U+e+F+"flex-"+e+e;case 5187:return U+e+l(e,/(\w+).+(:[^]+)/,U+"box-$1$2"+F+"flex-$1$2")+e;case 5443:return U+e+F+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return U+e+F+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return U+e+F+l(e,"shrink","negative")+e;case 5292:return U+e+F+l(e,"basis","preferred-size")+e;case 6060:return U+"box-"+l(e,"-grow","")+U+e+F+l(e,"grow","positive")+e;case 4554:return U+l(e,/([^-])(transform)/g,"$1"+U+"$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,U+"$1"),/(image-set)/,U+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,U+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,U+"box-pack:$3"+F+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+U+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,U+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(u(e,t+1)){case 109:if(45!==u(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1"+U+"$2-$3$1"+j+(108==u(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?ne(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==u(e,t+1))break;case 6444:switch(u(e,h(e)-3-(~c(e,"!important")&&10))){case 107:return l(e,":",":"+U)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+U+(45===u(e,14)?"inline-":"")+"box$3$1"+U+"$2$3$1"+F+"$2box$3")+e}break;case 5936:switch(u(e,t+11)){case 114:return U+e+F+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return U+e+F+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return U+e+F+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return U+e+F+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case B:e.return=ne(e.value,e.length);break;case q:return W([S(e,{value:l(e.value,"@","@"+U)})],r);case V:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return W([S(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return W([S(e,{props:[l(t,/:(plac\w+)/,":"+U+"input-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,F+"input-$1")]})],r)}return""}))}}],ie=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||re;var o,s,a={},l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;l.push(e)}));var c,u,d=[K,(u=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],h=function(e){var t=f(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}([ee,te].concat(i,d));s=function(e,t,n,r){c=n,W(H(e?e+"{"+t.styles+"}":t.styles),h),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new r({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:s};return p.sheet.hydrate(l),p}},918:(e,t,n)=>{"use strict";function r(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{A:()=>r})},5756:(e,t,n)=>{"use strict";n.d(t,{C:()=>a,T:()=>c,i:()=>o,w:()=>l});var r=n(5043),i=n(5513),o=(n(2830),n(9436),!0),s=r.createContext("undefined"!==typeof HTMLElement?(0,i.A)({key:"css"}):null);var a=s.Provider,l=function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(s);return e(t,i,n)}))};o||(l=function(e){return function(t){var n=(0,r.useContext)(s);return null===n?(n=(0,i.A)({key:"css"}),r.createElement(s.Provider,{value:n},e(t,n))):e(t,n)}});var c=r.createContext({})},3290:(e,t,n)=>{"use strict";n.d(t,{AH:()=>c,i7:()=>u,mL:()=>l});var r=n(5756),i=n(5043),o=n(1722),s=n(9436),a=n(2830),l=(n(5513),n(219),(0,r.w)((function(e,t){var n=e.styles,l=(0,a.J)([n],void 0,i.useContext(r.T));if(!r.i){for(var c,u=l.name,d=l.styles,h=l.next;void 0!==h;)u+=" "+h.name,d+=h.styles,h=h.next;var f=!0===t.compat,p=t.insert("",{name:u,styles:d},t.sheet,f);return f?null:i.createElement("style",((c={})["data-emotion"]=t.key+"-global "+u,c.dangerouslySetInnerHTML={__html:p},c.nonce=t.sheet.nonce,c))}var m=i.useRef();return(0,s.i)((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,i=document.querySelector('style[data-emotion="'+e+" "+l.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==i&&(r=!0,i.setAttribute("data-emotion",e),n.hydrate([i])),m.current=[n,r],function(){n.flush()}}),[t]),(0,s.i)((function(){var e=m.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==l.next&&(0,o.sk)(t,l.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",l,n,!1)}}),[t,l.name]),null})));function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.J)(t)}var u=function(){var e=c.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},2830:(e,t,n)=>{"use strict";n.d(t,{J:()=>p});var r={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},i=n(918),o=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,a=function(e){return 45===e.charCodeAt(1)},l=function(e){return null!=e&&"boolean"!==typeof e},c=(0,i.A)((function(e){return a(e)?e:e.replace(o,"-$&").toLowerCase()})),u=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(s,(function(e,t,n){return h={name:t,styles:n,next:h},t}))}return 1===r[e]||a(e)||"number"!==typeof t||0===t?t:t+"px"};function d(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return h={name:n.name,styles:n.styles,next:h},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)h={name:r.name,styles:r.styles,next:h},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=d(e,t,n[i])+";";else for(var o in n){var s=n[o];if("object"!==typeof s)null!=t&&void 0!==t[s]?r+=o+"{"+t[s]+"}":l(s)&&(r+=c(o)+":"+u(o,s)+";");else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var a=d(e,t,s);switch(o){case"animation":case"animationName":r+=c(o)+":"+a+";";break;default:r+=o+"{"+a+"}"}}else for(var h=0;h<s.length;h++)l(s[h])&&(r+=c(o)+":"+u(o,s[h])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=h,o=n(e);return h=i,d(e,t,o)}}if(null==t)return n;var s=t[n];return void 0!==s?s:n}var h,f=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var p=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";h=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=d(n,t,o)):i+=o[0];for(var s=1;s<e.length;s++)i+=d(n,t,e[s]),r&&(i+=o[s]);f.lastIndex=0;for(var a,l="";null!==(a=f.exec(i));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:h}}},9436:(e,t,n)=>{"use strict";var r;n.d(t,{i:()=>a,s:()=>s});var i=n(5043),o=!!(r||(r=n.t(i,2))).useInsertionEffect&&(r||(r=n.t(i,2))).useInsertionEffect,s=o||function(e){return e()},a=o||i.useLayoutEffect},1722:(e,t,n)=>{"use strict";n.d(t,{Rk:()=>r,SF:()=>i,sk:()=>o});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var i=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},o=function(e,t,n){i(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+r:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}}},7713:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalStyles:()=>I,StyledEngineProvider:()=>S,ThemeContext:()=>l.T,css:()=>y.AH,default:()=>k,internal_processStyles:()=>E,keyframes:()=>y.i7});var r=n(8168),i=n(5043),o=n(918),s=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,a=(0,o.A)((function(e){return s.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),l=n(5756),c=n(1722),u=n(2830),d=n(9436),h=a,f=function(e){return"theme"!==e},p=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?h:f},m=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},g=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,c.SF)(t,n,r),(0,d.s)((function(){return(0,c.sk)(t,n,r)})),null},v=function e(t,n){var o,s,a=t.__emotion_real===t,d=a&&t.__emotion_base||t;void 0!==n&&(o=n.label,s=n.target);var h=m(t,n,a),f=h||p(d),v=!f("as");return function(){var y=arguments,w=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==o&&w.push("label:"+o+";"),null==y[0]||void 0===y[0].raw)w.push.apply(w,y);else{0,w.push(y[0][0]);for(var b=y.length,_=1;_<b;_++)w.push(y[_],y[0][_])}var S=(0,l.w)((function(e,t,n){var r=v&&e.as||d,o="",a=[],m=e;if(null==e.theme){for(var y in m={},e)m[y]=e[y];m.theme=i.useContext(l.T)}"string"===typeof e.className?o=(0,c.Rk)(t.registered,a,e.className):null!=e.className&&(o=e.className+" ");var b=(0,u.J)(w.concat(a),t.registered,m);o+=t.key+"-"+b.name,void 0!==s&&(o+=" "+s);var _=v&&void 0===h?p(r):f,S={};for(var I in e)v&&"as"===I||_(I)&&(S[I]=e[I]);return S.className=o,S.ref=n,i.createElement(i.Fragment,null,i.createElement(g,{cache:t,serialized:b,isStringTag:"string"===typeof r}),i.createElement(r,S))}));return S.displayName=void 0!==o?o:"Styled("+("string"===typeof d?d:d.displayName||d.name||"Component")+")",S.defaultProps=t.defaultProps,S.__emotion_real=S,S.__emotion_base=d,S.__emotion_styles=w,S.__emotion_forwardProp=h,Object.defineProperty(S,"toString",{value:function(){return"."+s}}),S.withComponent=function(t,i){return e(t,(0,r.A)({},n,i,{shouldForwardProp:m(S,i,!0)})).apply(void 0,w)},S}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){v[e]=v(e)}));var y=n(3290),w=n(5513),b=n(579);let _;function S(e){const{injectFirst:t,children:n}=e;return t&&_?(0,b.jsx)(l.C,{value:_,children:n}):n}function I(e){const{styles:t,defaultTheme:n={}}=e,r="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,b.jsx)(y.mL,{styles:r})}function k(e,t){return v(e,t)}"object"===typeof document&&(_=(0,w.A)({key:"css",prepend:!0}));const E=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},7266:(e,t,n)=>{"use strict";var r=n(4994);t.X4=f,t.e$=p,t.eM=function(e,t){const n=h(e),r=h(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},t.a=m;var i=r(n(7245)),o=r(n(5383));function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,o.default)(e,t,n)}function a(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}function l(e){if(e.type)return e;if("#"===e.charAt(0))return l(a(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,i.default)(9,e));let r,o=e.substring(t+1,e.length-1);if("color"===n){if(o=o.split(" "),r=o.shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,i.default)(10,r))}else o=o.split(",");return o=o.map((e=>parseFloat(e))),{type:n,values:o,colorSpace:r}}const c=e=>{const t=l(e);return t.values.slice(0,3).map(((e,n)=>-1!==t.type.indexOf("hsl")&&0!==n?"".concat(e,"%"):e)).join(" ")};function u(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function d(e){e=l(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const c=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",c.push(t[3])),u({type:a,values:c})}function h(e){let t="hsl"===(e=l(e)).type||"hsla"===e.type?l(d(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function f(e,t){return e=l(e),t=s(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,u(e)}function p(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return u(e)}function m(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return u(e)}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return h(e)>.5?p(e,t):m(e,t)}},8052:(e,t,n)=>{"use strict";var r=n(4994);t.Ay=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=m,rootShouldForwardProp:r=p,slotShouldForwardProp:l=p}=e,u=e=>(0,c.default)((0,i.default)({},e,{theme:v((0,i.default)({},e,{defaultTheme:n,themeId:t}))}));return u.__mui_systemSx=!0,function(e){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:d,slot:f,skipVariantsResolver:m,skipSx:b,overridesResolver:_=y(g(f))}=c,S=(0,o.default)(c,h),I=void 0!==m?m:f&&"Root"!==f&&"root"!==f||!1,k=b||!1;let E=p;"Root"===f||"root"===f?E=r:f?E=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(E=void 0);const x=(0,s.default)(e,(0,i.default)({shouldForwardProp:E,label:undefined},S)),T=e=>"function"===typeof e&&e.__emotion_real!==e||(0,a.isPlainObject)(e)?r=>w(e,(0,i.default)({},r,{theme:v({theme:r.theme,defaultTheme:n,themeId:t})})):e,C=function(r){let o=T(r);for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];const c=a?a.map(T):[];d&&_&&c.push((e=>{const r=v((0,i.default)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[d]||!r.components[d].styleOverrides)return null;const o=r.components[d].styleOverrides,s={};return Object.entries(o).forEach((t=>{let[n,o]=t;s[n]=w(o,(0,i.default)({},e,{theme:r}))})),_(e,s)})),d&&!I&&c.push((e=>{var r;const o=v((0,i.default)({},e,{defaultTheme:n,themeId:t}));return w({variants:null==o||null==(r=o.components)||null==(r=r[d])?void 0:r.variants},(0,i.default)({},e,{theme:o}))})),k||c.push(u);const h=c.length-a.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");o=[...r,...e],o.raw=[...r.raw,...e]}const f=x(o,...c);return e.muiName&&(f.muiName=e.muiName),f};return x.withConfig&&(C.withConfig=x.withConfig),C}};var i=r(n(4634)),o=r(n(4893)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(7713)),a=n(4534),l=(r(n(578)),r(n(2046)),r(n(4989))),c=r(n(3234));const u=["ownerState"],d=["variants"],h=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const m=(0,l.default)(),g=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function v(e){let{defaultTheme:t,theme:n,themeId:r}=e;return i=n,0===Object.keys(i).length?t:n[r]||n;var i}function y(e){return e?(t,n)=>n[e]:null}function w(e,t){let{ownerState:n}=t,r=(0,o.default)(t,u);const s="function"===typeof e?e((0,i.default)({ownerState:n},r)):e;if(Array.isArray(s))return s.flatMap((e=>w(e,(0,i.default)({ownerState:n},r))));if(s&&"object"===typeof s&&Array.isArray(s.variants)){const{variants:e=[]}=s;let t=(0,o.default)(s,d);return e.forEach((e=>{let o=!0;"function"===typeof e.props?o=e.props((0,i.default)({ownerState:n},r,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&r[t]!==e.props[t]&&(o=!1)})),o&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,i.default)({ownerState:n},r,n)):e.style))})),t}return s}},9751:(e,t,n)=>{"use strict";n.d(t,{EU:()=>a,NI:()=>s,iZ:()=>c,kW:()=>u,vf:()=>l,zu:()=>i});var r=n(3216);const i={xs:0,sm:600,md:900,lg:1200,xl:1536},o={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(i[e],"px)")};function s(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||o;return t.reduce(((r,i,o)=>(r[e.up(e.keys[o])]=n(t[o]),r)),{})}if("object"===typeof t){const e=r.breakpoints||o;return Object.keys(t).reduce(((r,o)=>{if(-1!==Object.keys(e.values||i).indexOf(o)){r[e.up(o)]=n(t[o],o)}else{const e=o;r[e]=t[e]}return r}),{})}return n(t)}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function l(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function c(e){const t=a(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];const s=[t,...i].reduce(((e,t)=>(0,r.A)(e,t)),{});return l(Object.keys(t),s)}function u(e){let{values:t,breakpoints:n,base:r}=e;const i=r||function(e,t){if("object"!==typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach(((t,r)=>{r<e.length&&(n[t]=!0)})):r.forEach((t=>{null!=e[t]&&(n[t]=!0)})),n}(t,n),o=Object.keys(i);if(0===o.length)return t;let s;return o.reduce(((e,n,r)=>(Array.isArray(t)?(e[n]=null!=t[r]?t[r]:t[s],s=r):"object"===typeof t?(e[n]=null!=t[n]?t[n]:t[s],s=n):e[n]=t,e)),{})}},9703:(e,t,n)=>{"use strict";function r(e,t){const n=this;if(n.vars&&"function"===typeof n.getColorSchemeSelector){return{[n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}}return n.palette.mode===e?t:{}}n.d(t,{A:()=>r})},4853:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(8587),i=n(8168);const o=["values","unit","step"],s=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>(0,i.A)({},e,{[t.key]:t.val})),{})};function a(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:a=5}=e,l=(0,r.A)(e,o),c=s(t),u=Object.keys(c);function d(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function h(e){const r="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(r-a/100).concat(n,")")}function f(e,r){const i=u.indexOf(r);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==i&&"number"===typeof t[u[i]]?t[u[i]]:r)-a/100).concat(n,")")}return(0,i.A)({keys:u,values:c,up:d,down:h,between:f,only:function(e){return u.indexOf(e)+1<u.length?f(e,u[u.indexOf(e)+1]):d(e)},not:function(e){const t=u.indexOf(e);return 0===t?d(u[1]):t===u.length-1?h(u[t]):f(e,u[u.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},l)}},8280:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(8168),i=n(8587),o=n(3216),s=n(4853);const a={borderRadius:4};var l=n(8604);var c=n(8812),u=n(7758),d=n(9703);const h=["breakpoints","palette","spacing","shape"];const f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:f,shape:p={}}=e,m=(0,i.A)(e,h),g=(0,s.A)(t),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=(0,l.LX)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(f);let y=(0,o.A)({breakpoints:g,direction:"ltr",components:{},palette:(0,r.A)({mode:"light"},n),spacing:v,shape:(0,r.A)({},a,p)},m);y.applyStyles=d.A;for(var w=arguments.length,b=new Array(w>1?w-1:0),_=1;_<w;_++)b[_-1]=arguments[_];return y=b.reduce(((e,t)=>(0,o.A)(e,t)),y),y.unstable_sxConfig=(0,r.A)({},u.A,null==m?void 0:m.unstable_sxConfig),y.unstable_sx=function(e){return(0,c.A)({sx:e,theme:this})},y}},4989:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,private_createBreakpoints:()=>i.A,unstable_applyStyles:()=>o.A});var r=n(8280),i=n(4853),o=n(9703)},3815:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(3216);const i=function(e,t){return t?(0,r.A)(e,t,{clone:!1}):e}},8604:(e,t,n)=>{"use strict";n.d(t,{LX:()=>p,MA:()=>f,_W:()=>m,Lc:()=>y,Ms:()=>w});var r=n(9751),i=n(7162),o=n(3815);const s={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!l[e])return[e];e=l[e]}const[t,n]=e.split(""),r=s[t],i=a[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})),u=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[...u,...d];function f(e,t,n,r){var o;const s=null!=(o=(0,i.Yn)(e,t,!1))?o:n;return"number"===typeof s?e=>"string"===typeof e?e:s*e:Array.isArray(s)?e=>"string"===typeof e?e:s[e]:"function"===typeof s?s:()=>{}}function p(e){return f(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function g(e,t,n,i){if(-1===t.indexOf(n))return null;const o=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=m(t,n),e)),{})}(c(n),i),s=e[n];return(0,r.NI)(e,s,o)}function v(e,t){const n=p(e.theme);return Object.keys(e).map((r=>g(e,t,r,n))).reduce(o.A,{})}function y(e){return v(e,u)}function w(e){return v(e,d)}function b(e){return v(e,h)}y.propTypes={},y.filterProps=u,w.propTypes={},w.filterProps=d,b.propTypes={},b.filterProps=h},7162:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a,BO:()=>s,Yn:()=>o});var r=n(410),i=n(9751);function o(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function s(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:o(e,n)||i,t&&(r=t(r,i,e)),r}const a=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:a,transform:l}=e,c=e=>{if(null==e[t])return null;const c=e[t],u=o(e.theme,a)||{};return(0,i.NI)(e,c,(e=>{let i=s(u,l,e);return e===i&&"string"===typeof e&&(i=s(u,l,"".concat(t).concat("default"===e?"":(0,r.A)(e)),e)),!1===n?i:{[n]:i}}))};return c.propTypes={},c.filterProps=[t],c}},7758:(e,t,n)=>{"use strict";n.d(t,{A:()=>D});var r=n(8604),i=n(7162),o=n(3815);const s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),i=e=>Object.keys(e).reduce(((t,n)=>r[n]?(0,o.A)(t,r[n](e)):t),{});return i.propTypes={},i.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),i};var a=n(9751);function l(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function c(e,t){return(0,i.Ay)({prop:e,themeKey:"borders",transform:t})}const u=c("border",l),d=c("borderTop",l),h=c("borderRight",l),f=c("borderBottom",l),p=c("borderLeft",l),m=c("borderColor"),g=c("borderTopColor"),v=c("borderRightColor"),y=c("borderBottomColor"),w=c("borderLeftColor"),b=c("outline",l),_=c("outlineColor"),S=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,r.MA)(e.theme,"shape.borderRadius",4,"borderRadius"),n=e=>({borderRadius:(0,r._W)(t,e)});return(0,a.NI)(e,e.borderRadius,n)}return null};S.propTypes={},S.filterProps=["borderRadius"];s(u,d,h,f,p,m,g,v,y,w,S,b,_);const I=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,r.MA)(e.theme,"spacing",8,"gap"),n=e=>({gap:(0,r._W)(t,e)});return(0,a.NI)(e,e.gap,n)}return null};I.propTypes={},I.filterProps=["gap"];const k=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,r.MA)(e.theme,"spacing",8,"columnGap"),n=e=>({columnGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.columnGap,n)}return null};k.propTypes={},k.filterProps=["columnGap"];const E=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,r.MA)(e.theme,"spacing",8,"rowGap"),n=e=>({rowGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.rowGap,n)}return null};E.propTypes={},E.filterProps=["rowGap"];s(I,k,E,(0,i.Ay)({prop:"gridColumn"}),(0,i.Ay)({prop:"gridRow"}),(0,i.Ay)({prop:"gridAutoFlow"}),(0,i.Ay)({prop:"gridAutoColumns"}),(0,i.Ay)({prop:"gridAutoRows"}),(0,i.Ay)({prop:"gridTemplateColumns"}),(0,i.Ay)({prop:"gridTemplateRows"}),(0,i.Ay)({prop:"gridTemplateAreas"}),(0,i.Ay)({prop:"gridArea"}));function x(e,t){return"grey"===t?t:e}s((0,i.Ay)({prop:"color",themeKey:"palette",transform:x}),(0,i.Ay)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:x}),(0,i.Ay)({prop:"backgroundColor",themeKey:"palette",transform:x}));function T(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const C=(0,i.Ay)({prop:"width",transform:T}),A=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const i=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||a.zu[t];return i?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:T(t)}};return(0,a.NI)(e,e.maxWidth,t)}return null};A.filterProps=["maxWidth"];const N=(0,i.Ay)({prop:"minWidth",transform:T}),P=(0,i.Ay)({prop:"height",transform:T}),R=(0,i.Ay)({prop:"maxHeight",transform:T}),O=(0,i.Ay)({prop:"minHeight",transform:T}),D=((0,i.Ay)({prop:"size",cssProperty:"width",transform:T}),(0,i.Ay)({prop:"size",cssProperty:"height",transform:T}),s(C,A,N,P,R,O,(0,i.Ay)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:S},color:{themeKey:"palette",transform:x},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:x},backgroundColor:{themeKey:"palette",transform:x},p:{style:r.Ms},pt:{style:r.Ms},pr:{style:r.Ms},pb:{style:r.Ms},pl:{style:r.Ms},px:{style:r.Ms},py:{style:r.Ms},padding:{style:r.Ms},paddingTop:{style:r.Ms},paddingRight:{style:r.Ms},paddingBottom:{style:r.Ms},paddingLeft:{style:r.Ms},paddingX:{style:r.Ms},paddingY:{style:r.Ms},paddingInline:{style:r.Ms},paddingInlineStart:{style:r.Ms},paddingInlineEnd:{style:r.Ms},paddingBlock:{style:r.Ms},paddingBlockStart:{style:r.Ms},paddingBlockEnd:{style:r.Ms},m:{style:r.Lc},mt:{style:r.Lc},mr:{style:r.Lc},mb:{style:r.Lc},ml:{style:r.Lc},mx:{style:r.Lc},my:{style:r.Lc},margin:{style:r.Lc},marginTop:{style:r.Lc},marginRight:{style:r.Lc},marginBottom:{style:r.Lc},marginLeft:{style:r.Lc},marginX:{style:r.Lc},marginY:{style:r.Lc},marginInline:{style:r.Lc},marginInlineStart:{style:r.Lc},marginInlineEnd:{style:r.Lc},marginBlock:{style:r.Lc},marginBlockStart:{style:r.Lc},marginBlockEnd:{style:r.Lc},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:I},rowGap:{style:E},columnGap:{style:k},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:T},maxWidth:{style:A},minWidth:{transform:T},height:{transform:T},maxHeight:{transform:T},minHeight:{transform:T},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},8698:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(8168),i=n(8587),o=n(3216),s=n(7758);const a=["sx"],l=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:s.A;return Object.keys(e).forEach((t=>{i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function c(e){const{sx:t}=e,n=(0,i.A)(e,a),{systemProps:s,otherProps:c}=l(n);let u;return u=Array.isArray(t)?[s,...t]:"function"===typeof t?function(){const e=t(...arguments);return(0,o.Q)(e)?(0,r.A)({},s,e):s}:(0,r.A)({},s,t),(0,r.A)({},c,{sx:u})}},3234:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,extendSxProp:()=>i.A,unstable_createStyleFunctionSx:()=>r.k,unstable_defaultSxConfig:()=>o.A});var r=n(8812),i=n(8698),o=n(7758)},8812:(e,t,n)=>{"use strict";n.d(t,{A:()=>u,k:()=>l});var r=n(410),i=n(3815),o=n(7162),s=n(9751),a=n(7758);function l(){function e(e,t,n,i){const a={[e]:t,theme:n},l=i[e];if(!l)return{[e]:t};const{cssProperty:c=e,themeKey:u,transform:d,style:h}=l;if(null==t)return null;if("typography"===u&&"inherit"===t)return{[e]:t};const f=(0,o.Yn)(n,u)||{};if(h)return h(a);return(0,s.NI)(a,t,(t=>{let n=(0,o.BO)(f,d,t);return t===n&&"string"===typeof t&&(n=(0,o.BO)(f,d,"".concat(e).concat("default"===t?"":(0,r.A)(t)),t)),!1===c?n:{[c]:n}}))}return function t(n){var r;const{sx:o,theme:l={}}=n||{};if(!o)return null;const c=null!=(r=l.unstable_sxConfig)?r:a.A;function u(n){let r=n;if("function"===typeof n)r=n(l);else if("object"!==typeof n)return n;if(!r)return null;const o=(0,s.EU)(l.breakpoints),a=Object.keys(o);let u=o;return Object.keys(r).forEach((n=>{const o=(a=r[n],d=l,"function"===typeof a?a(d):a);var a,d;if(null!==o&&void 0!==o)if("object"===typeof o)if(c[n])u=(0,i.A)(u,e(n,o,l,c));else{const e=(0,s.NI)({theme:l},o,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),i=new Set(r);return t.every((e=>i.size===Object.keys(e).length))}(e,o)?u=(0,i.A)(u,e):u[n]=t({sx:o,theme:l})}else u=(0,i.A)(u,e(n,o,l,c))})),(0,s.vf)(a,u)}return Array.isArray(o)?o.map(u):u(o)}}const c=l();c.filterProps=["sx"];const u=c},410:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(6632);function i(e){if("string"!==typeof e)throw new Error((0,r.A)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},578:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(410)},7040:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))}},5383:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(7040)},3216:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,Q:()=>i});var r=n(8168);function i(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function o(e){if(!i(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=o(e[n])})),t}function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const a=n.clone?(0,r.A)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((r=>{"__proto__"!==r&&(i(t[r])&&r in e&&i(e[r])?a[r]=s(e[r],t[r],n):n.clone?a[r]=i(t[r])?o(t[r]):t[r]:a[r]=t[r])})),a}},4534:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,isPlainObject:()=>r.Q});var r=n(3216)},6632:(e,t,n)=>{"use strict";function r(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{A:()=>r})},7245:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(6632)},2046:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,getFunctionName:()=>o});var r=n(2086);const i=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function o(e){const t="".concat(e).match(i);return t&&t[1]||""}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||o(e)||t}function a(e,t,n){const r=s(t);return e.displayName||(""!==r?"".concat(n,"(").concat(r,")"):n)}function l(e){if(null!=e){if("string"===typeof e)return e;if("function"===typeof e)return s(e,"Component");if("object"===typeof e)switch(e.$$typeof){case r.ForwardRef:return a(e,e.render,"ForwardRef");case r.Memo:return a(e,e.type,"memo");default:return}}}},219:(e,t,n)=>{"use strict";var r=n(3763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=l(t),m=l(n),g=0;g<s.length;++g){var v=s[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!a||!a[v])){var y=h(n,v);try{c(t,v,y)}catch(w){}}}}return t}},4983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function S(e){return _(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return S(e)||_(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===a||e===s||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===w||e.$$typeof===b||e.$$typeof===v)},t.typeOf=_},3763:(e,t,n)=>{"use strict";e.exports=n(4983)},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5173:(e,t,n)=>{e.exports=n(1497)()},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),S=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function V(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case S:return"Portal";case E:return"Profiler";case k:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ie=null,ke=null;function Ee(e){if(e=wi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=_i(t),Se(e.stateNode,e.type,t))}}function xe(e){Ie?ke?ke.push(e):ke=[e]:Ie=e}function Te(){if(Ie){var e=Ie,t=ke;if(ke=Ie=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Pe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==Ie||null!==ke)&&(Ae(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Oe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Oe=!1}function Le(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Fe=null,je=!1,Ue=null,ze={onError:function(e){Me=!0,Fe=e}};function Ve(e,t,n,r,i,o,s,a,l){Me=!1,Fe=null,Le.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(o(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return We(i),e;if(s===r)return We(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Je=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=dt(a):0!==(o&=s)&&(r=dt(o))}else 0!==(s=n&~i)?r=dt(s):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,St,It,kt,Et,xt=!1,Tt=[],Ct=null,At=null,Nt=null,Pt=new Map,Rt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){It(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function zt(){xt=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==At&&jt(At)&&(At=null),null!==Nt&&jt(Nt)&&(Nt=null),Pt.forEach(Ut),Rt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Bt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Vt(Ct,e),null!==At&&Vt(At,e),null!==Nt&&Vt(Nt,e),Pt.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var i=wt,o=qt.transition;qt.transition=null;try{wt=1,Gt(e,t,n,r)}finally{wt=i,qt.transition=o}}function Ht(e,t,n,r){var i=wt,o=qt.transition;qt.transition=null;try{wt=4,Gt(e,t,n,r)}finally{wt=i,qt.transition=o}}function Gt(e,t,n,r){if(Wt){var i=$t(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pt.set(o,Mt(Pt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Rt.set(o,Mt(Rt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=wi(i);if(null!==o&&_t(o),null===(o=$t(e,t,n,r))&&Wr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=yi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=F({},cn,{view:0,detail:0}),hn=on(dn),fn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),mn=on(F({},fn,{dataTransfer:0})),gn=on(F({},dn,{relatedTarget:0})),vn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=on(yn),bn=on(F({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function En(){return kn}var xn=F({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(xn),Cn=on(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=on(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(Pn),On=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,Fn=u&&(!Dn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function zn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){xe(r),0<(t=Hr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function Qn(e){jr(e,0)}function $n(e){if(G(bi(e)))return e}function Jn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Gn=Hn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Kn(t,Gn,e,_e(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function or(e,t){if("click"===e)return $n(t)}function sr(e,t){if("input"===e||"change"===e)return $n(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Hr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Ir={},kr={};function Er(e){if(Ir[e])return Ir[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Ir[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var xr=Er("animationend"),Tr=Er("animationiteration"),Cr=Er("animationstart"),Ar=Er("transitionend"),Nr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Nr.set(e,t),l(t,[e])}for(var Or=0;Or<Pr.length;Or++){var Dr=Pr[Or];Rr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Rr(xr,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(Cr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(o(198));var u=Fe;Me=!1,Fe=null,je||(je=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=l}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,zr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Jt(t)){case 1:var i=Kt;break;case 4:i=Ht;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=yi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Pe((function(){var r=o,i=_e(n),s=[];e:{var a=Nr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case xr:case Tr:case Cr:l=vn;break;case Ar:l=Nn;break;case"scroll":l=hn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Re(p,h))&&u.push(Kr(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:bi(l),f=null==c?a:bi(c),(a=new u(m,p+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=h;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Qr(s,a,l,u,!1),null!==c&&null!==d&&Qr(s,d,c,u,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Jn;else if(Wn(a))if(Yn)g=sr;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?Kn(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?bi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(s,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Bn?zn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Bn&&(y=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,Bn=!0)),0<(v=Hr(r,w)).length&&(w=new bn(w,e,null,n,i),s.push({event:w,listeners:v}),y?w.data=y:null!==(y=Vn(n))&&(w.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&zn(e,t)?(e=en(),Zt=Xt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}jr(s,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Re(e,n))&&r.unshift(Kr(e,o,i)),null!=(o=Re(e,t))&&r.push(Kr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Re(n,o))&&s.unshift(Kr(n,l,a)):i||null!=(l=Re(n,o))&&s.push(Kr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var $r=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Jr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function _i(e){return e[fi]||null}var Si=[],Ii=-1;function ki(e){return{current:e}}function Ei(e){0>Ii||(e.current=Si[Ii],Si[Ii]=null,Ii--)}function xi(e,t){Ii++,Si[Ii]=e.current,e.current=t}var Ti={},Ci=ki(Ti),Ai=ki(!1),Ni=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ei(Ai),Ei(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(o(168));xi(Ci,t),xi(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ci.current,xi(Ci,e),xi(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ai),Ei(Ci),xi(Ci,e)):Ei(Ai),xi(Ai,n)}var ji=null,Ui=!1,zi=!1;function Vi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!zi&&null!==ji){zi=!0;var e=0,t=wt;try{var n=ji;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,Bi),i}finally{wt=t,zi=!1}}return null}var qi=[],Wi=0,Ki=null,Hi=0,Gi=[],Qi=0,$i=null,Ji=1,Yi="";function Xi(e,t){qi[Wi++]=Hi,qi[Wi++]=Ki,Ki=e,Hi=t}function Zi(e,t,n){Gi[Qi++]=Ji,Gi[Qi++]=Yi,Gi[Qi++]=$i,$i=e;var r=Ji;e=Yi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ji=1<<32-st(t)+i|n<<i|r,Yi=o+e}else Ji=1<<o|n<<i|r,Yi=e}function eo(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function to(e){for(;e===Ki;)Ki=qi[--Wi],qi[Wi]=null,Hi=qi[--Wi],qi[Wi]=null;for(;e===$i;)$i=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null,Ji=Gi[--Qi],Gi[Qi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Ji,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=b.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wo(e){return(0,e._init)(e._payload)}function bo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===I?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===R&&wo(o)===t.type)?((r=i(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case S:return(t=jc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);yo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);yo(t,r)}return null}function m(i,o,a,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=s(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(i,d),io&&Xi(i,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(o=s(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Xi(i,m),c}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Xi(i,m),c}function g(i,a,l,c){var u=L(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,c);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),a=s(w,a,g),null===d?u=w:d.sibling=w,d=w,m=v}if(y.done)return n(i,m),io&&Xi(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return io&&Xi(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),io&&Xi(i,g),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===I&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case _:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===I){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&wo(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=vo(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===I?((o=Lc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Dc(s.type,s.key,s.props,null,r.mode,l)).ref=vo(r,o,s),l.return=r,r=l)}return a(r);case S:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=jc(s,r.mode,l)).return=r,r=o}return a(r);case R:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return m(r,o,s,l);if(L(s))return g(r,o,s,l);yo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Fc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var _o=bo(!0),So=bo(!1),Io=ki(null),ko=null,Eo=null,xo=null;function To(){xo=Eo=ko=null}function Co(e){var t=Io.current;Ei(Io),e._currentValue=t}function Ao(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function No(e,t){ko=e,xo=Eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function Po(e){var t=e._currentValue;if(xo!==e)if(e={context:e,memoizedValue:t,next:null},null===Eo){if(null===ko)throw Error(o(308));Eo=e,ko.dependencies={lanes:0,firstContext:e}}else Eo=Eo.next=e;return t}var Ro=null;function Oo(e){null===Ro?Ro=[e]:Ro.push(e)}function Do(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Oo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Lo(e,r)}function Lo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mo=!1;function Fo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Lo(e,n)}return null===(i=r.interleaved)?(t.next=t,Oo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Lo(e,n)}function Vo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Bo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qo(e,t,n,r){var i=e.updateQueue;Mo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=F({},d,h);break e;case 2:Mo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ml|=s,e.lanes=s,e.memoizedState=d}}function Wo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Ko={},Ho=ki(Ko),Go=ki(Ko),Qo=ki(Ko);function $o(e){if(e===Ko)throw Error(o(174));return e}function Jo(e,t){switch(xi(Qo,t),xi(Go,e),xi(Ho,Ko),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Ho),xi(Ho,t)}function Yo(){Ei(Ho),Ei(Go),Ei(Qo)}function Xo(e){$o(Qo.current);var t=$o(Ho.current),n=le(t,e.type);t!==n&&(xi(Go,e),xi(Ho,n))}function Zo(e){Go.current===e&&(Ei(Ho),Ei(Go))}var es=ki(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var is=b.ReactCurrentDispatcher,os=b.ReactCurrentBatchConfig,ss=0,as=null,ls=null,cs=null,us=!1,ds=!1,hs=0,fs=0;function ps(){throw Error(o(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,i,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=null===e||null===e.memoizedState?Zs:ea,e=n(r,i),ds){s=0;do{if(ds=!1,hs=0,25<=s)throw Error(o(301));s+=1,cs=ls=null,t.updateQueue=null,is.current=ta,e=n(r,i)}while(ds)}if(is.current=Xs,t=null!==ls&&null!==ls.next,ss=0,cs=ls=as=null,us=!1,t)throw Error(o(300));return e}function vs(){var e=0!==hs;return hs=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=e:cs=cs.next=e,cs}function ws(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?as.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?as.memoizedState=cs=e:cs=cs.next=e}return cs}function bs(e,t){return"function"===typeof t?t(e):t}function _s(e){var t=ws(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ls,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((ss&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,as.lanes|=d,Ml|=d}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,as.lanes|=s,Ml|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ss(e){var t=ws(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(wa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Is(){}function ks(e,t){var n=as,r=ws(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,wa=!0),r=r.queue,Ms(Ts.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Ps(9,xs.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(o(349));0!==(30&ss)||Es(n,t,i)}return i}function Es(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function xs(e,t,n,r){t.value=n,t.getSnapshot=r,Cs(t)&&As(e)}function Ts(e,t,n){return n((function(){Cs(t)&&As(e)}))}function Cs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function As(e){var t=Lo(e,1);null!==t&&nc(t,e,1,-1)}function Ns(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},t.queue=e,e=e.dispatch=Qs.bind(null,as,e),[t.memoizedState,e]}function Ps(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Rs(){return ws().memoizedState}function Os(e,t,n,r){var i=ys();as.flags|=e,i.memoizedState=Ps(1|t,n,void 0,void 0===r?null:r)}function Ds(e,t,n,r){var i=ws();r=void 0===r?null:r;var o=void 0;if(null!==ls){var s=ls.memoizedState;if(o=s.destroy,null!==r&&ms(r,s.deps))return void(i.memoizedState=Ps(t,n,o,r))}as.flags|=e,i.memoizedState=Ps(1|t,n,o,r)}function Ls(e,t){return Os(8390656,8,e,t)}function Ms(e,t){return Ds(2048,8,e,t)}function Fs(e,t){return Ds(4,2,e,t)}function js(e,t){return Ds(4,4,e,t)}function Us(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ds(4,4,Us.bind(null,t,e),n)}function Vs(){}function Bs(e,t){var n=ws();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qs(e,t){var n=ws();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ws(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),as.lanes|=n,Ml|=n,e.baseState=!0),t)}function Ks(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=os.transition;os.transition={};try{e(!1),t()}finally{wt=n,os.transition=r}}function Hs(){return ws().memoizedState}function Gs(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$s(e))Js(t,n);else if(null!==(n=Do(e,t,n,r))){nc(n,e,r,ec()),Ys(n,t,r)}}function Qs(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($s(e))Js(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,Oo(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Do(e,t,i,r))&&(nc(n,e,r,i=ec()),Ys(n,t,r))}}function $s(e){var t=e.alternate;return e===as||null!==t&&t===as}function Js(e,t){ds=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ys(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Xs={readContext:Po,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},Zs={readContext:Po,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Po,useEffect:Ls,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Os(4194308,4,Us.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Os(4194308,4,e,t)},useInsertionEffect:function(e,t){return Os(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ys();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gs.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:Ns,useDebugValue:Vs,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=Ns(!1),t=e[0];return e=Ks.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,i=ys();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Al)throw Error(o(349));0!==(30&ss)||Es(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ls(Ts.bind(null,r,s,e),[e]),r.flags|=2048,Ps(9,xs.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=Al.identifierPrefix;if(io){var n=Yi;t=":"+t+"R"+(n=(Ji&~(1<<32-st(Ji)-1)).toString(32)+n),0<(n=hs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Po,useCallback:Bs,useContext:Po,useEffect:Ms,useImperativeHandle:zs,useInsertionEffect:Fs,useLayoutEffect:js,useMemo:qs,useReducer:_s,useRef:Rs,useState:function(){return _s(bs)},useDebugValue:Vs,useDeferredValue:function(e){return Ws(ws(),ls.memoizedState,e)},useTransition:function(){return[_s(bs)[0],ws().memoizedState]},useMutableSource:Is,useSyncExternalStore:ks,useId:Hs,unstable_isNewReconciler:!1},ta={readContext:Po,useCallback:Bs,useContext:Po,useEffect:Ms,useImperativeHandle:zs,useInsertionEffect:Fs,useLayoutEffect:js,useMemo:qs,useReducer:Ss,useRef:Rs,useState:function(){return Ss(bs)},useDebugValue:Vs,useDeferredValue:function(e){var t=ws();return null===ls?t.memoizedState=e:Ws(t,ls.memoizedState,e)},useTransition:function(){return[Ss(bs)[0],ws().memoizedState]},useMutableSource:Is,useSyncExternalStore:ks,useId:Hs,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Uo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=zo(e,o,i))&&(nc(t,e,i,r),Vo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Uo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=zo(e,o,i))&&(nc(t,e,i,r),Vo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Uo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=zo(e,i,r))&&(nc(t,e,r,n),Vo(t,e,r))}};function oa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function sa(e,t,n){var r=!1,i=Ti,o=t.contextType;return"object"===typeof o&&null!==o?o=Po(o):(i=Ri(t)?Ni:Ci.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Fo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Po(o):(o=Ri(t)?Ni:Ci.current,i.context=Pi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ra(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),qo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ha="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Kl=r),da(0,t)},n}function pa(e,t,n){(n=Uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ha;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Uo(-1,1)).tag=2,zo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ya=b.ReactCurrentOwner,wa=!1;function ba(e,t,n,r){t.child=null===e?So(t,null,n,r):_o(t,e.child,n,r)}function _a(e,t,n,r,i){n=n.render;var o=t.ref;return No(t,i),r=gs(e,t,n,r,o,i),n=vs(),null===e||wa?(io&&n&&eo(t),t.flags|=1,ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function Sa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Rc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ia(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Wa(e,t,i)}return t.flags|=1,(e=Oc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ia(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Wa(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return xa(e,t,n,r,i)}function ka(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xi(Ol,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xi(Ol,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,xi(Ol,Rl),Rl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,xi(Ol,Rl),Rl|=r;return ba(e,t,i,n),t.child}function Ea(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xa(e,t,n,r,i){var o=Ri(n)?Ni:Ci.current;return o=Pi(t,o),No(t,i),n=gs(e,t,n,r,o,i),r=vs(),null===e||wa?(io&&r&&eo(t),t.flags|=1,ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function Ta(e,t,n,r,i){if(Ri(n)){var o=!0;Mi(t)}else o=!1;if(No(t,i),null===t.stateNode)qa(e,t),sa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Po(c):c=Pi(t,c=Ri(n)?Ni:Ci.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,s,r,c),Mo=!1;var h=t.memoizedState;s.state=h,qo(t,r,s,i),l=t.memoizedState,a!==r||h!==l||Ai.current||Mo?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Mo||oa(t,n,a,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,jo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Po(l):l=Pi(t,l=Ri(n)?Ni:Ci.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&aa(t,s,r,l),Mo=!1,h=t.memoizedState,s.state=h,qo(t,r,s,i);var p=t.memoizedState;a!==d||h!==p||Ai.current||Mo?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(c=Mo||oa(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ca(e,t,n,r,o,i)}function Ca(e,t,n,r,i,o){Ea(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Fi(t,n,!1),Wa(e,t,o);r=t.stateNode,ya.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=_o(t,e.child,null,o),t.child=_o(t,null,a,o)):ba(e,t,a,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Aa(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Jo(e,t.containerInfo)}function Na(e,t,n,r,i){return po(),mo(i),t.flags|=256,ba(e,t,n,r),t.child}var Pa,Ra,Oa,Da,La={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fa(e,t,n){var r,i=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),xi(es,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Mc(l,i,0,null),e=Lc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ma(n),t.memoizedState=La,e):ja(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Ua(e,t,a,r=ua(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(s=Lc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&_o(t,e.child,null,a),t.child.memoizedState=Ma(a),t.memoizedState=La,s);if(0===(1&t.mode))return Ua(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ua(e,t,a,r=ua(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(r=Al)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Lo(e,i),nc(r,e,i,-1))}return mc(),Ua(e,t,a,r=ua(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Qi++]=Ji,Gi[Qi++]=Yi,Gi[Qi++]=$i,Ji=e.id,Yi=e.overflow,$i=t),t=ja(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Oc(r,a):(a=Lc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ma(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=La,i}return e=(a=e.child).sibling,i=Oc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ja(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ua(e,t,n,r){return null!==r&&mo(r),_o(t,e.child,null,n),(e=ja(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function za(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ao(e.return,t,n)}function Va(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ba(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ba(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,n,t);else if(19===e.tag)za(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xi(es,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Va(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ts(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Va(t,!0,n,null,o);break;case"together":Va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ka(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ha(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ha(t),null;case 1:case 17:return Ri(t.type)&&Oi(),Ha(t),null;case 3:return r=t.stateNode,Yo(),Ei(Ai),Ei(Ci),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Ra(e,t),Ha(t),null;case 5:Zo(t);var i=$o(Qo.current);if(n=t.type,null!==e&&null!=t.stateNode)Oa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ha(t),null}if(e=$o(Ho.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":J(r,s),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ur("invalid",r);break;case"textarea":ie(r,s),Ur("invalid",r)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":H(r),Z(r,s,!0);break;case"textarea":H(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":J(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(s in ye(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Ur("scroll",e):null!=u&&w(e,s,u,l))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ha(t),null;case 6:if(e&&null!=t.stateNode)Da(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=$o(Qo.current),$o(Ho.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ha(t),null;case 13:if(Ei(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ha(t),s=!1}else null!==oo&&(sc(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ha(t),null);case 4:return Yo(),Ra(e,t),null===e&&Br(t.stateNode.containerInfo),Ha(t),null;case 10:return Co(t.type._context),Ha(t),null;case 19:if(Ei(es),null===(s=t.memoizedState))return Ha(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ka(s,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,Ka(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xi(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Ye()>Bl&&(t.flags|=128,r=!0,Ka(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ka(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return Ha(t),null}else 2*Ye()-s.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Ka(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ye(),t.sibling=null,n=es.current,xi(es,r?1&n|2:1&n),t):(Ha(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Ha(t),6&t.subtreeFlags&&(t.flags|=8192)):Ha(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qa(e,t){switch(to(t),t.tag){case 1:return Ri(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Yo(),Ei(Ai),Ei(Ci),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Ei(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(es),null;case 4:return Yo(),null;case 10:return Co(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ra=function(){},Oa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$o(Ho.current);var o,s=null;switch(n){case"input":i=$(e,i),r=$(e,r),s=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Da=function(e,t,n,r){n!==r&&(t.flags|=4)};var $a=!1,Ja=!1,Ya="function"===typeof WeakSet?WeakSet:Set,Xa=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){kc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ja||Za(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Ja&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&el(n,t,s),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Ja&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){kc(n,t,a)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Ja=(r=Ja)||null!==n.memoizedState,hl(e,t,n),Ja=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ya),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));fl(s,a,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){kc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Y(i,s),we(l,a);var u=we(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):w(i,d,h,u)}switch(l){case"input":X(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(g){kc(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){kc(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=Ye())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ja=(u=Ja)||d,ml(t,e),Ja=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xa=e,d=e.child;null!==d;){for(h=Xa=d;null!==Xa;){switch(p=(f=Xa).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Za(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:Za(f,f.return);break;case 22:if(null!==f.memoizedState){_l(h);continue}}null!==p?(p.return=f,Xa=p):_l(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){kc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,al(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(o(161))}}catch(a){kc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Xa=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Xa;){var i=Xa,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||$a;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ja;a=$a;var c=Ja;if($a=s,(Ja=l)&&!c)for(Xa=i;null!==Xa;)l=(s=Xa).child,22===s.tag&&null!==s.memoizedState?Sl(i):null!==l?(l.return=s,Xa=l):Sl(i);for(;null!==o;)Xa=o,wl(o,t,n),o=o.sibling;Xa=i,$a=a,Ja=c}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Xa=o):bl(e)}}function bl(e){for(;null!==Xa;){var t=Xa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ja||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ja)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Wo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(o(163))}Ja||512&t.flags&&il(t)}catch(f){kc(t,t.return,f)}}if(t===e){Xa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xa=n;break}Xa=t.return}}function _l(e){for(;null!==Xa;){var t=Xa;if(t===e){Xa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xa=n;break}Xa=t.return}}function Sl(e){for(;null!==Xa;){var t=Xa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){kc(t,i,l)}}var o=t.return;try{il(t)}catch(l){kc(t,o,l)}break;case 5:var s=t.return;try{il(t)}catch(l){kc(t,s,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Xa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Xa=a;break}Xa=t.return}}var Il,kl=Math.ceil,El=b.ReactCurrentDispatcher,xl=b.ReactCurrentOwner,Tl=b.ReactCurrentBatchConfig,Cl=0,Al=null,Nl=null,Pl=0,Rl=0,Ol=ki(0),Dl=0,Ll=null,Ml=0,Fl=0,jl=0,Ul=null,zl=null,Vl=0,Bl=1/0,ql=null,Wl=!1,Kl=null,Hl=null,Gl=!1,Ql=null,$l=0,Jl=0,Yl=null,Xl=-1,Zl=0;function ec(){return 0!==(6&Cl)?Ye():-1!==Xl?Xl:Xl=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Pl?Pl&-Pl:null!==go.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nc(e,t,n,r){if(50<Jl)throw Jl=0,Yl=null,Error(o(185));vt(e,n,r),0!==(2&Cl)&&e===Al||(e===Al&&(0===(2&Cl)&&(Fl|=n),4===Dl&&ac(e,Pl)),rc(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(Bl=Ye()+500,Ui&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ht(e,e===Al?Pl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(lc.bind(null,e)):Vi(lc.bind(null,e)),si((function(){0===(6&Cl)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xl=-1,Zl=0,0!==(6&Cl))throw Error(o(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===Al?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Cl;Cl|=2;var s=pc();for(Al===e&&Pl===t||(ql=null,Bl=Ye()+500,hc(e,t));;)try{yc();break}catch(l){fc(e,l)}To(),El.current=s,Cl=i,null!==Nl?t=0:(Al=null,Pl=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ll,hc(e,0),ac(e,r),rc(e,Ye()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(s=pt(e))&&(r=s,t=oc(e,s))),1===t))throw n=Ll,hc(e,0),ac(e,r),rc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:_c(e,zl,ql);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Vl+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,zl,ql),t);break}_c(e,zl,ql);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,zl,ql),r);break}_c(e,zl,ql);break;default:throw Error(o(329))}}}return rc(e,Ye()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=zl,zl=n,null!==t&&sc(t)),e}function sc(e){null===zl?zl=e:zl.push.apply(zl,e)}function ac(e,t){for(t&=~jl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Cl))throw Error(o(327));Sc();var t=ht(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ll,hc(e,0),ac(e,t),rc(e,Ye()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,zl,ql),rc(e,Ye()),null}function cc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(Bl=Ye()+500,Ui&&Bi())}}function uc(e){null!==Ql&&0===Ql.tag&&0===(6&Cl)&&Sc();var t=Cl;Cl|=1;var n=Tl.transition,r=wt;try{if(Tl.transition=null,wt=1,e)return e()}finally{wt=r,Tl.transition=n,0===(6&(Cl=t))&&Bi()}}function dc(){Rl=Ol.current,Ei(Ol)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nl)for(n=Nl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:Yo(),Ei(Ai),Ei(Ci),rs();break;case 5:Zo(r);break;case 4:Yo();break;case 13:case 19:Ei(es);break;case 10:Co(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Al=e,Nl=e=Oc(e.current,null),Pl=Rl=t,Dl=0,Ll=null,jl=Fl=Ml=0,zl=Ul=null,null!==Ro){for(t=0;t<Ro.length;t++)if(null!==(r=(n=Ro[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Ro=null}return e}function fc(e,t){for(;;){var n=Nl;try{if(To(),is.current=Xs,us){for(var r=as.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}us=!1}if(ss=0,cs=ls=as=null,ds=!1,hs=0,xl.current=null,null===n||null===n.return){Dl=1,Ll=t,Nl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,va(p,a,l,0,t),1&p.mode&&ma(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(s,u,t),mc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=ga(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),mo(ca(c,l));break e}}s=c=ca(c,l),4!==Dl&&(Dl=2),null===Ul?Ul=[s]:Ul.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Bo(s,fa(0,c,t));break e;case 1:l=c;var y=s.type,w=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Hl||!Hl.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t,Bo(s,pa(s,l,t));break e}}s=s.return}while(null!==s)}bc(n)}catch(b){t=b,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function pc(){var e=El.current;return El.current=Xs,null===e?Xs:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Al||0===(268435455&Ml)&&0===(268435455&Fl)||ac(Al,Pl)}function gc(e,t){var n=Cl;Cl|=2;var r=pc();for(Al===e&&Pl===t||(ql=null,hc(e,t));;)try{vc();break}catch(i){fc(e,i)}if(To(),Cl=n,El.current=r,null!==Nl)throw Error(o(261));return Al=null,Pl=0,Dl}function vc(){for(;null!==Nl;)wc(Nl)}function yc(){for(;null!==Nl&&!$e();)wc(Nl)}function wc(e){var t=Il(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?bc(e):Nl=t,xl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,Rl)))return void(Nl=n)}else{if(null!==(n=Qa(n,t)))return n.flags&=32767,void(Nl=n);if(null===e)return Dl=6,void(Nl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nl=t);Nl=t=e}while(null!==t);0===Dl&&(Dl=5)}function _c(e,t,n){var r=wt,i=Tl.transition;try{Tl.transition=null,wt=1,function(e,t,n,r){do{Sc()}while(null!==Ql);if(0!==(6&Cl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Al&&(Nl=Al=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Ac(tt,(function(){return Sc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Tl.transition,Tl.transition=null;var a=wt;wt=1;var l=Cl;Cl|=4,xl.current=null,function(e,t){if(ei=Wt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(_){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===s&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Xa=t;null!==Xa;)if(e=(t=Xa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xa=e;else for(;null!==Xa;){t=Xa;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(_){kc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Xa=e;break}Xa=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Je(),Cl=l,wt=a,Tl.transition=s}else e.current=n;if(Gl&&(Gl=!1,Ql=e,$l=i),s=e.pendingLanes,0===s&&(Hl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Kl,Kl=null,e;0!==(1&$l)&&0!==e.tag&&Sc(),s=e.pendingLanes,0!==(1&s)?e===Yl?Jl++:(Jl=0,Yl=e):Jl=0,Bi()}(e,t,n,r)}finally{Tl.transition=i,wt=r}return null}function Sc(){if(null!==Ql){var e=bt($l),t=Tl.transition,n=wt;try{if(Tl.transition=null,wt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,$l=0,0!==(6&Cl))throw Error(o(331));var i=Cl;for(Cl|=4,Xa=e.current;null!==Xa;){var s=Xa,a=s.child;if(0!==(16&Xa.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xa=u;null!==Xa;){var d=Xa;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Xa=h;else for(;null!==Xa;){var f=(d=Xa).sibling,p=d.return;if(ol(d),d===u){Xa=null;break}if(null!==f){f.return=p,Xa=f;break}Xa=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Xa=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Xa=a;else e:for(;null!==Xa;){if(0!==(2048&(s=Xa).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Xa=y;break e}Xa=s.return}}var w=e.current;for(Xa=w;null!==Xa;){var b=(a=Xa).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Xa=b;else e:for(a=w;null!==Xa;){if(0!==(2048&(l=Xa).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){kc(l,l.return,S)}if(l===a){Xa=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Xa=_;break e}Xa=l.return}}if(Cl=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{wt=n,Tl.transition=t}}return!1}function Ic(e,t,n){e=zo(e,t=fa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hl||!Hl.has(r))){t=zo(t,e=pa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Pl&n)===n&&(4===Dl||3===Dl&&(130023424&Pl)===Pl&&500>Ye()-Vl?hc(e,0):jl|=n),rc(e,t)}function xc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Lo(e,t))&&(vt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),xc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),xc(e,n)}function Ac(e,t){return Ge(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Nc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Rc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case I:return Lc(n.children,i,s,t);case k:a=8,i|=8;break;case E:return(e=Pc(12,n,t,2|i)).elementType=E,e.lanes=s,e;case A:return(e=Pc(13,n,t,i)).elementType=A,e.lanes=s,e;case N:return(e=Pc(19,n,t,i)).elementType=N,e.lanes=s,e;case O:return Mc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:a=10;break e;case T:a=9;break e;case C:a=11;break e;case P:a=14;break e;case R:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Pc(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Lc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,o,s,a,l){return e=new Uc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Pc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fo(o),e}function Vc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function Bc(e,t,n,r,i,o,s,a,l){return(e=zc(n,r,!0,e,0,o,0,a,l)).context=Vc(null),n=e.current,(o=Uo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,zo(n,o,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,o=ec(),s=tc(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Uo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zo(i,t,s))&&(nc(e,i,s,o),Vo(e,i,s)),s}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Il=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Aa(t),po();break;case 5:Xo(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:Jo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xi(Io,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xi(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fa(e,t,n):(xi(es,1&es.current),null!==(e=Wa(e,t,n))?e.sibling:null);xi(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ba(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return Wa(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,io&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qa(e,t),e=t.pendingProps;var i=Pi(t,Ci.current);No(t,n),i=gs(null,t,r,e,i,n);var s=vs();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(s=!0,Mi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Fo(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=Ca(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),ba(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=na(r,e),i){case 0:t=xa(null,t,r,e,n);break e;case 1:t=Ta(null,t,r,e,n);break e;case 11:t=_a(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,na(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Aa(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,jo(e,t),qo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Na(e,t,r,n,i=ca(Error(o(423)),t));break e}if(r!==i){t=Na(e,t,r,n,i=ca(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Wa(e,t,n);break e}ba(e,t,r,n)}t=t.child}return t;case 5:return Xo(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Ea(e,t),ba(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return Fa(e,t,n);case 4:return Jo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=_o(t,null,r,n):ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_a(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,xi(Io,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ai.current){t=Wa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Uo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ao(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ao(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,No(t,n),r=r(i=Po(i)),t.flags|=1,ba(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),Sa(e,t,r,i=na(r.type,i),n);case 15:return Ia(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),qa(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,No(t,n),sa(t,r,i),la(t,r,i,n),Ca(null,t,r,!0,e,n);case 19:return Ba(e,t,n);case 22:return ka(e,t,n)}throw Error(o(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Wc(s);a.call(e)}}qc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Wc(s);o.call(e)}}var s=Bc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),uc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Wc(l);a.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),uc((function(){qc(t,l,n,r)})),l}(n,t,e,i,r);return Wc(s)}$c.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));qc(e,t,null,null)},$c.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){qc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Ye()),0===(6&Cl)&&(Bl=Ye()+500,Bi()))}break;case 13:uc((function(){var t=Lo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Hc(e,1)}},St=function(e){if(13===e.tag){var t=Lo(e,134217728);if(null!==t)nc(t,e,134217728,ec());Hc(e,134217728)}},It=function(e){if(13===e.tag){var t=tc(e),n=Lo(e,t);if(null!==n)nc(n,e,t,ec());Hc(e,t)}},kt=function(){return wt},Et=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Se=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(o(90));G(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ae=uc;var eu={usingClientEntryPoint:!1,Events:[wi,bi,_i,xe,Te,cc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(o(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(o(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(o(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},5082:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case a:case s:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.ForwardRef=d,t.Memo=p},2086:(e,t,n)=>{"use strict";e.exports=n(5082)},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var _=Array.isArray,S=Object.prototype.hasOwnProperty,I={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,i)&&!k.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:I.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+C(l,0):o,_(s)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(s,t,i,"",(function(e){return e}))):null!=s&&(x(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",_(e))for(var c=0;c<e.length;c++){var u=o+C(a=e[c],c);l+=A(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=A(a=a.value,t,i,u=o+C(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:I};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=w,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=I.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,O(S);else{var t=r(u);null!==t&&D(_,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(x),x=-1),p=!0;var o=f;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(_,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var I,k=!1,E=null,x=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?I():(k=!1,E=null)}}else k=!1}if("function"===typeof w)I=function(){w(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=N,I=function(){R.postMessage(null)}}else I=function(){v(N,0)};function O(e){E=e,k||(k=!0,I())}function D(e,n){x=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(x),x=-1):g=!0,D(_,o-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,O(S))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},6440:e=>{"use strict";var t=function(){};e.exports=t},4634:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},4893:e=>{e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},8139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,o(n)))}return e}function o(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},8168:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{A:()=>r})},8587:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{A:()=>r})}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".a0e1c18e.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="type-runner:";n.l=(r,i,o,s)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[i];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,s=r[0],a=r[1],l=r[2],c=0;if(s.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunktype_runner=self.webpackChunktype_runner||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>Cn,SDK_VERSION:()=>qr,_DEFAULT_ENTRY_NAME:()=>Tr,_addComponent:()=>Rr,_addOrOverwriteComponent:()=>Or,_apps:()=>Ar,_clearComponents:()=>Ur,_components:()=>Pr,_getProvider:()=>Lr,_isFirebaseApp:()=>Fr,_isFirebaseServerApp:()=>jr,_registerComponent:()=>Dr,_removeServiceInstance:()=>Mr,_serverApps:()=>Nr,deleteApp:()=>Qr,getApp:()=>Hr,getApps:()=>Gr,initializeApp:()=>Wr,initializeServerApp:()=>Kr,onLog:()=>Jr,registerVersion:()=>$r,setLogLevel:()=>Yr});var t=n(5043),r=n.t(t,2),i=n(4391);function o(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var s=n(8587),a=n(8168);function l(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=l(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const c=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=l(e))&&(r&&(r+=" "),r+=t);return r};var u=n(3216);const d=e=>e,h=(()=>{let e=d;return{configure(t){e=t},generate:t=>e(t),reset(){e=d}}})(),f={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function p(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r=f[t];return r?"".concat(n,"-").concat(r):"".concat(h.generate(e),"-").concat(t)}function m(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach((i=>{r[i]=e[i].reduce(((e,r)=>{if(r){const i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}var g=n(7713),v=n(8280),y=n(8812);const w=["ownerState"],b=["variants"],_=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function S(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const I=(0,v.A)(),k=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function E(e){let{defaultTheme:t,theme:n,themeId:r}=e;return i=n,0===Object.keys(i).length?t:n[r]||n;var i}function x(e){return e?(t,n)=>n[e]:null}function T(e,t){let{ownerState:n}=t,r=(0,s.A)(t,w);const i="function"===typeof e?e((0,a.A)({ownerState:n},r)):e;if(Array.isArray(i))return i.flatMap((e=>T(e,(0,a.A)({ownerState:n},r))));if(i&&"object"===typeof i&&Array.isArray(i.variants)){const{variants:e=[]}=i;let t=(0,s.A)(i,b);return e.forEach((e=>{let i=!0;"function"===typeof e.props?i=e.props((0,a.A)({ownerState:n},r,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&r[t]!==e.props[t]&&(i=!1)})),i&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,a.A)({ownerState:n},r,n)):e.style))})),t}return i}const C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=I,rootShouldForwardProp:r=S,slotShouldForwardProp:i=S}=e,o=e=>(0,y.A)((0,a.A)({},e,{theme:E((0,a.A)({},e,{defaultTheme:n,themeId:t}))}));return o.__mui_systemSx=!0,function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,g.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:c,slot:d,skipVariantsResolver:h,skipSx:f,overridesResolver:p=x(k(d))}=l,m=(0,s.A)(l,_),v=void 0!==h?h:d&&"Root"!==d&&"root"!==d||!1,y=f||!1;let w=S;"Root"===d||"root"===d?w=r:d?w=i:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(w=void 0);const b=(0,g.default)(e,(0,a.A)({shouldForwardProp:w,label:undefined},m)),I=e=>"function"===typeof e&&e.__emotion_real!==e||(0,u.Q)(e)?r=>T(e,(0,a.A)({},r,{theme:E({theme:r.theme,defaultTheme:n,themeId:t})})):e,C=function(r){let i=I(r);for(var s=arguments.length,l=new Array(s>1?s-1:0),u=1;u<s;u++)l[u-1]=arguments[u];const d=l?l.map(I):[];c&&p&&d.push((e=>{const r=E((0,a.A)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[c]||!r.components[c].styleOverrides)return null;const i=r.components[c].styleOverrides,o={};return Object.entries(i).forEach((t=>{let[n,i]=t;o[n]=T(i,(0,a.A)({},e,{theme:r}))})),p(e,o)})),c&&!v&&d.push((e=>{var r;const i=E((0,a.A)({},e,{defaultTheme:n,themeId:t}));return T({variants:null==i||null==(r=i.components)||null==(r=r[c])?void 0:r.variants},(0,a.A)({},e,{theme:i}))})),y||d.push(o);const h=d.length-l.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");i=[...r,...e],i.raw=[...r.raw,...e]}const f=b(i,...d);return e.muiName&&(f.muiName=e.muiName),f};return b.withConfig&&(C.withConfig=b.withConfig),C}}(),A=C;function N(e,t){const n=(0,a.A)({},t);return Object.keys(e).forEach((r=>{if(r.toString().match(/^(components|slots)$/))n[r]=(0,a.A)({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},o=t[r];n[r]={},o&&Object.keys(o)?i&&Object.keys(i)?(n[r]=(0,a.A)({},o),Object.keys(i).forEach((e=>{n[r][e]=N(i[e],o[e])}))):n[r]=o:n[r]=i}else void 0===n[r]&&(n[r]=e[r])})),n}var P=n(5756);const R=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const n=t.useContext(P.T);return n&&(r=n,0!==Object.keys(r).length)?n:e;var r},O=(0,v.A)();const D=function(){return R(arguments.length>0&&void 0!==arguments[0]?arguments[0]:O)};function L(e){let{props:t,name:n,defaultTheme:r,themeId:i}=e,o=D(r);i&&(o=o[i]||o);const s=function(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?N(t.components[n].defaultProps,r):r}({theme:o,name:n,props:t});return s}var M=n(8698),F=n(9751),j=n(8604),U=n(579);const z=["component","direction","spacing","divider","children","className","useFlexGap"],V=(0,v.A)(),B=A("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function q(e){return L({props:e,name:"MuiStack",defaultTheme:V})}function W(e,n){const r=t.Children.toArray(e).filter(Boolean);return r.reduce(((e,i,o)=>(e.push(i),o<r.length-1&&e.push(t.cloneElement(n,{key:"separator-".concat(o)})),e)),[])}const K=e=>{let{ownerState:t,theme:n}=e,r=(0,a.A)({display:"flex",flexDirection:"column"},(0,F.NI)({theme:n},(0,F.kW)({values:t.direction,breakpoints:n.breakpoints.values}),(e=>({flexDirection:e}))));if(t.spacing){const e=(0,j.LX)(n),i=Object.keys(n.breakpoints.values).reduce(((e,n)=>(("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e)),{}),o=(0,F.kW)({values:t.direction,base:i}),s=(0,F.kW)({values:t.spacing,base:i});"object"===typeof o&&Object.keys(o).forEach(((e,t,n)=>{if(!o[e]){const r=t>0?o[n[t-1]]:"column";o[e]=r}}));const a=(n,r)=>{return t.useFlexGap?{gap:(0,j._W)(e,n)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{["margin".concat((i=r?o[r]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[i]))]:(0,j._W)(e,n)}};var i};r=(0,u.A)(r,(0,F.NI)({theme:n},s,a))}return r=(0,F.iZ)(n.breakpoints,r),r};var H=n(8052),G=n(6632),Q=n(7758);function $(e,t){return(0,a.A)({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var J=n(7266);const Y={black:"#000",white:"#fff"},X={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Z={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ee={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},te={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},ne={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},re={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ie={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},oe=["mode","contrastThreshold","tonalOffset"],se={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Y.white,default:Y.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},ae={text:{primary:Y.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Y.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function le(e,t,n,r){const i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,J.a)(e.main,i):"dark"===t&&(e.dark=(0,J.e$)(e.main,o)))}function ce(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=(0,s.A)(e,oe),o=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ne[200],light:ne[50],dark:ne[400]}:{main:ne[700],light:ne[400],dark:ne[800]}}(t),l=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Z[200],light:Z[50],dark:Z[400]}:{main:Z[500],light:Z[300],dark:Z[700]}}(t),c=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ee[500],light:ee[300],dark:ee[700]}:{main:ee[700],light:ee[400],dark:ee[800]}}(t),d=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:re[400],light:re[300],dark:re[700]}:{main:re[700],light:re[500],dark:re[900]}}(t),h=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ie[400],light:ie[300],dark:ie[700]}:{main:ie[800],light:ie[500],dark:ie[900]}}(t),f=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:te[400],light:te[300],dark:te[700]}:{main:"#ed6c02",light:te[500],dark:te[900]}}(t);function p(e){return(0,J.eM)(e,ae.text.primary)>=n?ae.text.primary:se.text.primary}const m=e=>{let{color:t,name:n,mainShade:i=500,lightShade:o=300,darkShade:s=700}=e;if(t=(0,a.A)({},t),!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error((0,G.A)(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error((0,G.A)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return le(t,"light",o,r),le(t,"dark",s,r),t.contrastText||(t.contrastText=p(t.main)),t},g={dark:ae,light:se};return(0,u.A)((0,a.A)({common:(0,a.A)({},Y),mode:t,primary:m({color:o,name:"primary"}),secondary:m({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:c,name:"error"}),warning:m({color:f,name:"warning"}),info:m({color:d,name:"info"}),success:m({color:h,name:"success"}),grey:X,contrastThreshold:n,getContrastText:p,augmentColor:m,tonalOffset:r},g[t]),i)}const ue=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const de={textTransform:"uppercase"},he='"Roboto", "Helvetica", "Arial", sans-serif';function fe(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=he,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:l=400,fontWeightMedium:c=500,fontWeightBold:d=700,htmlFontSize:h=16,allVariants:f,pxToRem:p}=n,m=(0,s.A)(n,ue);const g=i/14,v=p||(e=>"".concat(e/h*g,"rem")),y=(e,t,n,i,o)=>{return(0,a.A)({fontFamily:r,fontWeight:e,fontSize:v(t),lineHeight:n},r===he?{letterSpacing:"".concat((s=i/t,Math.round(1e5*s)/1e5),"em")}:{},o,f);var s},w={h1:y(o,96,1.167,-1.5),h2:y(o,60,1.2,-.5),h3:y(l,48,1.167,0),h4:y(l,34,1.235,.25),h5:y(l,24,1.334,0),h6:y(c,20,1.6,.15),subtitle1:y(l,16,1.75,.15),subtitle2:y(c,14,1.57,.1),body1:y(l,16,1.5,.15),body2:y(l,14,1.43,.15),button:y(c,14,1.75,.4,de),caption:y(l,12,1.66,.4),overline:y(l,12,2.66,1,de),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,u.A)((0,a.A)({htmlFontSize:h,pxToRem:v,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:l,fontWeightMedium:c,fontWeightBold:d},w),m,{clone:!1})}function pe(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const me=["none",pe(0,2,1,-1,0,1,1,0,0,1,3,0),pe(0,3,1,-2,0,2,2,0,0,1,5,0),pe(0,3,3,-2,0,3,4,0,0,1,8,0),pe(0,2,4,-1,0,4,5,0,0,1,10,0),pe(0,3,5,-1,0,5,8,0,0,1,14,0),pe(0,3,5,-1,0,6,10,0,0,1,18,0),pe(0,4,5,-2,0,7,10,1,0,2,16,1),pe(0,5,5,-3,0,8,10,1,0,3,14,2),pe(0,5,6,-3,0,9,12,1,0,3,16,2),pe(0,6,6,-3,0,10,14,1,0,4,18,3),pe(0,6,7,-4,0,11,15,1,0,4,20,3),pe(0,7,8,-4,0,12,17,2,0,5,22,4),pe(0,7,8,-4,0,13,19,2,0,5,24,4),pe(0,7,9,-4,0,14,21,2,0,5,26,4),pe(0,8,9,-5,0,15,22,2,0,6,28,5),pe(0,8,10,-5,0,16,24,2,0,6,30,5),pe(0,8,11,-5,0,17,26,2,0,6,32,5),pe(0,9,11,-5,0,18,28,2,0,7,34,6),pe(0,9,12,-6,0,19,29,2,0,7,36,6),pe(0,10,13,-6,0,20,31,3,0,8,38,7),pe(0,10,13,-6,0,21,33,3,0,8,40,7),pe(0,10,14,-6,0,22,35,3,0,8,42,7),pe(0,11,14,-7,0,23,36,3,0,9,44,8),pe(0,11,15,-7,0,24,38,3,0,9,46,8)],ge=["duration","easing","delay"],ve={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},ye={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function we(e){return"".concat(Math.round(e),"ms")}function be(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function _e(e){const t=(0,a.A)({},ve,e.easing),n=(0,a.A)({},ye,e.duration);return(0,a.A)({getAutoHeightDuration:be,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:o=t.easeInOut,delay:a=0}=r;(0,s.A)(r,ge);return(Array.isArray(e)?e:[e]).map((e=>"".concat(e," ").concat("string"===typeof i?i:we(i)," ").concat(o," ").concat("string"===typeof a?a:we(a)))).join(",")}},e,{easing:t,duration:n})}const Se={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Ie=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function ke(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:r={},typography:i={}}=e,o=(0,s.A)(e,Ie);if(e.vars)throw new Error((0,G.A)(18));const l=ce(n),c=(0,v.A)(e);let d=(0,u.A)(c,{mixins:$(c.breakpoints,t),palette:l,shadows:me.slice(),typography:fe(l,i),transitions:_e(r),zIndex:(0,a.A)({},Se)});d=(0,u.A)(d,o);for(var h=arguments.length,f=new Array(h>1?h-1:0),p=1;p<h;p++)f[p-1]=arguments[p];return d=f.reduce(((e,t)=>(0,u.A)(e,t)),d),d.unstable_sxConfig=(0,a.A)({},Q.A,null==o?void 0:o.unstable_sxConfig),d.unstable_sx=function(e){return(0,y.A)({sx:e,theme:this})},d}const Ee=ke,xe=Ee(),Te="$$material";const Ce=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},Ae=e=>Ce(e)&&"classes"!==e,Ne=(0,H.Ay)({themeId:Te,defaultTheme:xe,rootShouldForwardProp:Ae});function Pe(e){let{props:t,name:n}=e;return L({props:t,name:n,defaultTheme:xe,themeId:Te})}const Re=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:n=B,useThemeProps:r=q,componentName:i="MuiStack"}=e,o=n(K),l=t.forwardRef((function(e,t){const n=r(e),l=(0,M.A)(n),{component:u="div",direction:d="column",spacing:h=0,divider:f,children:g,className:v,useFlexGap:y=!1}=l,w=(0,s.A)(l,z),b={direction:d,spacing:h,useFlexGap:y},_=m({root:["root"]},(e=>p(i,e)),{});return(0,U.jsx)(o,(0,a.A)({as:u,ownerState:b,ref:t,className:c(_.root,v)},w,{children:f?W(g,f):g}))}));return l}({createStyledComponent:Ne("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>Pe({props:e,name:"MuiStack"})}),Oe=Re;const De=n(410).A;function Le(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach((t=>{r[t]=p(e,t,n)})),r}function Me(e){return p("MuiTypography",e)}Le("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Fe=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],je=Ne("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(De(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((e=>{let{theme:t,ownerState:n}=e;return(0,a.A)({margin:0},"inherit"===n.variant&&{font:"inherit"},"inherit"!==n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),Ue={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},ze={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Ve=t.forwardRef((function(e,t){const n=Pe({props:e,name:"MuiTypography"}),r=(e=>ze[e]||e)(n.color),i=(0,M.A)((0,a.A)({},n,{color:r})),{align:o="inherit",className:l,component:u,gutterBottom:d=!1,noWrap:h=!1,paragraph:f=!1,variant:p="body1",variantMapping:g=Ue}=i,v=(0,s.A)(i,Fe),y=(0,a.A)({},i,{align:o,color:r,className:l,component:u,gutterBottom:d,noWrap:h,paragraph:f,variant:p,variantMapping:g}),w=u||(f?"p":g[p]||Ue[p])||"span",b=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=e;return m({root:["root",o,"inherit"!==e.align&&"align".concat(De(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},Me,s)})(y);return(0,U.jsx)(je,(0,a.A)({as:w,ref:t,ownerState:y,className:c(b.root,l)},v))})),Be=Ve;var qe=n(3290);const We=["className","component"];const Ke=Le("MuiBox",["root"]),He=Ee(),Ge=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:n,defaultTheme:r,defaultClassName:i="MuiBox-root",generateClassName:o}=e,l=(0,g.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(y.A);return t.forwardRef((function(e,t){const u=D(r),d=(0,M.A)(e),{className:h,component:f="div"}=d,p=(0,s.A)(d,We);return(0,U.jsx)(l,(0,a.A)({as:f,ref:t,className:c(h,o?o(i):i),theme:n&&u[n]||u},p))}))}({themeId:Te,defaultTheme:He,defaultClassName:Ke.root,generateClassName:h.generate}),Qe=Ge;var $e,Je,Ye,Xe;const Ze=e=>{let{headWidthPx:n,animationDuratonSecs:r,xyDistTravelVh:i,topOffsetVh:s,leftOffsetVw:a}=e;const l=n,c=l*(4/30),u=l*(4/30),d=2.8*l,h=l*(100/30),f=l,p=2.8*l,m=l*(100/30),g=i,v=r;var y=(0,qe.i7)($e||($e=o(["\n        0% {\n            transform: translate(0px) rotate(45deg);\n            width: 0px;\n            \n        }\n    \n        30% {\n            transform: translate(","px) rotate(45deg);\n            width: ","px;\n        }\n\n        40% {\n            filter: drop-shadow(0 0 2px white);\n        }\n\n        60% {\n            filter: drop-shadow(0 0 13px white);\n        }\n\n        70% {\n            filter: drop-shadow(0 0 6px white);\n        }\n\n        80% {\n            filter: drop-shadow(0 0 3px white);\n        }\n    \n        100% {\n            transform: translate(0px) rotate(45deg);\n            width: 0px;\n            filter: drop-shadow(0 0 20px white);\n        }\n        "])),p,f),w=(0,qe.i7)(Je||(Je=o(["\n        0% {\n            transform: translate(0px) rotate(-45deg);\n            width: 0px;\n        }\n    \n        30% {\n            transform: translate(","px) rotate(-45deg);\n            width: ","px;\n        }\n\n        40% {\n            filter: drop-shadow(0 0 2px white);\n        }\n\n        60% {\n            filter: drop-shadow(0 0 13px white);\n        }\n\n        70% {\n            filter: drop-shadow(0 0 6px white);\n        }\n\n        80% {\n            filter: drop-shadow(0 0 3px white);\n        }\n    \n        100% {\n            transform: translate(0px) rotate(-45deg);\n            width: 0px;\n            filter: drop-shadow(0 0 20px white);\n        }\n        "])),p,f),b=(0,qe.i7)(Ye||(Ye=o(["\n        0% {\n            width: 0px;\n        }\n    \n        30% {\n            width: ","px;\n        }\n\n        40% {\n            filter: drop-shadow(0 0 2px white);\n        }\n\n        60% {\n            filter: drop-shadow(0 0 13px white);\n        }\n\n        70% {\n            filter: drop-shadow(0 0 6px white);\n        }\n\n        80% {\n            filter: drop-shadow(0 0 3px white);\n        }\n    \n        100% {\n            width: 0px;\n            filter: drop-shadow(0 0 20px white);\n        }\n      "])),m),_=(0,qe.i7)(Xe||(Xe=o(["\n      0% {\n        transform: translateX(0vh) translateY(0vh) rotate(45deg);\n      }\n      100% {\n        transform: translateX(","vh) translateY(","vh) rotate(45deg);\n      }\n      "])),g,g);const S={position:"absolute",width:"".concat(l,"px"),height:"".concat(u,"px"),background:"linear-gradient(-45deg, rgba(0, 0, 255, 0), white, rgba(0, 0, 255, 0))",borderRadius:"100px",transform:"translate(".concat(d,"px) rotate(45deg)"),filter:"drop-shadow(0 0 6px white)",zIndex:-10,animation:"".concat(y," ").concat(v,"s ease-in-out infinite")},I={position:"absolute",width:"".concat(l,"px"),height:"".concat(u,"px"),background:"linear-gradient(-45deg, rgba(0, 0, 255, 0), white, rgba(0, 0, 255, 0))",borderRadius:"100px",transform:"translate(".concat(d,"px) rotate(-45deg)"),filter:"drop-shadow(0 0 6px white)",zIndex:-10,animation:"".concat(w," ").concat(v,"s ease-in-out infinite")},k={position:"absolute",width:"".concat(h,"px"),height:"".concat(c,"px"),background:"linear-gradient(-45deg, white, rgba(0, 0, 255, 0))",borderRadius:"100px",filter:"drop-shadow(0 0 6px white)",zIndex:-10,animation:"".concat(b," ").concat(v,"s ease-in-out infinite")},[E,x]=(0,t.useState)(!0);return(0,t.useEffect)((()=>{const e=setTimeout((()=>{x(!1)}),1e3*r);return()=>{clearTimeout(e)}}),[]),E?(0,U.jsxs)(Qe,{sx:{top:"".concat(s,"vh"),left:"".concat(a,"vw"),position:"absolute",animation:"".concat(_," ").concat(v,"s ease-in-out infinite"),zIndex:-10},children:[(0,U.jsx)(Qe,{sx:k}),(0,U.jsx)(Qe,{sx:I}),(0,U.jsx)(Qe,{sx:S})]}):(0,U.jsx)(U.Fragment,{})};var et,tt,nt,rt;async function it(e){const t=5*+e.wordCount;let n="";const r=[],i=e=>{if(1!=o(3))return e;const t=["!","@","#","$","%","^","&","*","(",")","-","_","+","=","~",",","<",">",".","?","/","\\",";",":",'"',"'","{","}","[","]","|","`"],n=t[o(t.length)],r=[];return r.push((()=>n+e+n)),r.push((()=>e+n)),r.push((()=>n+e)),r.push((()=>{const t=["[","{","(","<"],n=o(t.length);return t[n]+e+["]","}",")",">"][n]})),r.push((()=>{const r=t[o(t.length)];return n+e+r})),e=r[o(r.length)]()},o=e=>Math.ceil(Math.random()*e)-1,s=()=>c[o(c.length)],a=()=>{let t=u[o(u.length)].trim();return e.lowercaseEnabled||3!=o(4)||(t=t.charAt(0).toUpperCase()+t.substring(1)),e.symbolsEnabled&&(t=i(t)),t+" "},l=()=>{const t=o(10)+1;var n="";for(let e=0;e<t;e++)n+=o(10);return e.symbolsEnabled&&(n=i(n)),n+" "};if(e.sentencesEnabled){const e=await fetch("/constants/library.txt");var c=(await e.text()).split("\n");r.push(s)}if(e.wordsEnabled){const e=await fetch("/constants/words.txt");var u=(await e.text()).split("\n");r.push(a)}for(e.numbersEnabled&&r.push(l);n.length<t;)n+=r[o(r.length)]()+"";return e.lowercaseEnabled&&(n=n.toLowerCase()),e.symbolsEnabled||(n=n.replaceAll(/[^a-zA-Z0-9 ]/g,"")),(n+"").trim()}function ot(e,t,n,r,i){return(0,U.jsx)("span",{style:{color:n.toString(),backgroundColor:t.toString(),fontSize:i,whiteSpace:"pre-wrap"},children:e},r)}const st=e=>{const t=e+"px",n=e*(14/30)+"px",r=e*(20/30)+"px",i=e*(100/30),o=.611570247*i;return(0,U.jsxs)(Oe,{direction:"row",alignItems:"center",children:[lt(i,o,"./svgFiles/runnerTypeLogo.svg"),(0,U.jsxs)(Oe,{children:[(0,U.jsxs)(Oe,{flexDirection:"row",children:[(0,U.jsx)(Be,{fontSize:r,children:"\xa0"}),(0,U.jsx)(Be,{color:"white",fontSize:t,fontWeight:"bold",children:"Type"}),(0,U.jsx)(Be,{color:"#9287B7",fontSize:t,fontWeight:"bold",children:"Runner"})]}),(0,U.jsxs)(Oe,{flexDirection:"row",children:[(0,U.jsx)(Be,{fontSize:r,children:"\xa0"}),(0,U.jsx)(Be,{color:"#635985",fontSize:n,fontWeight:"bold",children:"Munkey See Munkey Type"})]})]})]})},at=(e,t,n,r,i)=>{var s=(0,qe.i7)(et||(et=o(["\n    from {\n      transform: translateX(0);\n    }\n    to {\n      transform: translateX(100vw); // Adjust the distance as needed\n    }\n  "]))),a=(0,qe.i7)(tt||(tt=o(["\n  from {\n    transform: translateX(-100vw);\n  }\n  to {\n    transform: translateX(0vw); // Adjust the distance as needed\n  }\n"])));return"backwards"===n&&(a=(0,qe.i7)(nt||(nt=o(["\n    from {\n      transform: translateX(100vw);\n    }\n    to {\n      transform: translateX(0vw); // Adjust the distance as needed\n    }\n  "]))),s=(0,qe.i7)(rt||(rt=o(["\n  from {\n    transform: translateX(0);\n  }\n  to {\n    transform: translateX(-100vw); // Adjust the distance as needed\n  }\n"])))),(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(Qe,{sx:{width:"100vw",height:e,animation:"".concat(s," ").concat(r,"s ").concat(n," linear infinite"),position:"absolute",bottom:"0",backgroundRepeat:"no-repeat",zIndex:-1},children:(0,U.jsx)(i,{width:"100vw",height:e,opacity:t})}),(0,U.jsx)(Qe,{sx:{width:"100vw",height:e,animation:"".concat(a," ").concat(r,"s ").concat(n," linear infinite"),position:"absolute",bottom:"0",backgroundRepeat:"no-repeat",zIndex:-1},children:(0,U.jsx)(i,{width:"100vw",height:e,opacity:t})})]})},lt=(e,t,n)=>(0,U.jsx)(Qe,{sx:{backgroundImage:'url("'.concat(n,'")'),backgroundSize:"contain",backgroundRepeat:"no-repeat",width:e,height:t}}),ct=(e,t,n,r,i)=>{var o=[],s=0;for(let a=0;a<e.length;a++)a>=+t.length?o.push(ot(e.charAt(a),"transparent","#9287B7",a,r)):t.charAt(a)===e.charAt(a)?(o.push(ot(e.charAt(a),"transparent","white",a,r)),s++):" "==e.charAt(a)?o.push(ot(t.charAt(a),"transparent","#FF007A",a,r)):o.push(ot(e.charAt(a),"transparent","red",a,r));return n&&i.setAccuracy(Math.round(s/i.typedSoFar.length*100)),(0,U.jsx)(U.Fragment,{children:o})},ut=()=>{const e=(e,t)=>{const n=t-e+1;return Math.floor(Math.random()*n)+e},t=e(-20,20),n=e(-30,95),r=e(3,6),i=e(40,80),o=e(15,30);return(0,U.jsx)(Ze,{headWidthPx:o,animationDuratonSecs:r,xyDistTravelVh:i,topOffsetVh:t,leftOffsetVw:n})};var dt=n(8139),ht=n.n(dt),ft=n(5173),pt=n.n(ft);const mt={type:pt().string,tooltip:pt().bool,as:pt().elementType},gt=t.forwardRef(((e,t)=>{let{as:n="div",className:r,type:i="valid",tooltip:o=!1,...s}=e;return(0,U.jsx)(n,{...s,ref:t,className:ht()(r,"".concat(i,"-").concat(o?"tooltip":"feedback"))})}));gt.displayName="Feedback",gt.propTypes=mt;const vt=gt,yt=t.createContext({}),wt=["xxl","xl","lg","md","sm","xs"],bt="xs",_t=t.createContext({prefixes:{},breakpoints:wt,minBreakpoint:bt}),{Consumer:St,Provider:It}=_t;function kt(e,n){const{prefixes:r}=(0,t.useContext)(_t);return e||r[n]||n}const Et=t.forwardRef(((e,n)=>{let{id:r,bsPrefix:i,className:o,type:s="checkbox",isValid:a=!1,isInvalid:l=!1,as:c="input",...u}=e;const{controlId:d}=(0,t.useContext)(yt);return i=kt(i,"form-check-input"),(0,U.jsx)(c,{...u,ref:n,type:s,id:r||d,className:ht()(o,i,a&&"is-valid",l&&"is-invalid")})}));Et.displayName="FormCheckInput";const xt=Et,Tt=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,htmlFor:o,...s}=e;const{controlId:a}=(0,t.useContext)(yt);return r=kt(r,"form-check-label"),(0,U.jsx)("label",{...s,ref:n,htmlFor:o||a,className:ht()(i,r)})}));Tt.displayName="FormCheckLabel";const Ct=Tt;const At=t.forwardRef(((e,n)=>{let{id:r,bsPrefix:i,bsSwitchPrefix:o,inline:s=!1,reverse:a=!1,disabled:l=!1,isValid:c=!1,isInvalid:u=!1,feedbackTooltip:d=!1,feedback:h,feedbackType:f,className:p,style:m,title:g="",type:v="checkbox",label:y,children:w,as:b="input",..._}=e;i=kt(i,"form-check"),o=kt(o,"form-switch");const{controlId:S}=(0,t.useContext)(yt),I=(0,t.useMemo)((()=>({controlId:r||S})),[S,r]),k=!w&&null!=y&&!1!==y||function(e,n){return t.Children.toArray(e).some((e=>t.isValidElement(e)&&e.type===n))}(w,Ct),E=(0,U.jsx)(xt,{..._,type:"switch"===v?"checkbox":v,ref:n,isValid:c,isInvalid:u,disabled:l,as:b});return(0,U.jsx)(yt.Provider,{value:I,children:(0,U.jsx)("div",{style:m,className:ht()(p,k&&i,s&&"".concat(i,"-inline"),a&&"".concat(i,"-reverse"),"switch"===v&&o),children:w||(0,U.jsxs)(U.Fragment,{children:[E,k&&(0,U.jsx)(Ct,{title:g,children:y}),h&&(0,U.jsx)(vt,{type:f,tooltip:d,children:h})]})})})}));At.displayName="FormCheck";const Nt=Object.assign(At,{Input:xt,Label:Ct});n(6440);const Pt=t.forwardRef(((e,n)=>{let{bsPrefix:r,type:i,size:o,htmlSize:s,id:a,className:l,isValid:c=!1,isInvalid:u=!1,plaintext:d,readOnly:h,as:f="input",...p}=e;const{controlId:m}=(0,t.useContext)(yt);return r=kt(r,"form-control"),(0,U.jsx)(f,{...p,type:i,size:s,ref:n,readOnly:h,id:a||m,className:ht()(l,d?"".concat(r,"-plaintext"):r,o&&"".concat(r,"-").concat(o),"color"===i&&"".concat(r,"-color"),c&&"is-valid",u&&"is-invalid")})}));Pt.displayName="FormControl";const Rt=Object.assign(Pt,{Feedback:vt}),Ot=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=kt(r,"form-floating"),(0,U.jsx)(i,{ref:t,className:ht()(n,r),...o})}));Ot.displayName="FormFloating";const Dt=Ot,Lt=t.forwardRef(((e,n)=>{let{controlId:r,as:i="div",...o}=e;const s=(0,t.useMemo)((()=>({controlId:r})),[r]);return(0,U.jsx)(yt.Provider,{value:s,children:(0,U.jsx)(i,{...o,ref:n})})}));Lt.displayName="FormGroup";const Mt=Lt;function Ft(e){let{as:n,bsPrefix:r,className:i,...o}=e;r=kt(r,"col");const s=function(){const{breakpoints:e}=(0,t.useContext)(_t);return e}(),a=function(){const{minBreakpoint:e}=(0,t.useContext)(_t);return e}(),l=[],c=[];return s.forEach((e=>{const t=o[e];let n,i,s;delete o[e],"object"===typeof t&&null!=t?({span:n,offset:i,order:s}=t):n=t;const u=e!==a?"-".concat(e):"";n&&l.push(!0===n?"".concat(r).concat(u):"".concat(r).concat(u,"-").concat(n)),null!=s&&c.push("order".concat(u,"-").concat(s)),null!=i&&c.push("offset".concat(u,"-").concat(i))})),[{...o,className:ht()(i,...l,...c)},{as:n,bsPrefix:r,spans:l}]}const jt=t.forwardRef(((e,t)=>{const[{className:n,...r},{as:i="div",bsPrefix:o,spans:s}]=Ft(e);return(0,U.jsx)(i,{...r,ref:t,className:ht()(n,!s.length&&o)})}));jt.displayName="Col";const Ut=jt,zt=t.forwardRef(((e,n)=>{let{as:r="label",bsPrefix:i,column:o=!1,visuallyHidden:s=!1,className:a,htmlFor:l,...c}=e;const{controlId:u}=(0,t.useContext)(yt);i=kt(i,"form-label");let d="col-form-label";"string"===typeof o&&(d="".concat(d," ").concat(d,"-").concat(o));const h=ht()(a,i,s&&"visually-hidden",o&&d);return l=l||u,o?(0,U.jsx)(Ut,{ref:n,as:"label",className:h,htmlFor:l,...c}):(0,U.jsx)(r,{ref:n,className:h,htmlFor:l,...c})}));zt.displayName="FormLabel";const Vt=zt,Bt=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,id:o,...s}=e;const{controlId:a}=(0,t.useContext)(yt);return r=kt(r,"form-range"),(0,U.jsx)("input",{...s,type:"range",ref:n,className:ht()(i,r),id:o||a})}));Bt.displayName="FormRange";const qt=Bt,Wt=t.forwardRef(((e,n)=>{let{bsPrefix:r,size:i,htmlSize:o,className:s,isValid:a=!1,isInvalid:l=!1,id:c,...u}=e;const{controlId:d}=(0,t.useContext)(yt);return r=kt(r,"form-select"),(0,U.jsx)("select",{...u,size:o,ref:n,className:ht()(s,r,i&&"".concat(r,"-").concat(i),a&&"is-valid",l&&"is-invalid"),id:c||d})}));Wt.displayName="FormSelect";const Kt=Wt,Ht=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i="small",muted:o,...s}=e;return n=kt(n,"form-text"),(0,U.jsx)(i,{...s,ref:t,className:ht()(r,n,o&&"text-muted")})}));Ht.displayName="FormText";const Gt=Ht,Qt=t.forwardRef(((e,t)=>(0,U.jsx)(Nt,{...e,ref:t,type:"switch"})));Qt.displayName="Switch";const $t=Object.assign(Qt,{Input:Nt.Input,Label:Nt.Label}),Jt=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,children:i,controlId:o,label:s,...a}=e;return n=kt(n,"form-floating"),(0,U.jsxs)(Mt,{ref:t,className:ht()(r,n),controlId:o,...a,children:[i,(0,U.jsx)("label",{htmlFor:o,children:s})]})}));Jt.displayName="FloatingLabel";const Yt=Jt,Xt={_ref:pt().any,validated:pt().bool,as:pt().elementType},Zt=t.forwardRef(((e,t)=>{let{className:n,validated:r,as:i="form",...o}=e;return(0,U.jsx)(i,{...o,ref:t,className:ht()(n,r&&"was-validated")})}));Zt.displayName="Form",Zt.propTypes=Xt;const en=Object.assign(Zt,{Group:Mt,Control:Rt,Floating:Dt,Check:Nt,Switch:$t,Label:Vt,Text:Gt,Range:qt,Select:Kt,FloatingLabel:Yt});class tn{constructor(){this._fontSize=void 0,this._fontSize=20}setHistorySettings(e){let{fontSize:t}=e;this._fontSize=t}getFontSize(){return this._fontSize}setFontSize(e){this._fontSize=e}toDoc(){return{fontSize:this.getFontSize()}}}class nn{constructor(){this._fontSize=void 0,this._wordCount=void 0,this._numbersEnabled=void 0,this._sentencesEnabled=void 0,this._wordsEnabled=void 0,this._symbolsEnabled=void 0,this._lowercaseEnabled=void 0,this._fontSize=35,this._wordCount=25,this._numbersEnabled=!1,this._sentencesEnabled=!1,this._wordsEnabled=!0,this._symbolsEnabled=!1,this._lowercaseEnabled=!1}setSettings(e){let{fontSize:t,wordCount:n,numbersEnabled:r,sentencesEnabled:i,wordsEnabled:o,symbolsEnabled:s,lowercaseEnabled:a}=e;this._fontSize=t,this._wordCount=n,this._numbersEnabled=r,this._sentencesEnabled=i,this._wordsEnabled=o,this._symbolsEnabled=s,this._lowercaseEnabled=a}getFontSize(){return this._fontSize}getWordCount(){return this._wordCount}getNumbersEnabled(){return this._numbersEnabled}getSentencesEnabled(){return this._sentencesEnabled}getWordsEnabled(){return this._wordsEnabled}getSymbolsEnabled(){return this._symbolsEnabled}getLowercaseEnabled(){return this._lowercaseEnabled}setFontSize(e){this._fontSize=e}setWordCount(e){this._wordCount=e}setNumberEnabled(e){this._numbersEnabled=e}setSentencesEnabled(e){this._sentencesEnabled=e}setWordsEnabled(e){this._wordsEnabled=e}setSymbolsEnabled(e){this._symbolsEnabled=e}setLowercaseEnabled(e){this._lowercaseEnabled=e}toDoc(){return{fontSize:this.getFontSize(),wordCount:this.getWordCount(),numbersEnabled:this.getNumbersEnabled(),sentencesEnabled:this.getSentencesEnabled(),wordsEnabled:this.getWordsEnabled(),symbolsEnabled:this.getSymbolsEnabled(),lowercaseEnabled:this.getLowercaseEnabled()}}}class rn{constructor(e){let{wpm:t,accuracy:n,generatedPrompt:r,typedPrompt:i,duration:o,startTime:s,endTime:a}=e;this._wpm=void 0,this._accuracy=void 0,this._generatedPrompt=void 0,this._typedPrompt=void 0,this._duration=void 0,this._startTime=void 0,this._endTime=void 0,this._wpm=t,this._accuracy=n,this._generatedPrompt=r,this._typedPrompt=i,this._duration=o,this._endTime=a,this._startTime=s}getWpm(){return this._wpm}getGeneratedPrompt(){return this._generatedPrompt}getTypedPrompt(){return this._typedPrompt}getDuration(){return this._duration}getStartTime(){return this._startTime}getEndTime(){return this._endTime}getAccuracy(){return this._accuracy}setWpm(e){this._wpm=e}setGeneratedPrompt(e){this._generatedPrompt=e}setTypedPrompt(e){this._typedPrompt=e}setDuration(e){this._duration=e}setStartTime(e){this._startTime=e}setEndTime(e){this._endTime=e}setAccuracy(e){this._accuracy=e}toDoc(){return{wpm:this.getWpm(),accuracy:this.getAccuracy(),generatedPrompt:this.getGeneratedPrompt(),typedPrompt:this.getTypedPrompt(),duration:this.getDuration(),startTime:this.getStartTime(),endTime:this.getEndTime()}}}const on=new class{constructor(){this._settings=void 0,this._historySettings=void 0,this._typingStats=void 0,this._settings=new nn,this._historySettings=new tn,this._typingStats=[]}reset(){this._settings=new nn,this._historySettings=new tn,this._typingStats=[]}pushTypingStat(e){this._typingStats.push(e)}overrideWithTypingStatData(e){this._typingStats=[];for(let t of e){const e={...t};this.pushTypingStat(new rn(e))}}overrideWithSettingsData(e){this._settings.setSettings(e)}overrideHistorySettings(e){this._historySettings.setHistorySettings(e)}getTypingStats(){return this._typingStats}clearTypingStats(){this._typingStats=[]}getSettings(){return this._settings}getHistorySettings(){return this._historySettings}setSettings(e){this._settings.setSettings(e)}typingStatsToDoc(){const e=[];for(let t of this.getTypingStats())e.push(t.toDoc());return console.log(e),{typingStats:e}}},sn=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},an={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(sn(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new ln;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ln extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cn=function(e){return function(e){const t=sn(e);return an.encodeByteArray(t,!0)}(e).replace(/\./g,"")},un=function(e){try{return an.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function dn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=dn(e[n],t[n]));return e}const hn=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,fn=()=>{try{return hn()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&un(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},pn=e=>{var t,n;return null===(n=null===(t=fn())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},mn=()=>{var e;return null===(e=fn())||void 0===e?void 0:e.config},gn=e=>{var t;return null===(t=fn())||void 0===t?void 0:t["_".concat(e)]};class vn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function yn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function wn(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function bn(){var e;const t=null===(e=fn())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function _n(){return"object"===typeof self&&self.self===self}function Sn(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function In(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function kn(){const e=yn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function En(){return!bn()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xn(){try{return"object"===typeof indexedDB}catch(e){return!1}}function Tn(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class Cn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Cn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,An.prototype.create)}}class An{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Nn,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Cn(n,o,t)}}const Nn=/\{\$([^}]+)}/g;function Pn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Rn(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function On(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Dn(n)&&Dn(o)){if(!On(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Dn(e){return null!==e&&"object"===typeof e}function Ln(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Mn(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Fn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function jn(e,t){const n=new Un(e,t);return n.subscribe.bind(n)}class Un{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=zn),void 0===r.error&&(r.error=zn),void 0===r.complete&&(r.complete=zn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function zn(){}const Vn=1e3,Bn=2,qn=144e5,Wn=.5;function Kn(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bn;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vn)*Math.pow(t,e),r=Math.round(Wn*n*(Math.random()-.5)*2);return Math.min(qn,n+r)}function Hn(e){return e&&e._delegate?e._delegate:e}class Gn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Qn="[DEFAULT]";class $n{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new vn;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Qn})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Jn(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn;return this.component?this.component.multipleInstances?e:Qn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function Jn(e){return e===Qn?void 0:e}class Yn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new $n(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Xn=[];var Zn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Zn||(Zn={}));const er={debug:Zn.DEBUG,verbose:Zn.VERBOSE,info:Zn.INFO,warn:Zn.WARN,error:Zn.ERROR,silent:Zn.SILENT},tr=Zn.INFO,nr={[Zn.DEBUG]:"log",[Zn.VERBOSE]:"log",[Zn.INFO]:"info",[Zn.WARN]:"warn",[Zn.ERROR]:"error"},rr=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=nr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class ir{constructor(e){this.name=e,this._logLevel=tr,this._logHandler=rr,this._userLogHandler=null,Xn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Zn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?er[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Zn.DEBUG,...t),this._logHandler(this,Zn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Zn.VERBOSE,...t),this._logHandler(this,Zn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Zn.INFO,...t),this._logHandler(this,Zn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Zn.WARN,...t),this._logHandler(this,Zn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Zn.ERROR,...t),this._logHandler(this,Zn.ERROR,...t)}}const or=(e,t)=>t.some((t=>e instanceof t));let sr,ar;const lr=new WeakMap,cr=new WeakMap,ur=new WeakMap,dr=new WeakMap,hr=new WeakMap;let fr={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return cr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ur.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function pr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ar||(ar=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(vr(this),n),gr(lr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return gr(e.apply(vr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(vr(this),t,...r);return ur.set(o,t.sort?t.sort():[t]),gr(o)}}function mr(e){return"function"===typeof e?pr(e):(e instanceof IDBTransaction&&function(e){if(cr.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));cr.set(e,t)}(e),or(e,sr||(sr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,fr):e)}function gr(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(gr(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&lr.set(t,e)})).catch((()=>{})),hr.set(t,e),t}(e);if(dr.has(e))return dr.get(e);const t=mr(e);return t!==e&&(dr.set(e,t),hr.set(t,e)),t}const vr=e=>hr.get(e);function yr(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=gr(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(gr(s.result),e.oldVersion,e.newVersion,gr(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}const wr=["get","getKey","getAll","getAllKeys","count"],br=["put","add","delete","clear"],_r=new Map;function Sr(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(_r.get(t))return _r.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=br.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!wr.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return _r.set(t,o),o}fr=(e=>({...e,get:(t,n,r)=>Sr(t,n)||e.get(t,n,r),has:(t,n)=>!!Sr(t,n)||e.has(t,n)}))(fr);class Ir{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const kr="@firebase/app",Er="0.10.2",xr=new ir("@firebase/app"),Tr="[DEFAULT]",Cr={[kr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ar=new Map,Nr=new Map,Pr=new Map;function Rr(e,t){try{e.container.addComponent(t)}catch(n){xr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Or(e,t){e.container.addOrOverwriteComponent(t)}function Dr(e){const t=e.name;if(Pr.has(t))return xr.debug("There were multiple attempts to register component ".concat(t,".")),!1;Pr.set(t,e);for(const n of Ar.values())Rr(n,e);for(const n of Nr.values())Rr(n,e);return!0}function Lr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Mr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tr;Lr(e,t).clearInstance(n)}function Fr(e){return void 0!==e.options}function jr(e){return void 0!==e.settings}function Ur(){Pr.clear()}const zr=new An("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Vr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Gn("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}class Br extends Vr{constructor(e,t,n,r){const i=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,o={name:n,automaticDataCollectionEnabled:i};if(void 0!==e.apiKey)super(e,o,r);else{super(e.options,o,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},t),this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,$r(kr,Er,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Qr(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw zr.create("server-app-deleted")}}const qr="10.11.1";function Wr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Tr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw zr.create("bad-app-name",{appName:String(i)});if(n||(n=mn()),!n)throw zr.create("no-options");const o=Ar.get(i);if(o){if(On(n,o.options)&&On(r,o.config))return o;throw zr.create("duplicate-app",{appName:i})}const s=new Yn(i);for(const l of Pr.values())s.addComponent(l);const a=new Vr(n,r,s);return Ar.set(i,a),a}function Kr(e,t){if(_n())throw zr.create("invalid-server-app-environment");let n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=Fr(e)?e.options:e;const r=Object.assign(Object.assign({},t),n);void 0!==r.releaseOnDeref&&delete r.releaseOnDeref;if(void 0!==t.releaseOnDeref&&"undefined"===typeof FinalizationRegistry)throw zr.create("finalization-registry-not-supported",{});const i=""+(o=JSON.stringify(r),[...o].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0));var o;const s=Nr.get(i);if(s)return s.incRefCount(t.releaseOnDeref),s;const a=new Yn(i);for(const c of Pr.values())a.addComponent(c);const l=new Br(n,t,i,a);return Nr.set(i,l),l}function Hr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr;const t=Ar.get(e);if(!t&&e===Tr&&mn())return Wr();if(!t)throw zr.create("no-app",{appName:e});return t}function Gr(){return Array.from(Ar.values())}async function Qr(e){let t=!1;const n=e.name;if(Ar.has(n))t=!0,Ar.delete(n);else if(Nr.has(n)){e.decRefCount()<=0&&(Nr.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function $r(e,t,n){var r;let i=null!==(r=Cr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void xr.warn(e.join(" "))}Dr(new Gn("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function Jr(e,t){if(null!==e&&"function"!==typeof e)throw zr.create("invalid-log-argument");!function(e,t){for(const n of Xn){let r=null;t&&t.level&&(r=er[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];const a=o.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:Zn[n].toLowerCase(),message:a,args:o,type:t.name})}}}(e,t)}function Yr(e){var t;t=e,Xn.forEach((e=>{e.setLogLevel(t)}))}const Xr="firebase-heartbeat-database",Zr=1,ei="firebase-heartbeat-store";let ti=null;function ni(){return ti||(ti=yr(Xr,Zr,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ei)}catch(n){console.warn(n)}}}).catch((e=>{throw zr.create("idb-open",{originalErrorMessage:e.message})}))),ti}async function ri(e,t){try{const n=(await ni()).transaction(ei,"readwrite"),r=n.objectStore(ei);await r.put(t,ii(e)),await n.done}catch(n){if(n instanceof Cn)xr.warn(n.message);else{const e=zr.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});xr.warn(e.message)}}}function ii(e){return"".concat(e.name,"!").concat(e.options.appId)}class oi{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ai(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=si();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=si(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),li(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),li(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=cn(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function si(){return(new Date).toISOString().substring(0,10)}class ai{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!xn()&&Tn().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ni()).transaction(ei),n=await t.objectStore(ei).get(ii(e));return await t.done,n}catch(t){if(t instanceof Cn)xr.warn(t.message);else{const e=zr.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});xr.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ri(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ri(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function li(e){return cn(JSON.stringify({version:2,heartbeats:e})).length}var ci;ci="",Dr(new Gn("platform-logger",(e=>new Ir(e)),"PRIVATE")),Dr(new Gn("heartbeat",(e=>new oi(e)),"PRIVATE")),$r(kr,Er,ci),$r(kr,Er,"esm2017"),$r("fire-js","");function ui(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function di(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hi=di,fi=new An("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pi=new ir("@firebase/auth");function mi(e){if(pi.logLevel<=Zn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];pi.error("Auth (".concat(qr,"): ").concat(e),...n)}}function gi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw _i(e,...n)}function vi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return _i(e,...n)}function yi(e,t,n){const r=Object.assign(Object.assign({},hi()),{[t]:n});return new An("auth","Firebase",r).create(t,{appName:e.name})}function wi(e){return yi(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bi(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&gi(e,"argument-error"),yi(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function _i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return fi.create(e,...n)}function Si(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw _i(t,...r)}}function Ii(e){const t="INTERNAL ASSERTION FAILED: "+e;throw mi(t),new Error(t)}function ki(e,t){e||Ii(t)}function Ei(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function xi(){return"http:"===Ti()||"https:"===Ti()}function Ti(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Ci{constructor(e,t){this.shortDelay=e,this.longDelay=t,ki(t>e,"Short delay should be less than long delay!"),this.isMobile=wn()||In()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(xi()||Sn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ai(e,t){ki(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Ni{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Pi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ri=new Ci(3e4,6e4);function Oi(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Di(e,t,n,r){return Li(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=Ln(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Ni.fetch()(Fi(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Li(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Pi),t);try{const t=new Ui(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw zi(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw zi(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw zi(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw zi(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw yi(e,a,s);gi(e,a)}}catch(i){if(i instanceof Cn)throw i;gi(e,"network-request-failed",{message:String(i)})}}async function Mi(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Di(e,t,n,r,i);return"mfaPendingCredential"in o&&gi(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Fi(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ai(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function ji(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ui{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(vi(this.auth,"network-request-failed"))),Ri.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function zi(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=vi(e,t,r);return i.customData._tokenResponse=n,i}function Vi(e){return void 0!==e&&void 0!==e.enterprise}class Bi{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ji(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function qi(e,t){return Di(e,"GET","/v2/recaptchaConfig",Oi(e,t))}async function Wi(e,t){return Di(e,"POST","/v1/accounts:lookup",t)}function Ki(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Hi(e){return 1e3*Number(e)}function Gi(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return mi("JWT malformed, contained fewer than 3 sections"),null;try{const e=un(n);return e?JSON.parse(e):(mi("Failed to decode base64 JWT payload"),null)}catch(i){return mi("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function Qi(e){const t=Gi(e);return Si(t,"internal-error"),Si("undefined"!==typeof t.exp,"internal-error"),Si("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function $i(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof Cn&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Ji{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Yi{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ki(this.lastLoginAt),this.creationTime=Ki(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xi(e){var t;const n=e.auth,r=await e.getIdToken(),i=await $i(e,Wi(n,{idToken:r}));Si(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?Zi(o.providerUserInfo):[],a=(l=e.providerData,c=s,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Yi(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Zi(e){return e.map((e=>{var{providerId:t}=e,n=ui(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Si(e.idToken,"internal-error"),Si("undefined"!==typeof e.idToken,"internal-error"),Si("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Qi(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Si(0!==e.length,"internal-error");const t=Qi(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Si(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Li(e,{},(async()=>{const n=Ln({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Fi(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Ni.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new eo;return n&&(Si("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Si("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Si("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new eo,this.toJSON())}_performRefresh(){return Ii("not implemented")}}function to(e,t){Si("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class no{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=ui(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ji(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Yi(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await $i(this,this.stsTokenManager.getToken(this.auth,e));return Si(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Hn(e),r=await n.getIdToken(t),i=Gi(r);Si(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ki(Hi(i.auth_time)),issuedAtTime:Ki(Hi(i.iat)),expirationTime:Ki(Hi(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Hn(e);await Xi(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Si(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new no(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Si(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Xi(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jr(this.auth.app))return Promise.reject(wi(this.auth));const e=await this.getIdToken();return await $i(this,async function(e,t){return Di(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:S}=t;Si(y&&S,e,"internal-error");const I=eo.fromJSON(this.name,S);Si("string"===typeof y,e,"internal-error"),to(u,e.name),to(d,e.name),Si("boolean"===typeof w,e,"internal-error"),Si("boolean"===typeof b,e,"internal-error"),to(h,e.name),to(f,e.name),to(p,e.name),to(m,e.name),to(g,e.name),to(v,e.name);const k=new no({uid:y,auth:e,email:d,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:I,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(k.providerData=_.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new eo;r.updateFromServerResponse(t);const i=new no({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Xi(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Si(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Zi(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new eo;s.updateFromIdToken(n);const a=new no({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Yi(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const ro=new Map;function io(e){ki(e instanceof Function,"Expected a class definition");let t=ro.get(e);return t?(ki(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ro.set(e,t),t)}class oo{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}oo.type="NONE";const so=oo;function ao(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class lo{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ao(this.userKey,r.apiKey,i),this.fullPersistenceKey=ao("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?no._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new lo(io(so),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||io(so);const o=ao(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=no._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new lo(i,e,n)):new lo(i,e,n)}}function co(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(po(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(uo(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(go(t))return"Blackberry";if(vo(t))return"Webos";if(ho(t))return"Safari";if((t.includes("chrome/")||fo(t))&&!t.includes("edge/"))return"Chrome";if(mo(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function uo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn();return/firefox\//i.test(e)}function ho(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn();return/crios\//i.test(e)}function po(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn();return/iemobile/i.test(e)}function mo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn();return/android/i.test(e)}function go(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn();return/blackberry/i.test(e)}function vo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn();return/webos/i.test(e)}function yo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function wo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn();return yo(e)||mo(e)||vo(e)||go(e)||/windows phone/i.test(e)||po(e)}function bo(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=co(yn());break;case"Worker":t="".concat(co(yn()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(qr,"/").concat(r)}class _o{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class So{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Io{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Eo(this),this.idTokenSubscription=new Eo(this),this.beforeStateQueue=new _o(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fi,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=io(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Wi(this,{idToken:e}),n=await no._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(jr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Si(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Xi(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jr(this.app))return Promise.reject(wi(this));const t=e?Hn(e):null;return t&&Si(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Si(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return jr(this.app)?Promise.reject(wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jr(this.app)?Promise.reject(wi(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(io(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Di(e,"GET","/v2/passwordPolicy",Oi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new So(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new An("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Di(e,"POST","/v2/accounts:revokeToken",Oi(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&io(e)||this._popupRedirectResolver;Si(t,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[io(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Si(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Si(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(pi.logLevel<=Zn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];pi.warn("Auth (".concat(qr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function ko(e){return Hn(e)}class Eo{constructor(e){this.auth=e,this.observer=null,this.addObserver=jn((e=>this.observer=e))}get next(){return Si(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let xo={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function To(e){return xo.loadJS(e)}function Co(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Ao{constructor(e){this.type="recaptcha-enterprise",this.auth=ko(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Vi(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{qi(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Bi(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Vi(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=xo.recaptchaEnterpriseScript;0!==t.length&&(t+=i),To(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function No(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Ao(e);let o;try{o=await i.verify(n)}catch(a){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Po(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await No(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await No(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Ro(e,t,n){const r=ko(e);Si(r._canInitEmulator,r,"emulator-config-failed"),Si(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Oo(t),{host:s,port:a}=function(e){const t=Oo(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Do(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Do(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Oo(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Do(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Lo{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ii("not implemented")}_getIdTokenResponse(e){return Ii("not implemented")}_linkToIdToken(e,t){return Ii("not implemented")}_getReauthenticationResolver(e){return Ii("not implemented")}}async function Mo(e,t){return Di(e,"POST","/v1/accounts:signUp",t)}async function Fo(e,t){return Mi(e,"POST","/v1/accounts:signInWithPassword",Oi(e,t))}class jo extends Lo{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new jo(e,t,"password")}static _fromEmailAndCode(e,t){return new jo(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Po(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Fo);case"emailLink":return async function(e,t){return Mi(e,"POST","/v1/accounts:signInWithEmailLink",Oi(e,t))}(e,{email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Po(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Mo);case"emailLink":return async function(e,t){return Mi(e,"POST","/v1/accounts:signInWithEmailLink",Oi(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Uo(e,t){return Mi(e,"POST","/v1/accounts:signInWithIdp",Oi(e,t))}class zo extends Lo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new zo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):gi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=ui(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new zo(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Uo(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Uo(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Uo(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ln(t)}return e}}const Vo={USER_NOT_FOUND:"user-not-found"};class Bo extends Lo{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Bo({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Bo({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Mi(e,"POST","/v1/accounts:signInWithPhoneNumber",Oi(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Mi(e,"POST","/v1/accounts:signInWithPhoneNumber",Oi(e,t));if(n.temporaryProof)throw zi(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Mi(e,"POST","/v1/accounts:signInWithPhoneNumber",Oi(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Vo)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Bo({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class qo{constructor(e){var t,n,r,i,o,s;const a=Mn(Fn(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Si(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Mn(Fn(e)).link,n=t?Mn(Fn(t)).deep_link_id:null,r=Mn(Fn(e)).deep_link_id;return(r?Mn(Fn(r)).link:null)||r||n||t||e}(e);try{return new qo(t)}catch(n){return null}}}class Wo{constructor(){this.providerId=Wo.PROVIDER_ID}static credential(e,t){return jo._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=qo.parseLink(t);return Si(n,"argument-error"),jo._fromEmailAndCode(e,n.code,n.tenantId)}}Wo.PROVIDER_ID="password",Wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ko{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ho extends Ko{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Go extends Ho{constructor(){super("facebook.com")}static credential(e){return zo._fromParams({providerId:Go.PROVIDER_ID,signInMethod:Go.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Go.credentialFromTaggedObject(e)}static credentialFromError(e){return Go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Go.credential(t.oauthAccessToken)}catch(n){return null}}}Go.FACEBOOK_SIGN_IN_METHOD="facebook.com",Go.PROVIDER_ID="facebook.com";class Qo extends Ho{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return zo._fromParams({providerId:Qo.PROVIDER_ID,signInMethod:Qo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Qo.credentialFromTaggedObject(e)}static credentialFromError(e){return Qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Qo.credential(n,r)}catch(i){return null}}}Qo.GOOGLE_SIGN_IN_METHOD="google.com",Qo.PROVIDER_ID="google.com";class $o extends Ho{constructor(){super("github.com")}static credential(e){return zo._fromParams({providerId:$o.PROVIDER_ID,signInMethod:$o.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $o.credentialFromTaggedObject(e)}static credentialFromError(e){return $o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return $o.credential(t.oauthAccessToken)}catch(n){return null}}}$o.GITHUB_SIGN_IN_METHOD="github.com",$o.PROVIDER_ID="github.com";class Jo extends Ho{constructor(){super("twitter.com")}static credential(e,t){return zo._fromParams({providerId:Jo.PROVIDER_ID,signInMethod:Jo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Jo.credentialFromTaggedObject(e)}static credentialFromError(e){return Jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Jo.credential(n,r)}catch(i){return null}}}Jo.TWITTER_SIGN_IN_METHOD="twitter.com",Jo.PROVIDER_ID="twitter.com";class Yo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await no._fromIdTokenResponse(e,n,r),o=Xo(n);return new Yo({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Xo(n);return new Yo({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Xo(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Zo extends Cn{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Zo.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Zo(e,t,n,r)}}function es(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Zo._fromErrorAndOperation(e,n,t,r);throw n}))}async function ts(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await $i(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Yo._forOperation(e,"link",r)}async function ns(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(jr(r.app))return Promise.reject(wi(r));const i="reauthenticate";try{const o=await $i(e,es(r,i,t,e),n);Si(o.idToken,r,"internal-error");const s=Gi(o.idToken);Si(s,r,"internal-error");const{sub:a}=s;return Si(e.uid===a,r,"user-mismatch"),Yo._forOperation(e,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&gi(r,"user-mismatch"),o}}async function rs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(jr(e.app))return Promise.reject(wi(e));const r="signIn",i=await es(e,r,t),o=await Yo._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}new WeakMap;const is="__sak";class os{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(is,"1"),this.storage.removeItem(is),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ss extends os{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=yn();return ho(e)||yo(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=wo(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);kn()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ss.type="LOCAL";const as=ss;class ls extends os{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ls.type="SESSION";const cs=ls;class us{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new us(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ds(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}us.receivers=[];class hs{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=ds("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function fs(){return window}function ps(){return"undefined"!==typeof fs().WorkerGlobalScope&&"function"===typeof fs().importScripts}const ms="firebaseLocalStorageDb",gs="firebaseLocalStorage",vs="fbase_key";class ys{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function ws(e,t){return e.transaction([gs],t?"readwrite":"readonly").objectStore(gs)}function bs(){const e=indexedDB.open(ms,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(gs,{keyPath:vs})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(gs)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ms);return new ys(e).toPromise()}(),t(await bs()))}))}))}async function _s(e,t,n){const r=ws(e,!0).put({[vs]:t,value:n});return new ys(r).toPromise()}function Ss(e,t){const n=ws(e,!0).delete(t);return new ys(n).toPromise()}class Is{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await bs()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ps()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=us._getInstance(ps()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new hs(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bs();return await _s(e,is,"1"),await Ss(e,is),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>_s(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=ws(e,!1).get(t),r=await new ys(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Ss(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=ws(e,!1).getAll();return new ys(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Is.type="LOCAL";const ks=Is;Co("rcb"),new Ci(3e4,6e4);const Es="recaptcha";async function xs(e,t,n){var r;const i=await n.verify();try{let o;if(Si("string"===typeof i,e,"argument-error"),Si(n.type===Es,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){Si("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Di(e,"POST","/v2/accounts/mfaEnrollment:start",Oi(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Si("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;Si(n,e,"missing-multi-factor-info");const s=await function(e,t){return Di(e,"POST","/v2/accounts/mfaSignIn:start",Oi(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Di(e,"POST","/v1/accounts:sendVerificationCode",Oi(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Ts{constructor(e){this.providerId=Ts.PROVIDER_ID,this.auth=ko(e)}verifyPhoneNumber(e,t){return xs(this.auth,e,Hn(t))}static credential(e,t){return Bo._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ts.credentialFromTaggedObject(t)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Bo._fromTokenResponse(n,r):null}}function Cs(e,t){return t?io(t):(Si(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ts.PROVIDER_ID="phone",Ts.PHONE_SIGN_IN_METHOD="phone";class As extends Lo{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Uo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Uo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ns(e){return rs(e.auth,new As(e),e.bypassAuthState)}function Ps(e){const{auth:t,user:n}=e;return Si(n,t,"internal-error"),ns(n,new As(e),e.bypassAuthState)}async function Rs(e){const{auth:t,user:n}=e;return Si(n,t,"internal-error"),ts(n,new As(e),e.bypassAuthState)}class Os{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ns;case"linkViaPopup":case"linkViaRedirect":return Rs;case"reauthViaPopup":case"reauthViaRedirect":return Ps;default:gi(this.auth,"internal-error")}}resolve(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ds=new Ci(2e3,1e4);class Ls extends Os{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Ls.currentPopupAction&&Ls.currentPopupAction.cancel(),Ls.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Si(e,this.auth,"internal-error"),e}async onExecution(){ki(1===this.filter.length,"Popup operations only handle one event");const e=ds();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(vi(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ls.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ds.get())};e()}}Ls.currentPopupAction=null;const Ms="pendingRedirect",Fs=new Map;class js extends Os{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Fs.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Vs(t),r=zs(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Fs.set(this.auth._key(),e)}return this.bypassAuthState||Fs.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Us(e,t){Fs.set(e._key(),t)}function zs(e){return io(e._redirectPersistence)}function Vs(e){return ao(Ms,e.config.apiKey,e.name)}async function Bs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(jr(e.app))return Promise.reject(wi(e));const r=ko(e),i=Cs(r,t),o=new js(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class qs{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ks(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ks(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(vi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ws(e))}saveEventToCache(e){this.cachedEventUids.add(Ws(e)),this.lastProcessedEventTime=Date.now()}}function Ws(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Ks(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Hs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gs=/^https?/;async function Qs(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Di(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if($s(r))return}catch(n){}gi(e,"unauthorized-domain")}function $s(e){const t=Ei(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Gs.test(n))return!1;if(Hs.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Js=new Ci(3e4,6e4);function Ys(){const e=fs().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Xs(e){return new Promise(((t,n)=>{var r,i,o;function s(){Ys(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ys(),n(vi(e,"network-request-failed"))},timeout:Js.get()})}if(null===(i=null===(r=fs().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=fs().gapi)||void 0===o?void 0:o.load)){const t=Co("iframefcb");return fs()[t]=()=>{gapi.load?s():n(vi(e,"network-request-failed"))},To("".concat(xo.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw Zs=null,e}))}let Zs=null;const ea=new Ci(5e3,15e3),ta="__/auth/iframe",na="emulator/auth/iframe",ra={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ia=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oa(e){const t=e.config;Si(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ai(t,na):"https://".concat(e.config.authDomain,"/").concat(ta),r={apiKey:t.apiKey,appName:e.name,v:qr},i=ia.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(Ln(r).slice(1))}async function sa(e){const t=await function(e){return Zs=Zs||Xs(e),Zs}(e),n=fs().gapi;return Si(n,e,"internal-error"),t.open({where:document.body,url:oa(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ra,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=vi(e,"network-request-failed"),o=fs().setTimeout((()=>{r(i)}),ea.get());function s(){fs().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const aa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class la{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function ca(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},aa),{width:r.toString(),height:i.toString(),top:o,left:s}),c=yn().toLowerCase();n&&(a=fo(c)?"_blank":n),uo(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return yo(arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new la(null);const d=window.open(t||"",a,u);Si(d,e,"popup-blocked");try{d.focus()}catch(h){}return new la(d)}const ua="__/auth/handler",da="emulator/auth/handler",ha=encodeURIComponent("fac");async function fa(e,t,n,r,i,o){Si(e.config.authDomain,e,"auth-domain-config-required"),Si(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:qr,eventId:i};if(t instanceof Ko){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",Rn(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof Ho){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(ha,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(ua);return Ai(t,da)}(e),"?").concat(Ln(a).slice(1)).concat(c)}const pa="webStorageSupport";const ma=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cs,this._completeRedirectFn=Bs,this._overrideRedirectResult=Us}async _openPopup(e,t,n,r){var i;ki(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return ca(e,await fa(e,t,n,Ei(),r),ds())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){fs().location.href=e}(await fa(e,t,n,Ei(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(ki(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await sa(e),n=new qs(e);return t.register("authEvent",(t=>{Si(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(pa,{type:pa},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[pa];void 0!==i&&t(!!i),gi(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Qs(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return wo()||ho()||yo()}};var ga="@firebase/auth",va="1.7.2";class ya{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Si(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const wa=gn("authIdTokenMaxAge")||300;let ba=null;var _a;!function(e){xo=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=vi("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),_a="Browser",Dr(new Gn("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Si(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:_a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bo(_a)},c=new Io(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(io);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Dr(new Gn("auth-internal",(e=>(e=>new ya(e))(ko(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),$r(ga,va,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(_a)),$r(ga,va,"esm2017");$r("firebase","10.11.1","app");const Sa="@firebase/installations",Ia="0.6.6",ka=1e4,Ea="w:".concat(Ia),xa="FIS_v2",Ta="https://firebaseinstallations.googleapis.com/v1",Ca=36e5,Aa=new An("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Na(e){return e instanceof Cn&&e.code.includes("request-failed")}function Pa(e){let{projectId:t}=e;return"".concat(Ta,"/projects/").concat(t,"/installations")}function Ra(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Oa(e,t){const n=(await t.json()).error;return Aa.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Da(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function La(e,t){let{refreshToken:n}=t;const r=Da(e);return r.append("Authorization",function(e){return"".concat(xa," ").concat(e)}(n)),r}async function Ma(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Fa(e){return new Promise((t=>{setTimeout(t,e)}))}const ja=/^[cdef][\w-]{21}$/,Ua="";function za(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return ja.test(t)?t:Ua}catch(e){return Ua}}function Va(e){return"".concat(e.appName,"!").concat(e.appId)}const Ba=new Map;function qa(e,t){const n=Va(e);Wa(n,t),function(e,t){const n=Ha();n&&n.postMessage({key:e,fid:t});Ga()}(n,t)}function Wa(e,t){const n=Ba.get(e);if(n)for(const r of n)r(t)}let Ka=null;function Ha(){return!Ka&&"BroadcastChannel"in self&&(Ka=new BroadcastChannel("[Firebase] FID Change"),Ka.onmessage=e=>{Wa(e.data.key,e.data.fid)}),Ka}function Ga(){0===Ba.size&&Ka&&(Ka.close(),Ka=null)}const Qa="firebase-installations-database",$a=1,Ja="firebase-installations-store";let Ya=null;function Xa(){return Ya||(Ya=yr(Qa,$a,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Ja)}})),Ya}async function Za(e,t){const n=Va(e),r=(await Xa()).transaction(Ja,"readwrite"),i=r.objectStore(Ja),o=await i.get(n);return await i.put(t,n),await r.done,o&&o.fid===t.fid||qa(e,t.fid),t}async function el(e){const t=Va(e),n=(await Xa()).transaction(Ja,"readwrite");await n.objectStore(Ja).delete(t),await n.done}async function tl(e,t){const n=Va(e),r=(await Xa()).transaction(Ja,"readwrite"),i=r.objectStore(Ja),o=await i.get(n),s=t(o);return void 0===s?await i.delete(n):await i.put(s,n),await r.done,!s||o&&o.fid===s.fid||qa(e,s.fid),s}async function nl(e){let t;const n=await tl(e.appConfig,(n=>{const r=function(e){const t=e||{fid:za(),registrationStatus:0};return ol(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Aa.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const o=Pa(n),s=Da(n),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const l={fid:i,authVersion:xa,appId:n.appId,sdkVersion:Ea},c={method:"POST",headers:s,body:JSON.stringify(l)},u=await Ma((()=>fetch(o,c)));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Ra(e.authToken)}}throw await Oa("Create Installation",u)}(e,t);return Za(e.appConfig,n)}catch(n){throw Na(n)&&409===n.customData.serverCode?await el(e.appConfig):await Za(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:rl(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return n.fid===Ua?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function rl(e){let t=await il(e.appConfig);for(;1===t.registrationStatus;)await Fa(100),t=await il(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await nl(e);return n||t}return t}function il(e){return tl(e,(e=>{if(!e)throw Aa.create("installation-not-found");return ol(e)}))}function ol(e){return 1===(t=e).registrationStatus&&t.registrationTime+ka<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function sl(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(Pa(e),"/").concat(n,"/authTokens:generate")}(n,t),o=La(n,t),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const a={installation:{sdkVersion:Ea,appId:n.appId}},l={method:"POST",headers:o,body:JSON.stringify(a)},c=await Ma((()=>fetch(i,l)));if(c.ok){return Ra(await c.json())}throw await Oa("Generate Auth Token",c)}async function al(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await tl(e.appConfig,(r=>{if(!cl(r))throw Aa.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Ca}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await ll(e.appConfig);for(;1===n.authToken.requestStatus;)await Fa(100),n=await ll(e.appConfig);const r=n.authToken;return 0===r.requestStatus?al(e,t):r}(e,n),r;{if(!navigator.onLine)throw Aa.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await sl(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Za(e.appConfig,r),n}catch(n){if(!Na(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Za(e.appConfig,n)}else await el(e.appConfig);throw n}}(e,n),n}}));return t?await t:r.authToken}function ll(e){return tl(e,(e=>{if(!cl(e))throw Aa.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+ka<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function cl(e){return void 0!==e&&2===e.registrationStatus}async function ul(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await nl(e);t&&await t}(n);return(await al(n,t)).token}function dl(e){return Aa.create("missing-app-config-values",{valueName:e})}const hl="installations",fl=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw dl("App Configuration");if(!e.name)throw dl("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw dl(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Lr(t,"heartbeat"),_delete:()=>Promise.resolve()}},pl=e=>{const t=Lr(e.getProvider("app").getImmediate(),hl).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await nl(t);return r?r.catch(console.error):al(t).catch(console.error),n.fid}(t),getToken:e=>ul(t,e)}};Dr(new Gn(hl,fl,"PUBLIC")),Dr(new Gn("installations-internal",pl,"PRIVATE")),$r(Sa,Ia),$r(Sa,Ia,"esm2017");const ml="analytics",gl="firebase_id",vl="origin",yl=6e4,wl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bl="https://www.googletagmanager.com/gtag/js",_l=new ir("@firebase/analytics"),Sl=new An("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Il(e){if(!e.startsWith(bl)){const t=Sl.create("invalid-gtag-resource",{gtagURL:e});return _l.warn(t.message),""}return e}function kl(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function El(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Il}),r=document.createElement("script"),i="".concat(bl,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function xl(e,t,n,r){return async function(i){try{for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];if("event"===i){const[r,i]=s;await async function(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await kl(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){o=[];break}o.push(i)}}0===o.length&&(o=Object.values(t)),await Promise.all(o),e("event",r,i||{})}catch(o){_l.error(o)}}(e,t,n,r,i)}else if("config"===i){const[i,o]=s;await async function(e,t,n,r,i,o){const s=r[i];try{if(s)await t[s];else{const e=(await kl(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(a){_l.error(a)}e("config",i,o)}(e,t,n,r,i,o)}else if("consent"===i){const[t]=s;e("consent","update",t)}else if("get"===i){const[t,n,r]=s;e("get",t,n,r)}else if("set"===i){const[t]=s;e("set",t)}else e(i,...s)}catch(l){_l.error(l)}}}const Tl=30;const Cl=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Al(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Nl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cl,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw Sl.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Sl.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Rl;return setTimeout((async()=>{a.abort()}),void 0!==n?n:yl),Pl({appId:r,apiKey:i,measurementId:o},s,a,t)}async function Pl(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Cl;var s;const{appId:a,measurementId:l}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(o),r(Sl.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(n,r)}catch(c){if(l)return _l.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===c||void 0===c?void 0:c.message,"]")),{appId:a,measurementId:l};throw c}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:Al(r)},o=wl.replace("{app-id}",n),s=await fetch(o,i);if(200!==s.status&&304!==s.status){let e="";try{const n=await s.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw Sl.create("config-fetch-failed",{httpStatus:s.status,responseMessage:e})}return s.json()}(e);return o.deleteThrottleMetadata(a),t}catch(c){const t=c;if(!function(e){if(!(e instanceof Cn)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(o.deleteThrottleMetadata(a),l)return _l.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===t||void 0===t?void 0:t.message,"]")),{appId:a,measurementId:l};throw c}const r=503===Number(null===(s=null===t||void 0===t?void 0:t.customData)||void 0===s?void 0:s.httpStatus)?Kn(i,o.intervalMillis,Tl):Kn(i,o.intervalMillis),u={throttleEndTimeMillis:Date.now()+r,backoffCount:i+1};return o.setThrottleMetadata(a,u),_l.debug("Calling attemptFetch again in ".concat(r," millis")),Pl(e,u,n,o)}}class Rl{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let Ol,Dl;function Ll(e){Dl=e}function Ml(e){Ol=e}async function Fl(e,t,n,r,i,o,s){var a;const l=Nl(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&_l.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((e=>_l.error(e))),t.push(l);const c=async function(){if(!xn())return _l.warn(Sl.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Tn()}catch(e){return _l.warn(Sl.create("indexeddb-unavailable",{errorInfo:null===e||void 0===e?void 0:e.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(bl)&&n.src.includes(e))return n;return null})(o)||El(o,u.measurementId),Dl&&(i("consent","default",Dl),Ll(void 0)),i("js",new Date);const h=null!==(a=null===s||void 0===s?void 0:s.config)&&void 0!==a?a:{};return h[vl]="firebase",h.update=!0,null!=d&&(h[gl]=d),i("config",u.measurementId,h),Ol&&(i("set",Ol),Ml(void 0)),u.measurementId}class jl{constructor(e){this.app=e}_delete(){return delete Ul[this.app.options.appId],Promise.resolve()}}let Ul={},zl=[];const Vl={};let Bl,ql,Wl="dataLayer",Kl="gtag",Hl=!1;function Gl(){const e=[];if(Sn()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>"(".concat(t+1,") ").concat(e))).join(" "),n=Sl.create("invalid-analytics-context",{errorInfo:t});_l.warn(n.message)}}function Ql(e,t,n){Gl();const r=e.options.appId;if(!r)throw Sl.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Sl.create("no-api-key");_l.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Ul[r])throw Sl.create("already-exists",{id:r});if(!Hl){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Wl);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=xl(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(Ul,zl,Vl,Wl,Kl);ql=e,Bl=t,Hl=!0}Ul[r]=Fl(e,zl,Vl,t,Bl,Wl,n);return new jl(e)}function $l(e,t,n,r){e=Hn(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(ql,Ul[e.app.options.appId],t,n,r).catch((e=>_l.error(e)))}const Jl="@firebase/analytics",Yl="0.10.2";Dr(new Gn(ml,((e,t)=>{let{options:n}=t;return Ql(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),Dr(new Gn("analytics-internal",(function(e){try{const t=e.getProvider(ml).getImmediate();return{logEvent:(e,n,r)=>$l(t,e,n,r)}}catch(t){throw Sl.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),$r(Jl,Yl),$r(Jl,Yl,"esm2017");class Xl{constructor(e,t){this._delegate=e,this.firebase=t,Rr(e,new Gn("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Qr(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tr;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tr;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Rr(this._delegate,e)}_addOrOverwriteComponent(e){Or(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Zl=new An("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const ec=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=Wr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Pn(n,i.name))return n[i.name];const o=new t(i,r);return n[i.name]=o,o},app:i,registerVersion:$r,setLogLevel:Yr,onLog:Jr,apps:null,SDK_VERSION:qr,INTERNAL:{registerComponent:function(e){const n=e.name,o=n.replace("-compat","");if(Dr(e)&&"PUBLIC"===e.type){const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw Zl.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&dn(s,e.serviceProps),r[o]=s,t.prototype[o]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Pn(n,e=e||Tr))throw Zl.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(Xl);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){dn(n,e)},createSubscribe:jn,ErrorFactory:An,deepExtend:dn}),n}(),tc=new ir("@firebase/app-compat");if(_n()&&void 0!==self.firebase){tc.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&tc.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const nc=ec;!function(e){$r("@firebase/app-compat","0.2.32",e)}();nc.registerVersion("firebase","10.11.1","app-compat");const rc={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ic="EMAIL_SIGNIN",oc="PASSWORD_RESET",sc="RECOVER_EMAIL",ac="REVERT_SECOND_FACTOR_ADDITION",lc="VERIFY_AND_CHANGE_EMAIL",cc="VERIFY_EMAIL";function uc(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dc=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},hc=uc,fc=new An("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pc=new ir("@firebase/auth");function mc(e){if(pc.logLevel<=Zn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];pc.error("Auth (".concat(qr,"): ").concat(e),...n)}}function gc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw _c(e,...n)}function vc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return _c(e,...n)}function yc(e,t,n){const r=Object.assign(Object.assign({},hc()),{[t]:n});return new An("auth","Firebase",r).create(t,{appName:e.name})}function wc(e){return yc(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bc(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&gc(e,"argument-error"),yc(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function _c(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return fc.create(e,...n)}function Sc(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw _c(t,...r)}}function Ic(e){const t="INTERNAL ASSERTION FAILED: "+e;throw mc(t),new Error(t)}function kc(e,t){e||Ic(t)}function Ec(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function xc(){return"http:"===Tc()||"https:"===Tc()}function Tc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Cc{constructor(e,t){this.shortDelay=e,this.longDelay=t,kc(t>e,"Short delay should be less than long delay!"),this.isMobile=wn()||In()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(xc()||Sn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ac(e,t){kc(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Nc{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Ic("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Ic("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Ic("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Pc={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Rc=new Cc(3e4,6e4);function Oc(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Dc(e,t,n,r){return Lc(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=Ln(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Nc.fetch()(Fc(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Lc(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Pc),t);try{const t=new Uc(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw zc(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw zc(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw zc(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw zc(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw yc(e,a,s);gc(e,a)}}catch(i){if(i instanceof Cn)throw i;gc(e,"network-request-failed",{message:String(i)})}}async function Mc(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Dc(e,t,n,r,i);return"mfaPendingCredential"in o&&gc(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Fc(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ac(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function jc(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Uc{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(vc(this.auth,"network-request-failed"))),Rc.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function zc(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=vc(e,t,r);return i.customData._tokenResponse=n,i}function Vc(e){return void 0!==e&&void 0!==e.getResponse}function Bc(e){return void 0!==e&&void 0!==e.enterprise}class qc{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return jc(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Wc(e,t){return Dc(e,"GET","/v2/recaptchaConfig",Oc(e,t))}async function Kc(e,t){return Dc(e,"POST","/v1/accounts:lookup",t)}function Hc(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Gc(e){return 1e3*Number(e)}function Qc(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return mc("JWT malformed, contained fewer than 3 sections"),null;try{const e=un(n);return e?JSON.parse(e):(mc("Failed to decode base64 JWT payload"),null)}catch(i){return mc("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function $c(e){const t=Qc(e);return Sc(t,"internal-error"),Sc("undefined"!==typeof t.exp,"internal-error"),Sc("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Jc(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof Cn&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Yc{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Xc{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hc(this.lastLoginAt),this.creationTime=Hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Zc(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Jc(e,Kc(n,{idToken:r}));Sc(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?eu(o.providerUserInfo):[],a=(l=e.providerData,c=s,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Xc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function eu(e){return e.map((e=>{var{providerId:t}=e,n=ui(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class tu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Sc(e.idToken,"internal-error"),Sc("undefined"!==typeof e.idToken,"internal-error"),Sc("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):$c(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Sc(0!==e.length,"internal-error");const t=$c(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Sc(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Lc(e,{},(async()=>{const n=Ln({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Fc(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Nc.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new tu;return n&&(Sc("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Sc("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Sc("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tu,this.toJSON())}_performRefresh(){return Ic("not implemented")}}function nu(e,t){Sc("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ru{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=ui(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yc(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Xc(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Jc(this,this.stsTokenManager.getToken(this.auth,e));return Sc(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Hn(e),r=await n.getIdToken(t),i=Qc(r);Sc(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Hc(Gc(i.auth_time)),issuedAtTime:Hc(Gc(i.iat)),expirationTime:Hc(Gc(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Hn(e);await Zc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Sc(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ru(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Sc(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Zc(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jr(this.auth.app))return Promise.reject(wc(this.auth));const e=await this.getIdToken();return await Jc(this,async function(e,t){return Dc(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:S}=t;Sc(y&&S,e,"internal-error");const I=tu.fromJSON(this.name,S);Sc("string"===typeof y,e,"internal-error"),nu(u,e.name),nu(d,e.name),Sc("boolean"===typeof w,e,"internal-error"),Sc("boolean"===typeof b,e,"internal-error"),nu(h,e.name),nu(f,e.name),nu(p,e.name),nu(m,e.name),nu(g,e.name),nu(v,e.name);const k=new ru({uid:y,auth:e,email:d,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:I,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(k.providerData=_.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new tu;r.updateFromServerResponse(t);const i=new ru({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Zc(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Sc(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?eu(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new tu;s.updateFromIdToken(n);const a=new ru({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Xc(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const iu=new Map;function ou(e){kc(e instanceof Function,"Expected a class definition");let t=iu.get(e);return t?(kc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,iu.set(e,t),t)}class su{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}su.type="NONE";const au=su;function lu(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class cu{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=lu(this.userKey,r.apiKey,i),this.fullPersistenceKey=lu("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ru._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new cu(ou(au),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||ou(au);const o=lu(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=ru._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new cu(i,e,n)):new cu(i,e,n)}}function uu(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(pu(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(du(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(gu(t))return"Blackberry";if(vu(t))return"Webos";if(hu(t))return"Safari";if((t.includes("chrome/")||fu(t))&&!t.includes("edge/"))return"Chrome";if(mu(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function du(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn();return/firefox\//i.test(e)}function hu(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn();return/crios\//i.test(e)}function pu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn();return/iemobile/i.test(e)}function mu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn();return/android/i.test(e)}function gu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn();return/blackberry/i.test(e)}function vu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn();return/webos/i.test(e)}function yu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function wu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn();return yu(e)||mu(e)||vu(e)||gu(e)||/windows phone/i.test(e)||pu(e)}function bu(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=uu(yn());break;case"Worker":t="".concat(uu(yn()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(qr,"/").concat(r)}class _u{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Su{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Iu{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Eu(this),this.idTokenSubscription=new Eu(this),this.beforeStateQueue=new _u(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fc,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ou(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await cu.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Kc(this,{idToken:e}),n=await ru._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(jr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Sc(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Zc(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jr(this.app))return Promise.reject(wc(this));const t=e?Hn(e):null;return t&&Sc(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Sc(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return jr(this.app)?Promise.reject(wc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jr(this.app)?Promise.reject(wc(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(ou(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Dc(e,"GET","/v2/passwordPolicy",Oc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Su(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new An("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Dc(e,"POST","/v2/accounts:revokeToken",Oc(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ou(e)||this._popupRedirectResolver;Sc(t,this,"argument-error"),this.redirectPersistenceManager=await cu.create(this,[ou(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Sc(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Sc(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bu(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(pc.logLevel<=Zn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];pc.warn("Auth (".concat(qr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function ku(e){return Hn(e)}class Eu{constructor(e){this.auth=e,this.observer=null,this.addObserver=jn((e=>this.observer=e))}get next(){return Sc(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let xu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Tu(e){return xu.loadJS(e)}function Cu(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Au{constructor(e){this.type="recaptcha-enterprise",this.auth=ku(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Bc(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Wc(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new qc(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Bc(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=xu.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Tu(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Nu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Au(e);let o;try{o=await i.verify(n)}catch(a){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Pu(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Nu(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Nu(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Ru(e,t,n){const r=ku(e);Sc(r._canInitEmulator,r,"emulator-config-failed"),Sc(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Ou(t),{host:s,port:a}=function(e){const t=Ou(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Du(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Du(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ou(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Du(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Lu{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ic("not implemented")}_getIdTokenResponse(e){return Ic("not implemented")}_linkToIdToken(e,t){return Ic("not implemented")}_getReauthenticationResolver(e){return Ic("not implemented")}}async function Mu(e,t){return Dc(e,"POST","/v1/accounts:resetPassword",Oc(e,t))}async function Fu(e,t){return Dc(e,"POST","/v1/accounts:signUp",t)}async function ju(e,t){return Mc(e,"POST","/v1/accounts:signInWithPassword",Oc(e,t))}async function Uu(e,t){return Dc(e,"POST","/v1/accounts:sendOobCode",Oc(e,t))}async function zu(e,t){return Uu(e,t)}async function Vu(e,t){return Uu(e,t)}class Bu extends Lu{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Bu(e,t,"password")}static _fromEmailAndCode(e,t){return new Bu(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Pu(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ju);case"emailLink":return async function(e,t){return Mc(e,"POST","/v1/accounts:signInWithEmailLink",Oc(e,t))}(e,{email:this._email,oobCode:this._password});default:gc(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Pu(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fu);case"emailLink":return async function(e,t){return Mc(e,"POST","/v1/accounts:signInWithEmailLink",Oc(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:gc(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function qu(e,t){return Mc(e,"POST","/v1/accounts:signInWithIdp",Oc(e,t))}class Wu extends Lu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Wu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):gc("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=ui(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Wu(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return qu(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,qu(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qu(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ln(t)}return e}}const Ku={USER_NOT_FOUND:"user-not-found"};class Hu extends Lu{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Hu({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Hu({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Mc(e,"POST","/v1/accounts:signInWithPhoneNumber",Oc(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Mc(e,"POST","/v1/accounts:signInWithPhoneNumber",Oc(e,t));if(n.temporaryProof)throw zc(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Mc(e,"POST","/v1/accounts:signInWithPhoneNumber",Oc(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ku)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Hu({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Gu{constructor(e){var t,n,r,i,o,s;const a=Mn(Fn(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Sc(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Mn(Fn(e)).link,n=t?Mn(Fn(t)).deep_link_id:null,r=Mn(Fn(e)).deep_link_id;return(r?Mn(Fn(r)).link:null)||r||n||t||e}(e);try{return new Gu(t)}catch(n){return null}}}class Qu{constructor(){this.providerId=Qu.PROVIDER_ID}static credential(e,t){return Bu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Gu.parseLink(t);return Sc(n,"argument-error"),Bu._fromEmailAndCode(e,n.code,n.tenantId)}}Qu.PROVIDER_ID="password",Qu.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Qu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class $u{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ju extends $u{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Yu extends Ju{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return Sc("providerId"in t&&"signInMethod"in t,"argument-error"),Wu._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Sc(e.idToken||e.accessToken,"argument-error"),Wu._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Yu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Yu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:s,providerId:a}=t;if(!r&&!i&&!n&&!o)return null;if(!a)return null;try{return new Yu(a)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:o})}catch(l){return null}}}class Xu extends Ju{constructor(){super("facebook.com")}static credential(e){return Wu._fromParams({providerId:Xu.PROVIDER_ID,signInMethod:Xu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xu.credentialFromTaggedObject(e)}static credentialFromError(e){return Xu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Xu.credential(t.oauthAccessToken)}catch(n){return null}}}Xu.FACEBOOK_SIGN_IN_METHOD="facebook.com",Xu.PROVIDER_ID="facebook.com";class Zu extends Ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Wu._fromParams({providerId:Zu.PROVIDER_ID,signInMethod:Zu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Zu.credentialFromTaggedObject(e)}static credentialFromError(e){return Zu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Zu.credential(n,r)}catch(i){return null}}}Zu.GOOGLE_SIGN_IN_METHOD="google.com",Zu.PROVIDER_ID="google.com";class ed extends Ju{constructor(){super("github.com")}static credential(e){return Wu._fromParams({providerId:ed.PROVIDER_ID,signInMethod:ed.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ed.credentialFromTaggedObject(e)}static credentialFromError(e){return ed.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ed.credential(t.oauthAccessToken)}catch(n){return null}}}ed.GITHUB_SIGN_IN_METHOD="github.com",ed.PROVIDER_ID="github.com";class td extends Lu{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return qu(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,qu(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qu(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new td(n,i):null}static _create(e,t){return new td(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class nd extends $u{constructor(e){Sc(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return nd.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return nd.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=td.fromJSON(e);return Sc(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return td._create(r,n)}catch(i){return null}}}class rd extends Ju{constructor(){super("twitter.com")}static credential(e,t){return Wu._fromParams({providerId:rd.PROVIDER_ID,signInMethod:rd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return rd.credentialFromTaggedObject(e)}static credentialFromError(e){return rd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return rd.credential(n,r)}catch(i){return null}}}async function id(e,t){return Mc(e,"POST","/v1/accounts:signUp",Oc(e,t))}rd.TWITTER_SIGN_IN_METHOD="twitter.com",rd.PROVIDER_ID="twitter.com";class od{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ru._fromIdTokenResponse(e,n,r),o=sd(n);return new od({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=sd(n);return new od({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function sd(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ad extends Cn{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ad.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ad(e,t,n,r)}}function ld(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw ad._fromErrorAndOperation(e,n,t,r);throw n}))}function cd(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function ud(e,t){const n=Hn(e);await hd(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Dc(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=cd(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function dd(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Jc(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return od._forOperation(e,"link",r)}async function hd(e,t,n){await Zc(t);const r=!1===e?"provider-already-linked":"no-such-provider";Sc(cd(t.providerData).has(n)===e,t.auth,r)}async function fd(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(jr(r.app))return Promise.reject(wc(r));const i="reauthenticate";try{const o=await Jc(e,ld(r,i,t,e),n);Sc(o.idToken,r,"internal-error");const s=Qc(o.idToken);Sc(s,r,"internal-error");const{sub:a}=s;return Sc(e.uid===a,r,"user-mismatch"),od._forOperation(e,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&gc(r,"user-mismatch"),o}}async function pd(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(jr(e.app))return Promise.reject(wc(e));const r="signIn",i=await ld(e,r,t),o=await od._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function md(e,t){return pd(ku(e),t)}async function gd(e,t){const n=Hn(e);return await hd(!1,n,t.providerId),dd(n,t)}async function vd(e,t){return fd(Hn(e),t)}async function yd(e,t){if(jr(e.app))return Promise.reject(wc(e));const n=ku(e),r=await async function(e,t){return Mc(e,"POST","/v1/accounts:signInWithCustomToken",Oc(e,t))}(n,{token:t,returnSecureToken:!0}),i=await od._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class wd{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?bd._fromServerResponse(e,t):"totpInfo"in t?_d._fromServerResponse(e,t):gc(e,"internal-error")}}class bd extends wd{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new bd(t)}}class _d extends wd{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new _d(t)}}function Sd(e,t,n){var r;Sc((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Sc("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Sc(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Sc(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Id(e){const t=ku(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function kd(e,t){await async function(e,t){return Dc(e,"POST","/v1/accounts:update",Oc(e,t))}(Hn(e),{oobCode:t})}async function Ed(e,t){const n=Hn(e),r=await Mu(n,{oobCode:t}),i=r.requestType;switch(Sc(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Sc(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Sc(r.mfaInfo,n,"internal-error");default:Sc(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=wd._fromServerResponse(ku(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function xd(e,t){const n={identifier:t,continueUri:xc()?Ec():"http://localhost"},{signinMethods:r}=await async function(e,t){return Dc(e,"POST","/v1/accounts:createAuthUri",Oc(e,t))}(Hn(e),n);return r||[]}async function Td(e,t){const n=Hn(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Sd(n.auth,r,t);const{email:i}=await async function(e,t){return Uu(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function Cd(e,t,n){const r=Hn(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Sd(r.auth,i,n);const{email:o}=await async function(e,t){return Uu(e,t)}(r.auth,i);o!==e.email&&await e.reload()}async function Ad(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=Hn(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await Jc(i,async function(e,t){return Dc(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}async function Nd(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await Jc(e,async function(e,t){return Dc(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(o,!0)}class Pd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Rd extends Pd{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Od extends Pd{constructor(e,t){super(e,"facebook.com",t)}}class Dd extends Rd{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Ld extends Pd{constructor(e,t){super(e,"google.com",t)}}class Md extends Rd{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Fd(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=Qc(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Pd(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Od(o,i);case"github.com":return new Dd(o,i);case"google.com":return new Ld(o,i);case"twitter.com":return new Md(o,i,e.screenName||null);case"custom":case"anonymous":return new Pd(o,null);default:return new Pd(o,r,i)}}(n)}class jd{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new jd("enroll",e,t)}static _fromMfaPendingCredential(e){return new jd("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return jd._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return jd._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Ud{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=ku(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>wd._fromServerResponse(n,e)));Sc(r.mfaPendingCredential,n,"internal-error");const o=jd._fromMfaPendingCredential(r.mfaPendingCredential);return new Ud(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const s=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await od._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Sc(t.user,n,"internal-error"),od._forOperation(t.user,t.operationType,s);default:gc(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class zd{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>wd._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new zd(e)}async getSession(){return jd._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await Jc(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await Jc(this.user,function(e,t){return Dc(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Oc(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(r){throw r}}}const Vd=new WeakMap;const Bd="__sak";class qd{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Bd,"1"),this.storage.removeItem(Bd),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Wd extends qd{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=yn();return hu(e)||yu(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=wu(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);kn()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Wd.type="LOCAL";const Kd=Wd;class Hd extends qd{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Hd.type="SESSION";const Gd=Hd;class Qd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Qd(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function $d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Qd.receivers=[];class Jd{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=$d("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Yd(){return window}function Xd(){return"undefined"!==typeof Yd().WorkerGlobalScope&&"function"===typeof Yd().importScripts}const Zd="firebaseLocalStorageDb",eh="firebaseLocalStorage",th="fbase_key";class nh{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function rh(e,t){return e.transaction([eh],t?"readwrite":"readonly").objectStore(eh)}function ih(){const e=indexedDB.open(Zd,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(eh,{keyPath:th})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(eh)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Zd);return new nh(e).toPromise()}(),t(await ih()))}))}))}async function oh(e,t,n){const r=rh(e,!0).put({[th]:t,value:n});return new nh(r).toPromise()}function sh(e,t){const n=rh(e,!0).delete(t);return new nh(n).toPromise()}class ah{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await ih()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Xd()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qd._getInstance(Xd()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Jd(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ih();return await oh(e,Bd,"1"),await sh(e,Bd),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>oh(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=rh(e,!1).get(t),r=await new nh(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>sh(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=rh(e,!1).getAll();return new nh(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}ah.type="LOCAL";const lh=ah;const ch=1e12;class uh{constructor(e){this.auth=e,this.counter=ch,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new dh(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||ch;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||ch;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||ch;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class dh{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;Sc(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const hh=Cu("rcb"),fh=new Cc(3e4,6e4);class ph{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Yd().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Sc(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Vc(Yd().grecaptcha)?Promise.resolve(Yd().grecaptcha):new Promise(((n,r)=>{const i=Yd().setTimeout((()=>{r(vc(e,"network-request-failed"))}),fh.get());Yd()[hh]=()=>{Yd().clearTimeout(i),delete Yd()[hh];const o=Yd().grecaptcha;if(!o||!Vc(o))return void r(vc(e,"internal-error"));const s=o.render;o.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(o)};Tu("".concat(xu.recaptchaV2Script,"?").concat(Ln({onload:hh,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(vc(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Yd().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class mh{async load(e){return new uh(e)}clearedOneInstance(){}}const gh="recaptcha",vh={theme:"light",type:"image"};class yh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},vh);this.parameters=n,this.type=gh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ku(e),this.isInvisible="invisible"===this.parameters.size,Sc("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;Sc(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new mh:new ph,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Sc(!this.parameters.sitekey,this.auth,"argument-error"),Sc(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Sc("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=Yd()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){Sc(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Sc(xc()&&!Xd(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Dc(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Sc(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Sc(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class wh{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Hu._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function bh(e,t,n){var r;const i=await n.verify();try{let o;if(Sc("string"===typeof i,e,"argument-error"),Sc(n.type===gh,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){Sc("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Dc(e,"POST","/v2/accounts/mfaEnrollment:start",Oc(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Sc("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;Sc(n,e,"missing-multi-factor-info");const s=await function(e,t){return Dc(e,"POST","/v2/accounts/mfaSignIn:start",Oc(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Dc(e,"POST","/v1/accounts:sendVerificationCode",Oc(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class _h{constructor(e){this.providerId=_h.PROVIDER_ID,this.auth=ku(e)}verifyPhoneNumber(e,t){return bh(this.auth,e,Hn(t))}static credential(e,t){return Hu._fromVerification(e,t)}static credentialFromResult(e){const t=e;return _h.credentialFromTaggedObject(t)}static credentialFromError(e){return _h.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Hu._fromTokenResponse(n,r):null}}function Sh(e,t){return t?ou(t):(Sc(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}_h.PROVIDER_ID="phone",_h.PHONE_SIGN_IN_METHOD="phone";class Ih extends Lu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function kh(e){return pd(e.auth,new Ih(e),e.bypassAuthState)}function Eh(e){const{auth:t,user:n}=e;return Sc(n,t,"internal-error"),fd(n,new Ih(e),e.bypassAuthState)}async function xh(e){const{auth:t,user:n}=e;return Sc(n,t,"internal-error"),dd(n,new Ih(e),e.bypassAuthState)}class Th{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kh;case"linkViaPopup":case"linkViaRedirect":return xh;case"reauthViaPopup":case"reauthViaRedirect":return Eh;default:gc(this.auth,"internal-error")}}resolve(e){kc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){kc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ch=new Cc(2e3,1e4);class Ah extends Th{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Ah.currentPopupAction&&Ah.currentPopupAction.cancel(),Ah.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Sc(e,this.auth,"internal-error"),e}async onExecution(){kc(1===this.filter.length,"Popup operations only handle one event");const e=$d();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(vc(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(vc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ah.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(vc(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ch.get())};e()}}Ah.currentPopupAction=null;const Nh="pendingRedirect",Ph=new Map;class Rh extends Th{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ph.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Mh(t),r=Lh(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Ph.set(this.auth._key(),e)}return this.bypassAuthState||Ph.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Oh(e,t){return Lh(e)._set(Mh(t),"true")}function Dh(e,t){Ph.set(e._key(),t)}function Lh(e){return ou(e._redirectPersistence)}function Mh(e){return lu(Nh,e.config.apiKey,e.name)}function Fh(e,t,n){return async function(e,t,n){if(jr(e.app))return Promise.reject(wc(e));const r=ku(e);bc(e,t,$u),await r._initializationPromise;const i=Sh(r,n);return await Oh(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function jh(e,t,n){return async function(e,t,n){const r=Hn(e);if(bc(r.auth,t,$u),jr(r.auth.app))return Promise.reject(wc(r.auth));await r.auth._initializationPromise;const i=Sh(r.auth,n);await Oh(i,r.auth);const o=await Vh(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}function Uh(e,t,n){return async function(e,t,n){const r=Hn(e);bc(r.auth,t,$u),await r.auth._initializationPromise;const i=Sh(r.auth,n);await hd(!1,r,t.providerId),await Oh(i,r.auth);const o=await Vh(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}async function zh(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(jr(e.app))return Promise.reject(wc(e));const r=ku(e),i=Sh(r,t),o=new Rh(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}async function Vh(e){const t=$d("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Bh{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wh(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Wh(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(vc(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qh(e))}saveEventToCache(e){this.cachedEventUids.add(qh(e)),this.lastProcessedEventTime=Date.now()}}function qh(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Wh(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function Kh(e){return Dc(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const Hh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gh=/^https?/;function Qh(e){const t=Ec(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Gh.test(n))return!1;if(Hh.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const $h=new Cc(3e4,6e4);function Jh(){const e=Yd().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Yh(e){return new Promise(((t,n)=>{var r,i,o;function s(){Jh(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Jh(),n(vc(e,"network-request-failed"))},timeout:$h.get()})}if(null===(i=null===(r=Yd().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Yd().gapi)||void 0===o?void 0:o.load)){const t=Cu("iframefcb");return Yd()[t]=()=>{gapi.load?s():n(vc(e,"network-request-failed"))},Tu("".concat(xu.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw Xh=null,e}))}let Xh=null;const Zh=new Cc(5e3,15e3),ef="__/auth/iframe",tf="emulator/auth/iframe",nf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function of(e){const t=e.config;Sc(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ac(t,tf):"https://".concat(e.config.authDomain,"/").concat(ef),r={apiKey:t.apiKey,appName:e.name,v:qr},i=rf.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(Ln(r).slice(1))}async function sf(e){const t=await function(e){return Xh=Xh||Yh(e),Xh}(e),n=Yd().gapi;return Sc(n,e,"internal-error"),t.open({where:document.body,url:of(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nf,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=vc(e,"network-request-failed"),o=Yd().setTimeout((()=>{r(i)}),Zh.get());function s(){Yd().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const af={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class lf{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function cf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},af),{width:r.toString(),height:i.toString(),top:o,left:s}),c=yn().toLowerCase();n&&(a=fu(c)?"_blank":n),du(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return yu(arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new lf(null);const d=window.open(t||"",a,u);Sc(d,e,"popup-blocked");try{d.focus()}catch(h){}return new lf(d)}const uf="__/auth/handler",df="emulator/auth/handler",hf=encodeURIComponent("fac");async function ff(e,t,n,r,i,o){Sc(e.config.authDomain,e,"auth-domain-config-required"),Sc(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:qr,eventId:i};if(t instanceof $u){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",Rn(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof Ju){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(hf,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(uf);return Ac(t,df)}(e),"?").concat(Ln(a).slice(1)).concat(c)}const pf="webStorageSupport";const mf=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gd,this._completeRedirectFn=zh,this._overrideRedirectResult=Dh}async _openPopup(e,t,n,r){var i;kc(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return cf(e,await ff(e,t,n,Ec(),r),$d())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Yd().location.href=e}(await ff(e,t,n,Ec(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(kc(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await sf(e),n=new Bh(e);return t.register("authEvent",(t=>{Sc(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(pf,{type:pf},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[pf];void 0!==i&&t(!!i),gc(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Kh(e);for(const r of t)try{if(Qh(r))return}catch(n){}gc(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return wu()||hu()||yu()}};class gf{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ic("unexpected MultiFactorSessionType")}}}class vf extends gf{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new vf(e)}_finalizeEnroll(e,t,n){return function(e,t){return Dc(e,"POST","/v2/accounts/mfaEnrollment:finalize",Oc(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Dc(e,"POST","/v2/accounts/mfaSignIn:finalize",Oc(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class yf{constructor(){}static assertion(e){return vf._fromCredential(e)}}yf.FACTOR_ID="phone";var wf="@firebase/auth",bf="1.7.2";class _f{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Sc(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}gn("authIdTokenMaxAge");function Sf(){return window}!function(e){xu=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=vc("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function(e){Dr(new Gn("auth",((t,n)=>{let{options:r}=n;const i=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;Sc(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:a,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bu(e)},u=new Iu(i,o,s,c);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ou);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(u,r),u}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Dr(new Gn("auth-internal",(e=>(e=>new _f(e))(ku(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),$r(wf,bf,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(e)),$r(wf,bf,"esm2017")}("Browser");async function If(e,t,n){var r;const{BuildInfo:i}=Sf();kc(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(kc(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),s={};return yu()?s.ibi=i.packageName:mu()?s.apn=i.packageName:gc(e,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,ff(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,s)}function kf(e){const{cordova:t}=Sf();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const Ef=20;class xf extends Bh{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function Tf(e){const t=await Nf()._get(Pf(e));return t&&await Nf()._remove(Pf(e)),t}function Cf(e,t){var n,r;const i=function(e){const t=Rf(e),n=t.link?decodeURIComponent(t.link):void 0,r=Rf(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Rf(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Rf(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=s?vc(s):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Af(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Ef;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function Nf(){return ou(Kd)}function Pf(e){return lu("authEvent",e.config.apiKey,e.name)}function Rf(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return Mn(n.join("?"))}const Of=class{constructor(){this._redirectPersistence=Gd,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=zh,this._overrideRedirectResult=Dh}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new xf(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){gc(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,s,a,l,c,u;const d=Sf();Sc("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Sc("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Sc("function"===typeof(null===(o=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Sc("function"===typeof(null===(l=null===(a=null===(s=null===d||void 0===d?void 0:d.cordova)||void 0===s?void 0:s.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Sc("function"===typeof(null===(u=null===(c=null===d||void 0===d?void 0:d.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),Ph.clear(),await this._originValidation(e);const o=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Af(),postBody:null,tenantId:e.tenantId,error:vc(e,"no-auth-event")}}(e,n,r);await function(e,t){return Nf()._set(Pf(e),t)}(e,o);const s=await If(e,o,t);return async function(e,t,n){const{cordova:r}=Sf();let i=()=>{};try{await new Promise(((o,s)=>{let a=null;function l(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout((()=>{s(vc(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),mu()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await kf(s))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=Sf(),n={};yu()?n.iosBundleId=t.packageName:mu()?n.androidPackageName=t.packageName:gc(e,"operation-not-supported-in-this-environment"),await Kh(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=Sf(),o=setTimeout((async()=>{await Tf(e),t.onEvent(Df())}),500),s=async n=>{clearTimeout(o);const r=await Tf(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=Cf(r,n.url)),t.onEvent(i||Df())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,s);const a=r,l="".concat(i.packageName.toLowerCase(),"://");Sf().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&s({url:e}),"function"===typeof a)try{a(e)}catch(t){console.error(t)}}}};function Df(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:vc("no-auth-event")}}function Lf(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Mf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn();return!("file:"!==Lf()&&"ionic:"!==Lf()&&"capacitor:"!==Lf()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ff(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn();return kn()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn();return/Edge\/\d+/.test(e)}(e)}function jf(){try{const e=self.localStorage,t=$d();if(e)return e.setItem(t,"1"),e.removeItem(t),!Ff()||xn()}catch(e){return Uf()&&xn()}return!1}function Uf(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function zf(){return("http:"===Lf()||"https:"===Lf()||Sn()||Mf())&&!(In()||bn())&&jf()&&!Uf()}function Vf(){return Mf()&&"undefined"!==typeof document}const Bf={LOCAL:"local",NONE:"none",SESSION:"session"},qf=Sc,Wf="persistence";async function Kf(e){await e._initializationPromise;const t=Hf(),n=lu(Wf,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function Hf(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const Gf=Sc;class Qf{constructor(){this.browserResolver=ou(mf),this.cordovaResolver=ou(Of),this.underlyingResolver=null,this._redirectPersistence=Gd,this._completeRedirectFn=zh,this._overrideRedirectResult=Dh}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Vf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Gf(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Vf()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function $f(e){return e.unwrap()}function Jf(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new ep(e,function(e,t){var n;const r=Hn(e),i=t;return Sc(t.customData.operationType,r,"argument-error"),Sc(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Ud._fromError(r,i)}(e,t))}else if(r){const e=Yf(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function Yf(e){const{_tokenResponse:t}=e instanceof Cn?e.customData:e;if(!t)return null;if(!(e instanceof Cn)&&"temporaryProof"in t&&"phoneNumber"in t)return _h.credentialFromResult(e);const n=t.providerId;if(!n||n===rc.PASSWORD)return null;let r;switch(n){case rc.GOOGLE:r=Zu;break;case rc.FACEBOOK:r=Xu;break;case rc.GITHUB:r=ed;break;case rc.TWITTER:r=rd;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:s,nonce:a}=t;return i||o||e||s?s?n.startsWith("saml.")?td._create(n,s):Wu._fromParams({providerId:n,signInMethod:n,pendingToken:s,idToken:e,accessToken:i}):new Yu(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof Cn?r.credentialFromError(e):r.credentialFromResult(e)}function Xf(e,t){return t.catch((t=>{throw t instanceof Cn&&Jf(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,Yf(r)),additionalUserInfo:Fd(e),user:tp.getOrCreate(n)};var r}))}async function Zf(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>Xf(e,n.confirm(t))}}class ep{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Xf($f(this.auth),this.resolver.resolveSignIn(e))}}class tp{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=Hn(e);return Vd.has(t)||Vd.set(t,zd._fromUser(t)),Vd.get(t)}(e)}static getOrCreate(e){return tp.USER_MAP.has(e)||tp.USER_MAP.set(e,new tp(e)),tp.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Xf(this.auth,gd(this._delegate,e))}async linkWithPhoneNumber(e,t){return Zf(this.auth,async function(e,t,n){const r=Hn(e);await hd(!1,r,"phone");const i=await bh(r.auth,t,Hn(n));return new wh(i,(e=>gd(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return Xf(this.auth,async function(e,t,n){const r=Hn(e);bc(r.auth,t,$u);const i=Sh(r.auth,n);return new Ah(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Qf))}async linkWithRedirect(e){return await Kf(ku(this.auth)),Uh(this._delegate,e,Qf)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Xf(this.auth,vd(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Zf(this.auth,async function(e,t,n){const r=Hn(e);if(jr(r.auth.app))return Promise.reject(wc(r.auth));const i=await bh(r.auth,t,Hn(n));return new wh(i,(e=>vd(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return Xf(this.auth,async function(e,t,n){const r=Hn(e);if(jr(r.auth.app))return Promise.reject(vc(r.auth,"operation-not-supported-in-this-environment"));bc(r.auth,t,$u);const i=Sh(r.auth,n);return new Ah(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Qf))}async reauthenticateWithRedirect(e){return await Kf(ku(this.auth)),jh(this._delegate,e,Qf)}sendEmailVerification(e){return Td(this._delegate,e)}async unlink(e){return await ud(this._delegate,e),this}updateEmail(e){return function(e,t){const n=Hn(e);return jr(n.auth.app)?Promise.reject(wc(n.auth)):Nd(n,t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Nd(Hn(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){const n=Hn(e);if(jr(n.auth.app))return Promise.reject(wc(n.auth));await dd(n,t)}(this._delegate,e)}updateProfile(e){return Ad(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Cd(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}tp.USER_MAP=new WeakMap;const np=Sc;class rp{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;np(n,"invalid-api-key",{appName:e.name}),np(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?Qf:void 0;this._delegate=t.initialize({options:{persistence:op(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(dc),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?tp.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Ru(this._delegate,e,t)}applyActionCode(e){return kd(this._delegate,e)}checkActionCode(e){return Ed(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Mu(Hn(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Id(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Xf(this._delegate,async function(e,t,n){if(jr(e.app))return Promise.reject(wc(e));const r=ku(e),i=Pu(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",id),o=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Id(e),t})),s=await od._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return xd(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Gu.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){np(zf(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await ku(e)._initializationPromise,zh(e,t,!1)}(this._delegate,Qf);return e?Xf(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){ku(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=ip(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=ip(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=ku(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){Sc(t.handleCodeInApp,r,"argument-error"),t&&Sd(r,e,t)}(i,n),await Pu(r,i,"getOobCode",Vu)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=ku(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Sd(r,i,n),await Pu(r,i,"getOobCode",zu)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){qf(Object.values(Bf).includes(t),e,"invalid-persistence-type"),In()?qf(t!==Bf.SESSION,e,"unsupported-persistence-type"):bn()?qf(t===Bf.NONE,e,"unsupported-persistence-type"):Uf()?qf(t===Bf.NONE||t===Bf.LOCAL&&xn(),e,"unsupported-persistence-type"):qf(t===Bf.NONE||jf(),e,"unsupported-persistence-type")}(this._delegate,e),e){case Bf.SESSION:t=Gd;break;case Bf.LOCAL:t=await ou(lh)._isAvailable()?lh:Kd;break;case Bf.NONE:t=au;break;default:return gc("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Xf(this._delegate,async function(e){var t;if(jr(e.app))return Promise.reject(wc(e));const n=ku(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new od({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await id(n,{returnSecureToken:!0}),i=await od._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return Xf(this._delegate,md(this._delegate,e))}signInWithCustomToken(e){return Xf(this._delegate,yd(this._delegate,e))}signInWithEmailAndPassword(e,t){return Xf(this._delegate,function(e,t,n){return jr(e.app)?Promise.reject(wc(e)):md(Hn(e),Qu.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Id(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Xf(this._delegate,async function(e,t,n){if(jr(e.app))return Promise.reject(wc(e));const r=Hn(e),i=Qu.credentialWithLink(t,n||Ec());return Sc(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),md(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Zf(this._delegate,async function(e,t,n){if(jr(e.app))return Promise.reject(wc(e));const r=ku(e),i=await bh(r,t,Hn(n));return new wh(i,(e=>md(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return np(zf(),this._delegate,"operation-not-supported-in-this-environment"),Xf(this._delegate,async function(e,t,n){if(jr(e.app))return Promise.reject(vc(e,"operation-not-supported-in-this-environment"));const r=ku(e);bc(e,t,$u);const i=Sh(r,n);return new Ah(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,Qf))}async signInWithRedirect(e){return np(zf(),this._delegate,"operation-not-supported-in-this-environment"),await Kf(this._delegate),Fh(this._delegate,e,Qf)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Ed(Hn(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function ip(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&tp.getOrCreate(e)),error:t,complete:n}}function op(e,t){const n=function(e,t){const n=Hf();if(!n)return[];const r=lu(Wf,e,t);switch(n.getItem(r)){case Bf.NONE:return[au];case Bf.LOCAL:return[lh,Gd];case Bf.SESSION:return[Gd];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(lh)||n.push(lh),"undefined"!==typeof window)for(const r of[Kd,Gd])n.includes(r)||n.push(r);return n.includes(au)||n.push(au),n}rp.Persistence=Bf;class sp{constructor(){this.providerId="phone",this._delegate=new _h($f(nc.auth()))}static credential(e,t){return _h.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}sp.PHONE_SIGN_IN_METHOD=_h.PHONE_SIGN_IN_METHOD,sp.PROVIDER_ID=_h.PROVIDER_ID;const ap=Sc;class lp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nc.app();var r;ap(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new yh(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var cp;(cp=nc).INTERNAL.registerComponent(new Gn("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new rp(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ic,PASSWORD_RESET:oc,RECOVER_EMAIL:sc,REVERT_SECOND_FACTOR_ADDITION:ac,VERIFY_AND_CHANGE_EMAIL:lc,VERIFY_EMAIL:cc}},EmailAuthProvider:Qu,FacebookAuthProvider:Xu,GithubAuthProvider:ed,GoogleAuthProvider:Zu,OAuthProvider:Yu,SAMLAuthProvider:nd,PhoneAuthProvider:sp,PhoneMultiFactorGenerator:yf,RecaptchaVerifier:lp,TwitterAuthProvider:rd,Auth:rp,AuthCredential:Lu,Error:Cn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),cp.registerVersion("@firebase/auth-compat","0.5.7");var up,dp="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},hp={},fp=fp||{},pp=dp||self;function mp(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function gp(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var vp="closure_uid_"+(1e9*Math.random()>>>0),yp=0;function wp(e,t,n){return e.call.apply(e.bind,arguments)}function bp(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function _p(e,t,n){return(_p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wp:bp).apply(null,arguments)}function Sp(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ip(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function kp(){this.s=this.s,this.o=this.o}kp.prototype.s=!1,kp.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,vp)&&e[vp]||(e[vp]=++yp))},kp.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ep=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function xp(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Tp(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(mp(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Cp(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Cp.prototype.h=function(){this.defaultPrevented=!0};var Ap=function(){if(!pp.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};pp.addEventListener("test",e,t),pp.removeEventListener("test",e,t)}catch(n){}return e}();function Np(e){return/^[\s\xa0]*$/.test(e)}function Pp(){var e=pp.navigator;return e&&(e=e.userAgent)?e:""}function Rp(e){return-1!=Pp().indexOf(e)}function Op(e){return Op[" "](e),e}Op[" "]=function(){};var Dp,Lp,Mp=Rp("Opera"),Fp=Rp("Trident")||Rp("MSIE"),jp=Rp("Edge"),Up=jp||Fp,zp=Rp("Gecko")&&!(-1!=Pp().toLowerCase().indexOf("webkit")&&!Rp("Edge"))&&!(Rp("Trident")||Rp("MSIE"))&&!Rp("Edge"),Vp=-1!=Pp().toLowerCase().indexOf("webkit")&&!Rp("Edge");function Bp(){var e=pp.document;return e?e.documentMode:void 0}e:{var qp="",Wp=function(){var e=Pp();return zp?/rv:([^\);]+)(\)|;)/.exec(e):jp?/Edge\/([\d\.]+)/.exec(e):Fp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Vp?/WebKit\/(\S+)/.exec(e):Mp?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Wp&&(qp=Wp?Wp[1]:""),Fp){var Kp=Bp();if(null!=Kp&&Kp>parseFloat(qp)){Dp=String(Kp);break e}}Dp=qp}if(pp.document&&Fp){var Hp=Bp();Lp=Hp||(parseInt(Dp,10)||void 0)}else Lp=void 0;var Gp=Lp;function Qp(e,t){if(Cp.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(zp){e:{try{Op(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:$p[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Qp.$.h.call(this)}}Ip(Qp,Cp);var $p={2:"touch",3:"pen",4:"mouse"};Qp.prototype.h=function(){Qp.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Jp="closure_listenable_"+(1e6*Math.random()|0),Yp=0;function Xp(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Yp,this.fa=this.ia=!1}function Zp(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function em(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function tm(e){const t={};for(const n in e)t[n]=e[n];return t}const nm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rm(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<nm.length;t++)n=nm[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function im(e){this.src=e,this.g={},this.h=0}function om(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Ep(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Zp(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function sm(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}im.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=sm(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new Xp(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var am="closure_lm_"+(1e6*Math.random()|0),lm={};function cm(e,t,n,r,i){if(r&&r.once)return dm(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)cm(e,t[o],n,r,i);return null}return n=ym(n),e&&e[Jp]?e.O(t,n,gp(r)?!!r.capture:!!r,i):um(e,t,n,!1,r,i)}function um(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=gp(i)?!!i.capture:!!i,a=gm(e);if(a||(e[am]=a=new im(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=mm;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ap||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(pm(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function dm(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)dm(e,t[o],n,r,i);return null}return n=ym(n),e&&e[Jp]?e.P(t,n,gp(r)?!!r.capture:!!r,i):um(e,t,n,!0,r,i)}function hm(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)hm(e,t[o],n,r,i);else r=gp(r)?!!r.capture:!!r,n=ym(n),e&&e[Jp]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=sm(o=e.g[t],n,r,i))&&(Zp(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=gm(e))&&(t=e.g[t.toString()],e=-1,t&&(e=sm(t,n,r,i)),(n=-1<e?t[e]:null)&&fm(n))}function fm(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Jp])om(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(pm(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=gm(t))?(om(n,e),0==n.h&&(n.src=null,t[am]=null)):Zp(e)}}}function pm(e){return e in lm?lm[e]:lm[e]="on"+e}function mm(e,t){if(e.fa)e=!0;else{t=new Qp(t,this);var n=e.listener,r=e.la||e.src;e.ia&&fm(e),e=n.call(r,t)}return e}function gm(e){return(e=e[am])instanceof im?e:null}var vm="__closure_events_fn_"+(1e9*Math.random()>>>0);function ym(e){return"function"===typeof e?e:(e[vm]||(e[vm]=function(t){return e.handleEvent(t)}),e[vm])}function wm(){kp.call(this),this.i=new im(this),this.S=this,this.J=null}function bm(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Cp(t,e);else if(t instanceof Cp)t.target=t.target||e;else{var i=t;rm(t=new Cp(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=_m(s,r,!0,t)&&i}if(i=_m(s=t.g=e,r,!0,t)&&i,i=_m(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=_m(s=t.g=n[o],r,!1,t)&&i}function _m(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&om(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Ip(wm,kp),wm.prototype[Jp]=!0,wm.prototype.removeEventListener=function(e,t,n,r){hm(this,e,t,n,r)},wm.prototype.N=function(){if(wm.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Zp(n[r]);delete t.g[e],t.h--}}this.J=null},wm.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},wm.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Sm=pp.JSON.stringify;function Im(){var e=Nm;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var km=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Em),(e=>e.reset()));class Em{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function xm(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Tm(e){pp.setTimeout((()=>{throw e}),0)}let Cm,Am=!1,Nm=new class{constructor(){this.h=this.g=null}add(e,t){const n=km.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Pm=()=>{const e=pp.Promise.resolve(void 0);Cm=()=>{e.then(Rm)}};var Rm=()=>{for(var e;e=Im();){try{e.h.call(e.g)}catch(n){Tm(n)}var t=km;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Am=!1};function Om(e,t){wm.call(this),this.h=e||1,this.g=t||pp,this.j=_p(this.qb,this),this.l=Date.now()}function Dm(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Lm(e,t,n){if("function"===typeof e)n&&(e=_p(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=_p(e.handleEvent,e)}return 2147483647<Number(t)?-1:pp.setTimeout(e,t||0)}function Mm(e){e.g=Lm((()=>{e.g=null,e.i&&(e.i=!1,Mm(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Ip(Om,wm),(up=Om.prototype).ga=!1,up.T=null,up.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),bm(this,"tick"),this.ga&&(Dm(this),this.start()))}},up.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},up.N=function(){Om.$.N.call(this),Dm(this),delete this.g};class Fm extends kp{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Mm(this)}N(){super.N(),this.g&&(pp.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jm(e){kp.call(this),this.h=e,this.g={}}Ip(jm,kp);var Um=[];function zm(e,t,n,r){Array.isArray(n)||(n&&(Um[0]=n.toString()),n=Um);for(var i=0;i<n.length;i++){var o=cm(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Vm(e){em(e.g,(function(e,t){this.g.hasOwnProperty(t)&&fm(e)}),e),e.g={}}function Bm(){this.g=!0}function qm(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Sm(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}jm.prototype.N=function(){jm.$.N.call(this),Vm(this)},jm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Bm.prototype.Ea=function(){this.g=!1},Bm.prototype.info=function(){};var Wm={},Km=null;function Hm(){return Km=Km||new wm}function Gm(e){Cp.call(this,Wm.Ta,e)}function Qm(e){const t=Hm();bm(t,new Gm(t))}function $m(e,t){Cp.call(this,Wm.STAT_EVENT,e),this.stat=t}function Jm(e){const t=Hm();bm(t,new $m(t,e))}function Ym(e,t){Cp.call(this,Wm.Ua,e),this.size=t}function Xm(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return pp.setTimeout((function(){e()}),t)}Wm.Ta="serverreachability",Ip(Gm,Cp),Wm.STAT_EVENT="statevent",Ip($m,Cp),Wm.Ua="timingevent",Ip(Ym,Cp);var Zm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},eg={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function tg(){}function ng(e){return e.h||(e.h=e.i())}function rg(){}tg.prototype.h=null;var ig,og={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function sg(){Cp.call(this,"d")}function ag(){Cp.call(this,"c")}function lg(){}function cg(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new jm(this),this.P=dg,e=Up?125:void 0,this.V=new Om(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ug}function ug(){this.i=null,this.g="",this.h=!1}Ip(sg,Cp),Ip(ag,Cp),Ip(lg,tg),lg.prototype.g=function(){return new XMLHttpRequest},lg.prototype.i=function(){return{}},ig=new lg;var dg=45e3,hg={},fg={};function pg(e,t,n){e.L=1,e.A=Og(Cg(t)),e.u=n,e.S=!0,mg(e,null)}function mg(e,t){e.G=Date.now(),wg(e),e.B=Cg(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Hg(n.i,"t",r),e.o=0,n=e.l.J,e.h=new ug,e.g=Gv(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Fm(_p(e.Pa,e,e.g),e.O)),zm(e.U,e.g,"readystatechange",e.nb),t=e.I?tm(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Qm(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function gg(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function vg(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=yg(e,n),r==fg){4==t&&(e.s=4,Jm(14),i=!1),qm(e.j,e.m,null,"[Incomplete Response]");break}if(r==hg){e.s=4,Jm(15),qm(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}qm(e.j,e.m,r,null),kg(e,r)}gg(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,Jm(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Uv(t),t.M=!0,Jm(11))):(qm(e.j,e.m,n,"[Invalid Chunked Response]"),Ig(e),Sg(e))}function yg(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?fg:(n=Number(t.substring(n,r)),isNaN(n)?hg:(r+=1)+n>t.length?fg:(t=t.slice(r,r+n),e.o=r+n,t))}function wg(e){e.Y=Date.now()+e.P,bg(e,e.P)}function bg(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Xm(_p(e.lb,e),t)}function _g(e){e.C&&(pp.clearTimeout(e.C),e.C=null)}function Sg(e){0==e.l.H||e.J||Bv(e.l,e)}function Ig(e){_g(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Dm(e.V),Vm(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function kg(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Zg(n.i,e)))if(!e.K&&Zg(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Vv(n),Pv(n)}jv(n),Jm(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Xm(_p(n.ib,n),6e3));if(1>=Xg(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Wv(n,11)}else if((e.K||n.g==e)&&Vv(n),!Np(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(ev(o,o.h),o.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Rg(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=Hv(r,r.J?r.pa:null,r.Y),s.K){tv(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(_g(a),wg(a)),r.g=s}else Fv(r);0<n.j.length&&Ov(n)}else"stop"!=c[0]&&"close"!=c[0]||Wv(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Wv(n,7):Nv(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Qm()}catch(c){}}function Eg(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(mp(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(mp(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(mp(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(up=cg.prototype).setTimeout=function(e){this.P=e},up.nb=function(e){e=e.target;const t=this.M;t&&3==kv(e)?t.l():this.Pa(e)},up.Pa=function(e){try{if(e==this.g)e:{const u=kv(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Up||this.g&&(this.h.h||this.g.ja()||Ev(this.g)))){this.J||4!=u||7==t||Qm(),_g(this);var n=this.g.da();this.ca=n;t:if(gg(this)){var r=Ev(this.g);e="";var i=r.length,o=4==kv(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ig(this),Sg(this);var s="";break t}this.h.i=new pp.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Np(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,Jm(12),Ig(this),Sg(this);break e}qm(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kg(this,n)}this.S?(vg(this,u,s),Up&&this.i&&3==u&&(zm(this.U,this.V,"tick",this.mb),this.V.start())):(qm(this.j,this.m,s,null),kg(this,s)),4==u&&Ig(this),this.i&&!this.J&&(4==u?Bv(this.l,this):(this.i=!1,wg(this)))}else(function(e){const t={};e=(e.g&&2<=kv(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Np(e[r]))continue;var n=xm(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Jm(12)):(this.s=0,Jm(13)),Ig(this),Sg(this)}}}catch(u){}},up.mb=function(){if(this.g){var e=kv(this.g),t=this.g.ja();this.o<t.length&&(_g(this),vg(this,e,t),this.i&&4!=e&&wg(this))}},up.cancel=function(){this.J=!0,Ig(this)},up.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(Qm(),Jm(17)),Ig(this),this.s=2,Sg(this)):bg(this,this.Y-e)};var xg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tg(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Tg){this.h=e.h,Ag(this,e.j),this.s=e.s,this.g=e.g,Ng(this,e.m),this.l=e.l;var t=e.i,n=new Bg;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Pg(this,n),this.o=e.o}else e&&(t=String(e).match(xg))?(this.h=!1,Ag(this,t[1]||"",!0),this.s=Dg(t[2]||""),this.g=Dg(t[3]||"",!0),Ng(this,t[4]),this.l=Dg(t[5]||"",!0),Pg(this,t[6]||"",!0),this.o=Dg(t[7]||"")):(this.h=!1,this.i=new Bg(null,this.h))}function Cg(e){return new Tg(e)}function Ag(e,t,n){e.j=n?Dg(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ng(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Pg(e,t,n){t instanceof Bg?(e.i=t,function(e,t){t&&!e.j&&(qg(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Wg(this,t),Hg(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Lg(t,zg)),e.i=new Bg(t,e.h))}function Rg(e,t,n){e.i.set(t,n)}function Og(e){return Rg(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Dg(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Lg(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Mg),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Mg(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Tg.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Lg(t,Fg,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Lg(t,Fg,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Lg(n,"/"==n.charAt(0)?Ug:jg,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Lg(n,Vg)),e.join("")};var Fg=/[#\/\?@]/g,jg=/[#\?:]/g,Ug=/[#\?]/g,zg=/[#\?@]/g,Vg=/#/g;function Bg(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function qg(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Wg(e,t){qg(e),t=Gg(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Kg(e,t){return qg(e),t=Gg(e,t),e.g.has(t)}function Hg(e,t,n){Wg(e,t),0<n.length&&(e.i=null,e.g.set(Gg(e,t),xp(n)),e.h+=n.length)}function Gg(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(up=Bg.prototype).add=function(e,t){qg(this),this.i=null,e=Gg(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},up.forEach=function(e,t){qg(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},up.ta=function(){qg(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},up.Z=function(e){qg(this);let t=[];if("string"===typeof e)Kg(this,e)&&(t=t.concat(this.g.get(Gg(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},up.set=function(e,t){return qg(this),this.i=null,Kg(this,e=Gg(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},up.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},up.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var Qg=class{constructor(e,t){this.g=e,this.map=t}};function $g(e){this.l=e||Jg,pp.PerformanceNavigationTiming?e=0<(e=pp.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(pp.g&&pp.g.Ka&&pp.g.Ka()&&pp.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Jg=10;function Yg(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xg(e){return e.h?1:e.g?e.g.size:0}function Zg(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ev(e,t){e.g?e.g.add(t):e.h=t}function tv(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nv(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return xp(e.i)}$g.prototype.cancel=function(){if(this.i=nv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var rv,iv=class{stringify(e){return pp.JSON.stringify(e,void 0)}parse(e){return pp.JSON.parse(e,void 0)}};function ov(){this.g=new iv}function sv(e,t,n){const r=n||"";try{Eg(e,(function(e,n){let i=e;gp(e)&&(i=Sm(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function av(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function lv(e){this.l=e.ec||null,this.j=e.ob||!1}function cv(e,t){wm.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=uv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ip(lv,tg),lv.prototype.g=function(){return new cv(this.l,this.j)},lv.prototype.i=(rv={},function(){return rv}),Ip(cv,wm);var uv=0;function dv(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function hv(e){e.readyState=4,e.l=null,e.j=null,e.A=null,fv(e)}function fv(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(up=cv.prototype).open=function(e,t){if(this.readyState!=uv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,fv(this)},up.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||pp).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},up.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hv(this)),this.readyState=uv},up.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,fv(this)),this.g&&(this.readyState=3,fv(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof pp.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dv(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},up.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?hv(this):fv(this),3==this.readyState&&dv(this)}},up.Za=function(e){this.g&&(this.response=this.responseText=e,hv(this))},up.Ya=function(e){this.g&&(this.response=e,hv(this))},up.ka=function(){this.g&&hv(this)},up.setRequestHeader=function(e,t){this.v.append(e,t)},up.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},up.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(cv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var pv=pp.JSON.parse;function mv(e){wm.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=gv,this.L=this.M=!1}Ip(mv,wm);var gv="",vv=/^https?$/i,yv=["POST","PUT"];function wv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,bv(e),Sv(e)}function bv(e){e.F||(e.F=!0,bm(e,"complete"),bm(e,"error"))}function _v(e){if(e.h&&"undefined"!=typeof fp&&(!e.C[1]||4!=kv(e)||2!=e.da()))if(e.v&&4==kv(e))Lm(e.La,0,e);else if(bm(e,"readystatechange"),4==kv(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(xg)[1]||null;!i&&pp.self&&pp.self.location&&(i=pp.self.location.protocol.slice(0,-1)),r=!vv.test(i?i.toLowerCase():"")}n=r}if(n)bm(e,"complete"),bm(e,"success");else{e.m=6;try{var o=2<kv(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",bv(e)}}finally{Sv(e)}}}function Sv(e,t){if(e.g){Iv(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||bm(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Iv(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(pp.clearTimeout(e.A),e.A=null)}function kv(e){return e.g?e.g.readyState:0}function Ev(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case gv:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Ry){return null}}function xv(e){let t="";return em(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Tv(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=xv(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Rg(e,t,n))}function Cv(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Av(e){this.Ga=0,this.j=[],this.l=new Bm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Cv("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Cv("baseRetryDelayMs",5e3,e),this.hb=Cv("retryDelaySeedMs",1e4,e),this.eb=Cv("forwardChannelMaxRetries",2,e),this.xa=Cv("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new $g(e&&e.concurrentRequestLimit),this.Ja=new ov,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Nv(e){if(Rv(e),3==e.H){var t=e.W++,n=Cg(e.I);if(Rg(n,"SID",e.K),Rg(n,"RID",t),Rg(n,"TYPE","terminate"),Lv(e,n),(t=new cg(e,e.l,t)).L=2,t.A=Og(Cg(n)),n=!1,pp.navigator&&pp.navigator.sendBeacon)try{n=pp.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&pp.Image&&((new Image).src=t.A,n=!0),n||(t.g=Gv(t.l,null),t.g.ha(t.A)),t.G=Date.now(),wg(t)}Kv(e)}function Pv(e){e.g&&(Uv(e),e.g.cancel(),e.g=null)}function Rv(e){Pv(e),e.u&&(pp.clearTimeout(e.u),e.u=null),Vv(e),e.i.cancel(),e.m&&("number"===typeof e.m&&pp.clearTimeout(e.m),e.m=null)}function Ov(e){if(!Yg(e.i)&&!e.m){e.m=!0;var t=e.Na;Cm||Pm(),Am||(Cm(),Am=!0),Nm.add(t,e),e.C=0}}function Dv(e,t){var n;n=t?t.m:e.W++;const r=Cg(e.I);Rg(r,"SID",e.K),Rg(r,"RID",n),Rg(r,"AID",e.V),Lv(e,r),e.o&&e.s&&Tv(r,e.o,e.s),n=new cg(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Mv(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),ev(e.i,n),pg(n,r,t)}function Lv(e,t){e.na&&em(e.na,(function(e,n){Rg(t,n,e)})),e.h&&Eg({},(function(e,n){Rg(t,n,e)}))}function Mv(e,t,n){n=Math.min(e.j.length,n);var r=e.h?_p(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{sv(a,e,"req"+n+"_")}catch($w){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Fv(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Cm||Pm(),Am||(Cm(),Am=!0),Nm.add(t,e),e.A=0}}function jv(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Xm(_p(e.Ma,e),qv(e,e.A)),e.A++,!0)}function Uv(e){null!=e.B&&(pp.clearTimeout(e.B),e.B=null)}function zv(e){e.g=new cg(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Cg(e.wa);Rg(t,"RID","rpc"),Rg(t,"SID",e.K),Rg(t,"AID",e.V),Rg(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Rg(t,"TO",e.qa),Rg(t,"TYPE","xmlhttp"),Lv(e,t),e.o&&e.s&&Tv(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Og(Cg(t)),n.u=null,n.S=!0,mg(n,e)}function Vv(e){null!=e.v&&(pp.clearTimeout(e.v),e.v=null)}function Bv(e,t){var n=null;if(e.g==t){Vv(e),Uv(e),e.g=null;var r=2}else{if(!Zg(e.i,t))return;n=t.F,tv(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;bm(r=Hm(),new Ym(r,n)),Ov(e)}else Fv(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Xg(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Xm(_p(e.Na,e,t),qv(e,e.C)),e.C++,!0))}(e,t)||2==r&&jv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Wv(e,5);break;case 4:Wv(e,10);break;case 3:Wv(e,6);break;default:Wv(e,2)}}function qv(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Wv(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=_p(e.pb,e);n||(n=new Tg("//www.google.com/images/cleardot.gif"),pp.location&&"http"==pp.location.protocol||Ag(n,"https"),Og(n)),function(e,t){const n=new Bm;if(pp.Image){const r=new Image;r.onload=Sp(av,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Sp(av,n,r,"TestLoadImage: error",!1,t),r.onabort=Sp(av,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Sp(av,n,r,"TestLoadImage: timeout",!1,t),pp.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Jm(2);e.H=0,e.h&&e.h.za(t),Kv(e),Rv(e)}function Kv(e){if(e.H=0,e.ma=[],e.h){const t=nv(e.i);0==t.length&&0==e.j.length||(Tp(e.ma,t),Tp(e.ma,e.j),e.i.i.length=0,xp(e.j),e.j.length=0),e.h.ya()}}function Hv(e,t,n){var r=n instanceof Tg?Cg(n):new Tg(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Ng(r,r.m);else{var i=pp.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Tg(null);r&&Ag(o,r),t&&(o.g=t),i&&Ng(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&Rg(r,n,t),Rg(r,"VER",e.ra),Lv(e,r),r}function Gv(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new mv(new lv({ob:n})):new mv(e.va)).Oa(e.J),t}function Qv(){}function $v(){if(Fp&&!(10<=Number(Gp)))throw Error("Environmental error: no available transport.")}function Jv(e,t){wm.call(this),this.g=new Av(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Np(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Np(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Zv(this)}function Yv(e){sg.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Xv(){ag.call(this),this.status=1}function Zv(e){this.g=e}function ey(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ty(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function ny(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(up=mv.prototype).Oa=function(e){this.M=e},up.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ig.g(),this.C=this.u?ng(this.u):ng(ig),this.g.onreadystatechange=_p(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void wv(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=pp.FormData&&e instanceof pp.FormData,!(0<=Ep(yv,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Iv(this),0<this.B&&((this.L=function(e){return Fp&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_p(this.ua,this)):this.A=Lm(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){wv(this,o)}},up.ua=function(){"undefined"!=typeof fp&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bm(this,"timeout"),this.abort(8))},up.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,bm(this,"complete"),bm(this,"abort"),Sv(this))},up.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Sv(this,!0)),mv.$.N.call(this)},up.La=function(){this.s||(this.G||this.v||this.l?_v(this):this.kb())},up.kb=function(){_v(this)},up.isActive=function(){return!!this.g},up.da=function(){try{return 2<kv(this)?this.g.status:-1}catch(rv){return-1}},up.ja=function(){try{return this.g?this.g.responseText:""}catch(rv){return""}},up.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),pv(t)}},up.Ia=function(){return this.m},up.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(up=Av.prototype).ra=8,up.H=1,up.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new cg(this,this.l,e);let o=this.s;if(this.U&&(o?(o=tm(o),rm(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Mv(this,i,t),Rg(n=Cg(this.I),"RID",e),Rg(n,"CVER",22),this.F&&Rg(n,"X-HTTP-Session-Id",this.F),Lv(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(xv(o)))+"&"+t:this.o&&Tv(n,this.o,o)),ev(this.i,i),this.bb&&Rg(n,"TYPE","init"),this.P?(Rg(n,"$req",t),Rg(n,"SID","null"),i.aa=!0,pg(i,n,null)):pg(i,n,t),this.H=2}}else 3==this.H&&(e?Dv(this,e):0==this.j.length||Yg(this.i)||Dv(this))},up.Ma=function(){if(this.u=null,zv(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Xm(_p(this.jb,this),e)}},up.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Jm(10),Pv(this),zv(this))},up.ib=function(){null!=this.v&&(this.v=null,Pv(this),jv(this),Jm(19))},up.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Jm(2)):(this.l.info("Failed to ping google.com"),Jm(1))},up.isActive=function(){return!!this.h&&this.h.isActive(this)},(up=Qv.prototype).Ba=function(){},up.Aa=function(){},up.za=function(){},up.ya=function(){},up.isActive=function(){return!0},up.Va=function(){},$v.prototype.g=function(e,t){return new Jv(e,t)},Ip(Jv,wm),Jv.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Jm(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Hv(e,null,e.Y),Ov(e)},Jv.prototype.close=function(){Nv(this.g)},Jv.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Sm(e),e=n);t.j.push(new Qg(t.fb++,e)),3==t.H&&Ov(t)},Jv.prototype.N=function(){this.g.h=null,delete this.j,Nv(this.g),delete this.g,Jv.$.N.call(this)},Ip(Yv,sg),Ip(Xv,ag),Ip(Zv,Qv),Zv.prototype.Ba=function(){bm(this.g,"a")},Zv.prototype.Aa=function(e){bm(this.g,new Yv(e))},Zv.prototype.za=function(e){bm(this.g,new Xv)},Zv.prototype.ya=function(){bm(this.g,"b")},Ip(ey,(function(){this.blockSize=-1})),ey.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ey.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)ty(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){ty(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){ty(this,r),i=0;break}}this.h=i,this.i+=t},ey.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var ry={};function iy(e){return-128<=e&&128>e?function(e,t){var n=ry;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new ny([0|e],0>e?-1:0)})):new ny([0|e],0>e?-1:0)}function oy(e){if(isNaN(e)||!isFinite(e))return ay;if(0>e)return hy(oy(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=sy;return new ny(t,0)}var sy=4294967296,ay=iy(0),ly=iy(1),cy=iy(16777216);function uy(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function dy(e){return-1==e.h}function hy(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new ny(n,~e.h).add(ly)}function fy(e,t){return e.add(hy(t))}function py(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function my(e,t){this.g=e,this.h=t}function gy(e,t){if(uy(t))throw Error("division by zero");if(uy(e))return new my(ay,ay);if(dy(e))return t=gy(hy(e),t),new my(hy(t.g),hy(t.h));if(dy(t))return t=gy(e,hy(t)),new my(hy(t.g),t.h);if(30<e.g.length){if(dy(e)||dy(t))throw Error("slowDivide_ only works with positive integers.");for(var n=ly,r=t;0>=r.X(e);)n=vy(n),r=vy(r);var i=yy(n,1),o=yy(r,1);for(r=yy(r,2),n=yy(n,2);!uy(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=yy(r,1),n=yy(n,1)}return t=fy(e,i.R(t)),new my(i,t)}for(i=ay;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=oy(n)).R(t);dy(s)||0<s.X(e);)s=(o=oy(n-=r)).R(t);uy(o)&&(o=ly),i=i.add(o),e=fy(e,s)}return new my(i,e)}function vy(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new ny(n,e.h)}function yy(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new ny(i,e.h)}(up=ny.prototype).ea=function(){if(dy(this))return-hy(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:sy+r)*t,t*=sy}return e},up.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(uy(this))return"0";if(dy(this))return"-"+hy(this).toString(e);for(var t=oy(Math.pow(e,6)),n=this,r="";;){var i=gy(n,t).g,o=((0<(n=fy(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(uy(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},up.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},up.X=function(e){return dy(e=fy(this,e))?-1:uy(e)?0:1},up.abs=function(){return dy(this)?hy(this):this},up.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new ny(n,-2147483648&n[n.length-1]?-1:0)},up.R=function(e){if(uy(this)||uy(e))return ay;if(dy(this))return dy(e)?hy(this).R(hy(e)):hy(hy(this).R(e));if(dy(e))return hy(this.R(hy(e)));if(0>this.X(cy)&&0>e.X(cy))return oy(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,py(n,2*r+2*i),n[2*r+2*i+1]+=o*l,py(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,py(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,py(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new ny(n,0)},up.gb=function(e){return gy(this,e).h},up.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new ny(n,this.h&e.h)},up.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new ny(n,this.h|e.h)},up.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new ny(n,this.h^e.h)},$v.prototype.createWebChannel=$v.prototype.g,Jv.prototype.send=Jv.prototype.u,Jv.prototype.open=Jv.prototype.m,Jv.prototype.close=Jv.prototype.close,Zm.NO_ERROR=0,Zm.TIMEOUT=8,Zm.HTTP_ERROR=6,eg.COMPLETE="complete",rg.EventType=og,og.OPEN="a",og.CLOSE="b",og.ERROR="c",og.MESSAGE="d",wm.prototype.listen=wm.prototype.O,mv.prototype.listenOnce=mv.prototype.P,mv.prototype.getLastError=mv.prototype.Sa,mv.prototype.getLastErrorCode=mv.prototype.Ia,mv.prototype.getStatus=mv.prototype.da,mv.prototype.getResponseJson=mv.prototype.Wa,mv.prototype.getResponseText=mv.prototype.ja,mv.prototype.send=mv.prototype.ha,mv.prototype.setWithCredentials=mv.prototype.Oa,ey.prototype.digest=ey.prototype.l,ey.prototype.reset=ey.prototype.reset,ey.prototype.update=ey.prototype.j,ny.prototype.add=ny.prototype.add,ny.prototype.multiply=ny.prototype.R,ny.prototype.modulo=ny.prototype.gb,ny.prototype.compare=ny.prototype.X,ny.prototype.toNumber=ny.prototype.ea,ny.prototype.toString=ny.prototype.toString,ny.prototype.getBits=ny.prototype.D,ny.fromNumber=oy,ny.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return hy(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=oy(Math.pow(n,8)),i=ay,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=oy(Math.pow(n,s)),i=i.R(s).add(oy(a))):i=(i=i.R(r)).add(oy(a))}return i};var wy=hp.createWebChannelTransport=function(){return new $v},by=hp.getStatEventTarget=function(){return Hm()},_y=hp.ErrorCode=Zm,Sy=hp.EventType=eg,Iy=hp.Event=Wm,ky=hp.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ey=hp.FetchXmlHttpFactory=lv,xy=hp.WebChannel=rg,Ty=hp.XhrIo=mv,Cy=hp.Md5=ey,Ay=hp.Integer=ny;const Ny="@firebase/firestore";class Py{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Py.UNAUTHENTICATED=new Py(null),Py.GOOGLE_CREDENTIALS=new Py("google-credentials-uid"),Py.FIRST_PARTY=new Py("first-party-uid"),Py.MOCK_USER=new Py("mock-user");let Ry="10.11.1";const Oy=new ir("@firebase/firestore");function Dy(){return Oy.logLevel}function Ly(e){if(Oy.logLevel<=Zn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(jy);Oy.debug("Firestore (".concat(Ry,"): ").concat(e),...i)}}function My(e){if(Oy.logLevel<=Zn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(jy);Oy.error("Firestore (".concat(Ry,"): ").concat(e),...i)}}function Fy(e){if(Oy.logLevel<=Zn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(jy);Oy.warn("Firestore (".concat(Ry,"): ").concat(e),...i)}}function jy(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Uy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Ry,") INTERNAL ASSERTION FAILED: ")+e;throw My(t),new Error(t)}function zy(e,t){e||Uy()}function Vy(e,t){return e}const By={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qy extends Cn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Wy{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Ky{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Hy{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Py.UNAUTHENTICATED)))}shutdown(){}}class Gy{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Qy{constructor(e){this.t=e,this.currentUser=Py.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Wy;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Wy,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Ly("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Ly("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Wy)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Ly("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(zy("string"==typeof t.accessToken),new Ky(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return zy(null===e||"string"==typeof e),new Py(e)}}class $y{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Py.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Jy{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new $y(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Py.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Yy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Xy{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Ly("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Ly("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Ly("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Ly("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(zy("string"==typeof e.token),this.R=e.token,new Yy(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Zy(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class ew{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Zy(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function tw(e,t){return e<t?-1:e>t?1:0}function nw(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function rw(e){return e+"\0"}class iw{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new qy(By.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new qy(By.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new qy(By.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qy(By.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return iw.fromMillis(Date.now())}static fromDate(e){return iw.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new iw(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tw(this.nanoseconds,e.nanoseconds):tw(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ow{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ow(e)}static min(){return new ow(new iw(0,0))}static max(){return new ow(new iw(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class sw{constructor(e,t,n){void 0===t?t=0:t>e.length&&Uy(),void 0===n?n=e.length-t:n>e.length-t&&Uy(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===sw.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof sw?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class aw extends sw{construct(e,t,n){return new aw(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new qy(By.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new aw(e)}static emptyPath(){return new aw([])}}const lw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cw extends sw{construct(e,t,n){return new cw(e,t,n)}static isValidIdentifier(e){return lw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cw.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new cw(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new qy(By.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new qy(By.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new qy(By.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new qy(By.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cw(t)}static emptyPath(){return new cw([])}}class uw{constructor(e){this.path=e}static fromPath(e){return new uw(aw.fromString(e))}static fromName(e){return new uw(aw.fromString(e).popFirst(5))}static empty(){return new uw(aw.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===aw.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return aw.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new uw(new aw(e.slice()))}}class dw{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function hw(e){return e.fields.find((e=>2===e.kind))}function fw(e){return e.fields.filter((e=>2!==e.kind))}dw.UNKNOWN_ID=-1;class pw{constructor(e,t){this.fieldPath=e,this.kind=t}}class mw{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new mw(0,yw.min())}}function gw(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ow.fromTimestamp(1e9===r?new iw(n+1,0):new iw(n,r));return new yw(i,uw.empty(),t)}function vw(e){return new yw(e.readTime,e.key,-1)}class yw{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new yw(ow.min(),uw.empty(),-1)}static max(){return new yw(ow.max(),uw.empty(),-1)}}function ww(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=uw.comparator(e.documentKey,t.documentKey),0!==n?n:tw(e.largestBatchId,t.largestBatchId))}const bw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _w{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Sw(e){if(e.code!==By.FAILED_PRECONDITION||e.message!==bw)throw e;Ly("LocalStore","Unexpectedly lost primary lease")}class Iw{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Uy(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Iw(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Iw?t:Iw.resolve(t)}catch(e){return Iw.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Iw.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Iw.reject(t)}static resolve(e){return new Iw(((t,n)=>{t(e)}))}static reject(e){return new Iw(((t,n)=>{n(e)}))}static waitFor(e){return new Iw(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Iw.resolve(!1);for(const n of e)t=t.next((e=>e?Iw.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Iw(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Iw(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class kw{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Wy,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Cw(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=Ow(t.target.error);this.V.reject(new Cw(e,n))}}static open(e,t,n,r){try{return new kw(t,e.transaction(r,n))}catch(e){throw new Cw(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ly("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Nw(t)}}class Ew{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===Ew.S(yn())&&My("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ly("SimpleDb","Removing database:",e),Pw(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!xn())return!1;if(Ew.C())return!0;const e=yn(),t=Ew.S(e),n=0<t&&t<10,r=xw(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(Ly("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Cw(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new qy(By.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new qy(By.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Cw(e,r))},r.onupgradeneeded=e=>{Ly("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.O(t,r.transaction,e.oldVersion,this.version).next((()=>{Ly("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.N&&(this.db.onversionchange=e=>this.N(e)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.M(e);const t=kw.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),Iw.reject(e)))).toPromise();return o.catch((()=>{})),await t.m,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(Ly("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function xw(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Tw{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Pw(this.B.delete())}}class Cw extends qy{constructor(e,t){super(By.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Aw(e){return"IndexedDbTransactionError"===e.name}class Nw{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Ly("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ly("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Pw(n)}add(e){return Ly("SimpleDb","ADD",this.store.name,e,e),Pw(this.store.add(e))}get(e){return Pw(this.store.get(e)).next((t=>(void 0===t&&(t=null),Ly("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Ly("SimpleDb","DELETE",this.store.name,e),Pw(this.store.delete(e))}count(){return Ly("SimpleDb","COUNT",this.store.name),Pw(this.store.count())}U(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new Iw(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}}G(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Iw(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}j(e,t){Ly("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.H=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}J(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Y(e){const t=this.cursor({});return new Iw(((n,r)=>{t.onerror=e=>{const t=Ow(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new Iw(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new Tw(i),s=t(i.primaryKey,i.value,o);if(s instanceof Iw){const e=s.catch((e=>(o.done(),Iw.reject(e))));n.push(e)}o.isDone?r():null===o.K?i.continue():i.continue(o.K)}})).next((()=>Iw.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Pw(e){return new Iw(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Ow(e.target.error);n(t)}}))}let Rw=!1;function Ow(e){const t=Ew.S(yn());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new qy("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Rw||(Rw=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Dw{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){Ly("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Ly("IndexBackfiller","Documents written: ".concat(await this.Z.ee()))}catch(e){Aw(e)?Ly("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await Sw(e)}await this.X(6e4)}))}}class Lw{constructor(e,t){this.localStore=e,this.persistence=t}async ee(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.te(t,e)))}te(e,t){const n=new Set;let r=t,i=!0;return Iw.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Ly("IndexBackfiller","Processing collection: ".concat(t)),this.ne(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}ne(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.re(r,n))).next((n=>(Ly("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}re(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=vw(t);ww(r,n)>0&&(n=r)})),new yw(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Mw{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Fw(e){return null==e}function jw(e){return 0===e&&1/e==-1/0}function Uw(e){return"number"==typeof e&&Number.isInteger(e)&&!jw(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function zw(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Bw(t)),t=Vw(e.get(n),t);return Bw(t)}function Vw(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Bw(e){return e+"\x01\x01"}function qw(e){const t=e.length;if(zy(t>=2),2===t)return zy("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),aw.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&Uy(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:Uy()}o=t+2}return new aw(r)}Mw.oe=-1;const Ww=["userId","batchId"];function Kw(e,t){return[e,zw(t)]}function Hw(e,t,n){return[e,zw(t),n]}const Gw={},Qw=["prefixPath","collectionGroup","readTime","documentId"],$w=["prefixPath","collectionGroup","documentId"],Jw=["collectionGroup","readTime","prefixPath","documentId"],Yw=["canonicalId","targetId"],Xw=["targetId","path"],Zw=["path","targetId"],eb=["collectionId","parent"],tb=["indexId","uid"],nb=["uid","sequenceNumber"],rb=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ib=["indexId","uid","orderedDocumentKey"],ob=["userId","collectionPath","documentId"],sb=["userId","collectionPath","largestBatchId"],ab=["userId","collectionGroup","largestBatchId"],lb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],cb=[...lb,"documentOverlays"],ub=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],db=ub,hb=[...db,"indexConfiguration","indexState","indexEntries"],fb=hb;class pb extends _w{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function mb(e,t){const n=Vy(e);return Ew.F(n._e,t)}function gb(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function vb(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function yb(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class wb{constructor(e,t){this.comparator=e,this.root=t||_b.EMPTY}insert(e,t){return new wb(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_b.BLACK,null,null))}remove(e){return new wb(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_b.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bb(this.root,e,this.comparator,!1)}getReverseIterator(){return new bb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bb(this.root,e,this.comparator,!0)}}class bb{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _b{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:_b.RED,this.left=null!=r?r:_b.EMPTY,this.right=null!=i?i:_b.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new _b(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return _b.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return _b.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_b.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_b.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Uy();if(this.right.isRed())throw Uy();const e=this.left.check();if(e!==this.right.check())throw Uy();return e+(this.isRed()?0:1)}}_b.EMPTY=null,_b.RED=!0,_b.BLACK=!1,_b.EMPTY=new class{constructor(){this.size=0}get key(){throw Uy()}get value(){throw Uy()}get color(){throw Uy()}get left(){throw Uy()}get right(){throw Uy()}copy(e,t,n,r,i){return this}insert(e,t,n){return new _b(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Sb{constructor(e){this.comparator=e,this.data=new wb(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ib(this.data.getIterator())}getIteratorFrom(e){return new Ib(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Sb))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Sb(this.comparator);return t.data=e,t}}class Ib{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function kb(e){return e.hasNext()?e.getNext():void 0}class Eb{constructor(e){this.fields=e,e.sort(cw.comparator)}static empty(){return new Eb([])}unionWith(e){let t=new Sb(cw.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Eb(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nw(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class xb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Tb{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new xb("Invalid base64 string: "+e):e}}(e);return new Tb(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Tb(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tw(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tb.EMPTY_BYTE_STRING=new Tb("");const Cb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ab(e){if(zy(!!e),"string"==typeof e){let t=0;const n=Cb.exec(e);if(zy(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Nb(e.seconds),nanos:Nb(e.nanos)}}function Nb(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Pb(e){return"string"==typeof e?Tb.fromBase64String(e):Tb.fromUint8Array(e)}function Rb(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ob(e){const t=e.mapValue.fields.__previous_value__;return Rb(t)?Ob(t):t}function Db(e){const t=Ab(e.mapValue.fields.__local_write_time__.timestampValue);return new iw(t.seconds,t.nanos)}class Lb{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class Mb{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Mb("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Mb&&e.projectId===this.projectId&&e.database===this.database}}const Fb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},jb={nullValue:"NULL_VALUE"};function Ub(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Rb(e)?4:Zb(e)?9007199254740991:10:Uy()}function zb(e,t){if(e===t)return!0;const n=Ub(e);if(n!==Ub(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Db(e).isEqual(Db(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ab(e.timestampValue),r=Ab(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Pb(e.bytesValue).isEqual(Pb(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Nb(e.geoPointValue.latitude)===Nb(t.geoPointValue.latitude)&&Nb(e.geoPointValue.longitude)===Nb(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Nb(e.integerValue)===Nb(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Nb(e.doubleValue),r=Nb(t.doubleValue);return n===r?jw(n)===jw(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return nw(e.arrayValue.values||[],t.arrayValue.values||[],zb);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(gb(n)!==gb(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!zb(n[i],r[i])))return!1;return!0}(e,t);default:return Uy()}}function Vb(e,t){return void 0!==(e.values||[]).find((e=>zb(e,t)))}function Bb(e,t){if(e===t)return 0;const n=Ub(e),r=Ub(t);if(n!==r)return tw(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return tw(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Nb(e.integerValue||e.doubleValue),r=Nb(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return qb(e.timestampValue,t.timestampValue);case 4:return qb(Db(e),Db(t));case 5:return tw(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Pb(e),r=Pb(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=tw(n[i],r[i]);if(0!==e)return e}return tw(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=tw(Nb(e.latitude),Nb(t.latitude));return 0!==n?n:tw(Nb(e.longitude),Nb(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Bb(n[i],r[i]);if(e)return e}return tw(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Fb.mapValue&&t===Fb.mapValue)return 0;if(e===Fb.mapValue)return 1;if(t===Fb.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=tw(r[s],o[s]);if(0!==e)return e;const t=Bb(n[r[s]],i[o[s]]);if(0!==t)return t}return tw(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Uy()}}function qb(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return tw(e,t);const n=Ab(e),r=Ab(t),i=tw(n.seconds,r.seconds);return 0!==i?i:tw(n.nanos,r.nanos)}function Wb(e){return Kb(e)}function Kb(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ab(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Pb(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return uw.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Kb(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Kb(e.fields[i]));return n+"}"}(e.mapValue):Uy()}function Hb(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Gb(e){return!!e&&"integerValue"in e}function Qb(e){return!!e&&"arrayValue"in e}function $b(e){return!!e&&"nullValue"in e}function Jb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Yb(e){return!!e&&"mapValue"in e}function Xb(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return vb(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Xb(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Xb(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Zb(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function e_(e){return"nullValue"in e?jb:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Hb(Mb.empty(),uw.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Uy()}function t_(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Hb(Mb.empty(),uw.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Fb:Uy()}function n_(e,t){const n=Bb(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function r_(e,t){const n=Bb(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class i_{constructor(e){this.value=e}static empty(){return new i_({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Yb(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xb(t)}setAll(e){let t=cw.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Xb(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Yb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zb(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Yb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){vb(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new i_(Xb(this.value))}}function o_(e){const t=[];return vb(e.fields,((e,n)=>{const r=new cw([e]);if(Yb(n)){const e=o_(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Eb(t)}class s_{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new s_(e,0,ow.min(),ow.min(),ow.min(),i_.empty(),0)}static newFoundDocument(e,t,n,r){return new s_(e,1,t,ow.min(),n,r,0)}static newNoDocument(e,t){return new s_(e,2,t,ow.min(),ow.min(),i_.empty(),0)}static newUnknownDocument(e,t){return new s_(e,3,t,ow.min(),ow.min(),i_.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ow.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=i_.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=i_.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ow.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof s_&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new s_(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class a_{constructor(e,t){this.position=e,this.inclusive=t}}function l_(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?uw.comparator(uw.fromName(s.referenceValue),n.key):Bb(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function c_(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!zb(e.position[n],t.position[n]))return!1;return!0}class u_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function d_(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class h_{}class f_ extends h_{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new I_(e,t,n):"array-contains"===t?new T_(e,n):"in"===t?new C_(e,n):"not-in"===t?new A_(e,n):"array-contains-any"===t?new N_(e,n):new f_(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new k_(e,n):new E_(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Bb(t,this.value)):null!==t&&Ub(this.value)===Ub(t)&&this.matchesComparison(Bb(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Uy()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class p_ extends h_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new p_(e,t)}matches(e){return m_(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function m_(e){return"and"===e.op}function g_(e){return"or"===e.op}function v_(e){return y_(e)&&m_(e)}function y_(e){for(const t of e.filters)if(t instanceof p_)return!1;return!0}function w_(e){if(e instanceof f_)return e.field.canonicalString()+e.op.toString()+Wb(e.value);if(v_(e))return e.filters.map((e=>w_(e))).join(",");{const t=e.filters.map((e=>w_(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function b_(e,t){return e instanceof f_?function(e,t){return t instanceof f_&&e.op===t.op&&e.field.isEqual(t.field)&&zb(e.value,t.value)}(e,t):e instanceof p_?function(e,t){return t instanceof p_&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&b_(n,t.filters[r])),!0)}(e,t):void Uy()}function __(e,t){const n=e.filters.concat(t);return p_.create(n,e.op)}function S_(e){return e instanceof f_?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Wb(e.value))}(e):e instanceof p_?function(e){return e.op.toString()+" {"+e.getFilters().map(S_).join(" ,")+"}"}(e):"Filter"}class I_ extends f_{constructor(e,t,n){super(e,t,n),this.key=uw.fromName(n.referenceValue)}matches(e){const t=uw.comparator(e.key,this.key);return this.matchesComparison(t)}}class k_ extends f_{constructor(e,t){super(e,"in",t),this.keys=x_("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class E_ extends f_{constructor(e,t){super(e,"not-in",t),this.keys=x_("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function x_(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>uw.fromName(e.referenceValue)))}class T_ extends f_{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qb(t)&&Vb(t.arrayValue,this.value)}}class C_ extends f_{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Vb(this.value.arrayValue,t)}}class A_ extends f_{constructor(e,t){super(e,"not-in",t)}matches(e){if(Vb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Vb(this.value.arrayValue,t)}}class N_ extends f_{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qb(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Vb(this.value.arrayValue,e)))}}class P_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ue=null}}function R_(e){return new P_(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function O_(e){const t=Vy(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>w_(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Fw(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Wb(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Wb(e))).join(",")),t.ue=e}return t.ue}function D_(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!d_(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!b_(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!c_(e.startAt,t.startAt)&&c_(e.endAt,t.endAt)}function L_(e){return uw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function M_(e,t){return e.filters.filter((e=>e instanceof f_&&e.field.isEqual(t)))}function F_(e,t,n){let r=jb,i=!0;for(const o of M_(e,t)){let e=jb,t=!0;switch(o.op){case"<":case"<=":e=e_(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=jb}n_({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];n_({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function j_(e,t,n){let r=Fb,i=!0;for(const o of M_(e,t)){let e=Fb,t=!0;switch(o.op){case">=":case">":e=t_(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=Fb}r_({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];r_({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class U_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function z_(e,t,n,r,i,o,s,a){return new U_(e,t,n,r,i,o,s,a)}function V_(e){return new U_(e)}function B_(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function q_(e){return null!==e.collectionGroup}function W_(e){const t=Vy(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Sb(cw.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new u_(r,n))})),e.has(cw.keyField().canonicalString())||t.ce.push(new u_(cw.keyField(),n))}return t.ce}function K_(e){const t=Vy(e);return t.le||(t.le=H_(t,W_(e))),t.le}function H_(e,t){if("F"===e.limitType)return R_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new u_(e.field,t)}));const n=e.endAt?new a_(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new a_(e.startAt.position,e.startAt.inclusive):null;return R_(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function G_(e,t){const n=e.filters.concat([t]);return new U_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Q_(e,t,n){return new U_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function $_(e,t){return D_(K_(e),K_(t))&&e.limitType===t.limitType}function J_(e){return"".concat(O_(K_(e)),"|lt:").concat(e.limitType)}function Y_(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>S_(e))).join(", "),"]")),Fw(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Wb(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Wb(e))).join(",")),"Target(".concat(t,")")}(K_(e)),"; limitType=").concat(e.limitType,")")}function X_(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):uw.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of W_(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=l_(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,W_(e),t))&&!(e.endAt&&!function(e,t,n){const r=l_(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,W_(e),t))}(e,t)}function Z_(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function eS(e){return(t,n)=>{let r=!1;for(const i of W_(e)){const e=tS(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function tS(e,t,n){const r=e.field.isKeyField()?uw.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Bb(r,i):Uy()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Uy()}}class nS{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){vb(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return yb(this.inner)}size(){return this.innerSize}}const rS=new wb(uw.comparator);function iS(){return rS}const oS=new wb(uw.comparator);function sS(){let e=oS;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function aS(e){let t=oS;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function lS(){return uS()}function cS(){return uS()}function uS(){return new nS((e=>e.toString()),((e,t)=>e.isEqual(t)))}const dS=new wb(uw.comparator),hS=new Sb(uw.comparator);function fS(){let e=hS;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const pS=new Sb(tw);function mS(){return pS}function gS(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jw(t)?"-0":t}}function vS(e){return{integerValue:""+e}}function yS(e,t){return Uw(t)?vS(t):gS(e,t)}class wS{constructor(){this._=void 0}}function bS(e,t,n){return e instanceof IS?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Rb(t)&&(t=Ob(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof kS?ES(e,t):e instanceof xS?TS(e,t):function(e,t){const n=SS(e,t),r=AS(n)+AS(e.Pe);return Gb(n)&&Gb(e.Pe)?vS(r):gS(e.serializer,r)}(e,t)}function _S(e,t,n){return e instanceof kS?ES(e,t):e instanceof xS?TS(e,t):n}function SS(e,t){return e instanceof CS?function(e){return Gb(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class IS extends wS{}class kS extends wS{constructor(e){super(),this.elements=e}}function ES(e,t){const n=NS(t);for(const r of e.elements)n.some((e=>zb(e,r)))||n.push(r);return{arrayValue:{values:n}}}class xS extends wS{constructor(e){super(),this.elements=e}}function TS(e,t){let n=NS(t);for(const r of e.elements)n=n.filter((e=>!zb(e,r)));return{arrayValue:{values:n}}}class CS extends wS{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function AS(e){return Nb(e.integerValue||e.doubleValue)}function NS(e){return Qb(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class PS{constructor(e,t){this.field=e,this.transform=t}}class RS{constructor(e,t){this.version=e,this.transformResults=t}}class OS{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new OS}static exists(e){return new OS(void 0,e)}static updateTime(e){return new OS(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function DS(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class LS{}function MS(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new HS(e.key,OS.none()):new VS(e.key,e.data,OS.none());{const n=e.data,r=i_.empty();let i=new Sb(cw.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new BS(e.key,r,new Eb(i.toArray()),OS.none())}}function FS(e,t,n){e instanceof VS?function(e,t,n){const r=e.value.clone(),i=WS(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof BS?function(e,t,n){if(!DS(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=WS(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(qS(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function jS(e,t,n,r){return e instanceof VS?function(e,t,n,r){if(!DS(e.precondition,t))return n;const i=e.value.clone(),o=KS(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof BS?function(e,t,n,r){if(!DS(e.precondition,t))return n;const i=KS(e.fieldTransforms,r,t),o=t.data;return o.setAll(qS(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return DS(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function US(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=SS(r.transform,e||null);null!=i&&(null===n&&(n=i_.empty()),n.set(r.field,i))}return n||null}function zS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&nw(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof kS&&t instanceof kS||e instanceof xS&&t instanceof xS?nw(e.elements,t.elements,zb):e instanceof CS&&t instanceof CS?zb(e.Pe,t.Pe):e instanceof IS&&t instanceof IS}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class VS extends LS{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class BS extends LS{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function qS(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function WS(e,t,n){const r=new Map;zy(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,_S(s,a,n[i]))}return r}function KS(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,bS(e,o,t))}return r}class HS extends LS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GS extends LS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class QS{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&FS(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=jS(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=jS(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=cS();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=MS(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(ow.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),fS())}isEqual(e){return this.batchId===e.batchId&&nw(this.mutations,e.mutations,((e,t)=>zS(e,t)))&&nw(this.baseMutations,e.baseMutations,((e,t)=>zS(e,t)))}}class $S{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){zy(e.mutations.length===n.length);let r=dS;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new $S(e,t,n,r)}}class JS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class YS{constructor(e,t){this.count=e,this.unchangedNames=t}}var XS,ZS;function eI(e){switch(e){default:return Uy();case By.CANCELLED:case By.UNKNOWN:case By.DEADLINE_EXCEEDED:case By.RESOURCE_EXHAUSTED:case By.INTERNAL:case By.UNAVAILABLE:case By.UNAUTHENTICATED:return!1;case By.INVALID_ARGUMENT:case By.NOT_FOUND:case By.ALREADY_EXISTS:case By.PERMISSION_DENIED:case By.FAILED_PRECONDITION:case By.ABORTED:case By.OUT_OF_RANGE:case By.UNIMPLEMENTED:case By.DATA_LOSS:return!0}}function tI(e){if(void 0===e)return My("GRPC error has no .code"),By.UNKNOWN;switch(e){case XS.OK:return By.OK;case XS.CANCELLED:return By.CANCELLED;case XS.UNKNOWN:return By.UNKNOWN;case XS.DEADLINE_EXCEEDED:return By.DEADLINE_EXCEEDED;case XS.RESOURCE_EXHAUSTED:return By.RESOURCE_EXHAUSTED;case XS.INTERNAL:return By.INTERNAL;case XS.UNAVAILABLE:return By.UNAVAILABLE;case XS.UNAUTHENTICATED:return By.UNAUTHENTICATED;case XS.INVALID_ARGUMENT:return By.INVALID_ARGUMENT;case XS.NOT_FOUND:return By.NOT_FOUND;case XS.ALREADY_EXISTS:return By.ALREADY_EXISTS;case XS.PERMISSION_DENIED:return By.PERMISSION_DENIED;case XS.FAILED_PRECONDITION:return By.FAILED_PRECONDITION;case XS.ABORTED:return By.ABORTED;case XS.OUT_OF_RANGE:return By.OUT_OF_RANGE;case XS.UNIMPLEMENTED:return By.UNIMPLEMENTED;case XS.DATA_LOSS:return By.DATA_LOSS;default:return Uy()}}(ZS=XS||(XS={}))[ZS.OK=0]="OK",ZS[ZS.CANCELLED=1]="CANCELLED",ZS[ZS.UNKNOWN=2]="UNKNOWN",ZS[ZS.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ZS[ZS.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ZS[ZS.NOT_FOUND=5]="NOT_FOUND",ZS[ZS.ALREADY_EXISTS=6]="ALREADY_EXISTS",ZS[ZS.PERMISSION_DENIED=7]="PERMISSION_DENIED",ZS[ZS.UNAUTHENTICATED=16]="UNAUTHENTICATED",ZS[ZS.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ZS[ZS.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ZS[ZS.ABORTED=10]="ABORTED",ZS[ZS.OUT_OF_RANGE=11]="OUT_OF_RANGE",ZS[ZS.UNIMPLEMENTED=12]="UNIMPLEMENTED",ZS[ZS.INTERNAL=13]="INTERNAL",ZS[ZS.UNAVAILABLE=14]="UNAVAILABLE",ZS[ZS.DATA_LOSS=15]="DATA_LOSS";let nI=null;function rI(){return new TextEncoder}const iI=new Ay([4294967295,4294967295],0);function oI(e){const t=rI().encode(e),n=new Cy;return n.update(t),new Uint8Array(n.digest())}function sI(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ay([n,r],0),new Ay([i,o],0)]}class aI{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new lI("Invalid padding: ".concat(t));if(n<0)throw new lI("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new lI("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new lI("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=Ay.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(Ay.fromNumber(n)));return 1===r.compare(iI)&&(r=new Ay([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=oI(e),[n,r]=sI(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new aI(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Ie)return;const t=oI(e),[n,r]=sI(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class lI extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class cI{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,uI.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new cI(ow.min(),r,new wb(tw),iS(),fS())}}class uI{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new uI(n,t,fS(),fS(),fS())}}class dI{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class hI{constructor(e,t){this.targetId=e,this.me=t}}class fI{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tb.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class pI{constructor(){this.fe=0,this.ge=vI(),this.pe=Tb.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=fS(),t=fS(),n=fS();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Uy()}})),new uI(this.pe,this.ye,e,t,n)}ve(){this.we=!1,this.ge=vI()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,zy(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class mI{constructor(e){this.Le=e,this.Be=new Map,this.ke=iS(),this.qe=gI(),this.Qe=new wb(tw)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Uy()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(L_(i))if(0===n){const e=new uw(i.path);this.Ue(t,e,s_.newNoDocument(e,ow.min()))}else zy(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==nI||nI.et(function(e,t,n,r,i){var o,s,a,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(a=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=Pb(n).toUint8Array()}catch(e){if(e instanceof xb)return Fy("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new aI(o,r,i)}catch(e){return Fy(e instanceof lI?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Ie?null:s}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&L_(i.target)){const t=new uw(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,s_.newNoDocument(t,e))}n.be&&(t.set(r,n.Ce()),n.ve())}}));let n=fS();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new cI(e,t,this.Qe,this.ke,n);return this.ke=iS(),this.qe=gI(),this.Qe=new wb(tw),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new pI,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Sb(tw),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Ly("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new pI),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function gI(){return new wb(uw.comparator)}function vI(){return new wb(uw.comparator)}const yI={asc:"ASCENDING",desc:"DESCENDING"},wI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bI={and:"AND",or:"OR"};class _I{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function SI(e,t){return e.useProto3Json||Fw(t)?t:{value:t}}function II(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function kI(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function EI(e,t){return II(e,t.toTimestamp())}function xI(e){return zy(!!e),ow.fromTimestamp(function(e){const t=Ab(e);return new iw(t.seconds,t.nanos)}(e))}function TI(e,t){return CI(e,t).canonicalString()}function CI(e,t){const n=function(e){return new aw(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function AI(e){const t=aw.fromString(e);return zy(YI(t)),t}function NI(e,t){return TI(e.databaseId,t.path)}function PI(e,t){const n=AI(t);if(n.get(1)!==e.databaseId.projectId)throw new qy(By.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new qy(By.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new uw(LI(n))}function RI(e,t){return TI(e.databaseId,t)}function OI(e){const t=AI(e);return 4===t.length?aw.emptyPath():LI(t)}function DI(e){return new aw(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function LI(e){return zy(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function MI(e,t,n){return{name:NI(e,t),fields:n.value.mapValue.fields}}function FI(e,t,n){const r=PI(e,t.name),i=xI(t.updateTime),o=t.createTime?xI(t.createTime):ow.min(),s=new i_({mapValue:{fields:t.fields}}),a=s_.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function jI(e,t){let n;if(t instanceof VS)n={update:MI(e,t.key,t.value)};else if(t instanceof HS)n={delete:NI(e,t.key)};else if(t instanceof BS)n={update:MI(e,t.key,t.data),updateMask:JI(t.fieldMask)};else{if(!(t instanceof GS))return Uy();n={verify:NI(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof IS)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof kS)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof xS)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof CS)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Uy()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:EI(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Uy()}(e,t.precondition)),n}function UI(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?OS.updateTime(xI(e.updateTime)):void 0!==e.exists?OS.exists(e.exists):OS.none()}(t.currentDocument):OS.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)zy("REQUEST_TIME"===t.setToServerValue),n=new IS;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new kS(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new xS(e)}else"increment"in t?n=new CS(e,t.increment):Uy();const r=cw.fromServerFormat(t.fieldPath);return new PS(r,n)}(e,t))):[];if(t.update){t.update.name;const i=PI(e,t.update.name),o=new i_({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Eb(t.map((e=>cw.fromServerFormat(e))))}(t.updateMask);return new BS(i,o,e,n,r)}return new VS(i,o,n,r)}if(t.delete){const r=PI(e,t.delete);return new HS(r,n)}if(t.verify){const r=PI(e,t.verify);return new GS(r,n)}return Uy()}function zI(e,t){return{documents:[RI(e,t.path)]}}function VI(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=RI(e,i);const o=function(e){if(0!==e.length)return $I(p_.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:GI(e.field),direction:WI(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=SI(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function BI(e){let t=OI(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){zy(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=qI(e);return t instanceof p_&&v_(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new u_(QI(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Fw(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new a_(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new a_(n,t)}(n.endAt)),z_(t,i,s,o,a,"F",l,c)}function qI(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=QI(e.unaryFilter.field);return f_.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=QI(e.unaryFilter.field);return f_.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=QI(e.unaryFilter.field);return f_.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=QI(e.unaryFilter.field);return f_.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Uy()}}(e):void 0!==e.fieldFilter?function(e){return f_.create(QI(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Uy()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return p_.create(e.compositeFilter.filters.map((e=>qI(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Uy()}}(e.compositeFilter.op))}(e):Uy()}function WI(e){return yI[e]}function KI(e){return wI[e]}function HI(e){return bI[e]}function GI(e){return{fieldPath:e.canonicalString()}}function QI(e){return cw.fromServerFormat(e.fieldPath)}function $I(e){return e instanceof f_?function(e){if("=="===e.op){if(Jb(e.value))return{unaryFilter:{field:GI(e.field),op:"IS_NAN"}};if($b(e.value))return{unaryFilter:{field:GI(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Jb(e.value))return{unaryFilter:{field:GI(e.field),op:"IS_NOT_NAN"}};if($b(e.value))return{unaryFilter:{field:GI(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:GI(e.field),op:KI(e.op),value:e.value}}}(e):e instanceof p_?function(e){const t=e.getFilters().map((e=>$I(e)));return 1===t.length?t[0]:{compositeFilter:{op:HI(e.op),filters:t}}}(e):Uy()}function JI(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function YI(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class XI{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ow.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ow.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Tb.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new XI(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new XI(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new XI(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new XI(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ZI{constructor(e){this.ut=e}}function ek(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:tk(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:NI(e,t.key),fields:t.data.value.mapValue.fields,updateTime:II(e,t.version.toTimestamp()),createTime:II(e,t.createTime.toTimestamp())}}(e.ut,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:nk(t.version)};else{if(!t.isUnknownDocument())return Uy();r.unknownDocument={path:n.path.toArray(),version:nk(t.version)}}return r}function tk(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function nk(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function rk(e){const t=new iw(e.seconds,e.nanoseconds);return ow.fromTimestamp(t)}function ik(e,t){const n=(t.baseMutations||[]).map((t=>UI(e.ut,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>UI(e.ut,t))),i=iw.fromMillis(t.localWriteTimeMs);return new QS(t.batchId,i,n,r)}function ok(e){const t=rk(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?rk(e.lastLimboFreeSnapshotVersion):ow.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return zy(1===e.documents.length),K_(V_(OI(e.documents[0])))}(e.query):function(e){return K_(BI(e))}(e.query),new XI(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Tb.fromBase64String(e.resumeToken))}function sk(e,t){const n=nk(t.snapshotVersion),r=nk(t.lastLimboFreeSnapshotVersion);let i;i=L_(t.target)?zI(e.ut,t.target):VI(e.ut,t.target)._t;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:O_(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function ak(e){const t=BI({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Q_(t,t.limit,"L"):t}function lk(e,t){return new JS(t.largestBatchId,UI(e.ut,t.overlayMutation))}function ck(e,t){const n=t.path.lastSegment();return[e,zw(t.path.popLast()),n]}function uk(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:nk(r.readTime),documentKey:zw(r.documentKey.path),largestBatchId:r.largestBatchId}}class dk{getBundleMetadata(e,t){return hk(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:rk(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return hk(e).put(function(e){return{bundleId:e.id,createTime:nk(xI(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return fk(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:ak(e.bundledQuery),readTime:rk(e.readTime)}}(e)}))}saveNamedQuery(e,t){return fk(e).put(function(e){return{name:e.name,readTime:nk(xI(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function hk(e){return mb(e,"bundles")}function fk(e){return mb(e,"namedQueries")}class pk{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){const n=t.uid||"";return new pk(e,n)}getOverlay(e,t){return mk(e).get(ck(this.userId,t)).next((e=>e?lk(this.serializer,e):null))}getOverlays(e,t){const n=lS();return Iw.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new JS(t,i);r.push(this.lt(e,o))})),Iw.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(zw(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(mk(e).j("collectionPathOverlayIndex",r))})),Iw.waitFor(i)}getOverlaysForCollection(e,t,n){const r=lS(),i=zw(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return mk(e).U("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=lk(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=lS();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return mk(e).J({index:"collectionGroupOverlayIndex",range:s},((e,t,n)=>{const s=lk(this.serializer,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()})).next((()=>i))}lt(e,t){return mk(e).put(function(e,t,n){const[r,i,o]=ck(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:jI(e.ut,n.mutation)}}(this.serializer,this.userId,t))}}function mk(e){return mb(e,"documentOverlays")}class gk{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Nb(e.integerValue));else if("doubleValue"in e){const n=Nb(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),jw(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Tt(t,20),"string"==typeof n&&(n=Ab(n)),t.dt("".concat(n.seconds||"")),t.Et(n.nanos||0)}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Pb(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Tt(t,45),t.Et(n.latitude||0),t.Et(n.longitude||0)}else"mapValue"in e?Zb(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Uy()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const n=e.fields||{};this.Tt(t,55);for(const r of Object.keys(n))this.At(r,t),this.Pt(n[r],t)}yt(e,t){const n=e.values||[];this.Tt(t,50);for(const r of n)this.Pt(r,t)}ft(e,t){this.Tt(t,37),uw.fromName(e).path.forEach((e=>{this.Tt(t,60),this.wt(e,t)}))}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function vk(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function yk(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=vk(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}gk.St=new gk;class wk{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Dt(n.value),n=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ft(n.value),n=t.next();this.Mt()}xt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Dt(e);else if(e<2048)this.Dt(960|e>>>6),this.Dt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e);else{const e=t.codePointAt(0);this.Dt(240|e>>>18),this.Dt(128|63&e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e)}}this.Ct()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ft(e);else if(e<2048)this.Ft(960|e>>>6),this.Ft(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e);else{const e=t.codePointAt(0);this.Ft(240|e>>>18),this.Ft(128|63&e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e)}}this.Mt()}Nt(e){const t=this.Lt(e),n=yk(t);this.Bt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Lt(e),n=yk(t);this.Bt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Bt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Lt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Bt(1),this.buffer[this.position++]=e}$t(e){this.Bt(1),this.buffer[this.position++]=~e}Bt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class bk{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class _k{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Sk{constructor(){this.Wt=new wk,this.Gt=new bk(this.Wt),this.zt=new _k(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Ik{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Ik(this.indexId,this.documentKey,this.arrayValue,n)}}function kk(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Ek(e.arrayValue,t.arrayValue),0!==n?n:(n=Ek(e.directionalValue,t.directionalValue),0!==n?n:uw.comparator(e.documentKey,t.documentKey)))}function Ek(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class xk{constructor(e){this.Jt=new Sb(((e,t)=>cw.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Jt=this.Jt.add(e):this.Zt.push(e)}}get Xt(){return this.Jt.size>1}en(e){if(zy(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=hw(e);if(void 0!==t&&!this.tn(t))return!1;const n=fw(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.tn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Jt.size>0){const e=this.Jt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.nn(e,t)||!this.rn(this.Yt[o++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.Yt.length||!this.rn(this.Yt[o++],e))return!1}return!0}sn(){if(this.Xt)return null;let e=new Sb(cw.comparator);const t=[];for(const n of this.Zt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new pw(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new pw(n.field,0))}for(const n of this.Yt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new pw(n.field,"asc"===n.dir?0:1)));return new dw(dw.UNKNOWN_ID,this.collectionId,t,mw.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Tk(e){var t,n;if(zy(e instanceof f_||e instanceof p_),e instanceof f_){if(e instanceof C_){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>f_.create(e.field,"==",t))))||[];return p_.create(r,"or")}return e}const r=e.filters.map((e=>Tk(e)));return p_.create(r,e.op)}function Ck(e){if(0===e.getFilters().length)return[];const t=Rk(Tk(e));return zy(Pk(t)),Ak(t)||Nk(t)?[t]:t.getFilters()}function Ak(e){return e instanceof f_}function Nk(e){return e instanceof p_&&v_(e)}function Pk(e){return Ak(e)||Nk(e)||function(e){if(e instanceof p_&&g_(e)){for(const t of e.getFilters())if(!Ak(t)&&!Nk(t))return!1;return!0}return!1}(e)}function Rk(e){if(zy(e instanceof f_||e instanceof p_),e instanceof f_)return e;if(1===e.filters.length)return Rk(e.filters[0]);const t=e.filters.map((e=>Rk(e)));let n=p_.create(t,e.op);return n=Lk(n),Pk(n)?n:(zy(n instanceof p_),zy(m_(n)),zy(n.filters.length>1),n.filters.reduce(((e,t)=>Ok(e,t))))}function Ok(e,t){let n;return zy(e instanceof f_||e instanceof p_),zy(t instanceof f_||t instanceof p_),n=e instanceof f_?t instanceof f_?function(e,t){return p_.create([e,t],"and")}(e,t):Dk(e,t):t instanceof f_?Dk(t,e):function(e,t){if(zy(e.filters.length>0&&t.filters.length>0),m_(e)&&m_(t))return __(e,t.getFilters());const n=g_(e)?e:t,r=g_(e)?t:e,i=n.filters.map((e=>Ok(e,r)));return p_.create(i,"or")}(e,t),Lk(n)}function Dk(e,t){if(m_(t))return __(t,e.getFilters());{const n=t.filters.map((t=>Ok(e,t)));return p_.create(n,"or")}}function Lk(e){if(zy(e instanceof f_||e instanceof p_),e instanceof f_)return e;const t=e.getFilters();if(1===t.length)return Lk(t[0]);if(y_(e))return e;const n=t.map((e=>Lk(e))),r=[];return n.forEach((t=>{t instanceof f_?r.push(t):t instanceof p_&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:p_.create(r,e.op)}class Mk{constructor(){this.on=new Fk}addToCollectionParentIndex(e,t){return this.on.add(t),Iw.resolve()}getCollectionParents(e,t){return Iw.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return Iw.resolve()}deleteFieldIndex(e,t){return Iw.resolve()}deleteAllFieldIndexes(e){return Iw.resolve()}createTargetIndexes(e,t){return Iw.resolve()}getDocumentsMatchingTarget(e,t){return Iw.resolve(null)}getIndexType(e,t){return Iw.resolve(0)}getFieldIndexes(e,t){return Iw.resolve([])}getNextCollectionGroupToUpdate(e){return Iw.resolve(null)}getMinOffset(e,t){return Iw.resolve(yw.min())}getMinOffsetFromCollectionGroup(e,t){return Iw.resolve(yw.min())}updateCollectionGroup(e,t,n){return Iw.resolve()}updateIndexEntries(e,t){return Iw.resolve()}}class Fk{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Sb(aw.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Sb(aw.comparator)).toArray()}}const jk=new Uint8Array(0);class Uk{constructor(e,t){this.databaseId=t,this._n=new Fk,this.an=new nS((e=>O_(e)),((e,t)=>D_(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this._n.add(t)}));const i={collectionId:n,parent:zw(r)};return zk(e).put(i)}return Iw.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[rw(t),""],!1,!0);return zk(e).U(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(qw(r.parent))}return n}))}addFieldIndex(e,t){const n=Bk(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=qk(e);return i.next((e=>{n.put(uk(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Bk(e),r=qk(e),i=Vk(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Bk(e),n=Vk(e),r=qk(e);return t.j().next((()=>n.j())).next((()=>r.j()))}createTargetIndexes(e,t){return Iw.forEach(this.un(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new xk(t).sn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=Vk(e);let r=!0;const i=new Map;return Iw.forEach(this.un(t),(t=>this.cn(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=fS();const r=[];return Iw.forEach(i,((i,o)=>{Ly("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(O_(t)));const s=function(e,t){const n=hw(t);if(void 0===n)return null;for(const r of M_(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),a=function(e,t){const n=new Map;for(const r of fw(t))for(const t of M_(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of fw(t)){const t=0===i.kind?F_(e,i.fieldPath,e.startAt):j_(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new a_(n,r)}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of fw(t)){const t=0===i.kind?j_(e,i.fieldPath,e.endAt):F_(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new a_(n,r)}(o,i),u=this.ln(i,o,l),d=this.ln(i,o,c),h=this.hn(i,o,a),f=this.Pn(i.indexId,s,u,l.inclusive,d,c.inclusive,h);return Iw.forEach(f,(i=>n.G(i,t.limit).next((t=>{t.forEach((t=>{const n=uw.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Iw.resolve(null)}))}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:Ck(p_.create(e.filters,"and")).map((t=>R_(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.an.set(e,t),t)}Pn(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.In(t[u/l]):jk,d=this.Tn(e,a,n[u%l],r),h=this.En(e,a,i[u%l],o),f=s.map((t=>this.Tn(e,a,t,!0)));c.push(...this.createRange(d,h,f))}return c}Tn(e,t,n,r){const i=new Ik(e,uw.empty(),t,n);return r?i:i.Ht()}En(e,t,n,r){const i=new Ik(e,uw.empty(),t,n);return r?i.Ht():i}cn(e,t){const n=new xk(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.en(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.un(t);return Iw.forEach(r,(t=>this.cn(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Sb(cw.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}dn(e,t){const n=new Sk;for(const r of fw(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.jt(r.kind);gk.St.ht(e,i)}return n.Ut()}In(e){const t=new Sk;return gk.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const n=new Sk;return gk.St.ht(Hb(this.databaseId,t),n.jt(function(e){const t=fw(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ut()}hn(e,t,n){if(null===n)return[];let r=[];r.push(new Sk);let i=0;for(const o of fw(e)){const e=n[i++];for(const n of r)if(this.Rn(t,o.fieldPath)&&Qb(e))r=this.Vn(r,o,e);else{const t=n.jt(o.kind);gk.St.ht(e,t)}}return this.mn(r)}ln(e,t,n){return this.hn(e,t,n.position)}mn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Ut();return t}Vn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new Sk;n.seed(e.Ut()),gk.St.ht(o,n.jt(t.kind)),i.push(n)}return i}Rn(e,t){return!!e.filters.find((e=>e instanceof f_&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Bk(e),r=qk(e);return(t?n.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.U()).next((e=>{const t=[];return Iw.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new mw(t.sequenceNumber,new yw(rk(t.readTime),new uw(qw(t.documentKey)),t.largestBatchId)):mw.empty(),r=e.fields.map((e=>{let[t,n]=e;return new pw(cw.fromServerFormat(t),n)}));return new dw(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:tw(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Bk(e),i=qk(e);return this.fn(e).next((e=>r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Iw.forEach(t,(t=>i.put(uk(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Iw.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Iw.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Iw.forEach(i,(n=>this.gn(e,t,n).next((t=>{const i=this.pn(r,n);return t.isEqual(i)?Iw.resolve():this.yn(e,r,n,t,i)})))))))}))}wn(e,t,n,r){return Vk(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(n,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,n,r){return Vk(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(n,t.key),t.key.path.toArray()])}gn(e,t,n){const r=Vk(e);let i=new Sb(kk);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.An(n,t)])},((e,r)=>{i=i.add(new Ik(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}pn(e,t){let n=new Sb(kk);const r=this.dn(t,e);if(null==r)return n;const i=hw(t);if(null!=i){const o=e.data.field(i.fieldPath);if(Qb(o))for(const i of o.arrayValue.values||[])n=n.add(new Ik(t.indexId,e.key,this.In(i),r))}else n=n.add(new Ik(t.indexId,e.key,jk,r));return n}yn(e,t,n,r,i){Ly("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=kb(o),l=kb(s);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=kb(s)):t?(i(a),a=kb(o)):(a=kb(o),l=kb(s))}}(r,i,kk,(r=>{o.push(this.wn(e,t,n,r))}),(r=>{o.push(this.Sn(e,t,n,r))})),Iw.waitFor(o)}fn(e){let t=1;return qk(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>kk(e,t))).filter(((e,t,n)=>!t||0!==kk(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=kk(o,e),i=kk(o,t);if(0===n)r[0]=e.Ht();else if(n>0&&i<0)r.push(o),r.push(o.Ht());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.bn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,jk,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,jk,[]];i.push(IDBKeyRange.bound(e,t))}return i}bn(e,t){return kk(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Wk)}getMinOffset(e,t){return Iw.mapArray(this.un(t),(t=>this.cn(e,t).next((e=>e||Uy())))).next(Wk)}}function zk(e){return mb(e,"collectionParents")}function Vk(e){return mb(e,"indexEntries")}function Bk(e){return mb(e,"indexConfiguration")}function qk(e){return mb(e,"indexState")}function Wk(e){zy(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;ww(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new yw(t.readTime,t.documentKey,n)}const Kk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Hk{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Hk(e,Hk.DEFAULT_COLLECTION_PERCENTILE,Hk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Gk(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:s},((e,t,n)=>(a++,n.delete())));o.push(l.next((()=>{zy(1===a)})));const c=[];for(const u of n.mutations){const e=Hw(t,u.key.path,n.batchId);o.push(i.delete(e)),c.push(u.key)}return Iw.waitFor(o).next((()=>c))}function Qk(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Uy();t=e.noDocument}return JSON.stringify(t).length}Hk.DEFAULT_COLLECTION_PERCENTILE=10,Hk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hk.DEFAULT=new Hk(41943040,Hk.DEFAULT_COLLECTION_PERCENTILE,Hk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hk.DISABLED=new Hk(-1,0,0);class $k{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Dn={}}static ct(e,t,n,r){zy(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new $k(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yk(e).J({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Xk(e),o=Yk(e);return o.add({}).next((s=>{zy("number"==typeof s);const a=new QS(s,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>jI(e.ut,t))),i=n.mutations.map((t=>jI(e.ut,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),c=[];let u=new Sb(((e,t)=>tw(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Hw(this.userId,e.key.path,s);u=u.add(e.key.path.popLast()),c.push(o.put(l)),c.push(i.put(t,Gw))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Dn[s]=a.keys()})),Iw.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return Yk(e).get(t).next((e=>e?(zy(e.userId===this.userId),ik(this.serializer,e)):null))}Cn(e,t){return this.Dn[t]?Iw.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Dn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Yk(e).J({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(zy(t.batchId>=n),i=ik(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Yk(e).J({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Yk(e).U("userMutationsIndex",t).next((e=>e.map((e=>ik(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Kw(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Xk(e).J({range:r},((n,r,o)=>{const[s,a,l]=n,c=qw(a);if(s===this.userId&&t.path.isEqual(c))return Yk(e).get(l).next((e=>{if(!e)throw Uy();zy(e.userId===this.userId),i.push(ik(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Sb(tw);const r=[];return t.forEach((t=>{const i=Kw(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=Xk(e).J({range:o},((e,r,i)=>{const[o,s,a]=e,l=qw(s);o===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(s)})),Iw.waitFor(r).next((()=>this.vn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Kw(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new Sb(tw);return Xk(e).J({range:o},((e,t,i)=>{const[o,a,l]=e,c=qw(a);o===this.userId&&n.isPrefixOf(c)?c.length===r&&(s=s.add(l)):i.done()})).next((()=>this.vn(e,s)))}vn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Yk(e).get(t).next((e=>{if(null===e)throw Uy();zy(e.userId===this.userId),n.push(ik(this.serializer,e))})))})),Iw.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Gk(e._e,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Fn(t.batchId)})),Iw.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Iw.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return Xk(e).J({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=qw(e[1]);r.push(t)}else n.done()})).next((()=>{zy(0===r.length)}))}))}containsKey(e,t){return Jk(e,this.userId,t)}Mn(e){return Zk(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Jk(e,t,n){const r=Kw(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Xk(e).J({range:o,H:!0},((e,n,r)=>{const[o,a,l]=e;o===t&&a===i&&(s=!0),r.done()})).next((()=>s))}function Yk(e){return mb(e,"mutations")}function Xk(e){return mb(e,"documentMutations")}function Zk(e){return mb(e,"mutationQueues")}class eE{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new eE(0)}static Nn(){return new eE(-1)}}class tE{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Ln(e).next((t=>{const n=new eE(t.highestTargetId);return t.highestTargetId=n.next(),this.Bn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Ln(e).next((e=>ow.fromTimestamp(new iw(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Ln(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Ln(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Bn(e,r))))}addTargetData(e,t){return this.kn(e,t).next((()=>this.Ln(e).next((n=>(n.targetCount+=1,this.qn(t,n),this.Bn(e,n))))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>nE(e).delete(t.targetId))).next((()=>this.Ln(e))).next((t=>(zy(t.targetCount>0),t.targetCount-=1,this.Bn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return nE(e).J(((o,s)=>{const a=ok(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Iw.waitFor(i))).next((()=>r))}forEachTarget(e,t){return nE(e).J(((e,n)=>{const r=ok(n);t(r)}))}Ln(e){return rE(e).get("targetGlobalKey").next((e=>(zy(null!==e),e)))}Bn(e,t){return rE(e).put("targetGlobalKey",t)}kn(e,t){return nE(e).put(sk(this.serializer,t))}qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Ln(e).next((e=>e.targetCount))}getTargetData(e,t){const n=O_(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return nE(e).J({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=ok(n);D_(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=iE(e);return t.forEach((t=>{const o=zw(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),Iw.waitFor(r)}removeMatchingKeys(e,t,n){const r=iE(e);return Iw.forEach(t,(t=>{const i=zw(t.path);return Iw.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=iE(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=iE(e);let i=fS();return r.J({range:n,H:!0},((e,t,n)=>{const r=qw(e[1]),o=new uw(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=zw(t.path),r=IDBKeyRange.bound([n],[rw(n)],!1,!0);let i=0;return iE(e).J({index:"documentTargetsIndex",H:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}ot(e,t){return nE(e).get(t).next((e=>e?ok(e):null))}}function nE(e){return mb(e,"targets")}function rE(e){return mb(e,"targetGlobal")}function iE(e){return mb(e,"targetDocuments")}function oE(e,t){let[n,r]=e,[i,o]=t;const s=tw(n,i);return 0===s?tw(r,o):s}class sE{constructor(e){this.Qn=e,this.buffer=new Sb(oE),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();oE(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class aE{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){Ly("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Aw(e)?Ly("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Sw(e)}await this.Gn(3e5)}))}}class lE{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Iw.resolve(Mw.oe);const n=new sE(t);return this.zn.forEachTarget(e,(e=>n.Un(e.sequenceNumber))).next((()=>this.zn.Hn(e,(e=>n.Un(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ly("LruGarbageCollector","Garbage collection skipped; disabled"),Iw.resolve(Kk)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Ly("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Kk):this.Jn(e,t)))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let n,r,i,o,s,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Ly("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Dy()<=Zn.DEBUG&&Ly("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Iw.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function cE(e,t){return new lE(e,t)}class uE{constructor(e,t){this.db=e,this.garbageCollector=cE(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Yn(e){let t=0;return this.Hn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,((e,n)=>t(n)))}addReference(e,t,n){return dE(e,n)}removeReference(e,t,n){return dE(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return dE(e,t)}Xn(e,t){return function(e,t){let n=!1;return Zk(e).Y((r=>Jk(e,r,t).next((e=>(e&&(n=!0),Iw.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Zn(e,((o,s)=>{if(s<=t){const t=this.Xn(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,ow.min()),iE(e).delete(function(e){return[0,zw(e.path)]}(o)))))}));r.push(t)}})).next((()=>Iw.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return dE(e,t)}Zn(e,t){const n=iE(e);let r,i=Mw.oe;return n.J({index:"documentTargetsIndex"},((e,n)=>{let[o,s]=e,{path:a,sequenceNumber:l}=n;0===o?(i!==Mw.oe&&t(new uw(qw(r)),i),i=l,r=a):i=Mw.oe})).next((()=>{i!==Mw.oe&&t(new uw(qw(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function dE(e,t){return iE(e).put(function(e,t){return{targetId:0,path:zw(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class hE{constructor(){this.changes=new nS((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,s_.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Iw.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fE{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return vE(e).put(n)}removeEntry(e,t,n){return vE(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],tk(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.er(e,n))))}getEntry(e,t){let n=s_.newInvalidDocument(t);return vE(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(yE(t))},((e,r)=>{n=this.tr(t,r)})).next((()=>n))}nr(e,t){let n={size:0,document:s_.newInvalidDocument(t)};return vE(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(yE(t))},((e,r)=>{n={document:this.tr(t,r),size:Qk(r)}})).next((()=>n))}getEntries(e,t){let n=iS();return this.rr(e,t,((e,t)=>{const r=this.tr(e,t);n=n.insert(e,r)})).next((()=>n))}ir(e,t){let n=iS(),r=new wb(uw.comparator);return this.rr(e,t,((e,t)=>{const i=this.tr(e,t);n=n.insert(e,i),r=r.insert(e,Qk(t))})).next((()=>({documents:n,sr:r})))}rr(e,t,n){if(t.isEmpty())return Iw.resolve();let r=new Sb(bE);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(yE(r.first()),yE(r.last())),o=r.getIterator();let s=o.getNext();return vE(e).J({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=uw.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&bE(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.$(yE(s)):r.done()})).next((()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),tk(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return vE(e).U(IDBKeyRange.bound(s,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=iS();for(const i of e){const e=this.tr(uw.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(X_(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=iS();const o=wE(t,n),s=wE(t,yw.max());return vE(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},((e,t,n)=>{const o=this.tr(uw.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new mE(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return gE(e).get("remoteDocumentGlobalKey").next((e=>(zy(!!e),e)))}er(e,t){return gE(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=FI(e.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=uw.fromSegments(t.noDocument.path),r=rk(t.noDocument.readTime);n=s_.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Uy();{const e=uw.fromSegments(t.unknownDocument.path),r=rk(t.unknownDocument.version);n=s_.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new iw(e[0],e[1]);return ow.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(ow.min()))return e}return s_.newInvalidDocument(e)}}function pE(e){return new fE(e)}class mE extends hE{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new nS((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Sb(((e,t)=>tw(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.ar.get(i);if(t.push(this._r.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=ek(this._r.serializer,o);r=r.add(i.path.popLast());const l=Qk(a);n+=l-s.size,t.push(this._r.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=ek(this._r.serializer,o.convertToNoDocument(ow.min()));t.push(this._r.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,n))})),t.push(this._r.updateMetadata(e,n)),Iw.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next((e=>(this.ar.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this._r.ir(e,t).next((e=>{let{documents:t,sr:n}=e;return n.forEach(((e,n)=>{this.ar.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function gE(e){return mb(e,"remoteDocumentGlobal")}function vE(e){return mb(e,"remoteDocumentsV14")}function yE(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function wE(e,t){const n=t.documentKey.path.toArray();return[e,tk(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function bE(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=tw(n[o],r[o]),i)return i;return i=tw(n.length,r.length),i||(i=tw(n[n.length-2],r[r.length-2]),i||tw(n[n.length-1],r[r.length-1]))}class _E{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class SE{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&jS(n.mutation,e,Eb.empty(),iw.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,fS()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fS();const r=lS();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=sS();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=lS();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,fS())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=iS();const o=uS(),s=uS();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof BS)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),jS(s.mutation,t,s.mutation.getFieldMask(),iw.now())):o.set(t.key,Eb.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new _E(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=uS();let r=new wb(((e,t)=>e-t)),i=fS();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Eb.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||fS()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=cS();l.forEach((e=>{if(!i.has(e)){const r=MS(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Iw.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return uw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):q_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Iw.resolve(lS());let s=-1,a=i;return o.next((t=>Iw.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Iw.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,fS()))).next((e=>({batchId:s,changes:aS(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new uw(t)).next((e=>{let t=sS();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=sS();return this.indexManager.getCollectionParents(e,i).next((s=>Iw.forEach(s,(s=>{const a=function(e,t){return new U_(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,s_.newInvalidDocument(r)))}));let n=sS();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&jS(o.mutation,r,Eb.empty(),iw.now()),X_(t,r)&&(n=n.insert(e,r))})),n}))}}class IE{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return Iw.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:xI(e.createTime)}}(t)),Iw.resolve()}getNamedQuery(e,t){return Iw.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:ak(e.bundledQuery),readTime:xI(e.readTime)}}(t)),Iw.resolve()}}class kE{constructor(){this.overlays=new wb(uw.comparator),this.lr=new Map}getOverlay(e,t){return Iw.resolve(this.overlays.get(t))}getOverlays(e,t){const n=lS();return Iw.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.lt(e,t,r)})),Iw.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.lr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.lr.delete(n)),Iw.resolve()}getOverlaysForCollection(e,t,n){const r=lS(),i=t.length+1,o=new uw(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Iw.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new wb(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=lS(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=lS(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return Iw.resolve(s)}lt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new JS(t,n));let i=this.lr.get(t);void 0===i&&(i=fS(),this.lr.set(t,i)),this.lr.set(t,i.add(n.key))}}class EE{constructor(){this.hr=new Sb(xE.Pr),this.Ir=new Sb(xE.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const n=new xE(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.dr(new xE(e,t))}Ar(e,t){e.forEach((e=>this.removeReference(e,t)))}Rr(e){const t=new uw(new aw([])),n=new xE(t,e),r=new xE(t,e+1),i=[];return this.Ir.forEachInRange([n,r],(e=>{this.dr(e),i.push(e.key)})),i}Vr(){this.hr.forEach((e=>this.dr(e)))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new uw(new aw([])),n=new xE(t,e),r=new xE(t,e+1);let i=fS();return this.Ir.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new xE(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class xE{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return uw.comparator(e.key,t.key)||tw(e.gr,t.gr)}static Tr(e,t){return tw(e.gr,t.gr)||uw.comparator(e.key,t.key)}}class TE{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Sb(xE.Pr)}checkEmpty(e){return Iw.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new QS(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.yr=this.yr.add(new xE(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Iw.resolve(o)}lookupMutationBatch(e,t){return Iw.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Sr(n),i=r<0?0:r;return Iw.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Iw.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Iw.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new xE(t,0),r=new xE(t,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([n,r],(e=>{const t=this.wr(e.gr);i.push(t)})),Iw.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Sb(tw);return t.forEach((e=>{const t=new xE(e,0),r=new xE(e,Number.POSITIVE_INFINITY);this.yr.forEachInRange([t,r],(e=>{n=n.add(e.gr)}))})),Iw.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;uw.isDocumentKey(i)||(i=i.child(""));const o=new xE(new uw(i),0);let s=new Sb(tw);return this.yr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.gr)),!0)}),o),Iw.resolve(this.br(s))}br(e){const t=[];return e.forEach((e=>{const n=this.wr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){zy(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.yr;return Iw.forEach(t.mutations,(r=>{const i=new xE(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.yr=n}))}Fn(e){}containsKey(e,t){const n=new xE(t,0),r=this.yr.firstAfterOrEqual(n);return Iw.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Iw.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class CE{constructor(e){this.Cr=e,this.docs=new wb(uw.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Iw.resolve(n?n.document.mutableCopy():s_.newInvalidDocument(t))}getEntries(e,t){let n=iS();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():s_.newInvalidDocument(e))})),Iw.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=iS();const o=t.path,s=new uw(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||ww(vw(s),n)<=0||(r.has(s.key)||X_(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Iw.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Uy()}vr(e,t){return Iw.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new AE(this)}getSize(e){return Iw.resolve(this.size)}}class AE extends hE{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(n)})),Iw.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class NE{constructor(e){this.persistence=e,this.Fr=new nS((e=>O_(e)),D_),this.lastRemoteSnapshotVersion=ow.min(),this.highestTargetId=0,this.Mr=0,this.Or=new EE,this.targetCount=0,this.Nr=eE.On()}forEachTarget(e,t){return this.Fr.forEach(((e,n)=>t(n))),Iw.resolve()}getLastRemoteSnapshotVersion(e){return Iw.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Iw.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Iw.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),Iw.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new eE(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,Iw.resolve()}updateTargetData(e,t){return this.kn(t),Iw.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,Iw.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Fr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Iw.waitFor(i).next((()=>r))}getTargetCount(e){return Iw.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fr.get(t)||null;return Iw.resolve(n)}addMatchingKeys(e,t,n){return this.Or.Er(t,n),Iw.resolve()}removeMatchingKeys(e,t,n){this.Or.Ar(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Iw.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),Iw.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Or.mr(t);return Iw.resolve(n)}containsKey(e,t){return Iw.resolve(this.Or.containsKey(t))}}class PE{constructor(e,t){this.Lr={},this.overlays={},this.Br=new Mw(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new NE(this),this.indexManager=new Mk,this.remoteDocumentCache=function(e){return new CE(e)}((e=>this.referenceDelegate.Qr(e))),this.serializer=new ZI(t),this.Kr=new IE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new TE(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,n){Ly("MemoryPersistence","Starting transaction:",e);const r=new RE(this.Br.next());return this.referenceDelegate.$r(),n(r).next((e=>this.referenceDelegate.Ur(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Wr(e,t){return Iw.or(Object.values(this.Lr).map((n=>()=>n.containsKey(e,t))))}}class RE extends _w{constructor(e){super(),this.currentSequenceNumber=e}}class OE{constructor(e){this.persistence=e,this.Gr=new EE,this.zr=null}static jr(e){return new OE(e)}get Hr(){if(this.zr)return this.zr;throw Uy()}addReference(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),Iw.resolve()}removeReference(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),Iw.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),Iw.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach((e=>this.Hr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Hr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Iw.forEach(this.Hr,(n=>{const r=uw.fromPath(n);return this.Jr(e,r).next((e=>{e||t.removeEntry(r,ow.min())}))})).next((()=>(this.zr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Jr(e,t).next((e=>{e?this.Hr.delete(t.toString()):this.Hr.add(t.toString())}))}Qr(e){return 0}Jr(e,t){return Iw.or([()=>Iw.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class DE{constructor(e){this.serializer=e}O(e,t,n,r){const i=new kw("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ww,{unique:!0}),e.createObjectStore("documentMutations")}(e),LE(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=Iw.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),LE(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ow.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").U().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ww,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return Iw.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Zr(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(i))))),n<7&&r>=7&&(o=o.next((()=>this.ei(i)))),n<8&&r>=8&&(o=o.next((()=>this.ti(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.ni(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:ob});t.createIndex("collectionPathOverlayIndex",sb,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",ab,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Qw});t.createIndex("documentKeyIndex",$w),t.createIndex("collectionGroupIndex",Jw)}(e))).next((()=>this.ri(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.ii(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:tb}).createIndex("sequenceNumberIndex",nb,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:rb}).createIndex("documentKeyIndex",ib,{unique:!1})}(e)))),n<16&&r>=16&&(o=o.next((()=>{t.objectStore("indexState").clear()})).next((()=>{t.objectStore("indexEntries").clear()}))),o}Xr(e){let t=0;return e.store("remoteDocuments").J(((e,n)=>{t+=Qk(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Zr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.U().next((t=>Iw.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",r).next((n=>Iw.forEach(n,(n=>{zy(n.userId===t.userId);const r=ik(this.serializer,n);return Gk(e,t.userId,r).next((()=>{}))}))))}))))}ei(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.J(((n,i)=>{const o=new aw(n),s=function(e){return[0,zw(e)]}(o);r.push(t.get(s).next((n=>n?Iw.resolve():(n=>t.put({targetId:0,path:zw(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>Iw.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:eb});const n=t.store("collectionParents"),r=new Fk,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:zw(r)})}};return t.store("remoteDocuments").J({H:!0},((e,t)=>{const n=new aw(e);return i(n.popLast())})).next((()=>t.store("documentMutations").J({H:!0},((e,t)=>{let[n,r,o]=e;const s=qw(r);return i(s.popLast())}))))}ni(e){const t=e.store("targets");return t.J(((e,n)=>{const r=ok(n),i=sk(this.serializer,r);return t.put(i)}))}ri(e,t){const n=t.store("remoteDocuments"),r=[];return n.J(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=function(e){return e.document?new uw(aw.fromString(e.document.name).popFirst(5)):e.noDocument?uw.fromSegments(e.noDocument.path):e.unknownDocument?uw.fromSegments(e.unknownDocument.path):Uy()}(n).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(s))})).next((()=>Iw.waitFor(r)))}ii(e,t){const n=t.store("mutations"),r=pE(this.serializer),i=new PE(OE.jr,this.serializer.ut);return n.U().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:fS();ik(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Iw.forEach(n,((e,n)=>{const o=new Py(n),s=pk.ct(this.serializer,o),a=i.getIndexManager(o),l=$k.ct(o,this.serializer,a,i.referenceDelegate);return new SE(r,l,s,a).recalculateAndSaveOverlaysForDocumentKeys(new pb(t,Mw.oe),e).next()}))}))}}function LE(e){e.createObjectStore("targetDocuments",{keyPath:Xw}).createIndex("documentTargetsIndex",Zw,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Yw,{unique:!0}),e.createObjectStore("targetGlobal")}const ME="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class FE{constructor(e,t,n,r,i,o,s,a,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:16;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.si=i,this.window=o,this.document=s,this.oi=l,this._i=c,this.ai=u,this.Br=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=e=>Promise.resolve(),!FE.D())throw new qy(By.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new uE(this,r),this.Ii=t+"main",this.serializer=new ZI(a),this.Ti=new Ew(this.Ii,this.ai,new DE(this.serializer)),this.qr=new tE(this.referenceDelegate,this.serializer),this.remoteDocumentCache=pE(this.serializer),this.Kr=new dk,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===c&&My("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new qy(By.FAILED_PRECONDITION,ME);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.qr.getHighestSequenceNumber(e)))})).then((e=>{this.Br=new Mw(e,this.oi)})).then((()=>{this.kr=!0})).catch((e=>(this.Ti&&this.Ti.close(),Promise.reject(e))))}mi(e){return this.Pi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((async()=>{this.started&&await this.di()})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>UE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.fi(e).next((e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))))}))})).next((()=>this.gi(e))).next((t=>this.isPrimary&&!t?this.pi(e).next((()=>!1)):!!t&&this.yi(e).next((()=>!0)))))).catch((e=>{if(Aw(e))return Ly("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ly("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.si.enqueueRetryable((()=>this.Pi(e))),this.isPrimary=e}))}fi(e){return jE(e).get("owner").next((e=>Iw.resolve(this.wi(e))))}Si(e){return UE(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=mb(e,"clientMetadata");return t.U().next((e=>{const n=this.Ci(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Iw.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Ei)for(const t of e)this.Ei.removeItem(this.vi(t.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.di().then((()=>this.bi())).then((()=>this.Vi()))))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?Iw.resolve(!0):jE(e).get("owner").next((t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new qy(By.FAILED_PRECONDITION,ME);return!1}}return!(!this.networkEnabled||!this.inForeground)||UE(e).U().next((e=>void 0===this.Ci(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Ly("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new pb(e,Mw.oe);return this.pi(t).next((()=>this.Si(t)))})),this.Ti.close(),this.Ni()}Ci(e,t){return e.filter((e=>this.Di(e.updateTimeMs,t)&&!this.Fi(e.clientId)))}Li(){return this.runTransaction("getActiveClients","readonly",(e=>UE(e).U().next((e=>this.Ci(e,18e5).map((e=>e.clientId))))))}get started(){return this.kr}getMutationQueue(e,t){return $k.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Uk(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return pk.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,n){Ly("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 16===e?fb:15===e?hb:14===e?db:13===e?ub:12===e?cb:11===e?lb:void Uy()}(this.ai);let o;return this.Ti.runTransaction(e,r,i,(r=>(o=new pb(r,this.Br?this.Br.next():Mw.oe),"readwrite-primary"===t?this.fi(o).next((e=>!!e||this.gi(o))).next((t=>{if(!t)throw My("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))),new qy(By.FAILED_PRECONDITION,bw);return n(o)})).next((e=>this.yi(o).next((()=>e)))):this.Bi(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}Bi(e){return jE(e).get("owner").next((e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)&&!this.wi(e)&&!(this._i||this.allowTabSynchronization&&e.allowTabSynchronization))throw new qy(By.FAILED_PRECONDITION,ME)}))}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return jE(e).put("owner",t)}static D(){return Ew.D()}pi(e){const t=jE(e);return t.get("owner").next((e=>this.wi(e)?(Ly("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Iw.resolve()))}Di(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(My("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.di())))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const e=/(?:Version|Mobile)\/1[456]/;En()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const n=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return Ly("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return My("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){My("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch(e){}}vi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function jE(e){return mb(e,"owner")}function UE(e){return mb(e,"clientMetadata")}function zE(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class VE{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ki=n,this.qi=r}static Qi(e,t){let n=fS(),r=fS();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new VE(e,t.fromCache,n,r)}}class BE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class qE{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=En()?8:xw(yn())>0?6:4}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.zi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ji(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new BE;return this.Hi(e,t,n).next((r=>{if(i.result=r,this.$i)return this.Ji(e,t,n,r.size)}))})).next((()=>i.result))}Ji(e,t,n,r){return n.documentReadCount<this.Ui?(Dy()<=Zn.DEBUG&&Ly("QueryEngine","SDK will not create cache indexes for query:",Y_(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Iw.resolve()):(Dy()<=Zn.DEBUG&&Ly("QueryEngine","Query:",Y_(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(Dy()<=Zn.DEBUG&&Ly("QueryEngine","The SDK decides to create cache indexes for query:",Y_(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,K_(t))):Iw.resolve())}zi(e,t){if(B_(t))return Iw.resolve(null);let n=K_(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Q_(t,null,"F"),n=K_(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=fS(...r);return this.Gi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Yi(t,r);return this.Zi(t,o,i,n.readTime)?this.zi(e,Q_(t,null,"F")):this.Xi(e,o,t,n)}))))})))))}ji(e,t,n,r){return B_(t)||r.isEqual(ow.min())?Iw.resolve(null):this.Gi.getDocuments(e,n).next((i=>{const o=this.Yi(t,i);return this.Zi(t,o,n,r)?Iw.resolve(null):(Dy()<=Zn.DEBUG&&Ly("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Y_(t)),this.Xi(e,o,t,gw(r,-1)).next((e=>e)))}))}Yi(e,t){let n=new Sb(eS(e));return t.forEach(((t,r)=>{X_(e,r)&&(n=n.add(r))})),n}Zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Hi(e,t,n){return Dy()<=Zn.DEBUG&&Ly("QueryEngine","Using full collection scan to execute query:",Y_(t)),this.Gi.getDocumentsMatchingQuery(e,t,yw.min(),n)}Xi(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class WE{constructor(e,t,n,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new wb(tw),this.ns=new nS((e=>O_(e)),D_),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(n)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SE(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ts)))}}function KE(e,t,n,r){return new WE(e,t,n,r)}async function HE(e,t){const n=Vy(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=fS();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({_s:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function GE(e){const t=Vy(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.qr.getLastRemoteSnapshotVersion(e)))}function QE(e,t,n){let r=fS(),i=fS();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=iS();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(ow.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Ly("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{us:r,cs:i}}))}function $E(e,t){const n=Vy(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function JE(e,t){const n=Vy(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.qr.getTargetData(e,t).next((i=>i?(r=i,Iw.resolve(r)):n.qr.allocateTargetId(e).next((i=>(r=new XI(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}async function YE(e,t,n){const r=Vy(e),i=r.ts.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Aw(e))throw e;Ly("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function XE(e,t,n){const r=Vy(e);let i=ow.min(),o=fS();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Vy(e),i=r.ns.get(n);return void 0!==i?Iw.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,K_(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.es.getDocumentsMatchingQuery(e,t,n?i:ow.min(),n?o:fS()))).next((e=>(tx(r,Z_(t),e),{documents:e,ls:o})))))}function ZE(e,t){const n=Vy(e),r=Vy(n.qr),i=n.ts.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.ot(e,t).next((e=>e?e.target:null))))}function ex(e,t){const n=Vy(e),r=n.rs.get(t)||ow.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.ss.getAllFromCollectionGroup(e,t,gw(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(tx(n,t,e),e)))}function tx(e,t,n){let r=e.rs.get(t)||ow.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}async function nx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fS();const r=await JE(e,K_(ak(t.bundledQuery))),i=Vy(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=xI(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(e,t);const s=r.withResumeToken(Tb.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(s.targetId,s),i.qr.updateTargetData(e,s).next((()=>i.qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.Kr.saveNamedQuery(e,t)))}))}function rx(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function ix(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function ox(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class sx{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Ts(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new qy(r.error.code,r.error.message))),o?new sx(e,t,r.state,i):(My("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ax{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Ts(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new qy(n.error.code,n.error.message))),i?new ax(e,n.state,r):(My("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class lx{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=mS();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=Uw(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new lx(e,i):(My("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class cx{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new cx(t.clientId,t.onlineState):(My("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class ux{constructor(){this.activeTargetIds=mS()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dx{constructor(e,t,n,r,i){this.window=e,this.si=t,this.persistenceKey=n,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new wb(tw),this.started=!1,this.ps=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ys=rx(this.persistenceKey,this.Rs),this.ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new ux),this.Ss=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.bs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ds=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Cs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.vs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Li();for(const n of e){if(n===this.Rs)continue;const e=this.getItem(rx(this.persistenceKey,n));if(e){const t=lx.Ts(n,e);t&&(this.gs=this.gs.insert(t.clientId,t))}}this.Fs();const t=this.storage.getItem(this.Cs);if(t){const e=this.Ms(t);e&&this.xs(e)}for(const n of this.ps)this.fs(n);this.ps=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,n){this.Ns(e,t,n),this.Ls(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(ox(this.persistenceKey,e));if(n){const r=ax.Ts(e,n);r&&(t=r.state)}}return this.Bs.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Bs.As(e),this.Fs()}isLocalQueryTarget(e){return this.Bs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ox(this.persistenceKey,e))}updateQueryState(e,t,n){this.ks(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Ls(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ly("SharedClientState","READ",e,t),t}setItem(e,t){Ly("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ly("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const t=e;if(t.storageArea===this.storage){if(Ly("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ys)return void My("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ss.test(t.key)){if(null==t.newValue){const e=this.Ks(t.key);return this.$s(e,null)}{const e=this.Us(t.key,t.newValue);if(e)return this.$s(e.clientId,e)}}else if(this.bs.test(t.key)){if(null!==t.newValue){const e=this.Ws(t.key,t.newValue);if(e)return this.Gs(e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.zs(t.key,t.newValue);if(e)return this.js(e)}}else if(t.key===this.Cs){if(null!==t.newValue){const e=this.Ms(t.newValue);if(e)return this.xs(e)}}else if(t.key===this.ws){const e=function(e){let t=Mw.oe;if(null!=e)try{const n=JSON.parse(e);zy("number"==typeof n),t=n}catch(e){My("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Mw.oe&&this.sequenceNumberHandler(e)}else if(t.key===this.vs){const e=this.Hs(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Js(e))))}}else this.ps.push(t)}))}}get Bs(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Bs.Es())}Ns(e,t,n){const r=new sx(this.currentUser,e,t,n),i=ix(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Es())}Ls(e){const t=ix(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){const t={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(t))}ks(e,t,n){const r=ox(this.persistenceKey,e),i=new ax(e,t,n);this.setItem(r,i.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const n=this.Ks(e);return lx.Ts(n,t)}Ws(e,t){const n=this.bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return sx.Ts(new Py(i),r,t)}zs(e,t){const n=this.Ds.exec(e),r=Number(n[1]);return ax.Ts(r,t)}Ms(e){return cx.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);Ly("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const n=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),i=this.Os(n),o=[],s=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||s.push(e)})),this.syncEngine.Xs(o,s).then((()=>{this.gs=n}))}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=mS();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class hx{constructor(){this.eo=new ux,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,n){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new ux,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fx{ro(e){}shutdown(){}}class px{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Ly("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Ly("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let mx=null;function gx(){return null===mx?mx=268435456+Math.round(2147483648*Math.random()):mx++,"0x"+mx.toString(16)}const vx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yx{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}}const wx="WebChannelConnection";class bx extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.yo=t+"://"+e.host,this.wo="projects/".concat(n,"/databases/").concat(r),this.So="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get bo(){return!1}Do(e,t,n,r,i){const o=gx(),s=this.Co(e,t.toUriEncodedString());Ly("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(a,r,i),this.Fo(e,s,a,n).then((t=>(Ly("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw Fy("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}Mo(e,t,n,r,i,o){return this.Do(e,t,n,r,i)}vo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ry,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}Co(e,t){const n=vx[e];return"".concat(this.yo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,t,n,r){const i=gx();return new Promise(((o,s)=>{const a=new Ty;a.setWithCredentials(!0),a.listenOnce(Sy.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case _y.NO_ERROR:const t=a.getResponseJson();Ly(wx,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case _y.TIMEOUT:Ly(wx,"RPC '".concat(e,"' ").concat(i," timed out")),s(new qy(By.DEADLINE_EXCEEDED,"Request time out"));break;case _y.HTTP_ERROR:const n=a.getStatus();if(Ly(wx,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(By).indexOf(t)>=0?t:By.UNKNOWN}(t.status);s(new qy(e,t.message))}else s(new qy(By.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new qy(By.UNAVAILABLE,"Connection failed."));break;default:Uy()}}finally{Ly(wx,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Ly(wx,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}xo(e,t,n){const r=gx(),i=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=wy(),s=by(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new Ey({})),this.vo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Ly(wx,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=o.createWebChannel(c,a);let d=!1,h=!1;const f=new yx({co:t=>{h?Ly(wx,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Ly(wx,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Ly(wx,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},lo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,xy.EventType.OPEN,(()=>{h||(Ly(wx,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.Vo())})),p(u,xy.EventType.CLOSE,(()=>{h||(h=!0,Ly(wx,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.fo())})),p(u,xy.EventType.ERROR,(t=>{h||(h=!0,Fy(wx,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.fo(new qy(By.UNAVAILABLE,"The operation could not be completed")))})),p(u,xy.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];zy(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){Ly(wx,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=XS[e];if(void 0!==t)return tI(t)}(t),i=s.message;void 0===n&&(n=By.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.fo(new qy(n,i)),u.close()}else Ly(wx,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.po(i)}})),p(s,Iy.STAT_EVENT,(t=>{t.stat===ky.PROXY?Ly(wx,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===ky.NOPROXY&&Ly(wx,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.mo()}),0),f}}function _x(){return"undefined"!=typeof window?window:null}function Sx(){return"undefined"!=typeof document?document:null}function Ix(e){return new _I(e,!0)}class kx{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.si=e,this.timerId=t,this.Oo=n,this.No=r,this.Lo=i,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();const t=Math.floor(this.Bo+this.$o()),n=Math.max(0,Date.now()-this.qo),r=Math.max(0,t-n);r>0&&Ly("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Bo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.ko=this.si.enqueueAfterDelay(this.timerId,r,(()=>(this.qo=Date.now(),e()))),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){null!==this.ko&&(this.ko.skipDelay(),this.ko=null)}cancel(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}class Ex{constructor(e,t,n,r,i,o,s,a){this.si=e,this.Wo=n,this.Go=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new kx(e,t)}Yo(){return 1===this.state||5===this.state||this.Zo()}Zo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Xo()}async stop(){this.Yo()&&await this.close(0)}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&null===this.jo&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,(()=>this.n_())))}r_(e){this.i_(),this.stream.send(e)}async n_(){if(this.Zo())return this.close(0)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}async close(e,t){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,4!==e?this.Jo.reset():t&&t.code===By.RESOURCE_EXHAUSTED?(My(t.toString()),My("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):t&&t.code===By.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(t)}o_(){}auth(){this.state=1;const e=this.__(this.zo),t=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.zo===t&&this.a_(n,r)}),(t=>{e((()=>{const e=new qy(By.UNKNOWN,"Fetching auth token failed: "+t.message);return this.u_(e)}))}))}a_(e,t){const n=this.__(this.zo);this.stream=this.c_(e,t),this.stream.ho((()=>{n((()=>this.listener.ho()))})),this.stream.Io((()=>{n((()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,(()=>(this.Zo()&&(this.state=3),Promise.resolve()))),this.listener.Io())))})),this.stream.Eo((e=>{n((()=>this.u_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Xo(){this.state=5,this.Jo.Ko((async()=>{this.state=0,this.start()}))}u_(e){return Ly("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}__(e){return t=>{this.si.enqueueAndForget((()=>this.zo===e?t():(Ly("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xx extends Ex{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}c_(e,t){return this.connection.xo("Listen",e,t)}onMessage(e){this.Jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Uy()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(zy(void 0===t||"string"==typeof t),Tb.fromBase64String(t||"")):(zy(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Tb.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?By.UNKNOWN:tI(e.code);return new qy(t,e.message||"")}(s);n=new fI(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=PI(e,r.document.name),o=xI(r.document.updateTime),s=r.document.createTime?xI(r.document.createTime):ow.min(),a=new i_({mapValue:{fields:r.document.fields}}),l=s_.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new dI(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=PI(e,r.document),o=r.readTime?xI(r.readTime):ow.min(),s=s_.newNoDocument(i,o),a=r.removedTargetIds||[];n=new dI([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=PI(e,r.document),o=r.removedTargetIds||[];n=new dI([],o,i,null)}else{if(!("filter"in t))return Uy();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new YS(r,i),s=e.targetId;n=new hI(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ow.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ow.min():t.readTime?xI(t.readTime):ow.min()}(e);return this.listener.l_(t,n)}h_(e){const t={};t.database=DI(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=L_(r)?{documents:zI(e,r)}:{query:VI(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=kI(e,t.resumeToken);const r=SI(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ow.min())>0){n.readTime=II(e,t.snapshotVersion.toTimestamp());const r=SI(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Uy()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.r_(t)}P_(e){const t={};t.database=DI(this.serializer),t.removeTarget=e,this.r_(t)}}class Tx extends Ex{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,t){return this.connection.xo("Write",e,t)}onMessage(e){if(zy(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();const t=function(e,t){return e&&e.length>0?(zy(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?xI(e.updateTime):xI(t);return n.isEqual(ow.min())&&(n=xI(t)),new RS(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=xI(e.commitTime);return this.listener.d_(n,t)}return zy(!e.writeResults||0===e.writeResults.length),this.I_=!0,this.listener.A_()}R_(){const e={};e.database=DI(this.serializer),this.r_(e)}E_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>jI(this.serializer,e)))};this.r_(t)}}class Cx extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.V_=!1}m_(){if(this.V_)throw new qy(By.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,t,n,r){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.Do(e,CI(t,n),r,o,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===By.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new qy(By.UNKNOWN,e.toString())}))}Mo(e,t,n,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[s,a]=o;return this.connection.Mo(e,CI(t,n),r,s,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===By.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new qy(By.UNKNOWN,e.toString())}))}terminate(){this.V_=!0,this.connection.terminate()}}class Ax{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve()))))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.y_?(My(t),this.y_=!1):Ly("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class Nx{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=i,this.O_.ro((e=>{n.enqueueAndForget((async()=>{Ux(this)&&(Ly("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Vy(e);t.M_.add(4),await Rx(t),t.N_.set("Unknown"),t.M_.delete(4),await Px(t)}(this))}))})),this.N_=new Ax(n,r)}}async function Px(e){if(Ux(e))for(const t of e.x_)await t(!0)}async function Rx(e){for(const t of e.x_)await t(!1)}function Ox(e,t){const n=Vy(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),jx(n)?Fx(n):iT(n).Zo()&&Lx(n,t))}function Dx(e,t){const n=Vy(e),r=iT(n);n.F_.delete(t),r.Zo()&&Mx(n,t),0===n.F_.size&&(r.Zo()?r.t_():Ux(n)&&n.N_.set("Unknown"))}function Lx(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ow.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}iT(e).h_(t)}function Mx(e,t){e.L_.xe(t),iT(e).P_(t)}function Fx(e){e.L_=new mI({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),iT(e).start(),e.N_.w_()}function jx(e){return Ux(e)&&!iT(e).Yo()&&e.F_.size>0}function Ux(e){return 0===Vy(e).M_.size}function zx(e){e.L_=void 0}async function Vx(e){e.N_.set("Online")}async function Bx(e){e.F_.forEach(((t,n)=>{Lx(e,t)}))}async function qx(e,t){zx(e),jx(e)?(e.N_.D_(t),Fx(e)):e.N_.set("Unknown")}async function Wx(e,t,n){if(e.N_.set("Online"),t instanceof fI&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.F_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.F_.delete(r),e.L_.removeTarget(r))}(e,t)}catch(n){Ly("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Kx(e,n)}else if(t instanceof dI?e.L_.Ke(t):t instanceof hI?e.L_.He(t):e.L_.We(t),!n.isEqual(ow.min()))try{const t=await GE(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.L_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.F_.get(r);i&&e.F_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.F_.get(t);if(!r)return;e.F_.set(t,r.withResumeToken(Tb.EMPTY_BYTE_STRING,r.snapshotVersion)),Mx(e,t);const i=new XI(r.target,t,n,r.sequenceNumber);Lx(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Ly("RemoteStore","Failed to raise snapshot:",t),await Kx(e,t)}}async function Kx(e,t,n){if(!Aw(t))throw t;e.M_.add(1),await Rx(e),e.N_.set("Offline"),n||(n=()=>GE(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Ly("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await Px(e)}))}function Hx(e,t){return t().catch((n=>Kx(e,n,t)))}async function Gx(e){const t=Vy(e),n=oT(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;Qx(t);)try{const e=await $E(t.localStore,r);if(null===e){0===t.v_.length&&n.t_();break}r=e.batchId,$x(t,e)}catch(e){await Kx(t,e)}Jx(t)&&Yx(t)}function Qx(e){return Ux(e)&&e.v_.length<10}function $x(e,t){e.v_.push(t);const n=oT(e);n.Zo()&&n.T_&&n.E_(t.mutations)}function Jx(e){return Ux(e)&&!oT(e).Yo()&&e.v_.length>0}function Yx(e){oT(e).start()}async function Xx(e){oT(e).R_()}async function Zx(e){const t=oT(e);for(const n of e.v_)t.E_(n.mutations)}async function eT(e,t,n){const r=e.v_.shift(),i=$S.from(r,t,n);await Hx(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Gx(e)}async function tT(e,t){t&&oT(e).T_&&await async function(e,t){if(function(e){return eI(e)&&e!==By.ABORTED}(t.code)){const n=e.v_.shift();oT(e).e_(),await Hx(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Gx(e)}}(e,t),Jx(e)&&Yx(e)}async function nT(e,t){const n=Vy(e);n.asyncQueue.verifyOperationInProgress(),Ly("RemoteStore","RemoteStore received new credentials");const r=Ux(n);n.M_.add(3),await Rx(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await Px(n)}async function rT(e,t){const n=Vy(e);t?(n.M_.delete(2),await Px(n)):t||(n.M_.add(2),await Rx(n),n.N_.set("Unknown"))}function iT(e){return e.B_||(e.B_=function(e,t,n){const r=Vy(e);return r.m_(),new xx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:Vx.bind(null,e),Io:Bx.bind(null,e),Eo:qx.bind(null,e),l_:Wx.bind(null,e)}),e.x_.push((async t=>{t?(e.B_.e_(),jx(e)?Fx(e):e.N_.set("Unknown")):(await e.B_.stop(),zx(e))}))),e.B_}function oT(e){return e.k_||(e.k_=function(e,t,n){const r=Vy(e);return r.m_(),new Tx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:()=>Promise.resolve(),Io:Xx.bind(null,e),Eo:tT.bind(null,e),A_:Zx.bind(null,e),d_:eT.bind(null,e)}),e.x_.push((async t=>{t?(e.k_.e_(),await Gx(e)):(await e.k_.stop(),e.v_.length>0&&(Ly("RemoteStore","Stopping write stream with ".concat(e.v_.length," pending writes")),e.v_=[]))}))),e.k_}class sT{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Wy,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new sT(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new qy(By.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function aT(e,t){if(My("AsyncQueue","".concat(t,": ").concat(e)),Aw(e))return new qy(By.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class lT{constructor(e){this.comparator=e?(t,n)=>e(t,n)||uw.comparator(t.key,n.key):(e,t)=>uw.comparator(e.key,t.key),this.keyedMap=sS(),this.sortedSet=new wb(this.comparator)}static emptySet(e){return new lT(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof lT))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new lT;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class cT{constructor(){this.q_=new wb(uw.comparator)}track(e){const t=e.doc.key,n=this.q_.get(t);n?0!==e.type&&3===n.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==n.type?this.q_=this.q_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.q_=this.q_.remove(t):1===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):Uy():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class uT{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new uT(e,t,lT.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class dT{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some((e=>e.G_()))}}class hT{constructor(){this.queries=new nS((e=>J_(e)),$_),this.onlineState="Unknown",this.z_=new Set}}async function fT(e,t){const n=Vy(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.W_()&&t.G_()&&(r=2):(o=new dT,r=t.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(i,!0);break;case 1:o.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=aT(e,"Initialization of query '".concat(Y_(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.U_.push(t),t.j_(n.onlineState),o.K_&&t.H_(o.K_)&&vT(n)}async function pT(e,t){const n=Vy(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.U_.indexOf(t);e>=0&&(o.U_.splice(e,1),0===o.U_.length?i=t.G_()?0:1:!o.W_()&&t.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function mT(e,t){const n=Vy(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.U_)e.H_(i)&&(r=!0);t.K_=i}}r&&vT(n)}function gT(e,t,n){const r=Vy(e),i=r.queries.get(t);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(t)}function vT(e){e.z_.forEach((e=>{e.next()}))}var yT,wT;(wT=yT||(yT={})).J_="default",wT.Cache="cache";class bT{constructor(e,t,n){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new uT(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache)return!0;if(!this.G_())return!0;const n="Offline"!==t;return(!this.options.ra||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){if(e.docChanges.length>0)return!0;const t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}na(e){e=uT.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==yT.Cache}}class _T{constructor(e,t){this.ia=e,this.byteLength=t}sa(){return"metadata"in this.ia}}class ST{constructor(e){this.serializer=e}hs(e){return PI(this.serializer,e)}Ps(e){return e.metadata.exists?FI(this.serializer,e.document,!1):s_.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return xI(e)}}class IT{constructor(e,t,n){this.oa=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=kT(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++t;const n=aw.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}aa(e){const t=new Map,n=new ST(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.hs(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||fS()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Vy(e);let o=fS(),s=iS();for(const c of n){const e=t.hs(c.metadata.name);c.document&&(o=o.add(e));const n=t.Ps(c);n.setReadTime(t.Is(c.metadata.readTime)),s=s.insert(e,n)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),l=await JE(i,function(e){return K_(V_(aw.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>QE(e,a,s).next((t=>(a.apply(e),t))).next((t=>i.qr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.qr.addMatchingKeys(e,o,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.us,t.cs))).next((()=>t.us))))))}(this.localStore,new ST(this.serializer),this.documents,this.oa.id),t=this.aa(this.documents);for(const n of this.queries)await nx(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,ua:this.collectionGroups,ca:e}}}function kT(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class ET{constructor(e){this.key=e}}class xT{constructor(e){this.key=e}}class TT{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=fS(),this.mutatedKeys=fS(),this.Ia=eS(e),this.Ta=new lT(this.Ia)}get Ea(){return this.la}da(e,t){const n=t?t.Aa:new cT,r=t?t.Ta:this.Ta;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=X_(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.Ra(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Ia(u,a)>0||l&&this.Ia(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ta:o,Aa:n,Zi:s,mutatedKeys:i}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Uy()}};return n(e)-n(t)}(e.type,t.type)||this.Ia(e.doc,t.doc))),this.Va(n),r=null!=r&&r;const s=t&&!r?this.ma():[],a=0===this.Pa.size&&this.current&&!r?1:0,l=a!==this.ha;return this.ha=a,0!==o.length||l?{snapshot:new uT(this.query,e.Ta,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:s}:{fa:s}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new cT,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach((e=>this.la=this.la.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.la=this.la.delete(e))),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=fS(),this.Ta.forEach((e=>{this.ga(e.key)&&(this.Pa=this.Pa.add(e.key))}));const t=[];return e.forEach((e=>{this.Pa.has(e)||t.push(new xT(e))})),this.Pa.forEach((n=>{e.has(n)||t.push(new ET(n))})),t}pa(e){this.la=e.ls,this.Pa=fS();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return uT.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class CT{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class AT{constructor(e){this.key=e,this.wa=!1}}class NT{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new nS((e=>J_(e)),$_),this.Da=new Map,this.Ca=new Set,this.va=new wb(uw.comparator),this.Fa=new Map,this.Ma=new EE,this.xa={},this.Oa=new Map,this.Na=eE.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}async function PT(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=sC(e);let i;const o=r.ba.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await OT(r,t,n,!0),i}async function RT(e,t){const n=sC(e);await OT(n,t,!0,!1)}async function OT(e,t,n,r){const i=await JE(e.localStore,K_(t)),o=i.targetId,s=n?e.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await DT(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&Ox(e.remoteStore,i),a}async function DT(e,t,n,r,i){e.Ba=(t,n,r)=>async function(e,t,n,r){let i=t.view.da(n);i.Zi&&(i=await XE(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.da(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return HT(e,t.targetId,a.fa),a.snapshot}(e,t,n,r);const o=await XE(e.localStore,t,!0),s=new TT(t,o.ls),a=s.da(o.documents),l=uI.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);HT(e,n,c.fa);const u=new CT(t,n,s);return e.ba.set(t,u),e.Da.has(n)?e.Da.get(n).push(t):e.Da.set(n,[t]),c.snapshot}async function LT(e,t,n){const r=Vy(e),i=r.ba.get(t),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter((e=>!$_(e,t)))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await YE(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Dx(r.remoteStore,i.targetId),WT(r,i.targetId)})).catch(Sw)):(WT(r,i.targetId),await YE(r.localStore,i.targetId,!0))}async function MT(e,t){const n=Vy(e),r=n.ba.get(t),i=n.Da.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Dx(n.remoteStore,r.targetId))}async function FT(e,t){const n=Vy(e);try{const e=await function(e,t){const n=Vy(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.qr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.qr.addMatchingKeys(e,o.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(Tb.EMPTY_BYTE_STRING,ow.min()).withLastLimboFreeSnapshotVersion(ow.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&s.push(n.qr.updateTargetData(e,c))}));let a=iS(),l=fS();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(QE(e,o,t.documentUpdates).next((e=>{a=e.us,l=e.cs}))),!r.isEqual(ow.min())){const t=n.qr.getLastRemoteSnapshotVersion(e).next((t=>n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Iw.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Fa.get(t);r&&(zy(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.wa=!0:e.modifiedDocuments.size>0?zy(r.wa):e.removedDocuments.size>0&&(zy(r.wa),r.wa=!1))})),await $T(n,e,t)}catch(e){await Sw(e)}}function jT(e,t,n){const r=Vy(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ba.forEach(((n,r)=>{const i=r.view.j_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Vy(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.U_)i.j_(t)&&(r=!0)})),r&&vT(n)}(r.eventManager,t),e.length&&r.Sa.l_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function UT(e,t,n){const r=Vy(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fa.get(t),o=i&&i.key;if(o){let e=new wb(uw.comparator);e=e.insert(o,s_.newNoDocument(o,ow.min()));const n=fS().add(o),i=new cI(ow.min(),new Map,new wb(tw),e,n);await FT(r,i),r.va=r.va.remove(o),r.Fa.delete(t),QT(r)}else await YE(r.localStore,t,!1).then((()=>WT(r,t,n))).catch(Sw)}async function zT(e,t){const n=Vy(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Vy(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Iw.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);zy(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=fS();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);qT(n,r,null),BT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $T(n,e)}catch(e){await Sw(e)}}async function VT(e,t,n){const r=Vy(e);try{const e=await function(e,t){const n=Vy(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(zy(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);qT(r,t,n),BT(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await $T(r,e)}catch(n){await Sw(n)}}function BT(e,t){(e.Oa.get(t)||[]).forEach((e=>{e.resolve()})),e.Oa.delete(t)}function qT(e,t,n){const r=Vy(e);let i=r.xa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.xa[r.currentUser.toKey()]=i}}function WT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Da.get(t))e.ba.delete(r),n&&e.Sa.ka(r,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Rr(t).forEach((t=>{e.Ma.containsKey(t)||KT(e,t)}))}function KT(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);null!==n&&(Dx(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),QT(e))}function HT(e,t,n){for(const r of n)r instanceof ET?(e.Ma.addReference(r.key,t),GT(e,r)):r instanceof xT?(Ly("SyncEngine","Document no longer in limbo: "+r.key),e.Ma.removeReference(r.key,t),e.Ma.containsKey(r.key)||KT(e,r.key)):Uy()}function GT(e,t){const n=t.key,r=n.path.canonicalString();e.va.get(n)||e.Ca.has(r)||(Ly("SyncEngine","New document in limbo: "+n),e.Ca.add(r),QT(e))}function QT(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new uw(aw.fromString(t)),r=e.Na.next();e.Fa.set(r,new AT(n)),e.va=e.va.insert(n,r),Ox(e.remoteStore,new XI(K_(V_(n.path)),r,"TargetPurposeLimboResolution",Mw.oe))}}async function $T(e,t,n){const r=Vy(e),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach(((e,a)=>{s.push(r.Ba(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=VE.Qi(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.Sa.l_(i),await async function(e,t){const n=Vy(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Iw.forEach(t,(t=>Iw.forEach(t.ki,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Iw.forEach(t.qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Aw(e))throw e;Ly("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ts=n.ts.insert(e,i)}}}(r.localStore,o))}async function JT(e,t){const n=Vy(e);if(!n.currentUser.isEqual(t)){Ly("SyncEngine","User change. New user:",t.toKey());const e=await HE(n.localStore,t);n.currentUser=t,function(e,t){e.Oa.forEach((e=>{e.forEach((e=>{e.reject(new qy(By.CANCELLED,t))}))})),e.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await $T(n,e._s)}}function YT(e,t){const n=Vy(e),r=n.Fa.get(t);if(r&&r.wa)return fS().add(r.key);{let e=fS();const r=n.Da.get(t);if(!r)return e;for(const t of r){const r=n.ba.get(t);e=e.unionWith(r.view.Ea)}return e}}async function XT(e,t){const n=Vy(e),r=await XE(n.localStore,t.query,!0),i=t.view.pa(r);return n.isPrimaryClient&&HT(n,t.targetId,i.fa),i}async function ZT(e,t){const n=Vy(e);return ex(n.localStore,t).then((e=>$T(n,e)))}async function eC(e,t,n,r){const i=Vy(e),o=await function(e,t){const n=Vy(e),r=Vy(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Cn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Iw.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await Gx(i.remoteStore):"acknowledged"===n||"rejected"===n?(qT(i,t,r||null),BT(i,t),function(e,t){Vy(Vy(e).mutationQueue).Fn(t)}(i.localStore,t)):Uy(),await $T(i,o)):Ly("SyncEngine","Cannot apply mutation batch with id: "+t)}async function tC(e,t,n){const r=Vy(e),i=[],o=[];for(const s of t){let e;const t=r.Da.get(s);if(t&&0!==t.length){e=await JE(r.localStore,K_(t[0]));for(const e of t){const t=r.ba.get(e),n=await XT(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await ZE(r.localStore,s);e=await JE(r.localStore,t),await DT(r,nC(t),s,!1,e.resumeToken)}i.push(e)}return r.Sa.l_(o),i}function nC(e){return z_(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function rC(e){return function(e){return Vy(Vy(e).persistence).Li()}(Vy(e).localStore)}async function iC(e,t,n,r){const i=Vy(e);if(i.La)return void Ly("SyncEngine","Ignoring unexpected query state notification.");const o=i.Da.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await ex(i.localStore,Z_(o[0])),r=cI.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Tb.EMPTY_BYTE_STRING);await $T(i,e,r);break}case"rejected":await YE(i.localStore,t,!0),WT(i,t,r);break;default:Uy()}}async function oC(e,t,n){const r=sC(e);if(r.La){for(const e of t){if(r.Da.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){Ly("SyncEngine","Adding an already active target "+e);continue}const t=await ZE(r.localStore,e),n=await JE(r.localStore,t);await DT(r,nC(t),n.targetId,!1,n.resumeToken),Ox(r.remoteStore,n)}for(const e of n)r.Da.has(e)&&await YE(r.localStore,e,!1).then((()=>{Dx(r.remoteStore,e),WT(r,e)})).catch(Sw)}}function sC(e){const t=Vy(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=FT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=YT.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=UT.bind(null,t),t.Sa.l_=mT.bind(null,t.eventManager),t.Sa.ka=gT.bind(null,t.eventManager),t}function aC(e){const t=Vy(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zT.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=VT.bind(null,t),t}class lC{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ix(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return KE(this.persistence,new qE,e.initialUser,this.serializer)}createPersistence(e){return new PE(OE.jr,this.serializer)}createSharedClientState(e){return new hx}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class cC extends lC{constructor(e,t,n){super(),this.Qa=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Qa.initialize(this,e),await aC(this.Qa.syncEngine),await Gx(this.Qa.remoteStore),await this.persistence.mi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return KE(this.persistence,new qE,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new aE(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Lw(t,this.persistence);return new Dw(e.asyncQueue,n)}createPersistence(e){const t=zE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Hk.withCacheSize(this.cacheSizeBytes):Hk.DEFAULT;return new FE(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,_x(),Sx(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new hx}}class uC extends cC{constructor(e,t){super(e,t,!1),this.Qa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Qa.syncEngine;this.sharedClientState instanceof dx&&(this.sharedClientState.syncEngine={Ys:eC.bind(null,t),Zs:iC.bind(null,t),Xs:oC.bind(null,t),Li:rC.bind(null,t),Js:ZT.bind(null,t)},await this.sharedClientState.start()),await this.persistence.mi((async e=>{await async function(e,t){const n=Vy(e);if(sC(n),aC(n),!0===t&&!0!==n.La){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await tC(n,e.toArray());n.La=!0,await rT(n.remoteStore,!0);for(const r of t)Ox(n.remoteStore,r)}else if(!1===t&&!1!==n.La){const e=[];let t=Promise.resolve();n.Da.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(WT(n,i),YE(n.localStore,i,!0)))),Dx(n.remoteStore,i)})),await t,await tC(n,e),function(e){const t=Vy(e);t.Fa.forEach(((e,n)=>{Dx(t.remoteStore,n)})),t.Ma.Vr(),t.Fa=new Map,t.va=new wb(uw.comparator)}(n),n.La=!1,await rT(n.remoteStore,!1)}}(this.Qa.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=_x();if(!dx.D(t))throw new qy(By.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=zE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new dx(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class dC{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>jT(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=JT.bind(null,this.syncEngine),await rT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new hT}createDatastore(e){const t=Ix(e.databaseInfo.databaseId),n=function(e){return new bx(e)}(e.databaseInfo);return function(e,t,n,r){return new Cx(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Nx(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>jT(this.syncEngine,e,0)),px.D()?new px:new fx)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new NT(e,t,n,r,i,o);return s&&(a.La=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=Vy(e);Ly("RemoteStore","RemoteStore shutting down."),t.M_.add(5),await Rx(t),t.O_.shutdown(),t.N_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}function hC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class fC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):My("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class pC{constructor(e,t){this.Ua=e,this.serializer=t,this.metadata=new Wy,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then((e=>{e&&e.sa()?this.metadata.resolve(e.ia.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ia))))}),(e=>this.metadata.reject(e)))}close(){return this.Ua.cancel()}async getMetadata(){return this.metadata.promise}async qa(){return await this.getMetadata(),this.Ga()}async Ga(){const e=await this.za();if(null===e)return null;const t=this.Wa.decode(e),n=Number(t);isNaN(n)&&this.ja("length string (".concat(t,") is not valid number"));const r=await this.Ha(n);return new _T(JSON.parse(r),e.length+n)}Ja(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async za(){for(;this.Ja()<0&&!await this.Ya(););if(0===this.buffer.length)return null;const e=this.Ja();e<0&&this.ja("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ha(e){for(;this.buffer.length<e;)await this.Ya()&&this.ja("Reached the end of bundle when more is expected.");const t=this.Wa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}ja(e){throw this.Ua.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ya(){const e=await this.Ua.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class mC{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new qy(By.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=Vy(e),r={documents:t.map((e=>NI(n.serializer,e)))},i=await n.Mo("BatchGetDocuments",n.serializer.databaseId,aw.emptyPath(),r,t.length),o=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){zy(!!t.found),t.found.name,t.found.updateTime;const n=PI(e,t.found.name),r=xI(t.found.updateTime),i=t.found.createTime?xI(t.found.createTime):ow.min(),o=new i_({mapValue:{fields:t.found.fields}});return s_.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){zy(!!t.missing),zy(!!t.readTime);const n=PI(e,t.missing),r=xI(t.readTime);return s_.newNoDocument(n,r)}(e,t):Uy()}(n.serializer,e);o.set(t.key.toString(),t)}));const s=[];return t.forEach((e=>{const t=o.get(e.toString());zy(!!t),s.push(t)})),s}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new HS(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=uw.fromPath(t);this.mutations.push(new GS(n,this.precondition(n)))})),await async function(e,t){const n=Vy(e),r={writes:t.map((e=>jI(n.serializer,e)))};await n.Do("Commit",n.serializer.databaseId,aw.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Uy();t=ow.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new qy(By.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ow.min())?OS.exists(!1):OS.updateTime(t):OS.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ow.min()))throw new qy(By.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return OS.updateTime(t)}return OS.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class gC{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Za=n.maxAttempts,this.Jo=new kx(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Jo.Ko((async()=>{const e=new mC(this.datastore),t=this.tu(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.nu(e)}))))})).catch((e=>{this.nu(e)}))}))}tu(e){try{const t=this.updateFunction(e);return!Fw(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget((()=>(this.eu(),Promise.resolve())))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!eI(t)}return!1}}class vC{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Py.UNAUTHENTICATED,this.clientId=ew.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Ly("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Ly("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new qy(By.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wy;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=aT(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function yC(e,t){e.asyncQueue.verifyOperationInProgress(),Ly("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await HE(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function wC(e,t){e.asyncQueue.verifyOperationInProgress();const n=await _C(e);Ly("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>nT(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>nT(t.remoteStore,n))),e._onlineComponents=t}function bC(e){return"FirebaseError"===e.name?e.code===By.FAILED_PRECONDITION||e.code===By.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function _C(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ly("FirestoreClient","Using user provided OfflineComponentProvider");try{await yC(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!bC(n))throw n;Fy("Error using user provided cache. Falling back to memory cache: "+n),await yC(e,new lC)}}else Ly("FirestoreClient","Using default OfflineComponentProvider"),await yC(e,new lC);return e._offlineComponents}async function SC(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ly("FirestoreClient","Using user provided OnlineComponentProvider"),await wC(e,e._uninitializedComponentsProvider._online)):(Ly("FirestoreClient","Using default OnlineComponentProvider"),await wC(e,new dC))),e._onlineComponents}function IC(e){return _C(e).then((e=>e.persistence))}function kC(e){return _C(e).then((e=>e.localStore))}function EC(e){return SC(e).then((e=>e.remoteStore))}function xC(e){return SC(e).then((e=>e.syncEngine))}function TC(e){return SC(e).then((e=>e.datastore))}async function CC(e){const t=await SC(e),n=t.eventManager;return n.onListen=PT.bind(null,t.syncEngine),n.onUnlisten=LT.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=RT.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=MT.bind(null,t.syncEngine),n}function AC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Wy;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new fC({next:o=>{t.enqueueAndForget((()=>pT(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new qy(By.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new qy(By.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new bT(V_(n.path),o,{includeMetadataChanges:!0,ra:!0});return fT(e,s)}(await CC(e),e.asyncQueue,t,n,r))),r.promise}function NC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Wy;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new fC({next:n=>{t.enqueueAndForget((()=>pT(e,s))),n.fromCache&&"server"===r.source?i.reject(new qy(By.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new bT(n,o,{includeMetadataChanges:!0,ra:!0});return fT(e,s)}(await CC(e),e.asyncQueue,t,n,r))),r.promise}function PC(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?rI().encode(e):e,function(e,t){return new pC(e,t)}(function(e,t){if(e instanceof Uint8Array)return hC(e,t);if(e instanceof ArrayBuffer)return hC(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Ix(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Vy(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Vy(e),r=xI(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Kr.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(kT(r));const i=new IT(r,e.localStore,t.serializer);let o=await t.qa();for(;o;){const e=await i._a(o);e&&n._updateProgress(e),o=await t.qa()}const s=await i.complete();return await $T(e,s.ca,void 0),await function(e,t){const n=Vy(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Kr.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(s.progress),Promise.resolve(s.ua)}catch(e){return Fy("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await xC(e),i,r)}))}function RC(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const OC=new Map;function DC(e,t,n){if(!n)throw new qy(By.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function LC(e,t,n,r){if(!0===t&&!0===r)throw new qy(By.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function MC(e){if(!uw.isDocumentKey(e))throw new qy(By.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function FC(e){if(uw.isDocumentKey(e))throw new qy(By.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function jC(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Uy()}function UC(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new qy(By.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jC(e);throw new qy(By.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function zC(e,t){if(t<=0)throw new qy(By.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class VC{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new qy(By.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new qy(By.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RC(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new qy(By.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new qy(By.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new qy(By.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class BC{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VC({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new qy(By.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new qy(By.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VC(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Hy;switch(e.type){case"firstParty":return new Jy(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new qy(By.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=OC.get(e);t&&(Ly("ComponentProvider","Removing Datastore"),OC.delete(e),t.terminate())}(this),Promise.resolve()}}function qC(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=UC(e,BC))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&Fy("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Py.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[cn(JSON.stringify({alg:"none",type:"JWT"})),cn(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new qy(By.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Py(o)}e._authCredentials=new Gy(new Ky(t,n))}}class WC{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new WC(this.firestore,e,this._query)}}class KC{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new HC(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new KC(this.firestore,e,this._key)}}class HC extends WC{constructor(e,t,n){super(e,t,V_(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new KC(this.firestore,null,new uw(e))}withConverter(e){return new HC(this.firestore,e,this._path)}}function GC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Hn(e),DC("collection","path",t),e instanceof BC){const n=aw.fromString(t,...r);return FC(n),new HC(e,null,n)}{if(!(e instanceof KC||e instanceof HC))throw new qy(By.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(aw.fromString(t,...r));return FC(n),new HC(e.firestore,null,n)}}function QC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Hn(e),1===arguments.length&&(t=ew.newId()),DC("doc","path",t),e instanceof BC){const n=aw.fromString(t,...r);return MC(n),new KC(e,null,new uw(n))}{if(!(e instanceof KC||e instanceof HC))throw new qy(By.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(aw.fromString(t,...r));return MC(n),new KC(e.firestore,e instanceof HC?e.converter:null,new uw(n))}}function $C(e,t){return e=Hn(e),t=Hn(t),(e instanceof KC||e instanceof HC)&&(t instanceof KC||t instanceof HC)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function JC(e,t){return e=Hn(e),t=Hn(t),e instanceof WC&&t instanceof WC&&e.firestore===t.firestore&&$_(e._query,t._query)&&e.converter===t.converter}class YC{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new kx(this,"async_queue_retry"),this.hu=()=>{const e=Sx();e&&Ly("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Jo.Uo()};const e=Sx();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=Sx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise((()=>{}));const t=new Wy;return this.Iu((()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.su.push(e),this.Tu())))}async Tu(){if(0!==this.su.length){try{await this.su[0](),this.su.shift(),this.Jo.reset()}catch(e){if(!Aw(e))throw e;Ly("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Jo.Ko((()=>this.Tu()))}}Iu(e){const t=this.iu.then((()=>(this.uu=!0,e().catch((e=>{this.au=e,this.uu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw My("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.uu=!1,e))))));return this.iu=t,t}enqueueAfterDelay(e,t,n){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const r=sT.createAndSchedule(this,e,t,n,(e=>this.Eu(e)));return this._u.push(r),r}Pu(){this.au&&Uy()}verifyOperationInProgress(){}async du(){let e;do{e=this.iu,await e}while(e!==this.iu)}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then((()=>{this._u.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()}))}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}function XC(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class ZC{constructor(){this._progressObserver={},this._taskCompletionResolver=new Wy,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class eA extends BC{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new YC,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||nA(this),this._firestoreClient.terminate()}}function tA(e){return e._firestoreClient||nA(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function nA(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Lb(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,RC(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new vC(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function rA(e,t,n){const r=new Wy;return e.asyncQueue.enqueue((async()=>{try{await yC(e,n),await wC(e,t),r.resolve()}catch(e){const n=e;if(!bC(n))throw n;Fy("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function iA(e){return function(e){const t=new Wy;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Vy(e);Ux(n.remoteStore)||Ly("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Vy(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Oa.get(e)||[];r.push(t),n.Oa.set(e,r)}catch(e){const n=aT(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await xC(e),t))),t.promise}(tA(e=UC(e,eA)))}function oA(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await IC(e),n=await EC(e);return t.setNetworkEnabled(!0),function(e){const t=Vy(e);return t.M_.delete(0),Px(t)}(n)}))}(tA(e=UC(e,eA)))}function sA(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await IC(e),n=await EC(e);return t.setNetworkEnabled(!1),async function(e){const t=Vy(e);t.M_.add(0),await Rx(t),t.N_.set("Offline")}(n)}))}(tA(e=UC(e,eA)))}function aA(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Vy(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Kr.getNamedQuery(e,t)))}(await kC(e),t)))}(tA(e=UC(e,eA)),t).then((t=>t?new WC(e,null,t.query):null))}function lA(e){if(e._initialized||e._terminated)throw new qy(By.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class cA{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cA(Tb.fromBase64String(e))}catch(e){throw new qy(By.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new cA(Tb.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class uA{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new qy(By.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cw(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class dA{constructor(e){this._methodName=e}}class hA{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new qy(By.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new qy(By.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tw(this._lat,e._lat)||tw(this._long,e._long)}}const fA=/^__.*__$/;class pA{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new BS(e,this.data,this.fieldMask,t,this.fieldTransforms):new VS(e,this.data,t,this.fieldTransforms)}}class mA{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new BS(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function gA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Uy()}}class vA{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.mu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new vA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.wu(e),r}Su(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return FA(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(gA(this.fu)&&fA.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class yA{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ix(e)}Fu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new vA({fu:e,methodName:t,vu:n,path:cw.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wA(e){const t=e._freezeSettings(),n=Ix(e._databaseId);return new yA(e._databaseId,!!t.ignoreUndefinedProperties,n)}function bA(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Fu(o.merge||o.mergeFields?2:0,t,n,i);OA("Data must be an object, but it was:",s,r);const a=PA(r,s);let l,c;if(o.merge)l=new Eb(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=DA(t,r,n);if(!s.contains(i))throw new qy(By.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));jA(e,i)||e.push(i)}l=new Eb(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new pA(new i_(a),l,c)}class _A extends dA{_toFieldTransform(e){if(2!==e.fu)throw 1===e.fu?e.Du("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Du("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _A}}function SA(e,t,n){return new vA({fu:3,vu:t.settings.vu,methodName:e._methodName,yu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class IA extends dA{_toFieldTransform(e){return new PS(e.path,new IS)}isEqual(e){return e instanceof IA}}class kA extends dA{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=SA(this,e,!0),n=this.Mu.map((e=>NA(e,t))),r=new kS(n);return new PS(e.path,r)}isEqual(e){return e instanceof kA&&On(this.Mu,e.Mu)}}class EA extends dA{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=SA(this,e,!0),n=this.Mu.map((e=>NA(e,t))),r=new xS(n);return new PS(e.path,r)}isEqual(e){return e instanceof EA&&On(this.Mu,e.Mu)}}class xA extends dA{constructor(e,t){super(e),this.xu=t}_toFieldTransform(e){const t=new CS(e.serializer,yS(e.serializer,this.xu));return new PS(e.path,t)}isEqual(e){return e instanceof xA&&this.xu===e.xu}}function TA(e,t,n,r){const i=e.Fu(1,t,n);OA("Data must be an object, but it was:",i,r);const o=[],s=i_.empty();vb(r,((e,r)=>{const a=MA(t,e,n);r=Hn(r);const l=i.Su(a);if(r instanceof _A)o.push(a);else{const e=NA(r,l);null!=e&&(o.push(a),s.set(a,e))}}));const a=new Eb(o);return new mA(s,a,i.fieldTransforms)}function CA(e,t,n,r,i,o){const s=e.Fu(1,t,n),a=[DA(t,r,n)],l=[i];if(o.length%2!=0)throw new qy(By.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<o.length;h+=2)a.push(DA(t,o[h])),l.push(o[h+1]);const c=[],u=i_.empty();for(let h=a.length-1;h>=0;--h)if(!jA(c,a[h])){const e=a[h];let t=l[h];t=Hn(t);const n=s.Su(e);if(t instanceof _A)c.push(e);else{const r=NA(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Eb(c);return new mA(u,d,s.fieldTransforms)}function AA(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return NA(n,e.Fu(r?4:3,t))}function NA(e,t){if(RA(e=Hn(e)))return OA("Unsupported field value:",t,e),PA(e,t);if(e instanceof dA)return function(e,t){if(!gA(t.fu))throw t.Du("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Du("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=NA(i,t.bu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Hn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return yS(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=iw.fromDate(e);return{timestampValue:II(t.serializer,n)}}if(e instanceof iw){const n=new iw(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:II(t.serializer,n)}}if(e instanceof hA)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof cA)return{bytesValue:kI(t.serializer,e._byteString)};if(e instanceof KC){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Du("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:TI(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Du("Unsupported field value: ".concat(jC(e)))}(e,t)}function PA(e,t){const n={};return yb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vb(e,((e,r)=>{const i=NA(r,t.pu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function RA(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof iw||e instanceof hA||e instanceof cA||e instanceof KC||e instanceof dA)}function OA(e,t,n){if(!RA(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=jC(n);throw"an object"===r?t.Du(e+" a custom object"):t.Du(e+" "+r)}}function DA(e,t,n){if((t=Hn(t))instanceof uA)return t._internalPath;if("string"==typeof t)return MA(e,t);throw FA("Field path arguments must be of type string or ",e,!1,void 0,n)}const LA=new RegExp("[~\\*/\\[\\]]");function MA(e,t,n){if(t.search(LA)>=0)throw FA("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new uA(...t.split("."))._internalPath}catch(l){throw FA("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function FA(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new qy(By.INVALID_ARGUMENT,a+e+l)}function jA(e,t){return e.some((e=>e.isEqual(t)))}class UA{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new KC(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new zA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(VA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class zA extends UA{data(){return super.data()}}function VA(e,t){return"string"==typeof t?MA(e,t):t instanceof uA?t._internalPath:t._delegate._internalPath}function BA(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new qy(By.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qA{}class WA extends qA{}function KA(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof qA&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof GA)).length,n=e.filter((e=>e instanceof HA)).length;if(t>1||t>0&&n>0)throw new qy(By.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class HA extends WA{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new HA(e,t,n)}_apply(e){const t=this._parse(e);return tN(e._query,t),new WC(e.firestore,e.converter,G_(e._query,t))}_parse(e){const t=wA(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new qy(By.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){eN(s,o);const t=[];for(const n of s)t.push(ZA(r,e,n));a={arrayValue:{values:t}}}else a=ZA(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||eN(s,o),a=AA(n,t,s,"in"===o||"not-in"===o);return f_.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class GA extends qA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new GA(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:p_.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)tN(n,i),n=G_(n,i)}(e._query,t),new WC(e.firestore,e.converter,G_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class QA extends WA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new QA(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new qy(By.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new qy(By.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new u_(t,n)}(e._query,this._field,this._direction);return new WC(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new U_(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class $A extends WA{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new $A(e,t,n)}_apply(e){return new WC(e.firestore,e.converter,Q_(e._query,this._limit,this._limitType))}}class JA extends WA{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new JA(e,t,n)}_apply(e){const t=XA(e,this.type,this._docOrFields,this._inclusive);return new WC(e.firestore,e.converter,function(e,t){return new U_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class YA extends WA{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new YA(e,t,n)}_apply(e){const t=XA(e,this.type,this._docOrFields,this._inclusive);return new WC(e.firestore,e.converter,function(e,t){return new U_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function XA(e,t,n,r){if(n[0]=Hn(n[0]),n[0]instanceof UA)return function(e,t,n,r,i){if(!r)throw new qy(By.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const o=[];for(const s of W_(e))if(s.field.isKeyField())o.push(Hb(t,r.key));else{const e=r.data.field(s.field);if(Rb(e))throw new qy(By.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new qy(By.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}o.push(e)}return new a_(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=wA(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new qy(By.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<i.length;l++){const o=i[l];if(s[l].field.isKeyField()){if("string"!=typeof o)throw new qy(By.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof o));if(!q_(e)&&-1!==o.indexOf("/"))throw new qy(By.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(o,"' contains a slash."));const n=e.path.child(aw.fromString(o));if(!uw.isDocumentKey(n))throw new qy(By.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new uw(n);a.push(Hb(t,i))}else{const e=AA(n,r,o);a.push(e)}}return new a_(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function ZA(e,t,n){if("string"==typeof(n=Hn(n))){if(""===n)throw new qy(By.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!q_(t)&&-1!==n.indexOf("/"))throw new qy(By.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(aw.fromString(n));if(!uw.isDocumentKey(r))throw new qy(By.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Hb(e,new uw(r))}if(n instanceof KC)return Hb(e,n._key);throw new qy(By.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(jC(n),"."))}function eN(e,t){if(!Array.isArray(e)||0===e.length)throw new qy(By.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function tN(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new qy(By.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new qy(By.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class nN{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ub(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nb(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pb(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Uy()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return vb(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new hA(Nb(e.latitude),Nb(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ob(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Db(e));default:return null}}convertTimestamp(e){const t=Ab(e);return new iw(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=aw.fromString(e);zy(YI(n));const r=new Mb(n.get(1),n.get(3)),i=new uw(n.popFirst(5));return r.isEqual(t)||My("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function rN(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class iN extends nN{constructor(e){super(),this.firestore=e}convertBytes(e){return new cA(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new KC(this.firestore,null,t)}}class oN{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sN extends UA{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new aN(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(VA("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class aN extends sN{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class lN{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new oN(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new aN(this._firestore,this._userDataWriter,n.key,n,new oN(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new qy(By.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new aN(e._firestore,e._userDataWriter,n.doc.key,n.doc,new oN(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new aN(e._firestore,e._userDataWriter,t.doc.key,t.doc,new oN(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:cN(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function cN(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Uy()}}function uN(e,t){return e instanceof sN&&t instanceof sN?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof lN&&t instanceof lN&&e._firestore===t._firestore&&JC(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class dN extends nN{constructor(e){super(),this.firestore=e}convertBytes(e){return new cA(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new KC(this.firestore,null,t)}}function hN(e){e=UC(e,KC);const t=UC(e.firestore,eA),n=tA(t),r=new dN(t);return function(e,t){const n=new Wy;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Vy(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new qy(By.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=aT(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await kC(e),t,n))),n.promise}(n,e._key).then((n=>new sN(t,r,e._key,n,new oN(null!==n&&n.hasLocalMutations,!0),e.converter)))}function fN(e){e=UC(e,WC);const t=UC(e.firestore,eA),n=tA(t),r=new dN(t);return function(e,t){const n=new Wy;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await XE(e,t,!0),i=new TT(t,r.ls),o=i.da(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=aT(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await kC(e),t,n))),n.promise}(n,e._query).then((n=>new lN(t,r,e,n)))}function pN(e,t,n){e=UC(e,KC);const r=UC(e.firestore,eA),i=rN(e.converter,t,n);return yN(r,[bA(wA(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,OS.none())])}function mN(e,t,n){e=UC(e,KC);const r=UC(e.firestore,eA),i=wA(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return o="string"==typeof(t=Hn(t))||t instanceof uA?CA(i,"updateDoc",e._key,t,n,a):TA(i,"updateDoc",e._key,t),yN(r,[o.toMutation(e._key,OS.exists(!0))])}function gN(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=Hn(e);let a={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||XC(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(XC(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[l+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let u,d,h;if(e instanceof KC)d=UC(e.firestore,eA),h=V_(e._key.path),u={next:t=>{n[l]&&n[l](wN(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=UC(e,WC);d=UC(t.firestore,eA),h=t._query;const r=new dN(d);u={next:e=>{n[l]&&n[l](new lN(d,r,t,e))},error:n[l+1],complete:n[l+2]},BA(e._query)}return function(e,t,n,r){const i=new fC(r),o=new bT(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>fT(await CC(e),o))),()=>{i.$a(),e.asyncQueue.enqueueAndForget((async()=>pT(await CC(e),o)))}}(tA(d),h,c,u)}function vN(e,t){return function(e,t){const n=new fC(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Vy(e).z_.add(t),t.next()}(await CC(e),n))),()=>{n.$a(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Vy(e).z_.delete(t)}(await CC(e),n)))}}(tA(e=UC(e,eA)),XC(t)?t:{next:t})}function yN(e,t){return function(e,t){const n=new Wy;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=aC(e);try{const e=await function(e,t){const n=Vy(e),r=iw.now(),i=t.reduce(((e,t)=>e.add(t.key)),fS());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=iS(),l=fS();return n.ss.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=US(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new BS(e.key,t,o_(t.value.mapValue),OS.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:aS(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.xa[e.currentUser.toKey()];r||(r=new wb(tw)),r=r.insert(t,n),e.xa[e.currentUser.toKey()]=r}(r,e.batchId,n),await $T(r,e.changes),await Gx(r.remoteStore)}catch(e){const t=aT(e,"Failed to persist write");n.reject(t)}}(await xC(e),t,n))),n.promise}(tA(e),t)}function wN(e,t,n){const r=n.docs.get(t._key),i=new dN(e);return new sN(e,i,t._key,r,new oN(n.hasPendingWrites,n.fromCache),t.converter)}const bN={maxAttempts:5};class _N{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=wA(e)}set(e,t,n){this._verifyNotCommitted();const r=SN(e,this._firestore),i=rN(r.converter,t,n),o=bA(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,OS.none())),this}update(e,t,n){this._verifyNotCommitted();const r=SN(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=Hn(t))||t instanceof uA?CA(this._dataReader,"WriteBatch.update",r._key,t,n,s):TA(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,OS.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=SN(e,this._firestore);return this._mutations=this._mutations.concat(new HS(t._key,OS.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new qy(By.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function SN(e,t){if((e=Hn(e)).firestore!==t)throw new qy(By.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class IN extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=wA(e)}get(e){const t=SN(e,this._firestore),n=new iN(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Uy();const r=e[0];if(r.isFoundDocument())return new UA(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new UA(this._firestore,n,t._key,null,t.converter);throw Uy()}))}set(e,t,n){const r=SN(e,this._firestore),i=rN(r.converter,t,n),o=bA(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=SN(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=Hn(t))||t instanceof uA?CA(this._dataReader,"Transaction.update",r._key,t,n,s):TA(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=SN(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=SN(e,this._firestore),n=new dN(this._firestore);return super.get(e).then((e=>new sN(this._firestore,n,t._key,e._document,new oN(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ry=e}(qr),Dr(new Gn("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new eA(new Qy(e.getProvider("auth-internal")),new Xy(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new qy(By.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mb(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),$r(Ny,"4.6.1",e),$r(Ny,"4.6.1","esm2017")}();function kN(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new qy("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function EN(){if("undefined"===typeof Uint8Array)throw new qy("unimplemented","Uint8Arrays are not available in this environment.")}function xN(){if("undefined"==typeof atob)throw new qy("unimplemented","Blobs are unavailable in Firestore in this environment.")}class TN{constructor(e){this._delegate=e}static fromBase64String(e){return xN(),new TN(cA.fromBase64String(e))}static fromUint8Array(e){return EN(),new TN(cA.fromUint8Array(e))}toBase64(){return xN(),this._delegate.toBase64()}toUint8Array(){return EN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function CN(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class AN{enableIndexedDbPersistence(e,t){return function(e,t){lA(e=UC(e,eA));const n=tA(e);if(n._uninitializedComponentsProvider)throw new qy(By.FAILED_PRECONDITION,"SDK cache is already specified.");Fy("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new dC;return rA(n,i,new cC(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){lA(e=UC(e,eA));const t=tA(e);if(t._uninitializedComponentsProvider)throw new qy(By.FAILED_PRECONDITION,"SDK cache is already specified.");Fy("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new dC;return rA(t,r,new uC(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new qy(By.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Wy;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Ew.D())return Promise.resolve();const t=e+"main";await Ew.delete(t)}(zE(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class NN{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Mb||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Fy("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};qC(this._delegate,e,t,n)}enableNetwork(){return oA(this._delegate)}disableNetwork(){return sA(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,LC("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return iA(this._delegate)}onSnapshotsInSync(e){return vN(this._delegate,e)}get app(){if(!this._appCompat)throw new qy("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new WN(this,GC(this._delegate,e))}catch(t){throw MN(t,"collection()","Firestore.collection()")}}doc(e){try{return new LN(this,QC(this._delegate,e))}catch(t){throw MN(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new VN(this,function(e,t){if(e=UC(e,BC),DC("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new qy(By.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new WC(e,null,function(e){return new U_(aw.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw MN(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=UC(e,eA);const r=Object.assign(Object.assign({},bN),n);return function(e){if(e.maxAttempts<1)throw new qy(By.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Wy;return e.asyncQueue.enqueueAndForget((async()=>{const i=await TC(e);new gC(e.asyncQueue,i,n,t,r).Xa()})),r.promise}(tA(e),(n=>t(new IN(e,n))),r)}(this._delegate,(t=>e(new RN(this,t))))}batch(){return tA(this._delegate),new ON(new _N(this._delegate,(e=>yN(this._delegate,e))))}loadBundle(e){return function(e,t){const n=tA(e=UC(e,eA)),r=new ZC;return PC(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return aA(this._delegate,e).then((e=>e?new VN(this,e):null))}}class PN extends nN{constructor(e){super(),this.firestore=e}convertBytes(e){return new TN(new cA(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return LN.forKey(t,this.firestore,null)}}class RN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new PN(e)}get(e){const t=KN(e);return this._delegate.get(t).then((e=>new UN(this._firestore,new sN(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=KN(e);return n?(kN("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=KN(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=KN(e);return this._delegate.delete(t),this}}class ON{constructor(e){this._delegate=e}set(e,t,n){const r=KN(e);return n?(kN("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=KN(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=KN(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class DN{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new aN(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new zN(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=DN.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new DN(e,new PN(e),t),r.set(t,i)),i}}DN.INSTANCES=new WeakMap;class LN{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new PN(e)}static forPath(e,t,n){if(e.length%2!==0)throw new qy("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new LN(t,new KC(t._delegate,n,new uw(e)))}static forKey(e,t,n){return new LN(t,new KC(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new WN(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new WN(this.firestore,GC(this._delegate,e))}catch(t){throw MN(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Hn(e))instanceof KC&&$C(this._delegate,e)}set(e,t){t=kN("DocumentReference.set",t);try{return t?pN(this._delegate,e,t):pN(this._delegate,e)}catch(n){throw MN(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?mN(this._delegate,e):mN(this._delegate,e,t,...r)}catch(o){throw MN(o,"updateDoc()","DocumentReference.update()")}}delete(){return yN(UC((e=this._delegate).firestore,eA),[new HS(e._key,OS.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=FN(t),i=jN(t,(e=>new UN(this.firestore,new sN(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return gN(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?hN(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=UC(e,KC);const t=UC(e.firestore,eA);return AC(tA(t),e._key,{source:"server"}).then((n=>wN(t,e,n)))}(this._delegate):function(e){e=UC(e,KC);const t=UC(e.firestore,eA);return AC(tA(t),e._key).then((n=>wN(t,e,n)))}(this._delegate),t.then((e=>new UN(this.firestore,new sN(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new LN(this.firestore,e?this._delegate.withConverter(DN.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function MN(e,t,n){return e.message=e.message.replace(t,n),e}function FN(e){for(const t of e)if("object"===typeof t&&!CN(t))return t;return{}}function jN(e,t){var n,r;let i;return i=CN(e[0])?e[0]:CN(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class UN{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new LN(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return uN(this._delegate,e._delegate)}}class zN extends UN{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||Uy(),t}}class VN{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new PN(e)}where(e,t,n){try{return new VN(this.firestore,KA(this._delegate,function(e,t,n){const r=t,i=VA("where",e);return HA._create(i,r,n)}(e,t,n)))}catch(r){throw MN(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new VN(this.firestore,KA(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=VA("orderBy",e);return QA._create(n,t)}(e,t)))}catch(n){throw MN(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new VN(this.firestore,KA(this._delegate,(zC("limit",t=e),$A._create("limit",t,"F"))))}catch(t){throw MN(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new VN(this.firestore,KA(this._delegate,(zC("limitToLast",t=e),$A._create("limitToLast",t,"L"))))}catch(t){throw MN(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new VN(this.firestore,KA(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return JA._create("startAt",t,!0)}(...arguments)))}catch(e){throw MN(e,"startAt()","Query.startAt()")}}startAfter(){try{return new VN(this.firestore,KA(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return JA._create("startAfter",t,!1)}(...arguments)))}catch(e){throw MN(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new VN(this.firestore,KA(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return YA._create("endBefore",t,!1)}(...arguments)))}catch(e){throw MN(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new VN(this.firestore,KA(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return YA._create("endAt",t,!0)}(...arguments)))}catch(e){throw MN(e,"endAt()","Query.endAt()")}}isEqual(e){return JC(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?fN(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=UC(e,WC);const t=UC(e.firestore,eA),n=tA(t),r=new dN(t);return NC(n,e._query,{source:"server"}).then((n=>new lN(t,r,e,n)))}(this._delegate):function(e){e=UC(e,WC);const t=UC(e.firestore,eA),n=tA(t),r=new dN(t);return BA(e._query),NC(n,e._query).then((n=>new lN(t,r,e,n)))}(this._delegate),t.then((e=>new qN(this.firestore,new lN(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=FN(t),i=jN(t,(e=>new qN(this.firestore,new lN(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return gN(this._delegate,r,i)}withConverter(e){return new VN(this.firestore,e?this._delegate.withConverter(DN.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class BN{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new zN(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class qN{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new VN(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new zN(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new BN(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new zN(this._firestore,n))}))}isEqual(e){return uN(this._delegate,e._delegate)}}class WN extends VN{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new LN(this.firestore,e):null}doc(e){try{return new LN(this.firestore,void 0===e?QC(this._delegate):QC(this._delegate,e))}catch(t){throw MN(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=UC(e.firestore,eA),r=QC(e),i=rN(e.converter,t);return yN(n,[bA(wA(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,OS.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new LN(this.firestore,e)))}isEqual(e){return $C(this._delegate,e._delegate)}withConverter(e){return new WN(this.firestore,e?this._delegate.withConverter(DN.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function KN(e){return UC(e,KC)}class HN{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new uA(...t)}static documentId(){return new HN(cw.keyField().canonicalString())}isEqual(e){return(e=Hn(e))instanceof uA&&this._delegate._internalPath.isEqual(e._internalPath)}}class GN{constructor(e){this._delegate=e}static serverTimestamp(){const e=new IA("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new GN(e)}static delete(){const e=new _A("deleteField");return e._methodName="FieldValue.delete",new GN(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new kA("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new GN(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new EA("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new GN(e)}static increment(e){const t=new xA("increment",e);return t._methodName="FieldValue.increment",new GN(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const QN={Firestore:NN,GeoPoint:hA,Timestamp:iw,Blob:TN,Transaction:RN,WriteBatch:ON,DocumentReference:LN,DocumentSnapshot:UN,Query:VN,QueryDocumentSnapshot:zN,QuerySnapshot:qN,CollectionReference:WN,FieldPath:HN,FieldValue:GN,setLogLevel:function(e){var t;t=e,Oy.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Gn("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},QN)))}(e,((e,t)=>new NN(e,t,new AN))),e.registerVersion("@firebase/firestore-compat","0.3.30")}(nc);const $N={apiKey:"AIzaSyBOIDGy-yhaW0gmhKBxlMeWQrackaT8kkE",authDomain:"typerunner-8b8b2.firebaseapp.com",projectId:"typerunner-8b8b2",storageBucket:"typerunner-8b8b2.appspot.com",messagingSenderId:"859099702395",appId:"1:859099702395:web:8383c2e8012fa8ec9e6ede",measurementId:"G-RFETHYS5T5"},JN=Wr($N),YN=new Qo;YN.setCustomParameters({prompt:"select_account"});const XN=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hr();const t=Lr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Lr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(On(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;gi(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ma,persistence:[ks,as,cs]}),r=gn("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>wa)return;const r=null===t||void 0===t?void 0:t.token;ba!==r&&(ba=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Hn(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){Hn(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const o=pn("auth");return o&&Ro(n,"http://".concat(o)),n}(JN);!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hr();e=Hn(e);const t=Lr(e,ml);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Lr(e,ml);if(n.isInitialized()){const e=n.getImmediate();if(On(t,n.getOptions()))return e;throw Sl.create("already-initialized")}const r=n.initialize({options:t})}(e)}(JN);nc.initializeApp($N);const ZN=nc.firestore();function eP(){return eP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eP.apply(this,arguments)}var tP;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(tP||(tP={}));const nP="popstate";function rP(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function iP(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function oP(e,t){return{usr:e.state,key:e.key,idx:t}}function sP(e,t,n,r){return void 0===n&&(n=null),eP({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?lP(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function aP(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function lP(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function cP(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=tP.Pop,l=null,c=u();function u(){return(s.state||{idx:null}).idx}function d(){a=tP.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:a,location:f.location,delta:t})}function h(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:aP(e);return n=n.replace(/ $/,"%20"),rP(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,s.replaceState(eP({},s.state,{idx:c}),""));let f={get action(){return a},get location(){return e(i,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(nP,d),l=e,()=>{i.removeEventListener(nP,d),l=null}},createHref:e=>t(i,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=tP.Push;let r=sP(f.location,e,t);n&&n(r,e),c=u()+1;let d=oP(r,c),h=f.createHref(r);try{s.pushState(d,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(h)}o&&l&&l({action:a,location:f.location,delta:1})},replace:function(e,t){a=tP.Replace;let r=sP(f.location,e,t);n&&n(r,e),c=u();let i=oP(r,c),d=f.createHref(r);s.replaceState(i,"",d),o&&l&&l({action:a,location:f.location,delta:0})},go:e=>s.go(e)};return f}var uP;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(uP||(uP={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function dP(e,t,n){void 0===n&&(n="/");let r=EP(("string"===typeof t?lP(t):t).pathname||"/",n);if(null==r)return null;let i=hP(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s){let e=kP(r);o=SP(i[s],e)}return o}function hP(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(rP(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=NP([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(rP(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),hP(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:_P(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of fP(e.path))i(e,t,r);else i(e,t)})),t}function fP(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=fP(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const pP=/^:[\w-]+$/,mP=3,gP=2,vP=1,yP=10,wP=-2,bP=e=>"*"===e;function _P(e,t){let n=e.split("/"),r=n.length;return n.some(bP)&&(r+=wP),t&&(r+=gP),n.filter((e=>!bP(e))).reduce(((e,t)=>e+(pP.test(t)?mP:""===t?vP:yP)),r)}function SP(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],a=s===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=IP({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;o.push({params:r,pathname:NP([i,c.pathname]),pathnameBase:PP(NP([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=NP([i,c.pathnameBase]))}return o}function IP(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);iP("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function kP(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return iP(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function EP(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function xP(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function TP(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function CP(e,t){let n=TP(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function AP(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=lP(e):(i=eP({},e),rP(!i.pathname||!i.pathname.includes("?"),xP("?","pathname","search",i)),rP(!i.pathname||!i.pathname.includes("#"),xP("#","pathname","hash",i)),rP(!i.search||!i.search.includes("#"),xP("#","search","hash",i)));let o,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(null==a)o=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?lP(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:RP(r),hash:OP(i)}}(i,o),c=a&&"/"!==a&&a.endsWith("/"),u=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const NP=e=>e.join("/").replace(/\/\/+/g,"/"),PP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),RP=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",OP=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function DP(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const LP=["post","put","patch","delete"],MP=(new Set(LP),["get",...LP]);new Set(MP),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function FP(){return FP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FP.apply(this,arguments)}const jP=t.createContext(null);const UP=t.createContext(null);const zP=t.createContext(null);const VP=t.createContext(null);const BP=t.createContext({outlet:null,matches:[],isDataRoute:!1});const qP=t.createContext(null);function WP(){return null!=t.useContext(VP)}function KP(){return WP()||rP(!1),t.useContext(VP).location}function HP(e){t.useContext(zP).static||t.useLayoutEffect(e)}function GP(){let{isDataRoute:e}=t.useContext(BP);return e?function(){let{router:e}=nR(eR.UseNavigateStable),n=iR(tR.UseNavigateStable),r=t.useRef(!1);HP((()=>{r.current=!0}));let i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,FP({fromRouteId:n},i)))}),[e,n]);return i}():function(){WP()||rP(!1);let e=t.useContext(jP),{basename:n,future:r,navigator:i}=t.useContext(zP),{matches:o}=t.useContext(BP),{pathname:s}=KP(),a=JSON.stringify(CP(o,r.v7_relativeSplatPath)),l=t.useRef(!1);return HP((()=>{l.current=!0})),t.useCallback((function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void i.go(t);let o=AP(t,JSON.parse(a),s,"path"===r.relative);null==e&&"/"!==n&&(o.pathname="/"===o.pathname?n:NP([n,o.pathname])),(r.replace?i.replace:i.push)(o,r.state,r)}),[n,i,a,s,e])}()}function QP(e,n,r,i){WP()||rP(!1);let{navigator:o}=t.useContext(zP),{matches:s}=t.useContext(BP),a=s[s.length-1],l=a?a.params:{},c=(a&&a.pathname,a?a.pathnameBase:"/");a&&a.route;let u,d=KP();if(n){var h;let e="string"===typeof n?lP(n):n;"/"===c||(null==(h=e.pathname)?void 0:h.startsWith(c))||rP(!1),u=e}else u=d;let f=u.pathname||"/",p=f;if("/"!==c){let e=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let m=dP(e,{pathname:p});let g=ZP(m&&m.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:NP([c,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:NP([c,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,r,i);return n&&g?t.createElement(VP.Provider,{value:{location:FP({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:tP.Pop}},g):g}function $P(){let e=function(){var e;let n=t.useContext(qP),r=rR(tR.UseRouteError),i=iR(tR.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=DP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,null)}const JP=t.createElement($P,null);class YP extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(BP.Provider,{value:this.props.routeContext},t.createElement(qP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XP(e){let{routeContext:n,match:r,children:i}=e,o=t.useContext(jP);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(BP.Provider,{value:n},i)}function ZP(e,n,r,i){var o;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var s;if(null==(s=r)||!s.errors)return null;e=r.matches}let a=e,l=null==(o=r)?void 0:o.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||rP(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,u=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){c=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight(((e,i,o)=>{let s,d=!1,h=null,f=null;var p;r&&(s=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||JP,c&&(u<0&&0===o?(p="route-fallback",!1||oR[p]||(oR[p]=!0),d=!0,f=null):u===o&&(d=!0,f=i.route.hydrateFallbackElement||null)));let m=n.concat(a.slice(0,o+1)),g=()=>{let n;return n=s?h:d?f:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(XP,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?t.createElement(YP,{location:r.location,revalidation:r.revalidation,component:h,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var eR=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(eR||{}),tR=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(tR||{});function nR(e){let n=t.useContext(jP);return n||rP(!1),n}function rR(e){let n=t.useContext(UP);return n||rP(!1),n}function iR(e){let n=function(e){let n=t.useContext(BP);return n||rP(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||rP(!1),r.route.id}const oR={};r.startTransition;function sR(e){rP(!1)}function aR(e){let{basename:n="/",children:r=null,location:i,navigationType:o=tP.Pop,navigator:s,static:a=!1,future:l}=e;WP()&&rP(!1);let c=n.replace(/^\/*/,"/"),u=t.useMemo((()=>({basename:c,navigator:s,static:a,future:FP({v7_relativeSplatPath:!1},l)})),[c,l,s,a]);"string"===typeof i&&(i=lP(i));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=i,g=t.useMemo((()=>{let e=EP(d,c);return null==e?null:{location:{pathname:e,search:h,hash:f,state:p,key:m},navigationType:o}}),[c,d,h,f,p,m,o]);return null==g?null:t.createElement(zP.Provider,{value:u},t.createElement(VP.Provider,{children:r,value:g}))}function lR(e){let{children:t,location:n}=e;return QP(cR(t),n)}new Promise((()=>{}));t.Component;function cR(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let o=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,cR(e.props.children,o));e.type!==sR&&rP(!1),e.props.index&&e.props.children&&rP(!1);let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=cR(e.props.children,o)),r.push(s)})),r}const uR=()=>{const e=GP();return(0,t.useEffect)((()=>{XN.onAuthStateChanged((()=>{(async()=>{XN.currentUser?(e("/LoadingPage"),console.log("logged in"),await async function(){if(!hR())throw new Error("Can't initialize! User not logged in!");let e,t,n;try{e=await async function(){var e;const t=ZN.collection("Users").doc(null===(e=XN.currentUser)||void 0===e?void 0:e.uid),n=await t.collection("historySettings").doc("historySetting").get();if(n.exists){var r;const e=null!==(r=n.data())&&void 0!==r?r:{};console.log(n);return{...e}}throw new Error("failed to get history settings data")}(),t=await async function(){var e;const t=ZN.collection("Users").doc(null===(e=XN.currentUser)||void 0===e?void 0:e.uid),n=await t.collection("settings").doc("setting").get();if(n.exists){var r;const e=null!==(r=n.data())&&void 0!==r?r:{};console.log(e);return{...e}}throw new Error("failed to get settings data")}(),n=await async function(){var e;const t=ZN.collection("Users").doc(null===(e=XN.currentUser)||void 0===e?void 0:e.uid),n=await t.collection("typingStatArrays").doc("typingStatArray").get();if(n.exists){const e=n.data();console.log(e);return Object.values(null!==e&&void 0!==e?e:{}).at(0)}throw new Error("failed to get typing stats data")}(),on.overrideHistorySettings(e),on.overrideWithSettingsData(t),on.overrideWithTypingStatData(n),console.log("Succesfully initialized users data!")}catch(r){return console.log("First time log in, setting up user data"),await async function(){var e;const t=ZN.collection("Users").doc(null===(e=XN.currentUser)||void 0===e?void 0:e.uid),n=t.collection("settings"),i=t.collection("historySettings"),o=t.collection("typingStatArrays");try{await n.doc("setting").set(on.getSettings().toDoc()),await i.doc("historySetting").set(on.getHistorySettings().toDoc()),await o.doc("typingStatArray").set(on.typingStatsToDoc())}catch(r){console.error(r)}}(),void console.log("Succesfully set up users data!")}}(),await PL(),e(-1)):(e("/LoadingPage"),console.log("logged out"),await on.reset(),await PL(),e(-1))})()}))}),[]),(0,U.jsx)(U.Fragment,{children:(0,U.jsx)("span",{})})};async function dR(){try{await async function(e,t,n){if(jr(e.app))return Promise.reject(vi(e,"operation-not-supported-in-this-environment"));const r=ko(e);bi(e,t,Ko);const i=Cs(r,n);return new Ls(r,"signInViaPopup",t,i).executeNotNull()}(XN,YN)}catch(e){console.error(e)}}function hR(){return!!XN.currentUser&&null!=XN.currentUser.uid}async function fR(){try{await async function(){var e;if(!hR())return void console.log("Can't update user not logged in!");const t=ZN.collection("Users").doc(null===(e=XN.currentUser)||void 0===e?void 0:e.uid),n=t.collection("typingStatArrays"),r=t.collection("historySettings"),i=t.collection("settings"),o=n.doc("typingStatArray"),s=r.doc("historySetting"),a=i.doc("setting"),l=ZN.batch();l.update(o,on.typingStatsToDoc()),l.update(s,on.getHistorySettings().toDoc()),l.update(a,on.getSettings().toDoc()),l.commit().then((()=>{})).catch((e=>{console.error("Error writing batch",e)}))}(),await function(e){return Hn(e).signOut()}(XN)}catch(e){console.error(e)}}async function pR(){var e;if(!hR())return void console.log("Can't update user not logged in!");const t=ZN.collection("Users").doc(null===(e=XN.currentUser)||void 0===e?void 0:e.uid).collection("settings");try{await t.doc("setting").update(on.getSettings().toDoc())}catch(n){console.error(n)}}var mR,gR=!1,vR=!1,yR=!0,wR=!1,bR=!0,_R=0;function SR(){var e,t;null===(e=mR.current)||void 0===e||e.focus(),console.log(null===(t=mR.current)||void 0===t?void 0:t.value)}var IR=()=>{};const kR=()=>{const e=(0,t.useContext)(NL),n=(0,t.useContext)(AL);mR=(0,t.useRef)(null);const r=async()=>{vR=!0,o();const t=await it(e);e.setToType(t.toString()),e.setTypedSoFar(""),e.setWpm(0),ER(),wR=!1,vR=!1},i=t=>{r(),e.setTypedSoFar(""),on.pushTypingStat(new rn({wpm:+e.wpm,accuracy:+e.accuracy,generatedPrompt:e.toType.valueOf(),typedPrompt:t,duration:+e.duration,startTime:_R,endTime:(new Date).getTime()})),async function(){var e;if(!hR())return void console.log("Can't update user not logged in!");const t=ZN.collection("Users").doc(null===(e=XN.currentUser)||void 0===e?void 0:e.uid).collection("typingStatArrays");try{await t.doc("typingStatArray").update(on.typingStatsToDoc())}catch(n){}}().then((()=>{console.log("Finished updating online typing stats")}))},o=()=>{e.setTimersArePaused(!0)},s=()=>{e.setTimersArePaused(!1)};t.useEffect((()=>{r(),on.setSettings({fontSize:+e.fontSize,wordCount:+e.wordCount,numbersEnabled:e.numbersEnabled.valueOf(),sentencesEnabled:e.sentencesEnabled.valueOf(),wordsEnabled:e.wordsEnabled.valueOf(),symbolsEnabled:e.symbolsEnabled.valueOf(),lowercaseEnabled:e.lowercaseEnabled.valueOf()})}),[e.wordCount,e.wordsEnabled,e.numbersEnabled,e.symbolsEnabled,e.lowercaseEnabled,e.sentencesEnabled,e.fontSize]),IR=r;const a=e=>{e.preventDefault()},l=t=>{yR?vR||(wR||(bR=!1,wR=!0,_R=(new Date).getTime(),s(),bR=!0),e.setTypedSoFar(t.target.value),gR||(n.setStarArray([...n.starArray,ut()]),gR=!0,setTimeout((()=>{gR=!1}),300)),e.toType.length==t.target.value.length&&i(t.target.value)):e.setTypedSoFar(e.typedSoFar.toString())};return(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(en.Control,{as:"textarea",ref:mR,style:{position:"fixed",left:"200vw",top:"200vh"},onChange:e=>l(e),onKeyDown:e=>(e=>{!e.key.includes("Arrow")&&bR||e.preventDefault(),yR=!e.repeat})(e),onKeyUp:e=>{yR=!0},onMouseMove:e=>a(e),onMouseDown:e=>(e=>{mR.current&&mR.current.focus(),e.preventDefault()})(e),onMouseEnter:e=>a(e),onMouseOut:e=>a(e),onMouseUp:e=>a(e),onPaste:e=>(e=>{e.preventDefault()})(e),value:e.typedSoFar.toString()})})};var ER=()=>{};const xR=()=>{const e=(0,t.useContext)(NL),n=(0,t.useRef)(null),[r,i]=(0,t.useState)((0,U.jsx)(U.Fragment,{}));return ER=()=>{null!==n.current&&(n.current.scrollTop=0)},t.useEffect((()=>{i(ct(e.toType.valueOf(),e.typedSoFar.valueOf(),!0,+e.fontSize,e)),((e,t)=>{var r;const i=null===(r=n.current)||void 0===r?void 0:r.childNodes[e];i instanceof HTMLElement&&i.scrollIntoView({behavior:t,block:"center"})})(e.typedSoFar.length+1,"smooth")}),[e.fontSize,e.toType,e.typedSoFar]),(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("div",{style:{height:"20px"}}),(0,U.jsxs)("div",{className:"scrollCss",ref:n,contentEditable:!1,style:{height:"150px",width:"".concat(+e.scrollPaneWidth,"vw"),overflow:"hidden",whiteSpace:"normal",wordWrap:"break-word",overflowY:"hidden"},onMouseUp:()=>{SR()},children:[" ",r]},"scrollPane")]})};function TR(){const e=D(xe);return e[Te]||e}const CR=t.createContext();function AR(e){return p("MuiGrid",e)}const NR=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],PR=Le("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((e=>"spacing-xs-".concat(e))),...["column-reverse","column","row-reverse","row"].map((e=>"direction-xs-".concat(e))),...["nowrap","wrap-reverse","wrap"].map((e=>"wrap-xs-".concat(e))),...NR.map((e=>"grid-xs-".concat(e))),...NR.map((e=>"grid-sm-".concat(e))),...NR.map((e=>"grid-md-".concat(e))),...NR.map((e=>"grid-lg-".concat(e))),...NR.map((e=>"grid-xl-".concat(e)))]),RR=PR,OR=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function DR(e){const t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function LR(e){let{breakpoints:t,values:n}=e,r="";Object.keys(n).forEach((e=>{""===r&&0!==n[e]&&(r=e)}));const i=Object.keys(t).sort(((e,n)=>t[e]-t[n]));return i.slice(0,i.indexOf(r))}const MR=Ne("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:i,item:o,spacing:s,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]];const r=[];return t.forEach((t=>{const i=e[t];Number(i)>0&&r.push(n["spacing-".concat(t,"-").concat(String(i))])})),r}(s,c,t));const d=[];return c.forEach((e=>{const r=n[e];r&&d.push(t["grid-".concat(e,"-").concat(String(r))])})),[t.root,r&&t.container,o&&t.item,l&&t.zeroMinWidth,...u,"row"!==i&&t["direction-xs-".concat(String(i))],"wrap"!==a&&t["wrap-xs-".concat(String(a))],...d]}})((e=>{let{ownerState:t}=e;return(0,a.A)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){let{theme:t,ownerState:n}=e;const r=(0,F.kW)({values:n.direction,breakpoints:t.breakpoints.values});return(0,F.NI)({theme:t},r,(e=>{const t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(RR.item)]={maxWidth:"none"}),t}))}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,rowSpacing:i}=n;let o={};if(r&&0!==i){const e=(0,F.kW)({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=LR({breakpoints:t.breakpoints.values,values:e})),o=(0,F.NI)({theme:t},e,((e,r)=>{var i;const o=t.spacing(e);return"0px"!==o?{marginTop:"-".concat(DR(o)),["& > .".concat(RR.item)]:{paddingTop:DR(o)}}:null!=(i=n)&&i.includes(r)?{}:{marginTop:0,["& > .".concat(RR.item)]:{paddingTop:0}}}))}return o}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,columnSpacing:i}=n;let o={};if(r&&0!==i){const e=(0,F.kW)({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=LR({breakpoints:t.breakpoints.values,values:e})),o=(0,F.NI)({theme:t},e,((e,r)=>{var i;const o=t.spacing(e);return"0px"!==o?{width:"calc(100% + ".concat(DR(o),")"),marginLeft:"-".concat(DR(o)),["& > .".concat(RR.item)]:{paddingLeft:DR(o)}}:null!=(i=n)&&i.includes(r)?{}:{width:"100%",marginLeft:0,["& > .".concat(RR.item)]:{paddingLeft:0}}}))}return o}),(function(e){let t,{theme:n,ownerState:r}=e;return n.breakpoints.keys.reduce(((e,i)=>{let o={};if(r[i]&&(t=r[i]),!t)return e;if(!0===t)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=(0,F.kW)({values:r.columns,breakpoints:n.breakpoints.values}),l="object"===typeof s?s[i]:s;if(void 0===l||null===l)return e;const c="".concat(Math.round(t/l*1e8)/1e6,"%");let u={};if(r.container&&r.item&&0!==r.columnSpacing){const e=n.spacing(r.columnSpacing);if("0px"!==e){const t="calc(".concat(c," + ").concat(DR(e),")");u={flexBasis:t,maxWidth:t}}}o=(0,a.A)({flexBasis:c,flexGrow:0,maxWidth:c},u)}return 0===n.breakpoints.values[i]?Object.assign(e,o):e[n.breakpoints.up(i)]=o,e}),{})}));const FR=e=>{const{classes:t,container:n,direction:r,item:i,spacing:o,wrap:s,zeroMinWidth:a,breakpoints:l}=e;let c=[];n&&(c=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return["spacing-xs-".concat(String(e))];const n=[];return t.forEach((t=>{const r=e[t];if(Number(r)>0){const e="spacing-".concat(t,"-").concat(String(r));n.push(e)}})),n}(o,l));const u=[];l.forEach((t=>{const n=e[t];n&&u.push("grid-".concat(t,"-").concat(String(n)))}));return m({root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...c,"row"!==r&&"direction-xs-".concat(String(r)),"wrap"!==s&&"wrap-xs-".concat(String(s)),...u]},AR,t)},jR=t.forwardRef((function(e,n){const r=Pe({props:e,name:"MuiGrid"}),{breakpoints:i}=TR(),o=(0,M.A)(r),{className:l,columns:u,columnSpacing:d,component:h="div",container:f=!1,direction:p="row",item:m=!1,rowSpacing:g,spacing:v=0,wrap:y="wrap",zeroMinWidth:w=!1}=o,b=(0,s.A)(o,OR),_=g||v,S=d||v,I=t.useContext(CR),k=f?u||12:I,E={},x=(0,a.A)({},b);i.keys.forEach((e=>{null!=b[e]&&(E[e]=b[e],delete x[e])}));const T=(0,a.A)({},o,{columns:k,container:f,direction:p,item:m,rowSpacing:_,columnSpacing:S,wrap:y,zeroMinWidth:w,spacing:v},E,{breakpoints:i.keys}),C=FR(T);return(0,U.jsx)(CR.Provider,{value:k,children:(0,U.jsx)(MR,(0,a.A)({ownerState:T,className:c(C.root,l),as:h,ref:n},x))})}));const UR=jR;function zR(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function VR(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useMemo((()=>n.every((e=>null==e))?null:e=>{n.forEach((t=>{zR(t,e)}))}),n)}const BR=VR,qR="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;const WR=function(e){const n=t.useRef(e);return qR((()=>{n.current=e})),t.useRef((function(){return(0,n.current)(...arguments)})).current},KR=WR,HR={};const GR=[];class QR{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new QR}start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}}function $R(){const e=function(e,n){const r=t.useRef(HR);return r.current===HR&&(r.current=e(n)),r}(QR.create).current;var n;return n=e.disposeEffect,t.useEffect(n,GR),e}let JR=!0,YR=!1;const XR=new QR,ZR={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function eO(e){e.metaKey||e.altKey||e.ctrlKey||(JR=!0)}function tO(){JR=!1}function nO(){"hidden"===this.visibilityState&&YR&&(JR=!0)}function rO(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return JR||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!ZR[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function iO(){const e=t.useCallback((e=>{null!=e&&function(e){e.addEventListener("keydown",eO,!0),e.addEventListener("mousedown",tO,!0),e.addEventListener("pointerdown",tO,!0),e.addEventListener("touchstart",tO,!0),e.addEventListener("visibilitychange",nO,!0)}(e.ownerDocument)}),[]),n=t.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!rO(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(YR=!0,XR.start(100,(()=>{YR=!1})),n.current=!1,!0)},ref:e}}const oO=iO;function sO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aO(e,t){return aO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},aO(e,t)}function lO(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,aO(e,t)}const cO=t.createContext(null);function uO(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function dO(e,t,n){return null!=n[t]?n[t]:e.props[t]}function hO(e,n,r){var i=uO(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var s in e)s in t?o.length&&(i[s]=o,o=[]):o.push(s);var a={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];a[i[l][r]]=n(c)}a[l]=n(l)}for(r=0;r<o.length;r++)a[o[r]]=n(o[r]);return a}(n,i);return Object.keys(o).forEach((function(s){var a=o[s];if((0,t.isValidElement)(a)){var l=s in n,c=s in i,u=n[s],d=(0,t.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,t.isValidElement)(u)&&(o[s]=(0,t.cloneElement)(a,{onExited:r.bind(null,a),in:u.props.in,exit:dO(a,"exit",e),enter:dO(a,"enter",e)})):o[s]=(0,t.cloneElement)(a,{in:!1}):o[s]=(0,t.cloneElement)(a,{onExited:r.bind(null,a),in:!0,exit:dO(a,"exit",e),enter:dO(a,"enter",e)})}})),o}var fO=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},pO=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(sO(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}lO(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,o=n.children,s=n.handleExited;return{children:n.firstRender?(r=e,i=s,uO(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:dO(e,"appear",r),enter:dO(e,"enter",r),exit:dO(e,"exit",r)})}))):hO(e,o,s),firstRender:!1}},r.handleExited=function(e,t){var n=uO(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,a.A)({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=(0,s.A)(e,["component","childFactory"]),o=this.state.contextValue,a=fO(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(cO.Provider,{value:o},a):t.createElement(cO.Provider,{value:o},t.createElement(n,i,a))},n}(t.Component);pO.propTypes={},pO.defaultProps={component:"div",childFactory:function(e){return e}};const mO=pO;const gO=function(e){const{className:n,classes:r,pulsate:i=!1,rippleX:o,rippleY:s,rippleSize:a,in:l,onExited:u,timeout:d}=e,[h,f]=t.useState(!1),p=c(n,r.ripple,r.rippleVisible,i&&r.ripplePulsate),m={width:a,height:a,top:-a/2+s,left:-a/2+o},g=c(r.child,h&&r.childLeaving,i&&r.childPulsate);return l||h||f(!0),t.useEffect((()=>{if(!l&&null!=u){const e=setTimeout(u,d);return()=>{clearTimeout(e)}}}),[u,l,d]),(0,U.jsx)("span",{className:p,style:m,children:(0,U.jsx)("span",{className:g})})};const vO=Le("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);var yO,wO,bO,_O;const SO=["center","classes","className"];let IO,kO,EO,xO;const TO=(0,qe.i7)(IO||(IO=yO||(yO=o(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),CO=(0,qe.i7)(kO||(kO=wO||(wO=o(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),AO=(0,qe.i7)(EO||(EO=bO||(bO=o(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),NO=Ne("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),PO=Ne(gO,{name:"MuiTouchRipple",slot:"Ripple"})(xO||(xO=_O||(_O=o(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),vO.rippleVisible,TO,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),vO.ripplePulsate,(e=>{let{theme:t}=e;return t.transitions.duration.shorter}),vO.child,vO.childLeaving,CO,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),vO.childPulsate,AO,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut})),RO=t.forwardRef((function(e,n){const r=Pe({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:l}=r,u=(0,s.A)(r,SO),[d,h]=t.useState([]),f=t.useRef(0),p=t.useRef(null);t.useEffect((()=>{p.current&&(p.current(),p.current=null)}),[d]);const m=t.useRef(!1),g=$R(),v=t.useRef(null),y=t.useRef(null),w=t.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:i,cb:s}=e;h((e=>[...e,(0,U.jsx)(PO,{classes:{ripple:c(o.ripple,vO.ripple),rippleVisible:c(o.rippleVisible,vO.rippleVisible),ripplePulsate:c(o.ripplePulsate,vO.ripplePulsate),child:c(o.child,vO.child),childLeaving:c(o.childLeaving,vO.childLeaving),childPulsate:c(o.childPulsate,vO.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},f.current)])),f.current+=1,p.current=s}),[o]),b=t.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:r=!1,center:o=i||t.pulsate,fakeElement:s=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&m.current)return void(m.current=!1);"touchstart"===(null==e?void 0:e.type)&&(m.current=!0);const a=s?null:y.current,l=a?a.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,d;if(o||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(o)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2===0&&(d+=1);else{const e=2*Math.max(Math.abs((a?a.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((a?a.clientHeight:0)-u),u)+2;d=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===v.current&&(v.current=()=>{w({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})},g.start(80,(()=>{v.current&&(v.current(),v.current=null)}))):w({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})}),[i,w,g]),_=t.useCallback((()=>{b({},{pulsate:!0})}),[b]),S=t.useCallback(((e,t)=>{if(g.clear(),"touchend"===(null==e?void 0:e.type)&&v.current)return v.current(),v.current=null,void g.start(0,(()=>{S(e,t)}));v.current=null,h((e=>e.length>0?e.slice(1):e)),p.current=t}),[g]);return t.useImperativeHandle(n,(()=>({pulsate:_,start:b,stop:S})),[_,b,S]),(0,U.jsx)(NO,(0,a.A)({className:c(vO.root,o.root,l),ref:y},u,{children:(0,U.jsx)(mO,{component:null,exit:!0,children:d})}))})),OO=RO;function DO(e){return p("MuiButtonBase",e)}const LO=Le("MuiButtonBase",["root","disabled","focusVisible"]),MO=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],FO=Ne("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(LO.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),jO=t.forwardRef((function(e,n){const r=Pe({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:l,className:u,component:d="button",disabled:h=!1,disableRipple:f=!1,disableTouchRipple:p=!1,focusRipple:g=!1,LinkComponent:v="a",onBlur:y,onClick:w,onContextMenu:b,onDragLeave:_,onFocus:S,onFocusVisible:I,onKeyDown:k,onKeyUp:E,onMouseDown:x,onMouseLeave:T,onMouseUp:C,onTouchEnd:A,onTouchMove:N,onTouchStart:P,tabIndex:R=0,TouchRippleProps:O,touchRippleRef:D,type:L}=r,M=(0,s.A)(r,MO),F=t.useRef(null),j=t.useRef(null),z=BR(j,D),{isFocusVisibleRef:V,onFocus:B,onBlur:q,ref:W}=oO(),[K,H]=t.useState(!1);h&&K&&H(!1),t.useImperativeHandle(i,(()=>({focusVisible:()=>{H(!0),F.current.focus()}})),[]);const[G,Q]=t.useState(!1);t.useEffect((()=>{Q(!0)}),[]);const $=G&&!f&&!h;function J(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;return KR((r=>{t&&t(r);return!n&&j.current&&j.current[e](r),!0}))}t.useEffect((()=>{K&&g&&!f&&G&&j.current.pulsate()}),[f,g,K,G]);const Y=J("start",x),X=J("stop",b),Z=J("stop",_),ee=J("stop",C),te=J("stop",(e=>{K&&e.preventDefault(),T&&T(e)})),ne=J("start",P),re=J("stop",A),ie=J("stop",N),oe=J("stop",(e=>{q(e),!1===V.current&&H(!1),y&&y(e)}),!1),se=KR((e=>{F.current||(F.current=e.currentTarget),B(e),!0===V.current&&(H(!0),I&&I(e)),S&&S(e)})),ae=()=>{const e=F.current;return d&&"button"!==d&&!("A"===e.tagName&&e.href)},le=t.useRef(!1),ce=KR((e=>{g&&!le.current&&K&&j.current&&" "===e.key&&(le.current=!0,j.current.stop(e,(()=>{j.current.start(e)}))),e.target===e.currentTarget&&ae()&&" "===e.key&&e.preventDefault(),k&&k(e),e.target===e.currentTarget&&ae()&&"Enter"===e.key&&!h&&(e.preventDefault(),w&&w(e))})),ue=KR((e=>{g&&" "===e.key&&j.current&&K&&!e.defaultPrevented&&(le.current=!1,j.current.stop(e,(()=>{j.current.pulsate(e)}))),E&&E(e),w&&e.target===e.currentTarget&&ae()&&" "===e.key&&!e.defaultPrevented&&w(e)}));let de=d;"button"===de&&(M.href||M.to)&&(de=v);const he={};"button"===de?(he.type=void 0===L?"button":L,he.disabled=h):(M.href||M.to||(he.role="button"),h&&(he["aria-disabled"]=h));const fe=BR(n,W,F);const pe=(0,a.A)({},r,{centerRipple:o,component:d,disabled:h,disableRipple:f,disableTouchRipple:p,focusRipple:g,tabIndex:R,focusVisible:K}),me=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o=m({root:["root",t&&"disabled",n&&"focusVisible"]},DO,i);return n&&r&&(o.root+=" ".concat(r)),o})(pe);return(0,U.jsxs)(FO,(0,a.A)({as:de,className:c(me.root,u),ownerState:pe,onBlur:oe,onClick:w,onContextMenu:X,onFocus:se,onKeyDown:ce,onKeyUp:ue,onMouseDown:Y,onMouseLeave:te,onMouseUp:ee,onDragLeave:Z,onTouchEnd:re,onTouchMove:ie,onTouchStart:ne,ref:fe,tabIndex:h?-1:R,type:L},he,M,{children:[l,$?(0,U.jsx)(OO,(0,a.A)({ref:z,center:o},O)):null]}))})),UO=jO;function zO(e){return p("MuiButton",e)}const VO=Le("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const BO=t.createContext({});const qO=t.createContext(void 0),WO=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],KO=e=>(0,a.A)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),HO=Ne(UO,{shouldForwardProp:e=>Ae(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat(De(n.color))],t["size".concat(De(n.size))],t["".concat(n.variant,"Size").concat(De(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((e=>{let{theme:t,ownerState:n}=e;var r,i;const o="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],s="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return(0,a.A)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,a.A)({textDecoration:"none",backgroundColor:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,J.X4)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===n.variant&&"inherit"!==n.color&&{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,J.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===n.variant&&"inherit"!==n.color&&{border:"1px solid ".concat((t.vars||t).palette[n.color].main),backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,J.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===n.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===n.variant&&"inherit"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}),"&:active":(0,a.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[8]}),["&.".concat(VO.focusVisible)]:(0,a.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[6]}),["&.".concat(VO.disabled)]:(0,a.A)({color:(t.vars||t).palette.action.disabled},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)},"contained"===n.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===n.variant&&{padding:"6px 8px"},"text"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main},"outlined"===n.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:t.vars?"1px solid rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.5)"):"1px solid ".concat((0,J.X4)(t.palette[n.color].main,.5))},"contained"===n.variant&&{color:t.vars?t.vars.palette.text.primary:null==(r=(i=t.palette).getContrastText)?void 0:r.call(i,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:o,boxShadow:(t.vars||t).shadows[2]},"contained"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main},"inherit"===n.color&&{color:"inherit",borderColor:"currentColor"},"small"===n.size&&"text"===n.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"text"===n.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"outlined"===n.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"outlined"===n.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"contained"===n.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"contained"===n.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},n.fullWidth&&{width:"100%"})}),(e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(VO.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(VO.disabled)]:{boxShadow:"none"}}})),GO=Ne("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t["iconSize".concat(De(n.size))]]}})((e=>{let{ownerState:t}=e;return(0,a.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},KO(t))})),QO=Ne("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t["iconSize".concat(De(n.size))]]}})((e=>{let{ownerState:t}=e;return(0,a.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},KO(t))})),$O=t.forwardRef((function(e,n){const r=t.useContext(BO),i=t.useContext(qO),o=Pe({props:N(r,e),name:"MuiButton"}),{children:l,color:u="primary",component:d="button",className:h,disabled:f=!1,disableElevation:p=!1,disableFocusRipple:g=!1,endIcon:v,focusVisibleClassName:y,fullWidth:w=!1,size:b="medium",startIcon:_,type:S,variant:I="text"}=o,k=(0,s.A)(o,WO),E=(0,a.A)({},o,{color:u,component:d,disabled:f,disableElevation:p,disableFocusRipple:g,fullWidth:w,size:b,type:S,variant:I}),x=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,classes:s}=e,l=m({root:["root",o,"".concat(o).concat(De(t)),"size".concat(De(i)),"".concat(o,"Size").concat(De(i)),"color".concat(De(t)),n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon","iconSize".concat(De(i))],endIcon:["icon","endIcon","iconSize".concat(De(i))]},zO,s);return(0,a.A)({},s,l)})(E),T=_&&(0,U.jsx)(GO,{className:x.startIcon,ownerState:E,children:_}),C=v&&(0,U.jsx)(QO,{className:x.endIcon,ownerState:E,children:v}),A=i||"";return(0,U.jsxs)(HO,(0,a.A)({ownerState:E,className:c(r.className,x.root,h,A),component:d,disabled:f,focusRipple:!g,focusVisibleClassName:c(x.focusVisible,y),ref:n,type:S},k,{classes:x,children:[T,l,C]}))})),JO=$O,YO=()=>(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(UR,{container:!0,direction:"row",justifyContent:"center",sx:{padding:"20px"},children:(0,U.jsx)(JO,{onClick:()=>(IR(),void SR()),sx:{color:"#635985",backgroundColor:"#292140",borderRadius:"20px","&:hover":{backgroundColor:"#393055"}},children:lt(40,40,"./svgFiles/restart.svg")})})}),XO=e=>{var[t,n]=(e/1e3+"").split("."),r="";n||(n="0");const i=parseInt(t);i>=60&&(r=Math.floor(i/60)+"",t=i%60+"");return i>=60?r.padStart(2,"0")+":"+t.padStart(2,"0")+":"+n.padEnd(2,"0"):t.padStart(2,"0")+":"+n.padEnd(2,"0")},ZO=()=>{const e=(0,t.useContext)(NL),n=()=>{if(e.timersArePaused)e.setDuration(0);else{const t=70;setTimeout((()=>{e.setDuration(+e.duration+t),e.setWpm(function(e,t){const n=e.length/5,r=Math.abs(t/1e3/60);return Math.round(n/r)}(e.typedSoFar,+e.duration))}),t)}};return t.useEffect((()=>n()),[e.duration,e.timersArePaused]),(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)("span",{children:[(0,U.jsx)("span",{style:{color:"#9287B7"},children:"Duration:\xa0"}),(0,U.jsx)("span",{style:{color:"#B8AAE9"},children:XO(+e.duration)})]})})},eD=e=>{let{stat:n,statName:r,color:i}=e;(0,t.useContext)(NL);var o=2.55*+n,s=255-o;return n+""==="NaN"&&(o=0,s=255),(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)("span",{children:[(0,U.jsxs)("span",{style:{color:"".concat(i)},children:[r,"\xa0"]}),(0,U.jsx)("span",{style:{color:"rgb(".concat(s,", ").concat(o,", 0)")},children:n.toString()})]})})},tD=()=>{const e=(0,t.useContext)(NL);return(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(UR,{container:!0,justifyContent:"space-between",sx:{width:"".concat(+e.scrollPaneWidth,"vw")},children:[(0,U.jsx)(eD,{stat:e.wpm,statName:"WPM:",color:"#9287B7"}),(0,U.jsx)(eD,{stat:e.accuracy,statName:"Accuracy:",color:"#9287B7"}),(0,U.jsx)(ZO,{})]})})},nD=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function rD(e){return p("MuiPaper",e)}Le("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const iD=["className","component","elevation","square","variant"],oD=Ne("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((e=>{let{theme:t,ownerState:n}=e;var r;return(0,a.A)({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.divider)},"elevation"===n.variant&&(0,a.A)({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,J.X4)("#fff",nD(n.elevation)),", ").concat((0,J.X4)("#fff",nD(n.elevation)),")")},t.vars&&{backgroundImage:null==(r=t.vars.overlays)?void 0:r[n.elevation]}))})),sD=t.forwardRef((function(e,t){const n=Pe({props:e,name:"MuiPaper"}),{className:r,component:i="div",elevation:o=1,square:l=!1,variant:u="elevation"}=n,d=(0,s.A)(n,iD),h=(0,a.A)({},n,{component:i,elevation:o,square:l,variant:u}),f=(e=>{const{square:t,elevation:n,variant:r,classes:i}=e;return m({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},rD,i)})(h);return(0,U.jsx)(oD,(0,a.A)({as:i,ownerState:h,className:c(f.root,r),ref:t},d))})),aD=sD;function lD(e){return"string"===typeof e}function cD(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n}function uD(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t}const dD=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function hD(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=e,l=(0,s.A)(e,dD),u=o?{}:function(e,t,n){return"function"===typeof e?e(t,n):e}(r,i),{props:d,internalRef:h}=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const e=c(null==n?void 0:n.className,o,null==i?void 0:i.className,null==r?void 0:r.className),t=(0,a.A)({},null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),s=(0,a.A)({},n,i,r);return e.length>0&&(s.className=e),Object.keys(t).length>0&&(s.style=t),{props:s,internalRef:void 0}}const s=cD((0,a.A)({},i,r)),l=uD(r),u=uD(i),d=t(s),h=c(null==d?void 0:d.className,null==n?void 0:n.className,o,null==i?void 0:i.className,null==r?void 0:r.className),f=(0,a.A)({},null==d?void 0:d.style,null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),p=(0,a.A)({},d,n,u,l);return h.length>0&&(p.className=h),Object.keys(f).length>0&&(p.style=f),{props:p,internalRef:d.ref}}((0,a.A)({},l,{externalSlotProps:u})),f=VR(h,null==u?void 0:u.ref,null==(t=e.additionalProps)?void 0:t.ref),p=function(e,t,n){return void 0===e||lD(e)?t:(0,a.A)({},t,{ownerState:(0,a.A)({},t.ownerState,n)})}(n,(0,a.A)({},d,{ref:f}),i);return p}function fD(e){return e&&e.ownerDocument||document}function pD(e){let{controlled:n,default:r,name:i,state:o="value"}=e;const{current:s}=t.useRef(void 0!==n),[a,l]=t.useState(r);return[s?n:a,t.useCallback((e=>{s||l(e)}),[])]}var mD=n(7040);const gD={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function vD(e,t){return e-t}function yD(e,t){var n;const{index:r}=null!=(n=e.reduce(((e,n,r)=>{const i=Math.abs(t-n);return null===e||i<e.distance||i===e.distance?{distance:i,index:r}:e}),null))?n:{};return r}function wD(e,t){if(void 0!==t.current&&e.changedTouches){const n=e;for(let e=0;e<n.changedTouches.length;e+=1){const r=n.changedTouches[e];if(r.identifier===t.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function bD(e,t,n){return 100*(e-t)/(n-t)}function _D(e,t,n){const r=Math.round((e-n)/t)*t+n;return Number(r.toFixed(function(e){if(Math.abs(e)<1){const t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}(t)))}function SD(e){let{values:t,newValue:n,index:r}=e;const i=t.slice();return i[r]=n,i.sort(vD)}function ID(e){let{sliderRef:t,activeIndex:n,setActive:r}=e;var i,o;const s=fD(t.current);var a;null!=(i=t.current)&&i.contains(s.activeElement)&&Number(null==s||null==(o=s.activeElement)?void 0:o.getAttribute("data-index"))===n||(null==(a=t.current)||a.querySelector('[type="range"][data-index="'.concat(n,'"]')).focus());r&&r(n)}function kD(e,t){return"number"===typeof e&&"number"===typeof t?e===t:"object"===typeof e&&"object"===typeof t&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e===t;return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}(e,t)}const ED={horizontal:{offset:e=>({left:"".concat(e,"%")}),leap:e=>({width:"".concat(e,"%")})},"horizontal-reverse":{offset:e=>({right:"".concat(e,"%")}),leap:e=>({width:"".concat(e,"%")})},vertical:{offset:e=>({bottom:"".concat(e,"%")}),leap:e=>({height:"".concat(e,"%")})}},xD=e=>e;let TD;function CD(){return void 0===TD&&(TD="undefined"===typeof CSS||"function"!==typeof CSS.supports||CSS.supports("touch-action","none")),TD}function AD(e){const{"aria-labelledby":n,defaultValue:r,disabled:i=!1,disableSwap:o=!1,isRtl:s=!1,marks:l=!1,max:c=100,min:u=0,name:d,onChange:h,onChangeCommitted:f,orientation:p="horizontal",rootRef:m,scale:g=xD,step:v=1,shiftStep:y=10,tabIndex:w,value:b}=e,_=t.useRef(),[S,I]=t.useState(-1),[k,E]=t.useState(-1),[x,T]=t.useState(!1),C=t.useRef(0),[A,N]=pD({controlled:b,default:null!=r?r:u,name:"Slider"}),P=h&&((e,t,n)=>{const r=e.nativeEvent||e,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:t,name:d}}),h(i,t,n)}),R=Array.isArray(A);let O=R?A.slice().sort(vD):[A];O=O.map((e=>null==e?u:(0,mD.A)(e,u,c)));const D=!0===l&&null!==v?[...Array(Math.floor((c-u)/v)+1)].map(((e,t)=>({value:u+v*t}))):l||[],L=D.map((e=>e.value)),{isFocusVisibleRef:M,onBlur:F,onFocus:j,ref:U}=iO(),[z,V]=t.useState(-1),B=t.useRef(),q=VR(U,B),W=VR(m,q),K=e=>t=>{var n;const r=Number(t.currentTarget.getAttribute("data-index"));j(t),!0===M.current&&V(r),E(r),null==e||null==(n=e.onFocus)||n.call(e,t)},H=e=>t=>{var n;F(t),!1===M.current&&V(-1),E(-1),null==e||null==(n=e.onBlur)||n.call(e,t)},G=(e,t)=>{const n=Number(e.currentTarget.getAttribute("data-index")),r=O[n],i=L.indexOf(r);let s=t;if(D&&null==v){const e=L[L.length-1];s=s>e?e:s<L[0]?L[0]:s<r?L[i-1]:L[i+1]}if(s=(0,mD.A)(s,u,c),R){o&&(s=(0,mD.A)(s,O[n-1]||-1/0,O[n+1]||1/0));const e=s;s=SD({values:O,newValue:s,index:n});let t=n;o||(t=s.indexOf(e)),ID({sliderRef:B,activeIndex:t})}N(s),V(n),P&&!kD(s,A)&&P(e,s,n),f&&f(e,s)},Q=e=>t=>{var n;if(null!==v){const e=Number(t.currentTarget.getAttribute("data-index")),n=O[e];let r=null;("ArrowLeft"===t.key||"ArrowDown"===t.key)&&t.shiftKey||"PageDown"===t.key?r=Math.max(n-y,u):(("ArrowRight"===t.key||"ArrowUp"===t.key)&&t.shiftKey||"PageUp"===t.key)&&(r=Math.min(n+y,c)),null!==r&&(G(t,r),t.preventDefault())}null==e||null==(n=e.onKeyDown)||n.call(e,t)};qR((()=>{var e;i&&B.current.contains(document.activeElement)&&(null==(e=document.activeElement)||e.blur())}),[i]),i&&-1!==S&&I(-1),i&&-1!==z&&V(-1);const $=t.useRef();let J=p;s&&"horizontal"===p&&(J+="-reverse");const Y=e=>{let{finger:t,move:n=!1}=e;const{current:r}=B,{width:i,height:s,bottom:a,left:l}=r.getBoundingClientRect();let d,h;if(d=0===J.indexOf("vertical")?(a-t.y)/s:(t.x-l)/i,-1!==J.indexOf("-reverse")&&(d=1-d),h=function(e,t,n){return(n-t)*e+t}(d,u,c),v)h=_D(h,v,u);else{const e=yD(L,h);h=L[e]}h=(0,mD.A)(h,u,c);let f=0;if(R){f=n?$.current:yD(O,h),o&&(h=(0,mD.A)(h,O[f-1]||-1/0,O[f+1]||1/0));const e=h;h=SD({values:O,newValue:h,index:f}),o&&n||(f=h.indexOf(e),$.current=f)}return{newValue:h,activeIndex:f}},X=WR((e=>{const t=wD(e,_);if(!t)return;if(C.current+=1,"mousemove"===e.type&&0===e.buttons)return void Z(e);const{newValue:n,activeIndex:r}=Y({finger:t,move:!0});ID({sliderRef:B,activeIndex:r,setActive:I}),N(n),!x&&C.current>2&&T(!0),P&&!kD(n,A)&&P(e,n,r)})),Z=WR((e=>{const t=wD(e,_);if(T(!1),!t)return;const{newValue:n}=Y({finger:t,move:!0});I(-1),"touchend"===e.type&&E(-1),f&&f(e,n),_.current=void 0,te()})),ee=WR((e=>{if(i)return;CD()||e.preventDefault();const t=e.changedTouches[0];null!=t&&(_.current=t.identifier);const n=wD(e,_);if(!1!==n){const{newValue:t,activeIndex:r}=Y({finger:n});ID({sliderRef:B,activeIndex:r,setActive:I}),N(t),P&&!kD(t,A)&&P(e,t,r)}C.current=0;const r=fD(B.current);r.addEventListener("touchmove",X,{passive:!0}),r.addEventListener("touchend",Z,{passive:!0})})),te=t.useCallback((()=>{const e=fD(B.current);e.removeEventListener("mousemove",X),e.removeEventListener("mouseup",Z),e.removeEventListener("touchmove",X),e.removeEventListener("touchend",Z)}),[Z,X]);t.useEffect((()=>{const{current:e}=B;return e.addEventListener("touchstart",ee,{passive:CD()}),()=>{e.removeEventListener("touchstart",ee),te()}}),[te,ee]),t.useEffect((()=>{i&&te()}),[i,te]);const ne=bD(R?O[0]:u,u,c),re=bD(O[O.length-1],u,c)-ne,ie=e=>t=>{var n;null==(n=e.onMouseLeave)||n.call(e,t),E(-1)};return{active:S,axis:J,axisProps:ED,dragging:x,focusedThumbIndex:z,getHiddenInputProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r;const o=cD(t),l={onChange:(h=o||{},e=>{var t;null==(t=h.onChange)||t.call(h,e),G(e,e.target.valueAsNumber)}),onFocus:K(o||{}),onBlur:H(o||{}),onKeyDown:Q(o||{})};var h;const f=(0,a.A)({},o,l);return(0,a.A)({tabIndex:w,"aria-labelledby":n,"aria-orientation":p,"aria-valuemax":g(c),"aria-valuemin":g(u),name:d,type:"range",min:e.min,max:e.max,step:null===e.step&&e.marks?"any":null!=(r=e.step)?r:void 0,disabled:i},t,f,{style:(0,a.A)({},gD,{direction:s?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=cD(e),n={onMouseDown:(r=t||{},e=>{var t;if(null==(t=r.onMouseDown)||t.call(r,e),i)return;if(e.defaultPrevented)return;if(0!==e.button)return;e.preventDefault();const n=wD(e,_);if(!1!==n){const{newValue:t,activeIndex:r}=Y({finger:n});ID({sliderRef:B,activeIndex:r,setActive:I}),N(t),P&&!kD(t,A)&&P(e,t,r)}C.current=0;const o=fD(B.current);o.addEventListener("mousemove",X,{passive:!0}),o.addEventListener("mouseup",Z)})};var r;const o=(0,a.A)({},t,n);return(0,a.A)({},e,{ref:W},o)},getThumbProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=cD(e),n={onMouseOver:(r=t||{},e=>{var t;null==(t=r.onMouseOver)||t.call(r,e);const n=Number(e.currentTarget.getAttribute("data-index"));E(n)}),onMouseLeave:ie(t||{})};var r;return(0,a.A)({},e,t,n)},marks:D,open:k,range:R,rootRef:W,trackLeap:re,trackOffset:ne,values:O,getThumbStyle:e=>({pointerEvents:-1!==S&&S!==e?"none":void 0})}}const ND=t.createContext();const PD=()=>{const e=t.useContext(ND);return null!=e&&e};const RD=e=>!e||!lD(e);function OD(e){return p("MuiSlider",e)}const DD=Le("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]);const LD=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"],MD=Pe;function FD(e){return e}const jD=Ne("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["color".concat(De(n.color))],"medium"!==n.size&&t["size".concat(De(n.size))],n.marked&&t.marked,"vertical"===n.orientation&&t.vertical,"inverted"===n.track&&t.trackInverted,!1===n.track&&t.trackFalse]}})((e=>{let{theme:t}=e;var n;return{borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},["&.".concat(DD.disabled)]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},["&.".concat(DD.dragging)]:{["& .".concat(DD.thumb,", & .").concat(DD.track)]:{transition:"none"}},variants:[...Object.keys((null!=(n=t.vars)?n:t).palette).filter((e=>{var n;return(null!=(n=t.vars)?n:t).palette[e].main})).map((e=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}})),UD=Ne("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),zD=Ne("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})((e=>{let{theme:t}=e;var n;return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.keys((null!=(n=t.vars)?n:t).palette).filter((e=>{var n;return(null!=(n=t.vars)?n:t).palette[e].main})).map((e=>({props:{color:e,track:"inverted"},style:(0,a.A)({},t.vars?{backgroundColor:t.vars.palette.Slider["".concat(e,"Track")],borderColor:t.vars.palette.Slider["".concat(e,"Track")]}:(0,a.A)({backgroundColor:(0,J.a)(t.palette[e].main,.62),borderColor:(0,J.a)(t.palette[e].main,.62)},t.applyStyles("dark",{backgroundColor:(0,J.e$)(t.palette[e].main,.5)}),t.applyStyles("dark",{borderColor:(0,J.e$)(t.palette[e].main,.5)})))})))]}})),VD=Ne("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.thumb,t["thumbColor".concat(De(n.color))],"medium"!==n.size&&t["thumbSize".concat(De(n.size))]]}})((e=>{let{theme:t}=e;var n;return{position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},["&.".concat(DD.disabled)]:{"&:hover":{boxShadow:"none"}},variants:[...Object.keys((null!=(n=t.vars)?n:t).palette).filter((e=>{var n;return(null!=(n=t.vars)?n:t).palette[e].main})).map((e=>({props:{color:e},style:{["&:hover, &.".concat(DD.focusVisible)]:(0,a.A)({},t.vars?{boxShadow:"0px 0px 0px 8px rgba(".concat(t.vars.palette[e].mainChannel," / 0.16)")}:{boxShadow:"0px 0px 0px 8px ".concat((0,J.X4)(t.palette[e].main,.16))},{"@media (hover: none)":{boxShadow:"none"}}),["&.".concat(DD.active)]:(0,a.A)({},t.vars?{boxShadow:"0px 0px 0px 14px rgba(".concat(t.vars.palette[e].mainChannel," / 0.16)}")}:{boxShadow:"0px 0px 0px 14px ".concat((0,J.X4)(t.palette[e].main,.16))})}}))),{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}}]}})),BD=Ne((function(e){const{children:n,className:r,value:i}=e,o=(e=>{const{open:t}=e;return{offset:c(t&&DD.valueLabelOpen),circle:DD.valueLabelCircle,label:DD.valueLabelLabel}})(e);return n?t.cloneElement(n,{className:c(n.props.className)},(0,U.jsxs)(t.Fragment,{children:[n.props.children,(0,U.jsx)("span",{className:c(o.offset,r),"aria-hidden":!0,children:(0,U.jsx)("span",{className:o.circle,children:(0,U.jsx)("span",{className:o.label,children:i})})})]})):null}),{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})((e=>{let{theme:t}=e;return(0,a.A)({zIndex:1,whiteSpace:"nowrap"},t.typography.body2,{fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},["&.".concat(DD.valueLabelOpen)]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},["&.".concat(DD.valueLabelOpen)]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]})})),qD=Ne("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>Ce(e)&&"markActive"!==e,overridesResolver:(e,t)=>{const{markActive:n}=e;return[t.mark,n&&t.markActive]}})((e=>{let{theme:t}=e;return{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]}})),WD=Ne("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>Ce(e)&&"markLabelActive"!==e,overridesResolver:(e,t)=>t.markLabel})((e=>{let{theme:t}=e;return(0,a.A)({},t.typography.body2,{color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]})})),KD=e=>{let{children:t}=e;return t},HD=t.forwardRef((function(e,n){var r,i,o,l,u,d,h,f,p,g,v,y,w,b,_,S,I,k,E,x,T,C,A,N;const P=MD({props:e,name:"MuiSlider"}),R=PD(),{"aria-label":O,"aria-valuetext":D,"aria-labelledby":L,component:M="span",components:F={},componentsProps:j={},color:z="primary",classes:V,className:B,disableSwap:q=!1,disabled:W=!1,getAriaLabel:K,getAriaValueText:H,marks:G=!1,max:Q=100,min:$=0,orientation:J="horizontal",shiftStep:Y=10,size:X="medium",step:Z=1,scale:ee=FD,slotProps:te,slots:ne,track:re="normal",valueLabelDisplay:ie="off",valueLabelFormat:oe=FD}=P,se=(0,s.A)(P,LD),ae=(0,a.A)({},P,{isRtl:R,max:Q,min:$,classes:V,disabled:W,disableSwap:q,orientation:J,marks:G,color:z,size:X,step:Z,shiftStep:Y,scale:ee,track:re,valueLabelDisplay:ie,valueLabelFormat:oe}),{axisProps:le,getRootProps:ce,getHiddenInputProps:ue,getThumbProps:de,open:he,active:fe,axis:pe,focusedThumbIndex:me,range:ge,dragging:ve,marks:ye,values:we,trackOffset:be,trackLeap:_e,getThumbStyle:Se}=AD((0,a.A)({},ae,{rootRef:n}));ae.marked=ye.length>0&&ye.some((e=>e.label)),ae.dragging=ve,ae.focusedThumbIndex=me;const Ie=(e=>{const{disabled:t,dragging:n,marked:r,orientation:i,track:o,classes:s,color:a,size:l}=e;return m({root:["root",t&&"disabled",n&&"dragging",r&&"marked","vertical"===i&&"vertical","inverted"===o&&"trackInverted",!1===o&&"trackFalse",a&&"color".concat(De(a)),l&&"size".concat(De(l))],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",l&&"thumbSize".concat(De(l)),a&&"thumbColor".concat(De(a))],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]},OD,s)})(ae),ke=null!=(r=null!=(i=null==ne?void 0:ne.root)?i:F.Root)?r:jD,Ee=null!=(o=null!=(l=null==ne?void 0:ne.rail)?l:F.Rail)?o:UD,xe=null!=(u=null!=(d=null==ne?void 0:ne.track)?d:F.Track)?u:zD,Te=null!=(h=null!=(f=null==ne?void 0:ne.thumb)?f:F.Thumb)?h:VD,Ce=null!=(p=null!=(g=null==ne?void 0:ne.valueLabel)?g:F.ValueLabel)?p:BD,Ae=null!=(v=null!=(y=null==ne?void 0:ne.mark)?y:F.Mark)?v:qD,Ne=null!=(w=null!=(b=null==ne?void 0:ne.markLabel)?b:F.MarkLabel)?w:WD,Pe=null!=(_=null!=(S=null==ne?void 0:ne.input)?S:F.Input)?_:"input",Re=null!=(I=null==te?void 0:te.root)?I:j.root,Oe=null!=(k=null==te?void 0:te.rail)?k:j.rail,Le=null!=(E=null==te?void 0:te.track)?E:j.track,Me=null!=(x=null==te?void 0:te.thumb)?x:j.thumb,Fe=null!=(T=null==te?void 0:te.valueLabel)?T:j.valueLabel,je=null!=(C=null==te?void 0:te.mark)?C:j.mark,Ue=null!=(A=null==te?void 0:te.markLabel)?A:j.markLabel,ze=null!=(N=null==te?void 0:te.input)?N:j.input,Ve=hD({elementType:ke,getSlotProps:ce,externalSlotProps:Re,externalForwardedProps:se,additionalProps:(0,a.A)({},RD(ke)&&{as:M}),ownerState:(0,a.A)({},ae,null==Re?void 0:Re.ownerState),className:[Ie.root,B]}),Be=hD({elementType:Ee,externalSlotProps:Oe,ownerState:ae,className:Ie.rail}),qe=hD({elementType:xe,externalSlotProps:Le,additionalProps:{style:(0,a.A)({},le[pe].offset(be),le[pe].leap(_e))},ownerState:(0,a.A)({},ae,null==Le?void 0:Le.ownerState),className:Ie.track}),We=hD({elementType:Te,getSlotProps:de,externalSlotProps:Me,ownerState:(0,a.A)({},ae,null==Me?void 0:Me.ownerState),className:Ie.thumb}),Ke=hD({elementType:Ce,externalSlotProps:Fe,ownerState:(0,a.A)({},ae,null==Fe?void 0:Fe.ownerState),className:Ie.valueLabel}),He=hD({elementType:Ae,externalSlotProps:je,ownerState:ae,className:Ie.mark}),Ge=hD({elementType:Ne,externalSlotProps:Ue,ownerState:ae,className:Ie.markLabel}),Qe=hD({elementType:Pe,getSlotProps:ue,externalSlotProps:ze,ownerState:ae});return(0,U.jsxs)(ke,(0,a.A)({},Ve,{children:[(0,U.jsx)(Ee,(0,a.A)({},Be)),(0,U.jsx)(xe,(0,a.A)({},qe)),ye.filter((e=>e.value>=$&&e.value<=Q)).map(((e,n)=>{const r=bD(e.value,$,Q),i=le[pe].offset(r);let o;return o=!1===re?-1!==we.indexOf(e.value):"normal"===re&&(ge?e.value>=we[0]&&e.value<=we[we.length-1]:e.value<=we[0])||"inverted"===re&&(ge?e.value<=we[0]||e.value>=we[we.length-1]:e.value>=we[0]),(0,U.jsxs)(t.Fragment,{children:[(0,U.jsx)(Ae,(0,a.A)({"data-index":n},He,!lD(Ae)&&{markActive:o},{style:(0,a.A)({},i,He.style),className:c(He.className,o&&Ie.markActive)})),null!=e.label?(0,U.jsx)(Ne,(0,a.A)({"aria-hidden":!0,"data-index":n},Ge,!lD(Ne)&&{markLabelActive:o},{style:(0,a.A)({},i,Ge.style),className:c(Ie.markLabel,Ge.className,o&&Ie.markLabelActive),children:e.label})):null]},n)})),we.map(((e,t)=>{const n=bD(e,$,Q),r=le[pe].offset(n),i="off"===ie?KD:Ce;return(0,U.jsx)(i,(0,a.A)({},!lD(i)&&{valueLabelFormat:oe,valueLabelDisplay:ie,value:"function"===typeof oe?oe(ee(e),t):oe,index:t,open:he===t||fe===t||"on"===ie,disabled:W},Ke,{children:(0,U.jsx)(Te,(0,a.A)({"data-index":t},We,{className:c(Ie.thumb,We.className,fe===t&&Ie.active,me===t&&Ie.focusVisible),style:(0,a.A)({},r,Se(t),We.style),children:(0,U.jsx)(Pe,(0,a.A)({"data-index":t,"aria-label":K?K(t):O,"aria-valuenow":ee(e),"aria-labelledby":L,"aria-valuetext":H?H(ee(e),t):D,value:we[t]},Qe))}))}),t)}))]}))})),GD=HD,QD=()=>{const e=(0,t.useContext)(NL);return(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(Qe,{sx:{padding:"10px",paddingLeft:"20px",flex:"1",display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,U.jsxs)(Qe,{sx:{flexDirection:"row",flex:"1",display:"flex",alignItems:"center"},children:[(0,U.jsxs)(Be,{id:"input-slider",sx:{color:"#635985"},children:["Font Size:","\xa0"]}),(0,U.jsx)(Be,{id:"input-slider",sx:{color:"#9287B7"},children:+e.fontSize})]}),(0,U.jsx)(GD,{sx:{color:"#9287B7","& .MuiSlider-thumb":{backgroundColor:"#9287B7",width:"15px",height:"15px","&:hover":{boxShadow:"0px 0px 0px 8px rgba(146, 135, 183, 0.5)"},"&:not(:hover)":{boxShadow:"0px 0px 0px 0px rgba(146, 135, 183, 0.5)"},"&:active":{boxShadow:"0px 0px 0px 12px rgba(146, 135, 183, 0.5)"}}},"aria-label":"FontSize",value:on.getSettings().getFontSize(),valueLabelDisplay:"off",min:10,max:50,onChange:(t,n)=>((t,n)=>{"number"==typeof n&&(e.setFontSize(n),console.log(n))})(0,n),onMouseUp:()=>{pR().then((()=>{console.log("Finished updating online settings!")}))}})]})})},$D=()=>{const e=(0,t.useContext)(NL);return(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(Qe,{sx:{padding:"10px",paddingLeft:"30px",flex:"1",display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,U.jsxs)(Qe,{sx:{flexDirection:"row",flex:"1",display:"flex",alignItems:"center"},children:[(0,U.jsxs)(Be,{id:"input-slider",sx:{color:"#635985"},children:["Word Count:","\xa0"]}),(0,U.jsx)(Be,{id:"input-slider",sx:{color:"#9287B7"},children:+e.wordCount})]}),(0,U.jsx)(GD,{sx:{color:"#9287B7","& .MuiSlider-thumb":{backgroundColor:"#9287B7",width:"15px",height:"15px","&:hover":{boxShadow:"0px 0px 0px 8px rgba(146, 135, 183, 0.5)"},"&:not(:hover)":{boxShadow:"0px 0px 0px 0px rgba(146, 135, 183, 0.5)"},"&:active":{boxShadow:"0px 0px 0px 12px rgba(146, 135, 183, 0.5)"}}},"aria-label":"FontSize",value:on.getSettings().getWordCount(),valueLabelDisplay:"off",min:10,max:100,step:5,onChange:(t,n)=>((t,n)=>{"number"==typeof n&&e.setWordCount(n)})(0,n),onMouseUp:()=>{pR().then((()=>{console.log("Finished updating online settings!")}))}})]})})},JD=pD;const YD=t.createContext(void 0);function XD(e){return p("PrivateSwitchBase",e)}Le("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const ZD=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],eL=Ne(UO)((e=>{let{ownerState:t}=e;return(0,a.A)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),tL=Ne("input",{shouldForwardProp:Ae})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),nL=t.forwardRef((function(e,n){const{autoFocus:r,checked:i,checkedIcon:o,className:l,defaultChecked:u,disabled:d,disableFocusRipple:h=!1,edge:f=!1,icon:p,id:g,inputProps:v,inputRef:y,name:w,onBlur:b,onChange:_,onFocus:S,readOnly:I,required:k=!1,tabIndex:E,type:x,value:T}=e,C=(0,s.A)(e,ZD),[A,N]=JD({controlled:i,default:Boolean(u),name:"SwitchBase",state:"checked"}),P=t.useContext(YD);let R=d;P&&"undefined"===typeof R&&(R=P.disabled);const O="checkbox"===x||"radio"===x,D=(0,a.A)({},e,{checked:A,disabled:R,disableFocusRipple:h,edge:f}),L=(e=>{const{classes:t,checked:n,disabled:r,edge:i}=e;return m({root:["root",n&&"checked",r&&"disabled",i&&"edge".concat(De(i))],input:["input"]},XD,t)})(D);return(0,U.jsxs)(eL,(0,a.A)({component:"span",className:c(L.root,l),centerRipple:!0,focusRipple:!h,disabled:R,tabIndex:null,role:void 0,onFocus:e=>{S&&S(e),P&&P.onFocus&&P.onFocus(e)},onBlur:e=>{b&&b(e),P&&P.onBlur&&P.onBlur(e)},ownerState:D,ref:n},C,{children:[(0,U.jsx)(tL,(0,a.A)({autoFocus:r,checked:i,defaultChecked:u,className:L.input,disabled:R,id:O?g:void 0,name:w,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;N(t),_&&_(e,t)},readOnly:I,ref:y,required:k,ownerState:D,tabIndex:E,type:x},"checkbox"===x&&void 0===T?{}:{value:T},v)),A?o:p]}))})),rL=nL;function iL(e){return p("MuiSvgIcon",e)}Le("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const oL=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],sL=Ne("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat(De(n.color))],t["fontSize".concat(De(n.fontSize))]]}})((e=>{let{theme:t,ownerState:n}=e;var r,i,o,s,a,l,c,u,d,h,f,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(r=t.transitions)||null==(i=r.create)?void 0:i.call(r,"fill",{duration:null==(o=t.transitions)||null==(o=o.duration)?void 0:o.shorter}),fontSize:{inherit:"inherit",small:(null==(s=t.typography)||null==(a=s.pxToRem)?void 0:a.call(s,20))||"1.25rem",medium:(null==(l=t.typography)||null==(c=l.pxToRem)?void 0:c.call(l,24))||"1.5rem",large:(null==(u=t.typography)||null==(d=u.pxToRem)?void 0:d.call(u,35))||"2.1875rem"}[n.fontSize],color:null!=(h=null==(f=(t.vars||t).palette)||null==(f=f[n.color])?void 0:f.main)?h:{action:null==(p=(t.vars||t).palette)||null==(p=p.action)?void 0:p.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[n.color]}})),aL=t.forwardRef((function(e,n){const r=Pe({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:l="inherit",component:u="svg",fontSize:d="medium",htmlColor:h,inheritViewBox:f=!1,titleAccess:p,viewBox:g="0 0 24 24"}=r,v=(0,s.A)(r,oL),y=t.isValidElement(i)&&"svg"===i.type,w=(0,a.A)({},r,{color:l,component:u,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:f,viewBox:g,hasSvgAsChild:y}),b={};f||(b.viewBox=g);const _=(e=>{const{color:t,fontSize:n,classes:r}=e;return m({root:["root","inherit"!==t&&"color".concat(De(t)),"fontSize".concat(De(n))]},iL,r)})(w);return(0,U.jsxs)(sL,(0,a.A)({as:u,className:c(_.root,o),focusable:"false",color:h,"aria-hidden":!p||void 0,role:p?"img":void 0,ref:n},b,v,y&&i.props,{ownerState:w,children:[y?i.props.children:i,p?(0,U.jsx)("title",{children:p}):null]}))}));aL.muiName="SvgIcon";const lL=aL;function cL(e,n){function r(t,r){return(0,U.jsx)(lL,(0,a.A)({"data-testid":"".concat(n,"Icon"),ref:r},t,{children:e}))}return r.muiName=lL.muiName,t.memo(t.forwardRef(r))}const uL=cL((0,U.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),dL=cL((0,U.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),hL=Ne("span",{shouldForwardProp:Ae})({position:"relative",display:"flex"}),fL=Ne(uL)({transform:"scale(1)"}),pL=Ne(dL)((e=>{let{theme:t,ownerState:n}=e;return(0,a.A)({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},n.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})})}));const mL=function(e){const{checked:t=!1,classes:n={},fontSize:r}=e,i=(0,a.A)({},e,{checked:t});return(0,U.jsxs)(hL,{className:n.root,ownerState:i,children:[(0,U.jsx)(fL,{fontSize:r,className:n.background,ownerState:i}),(0,U.jsx)(pL,{fontSize:r,className:n.dot,ownerState:i})]})};function gL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}),(()=>{}))}const vL=gL;const yL=t.createContext(void 0);function wL(e){return p("MuiRadio",e)}const bL=Le("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),_L=["checked","checkedIcon","color","icon","name","onChange","size","className"],SL=Ne(rL,{shouldForwardProp:e=>Ae(e)||"classes"===e,name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"medium"!==n.size&&t["size".concat(De(n.size))],t["color".concat(De(n.color))]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,a.A)({color:(t.vars||t).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,J.X4)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{["&.".concat(bL.checked)]:{color:(t.vars||t).palette[n.color].main}},{["&.".concat(bL.disabled)]:{color:(t.vars||t).palette.action.disabled}})}));const IL=(0,U.jsx)(mL,{checked:!0}),kL=(0,U.jsx)(mL,{}),EL=t.forwardRef((function(e,n){var r,i;const o=Pe({props:e,name:"MuiRadio"}),{checked:l,checkedIcon:u=IL,color:d="primary",icon:h=kL,name:f,onChange:p,size:g="medium",className:v}=o,y=(0,s.A)(o,_L),w=(0,a.A)({},o,{color:d,size:g}),b=(e=>{const{classes:t,color:n,size:r}=e,i={root:["root","color".concat(De(n)),"medium"!==r&&"size".concat(De(r))]};return(0,a.A)({},t,m(i,wL,t))})(w),_=t.useContext(yL);let S=l;const I=vL(p,_&&_.onChange);let k=f;return _&&("undefined"===typeof S&&(S=function(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}(_.value,o.value)),"undefined"===typeof k&&(k=_.name)),(0,U.jsx)(SL,(0,a.A)({type:"radio",icon:t.cloneElement(h,{fontSize:null!=(r=kL.props.fontSize)?r:g}),checkedIcon:t.cloneElement(u,{fontSize:null!=(i=IL.props.fontSize)?i:g}),ownerState:w,classes:b,name:k,checked:S,onChange:I,ref:n,className:c(b.root,v)},y))})),xL=EL,TL=e=>{const n=(0,t.useContext)(NL);return(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(Qe,{sx:{padding:"10px",flex:"1",display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,U.jsx)(Be,{id:"input-slider",children:e.settingName}),(0,U.jsx)(xL,{onMouseUp:()=>{pR().then((()=>{console.log("Finished updating online settings!")}))},onClick:()=>(()=>{let t=0;n.wordsEnabled&&t++,n.numbersEnabled&&t++,n.sentencesEnabled&&t++,(t>=2||0==e.setting||e.setSetting==n.setLowercaseEnabled||e.setSetting==n.setSymbolsEnabled)&&e.setSetting(!e.setting)})(),checked:e.setting.valueOf(),sx:{color:"#635985","&.Mui-checked":{color:"#9287B7"}}})]})})},CL=()=>{const e=(0,t.useContext)(NL);return(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(aD,{variant:"elevation",elevation:3,square:!1,sx:{borderRadius:"20px",height:"fit-content",display:"inline-block",width:"75vw",backgroundColor:"#292140"},children:(0,U.jsx)("span",{style:{color:"#635985"},children:(0,U.jsxs)(UR,{container:!0,direction:"row",justifyContent:"space-evenly",children:[(0,U.jsx)(QD,{}),(0,U.jsx)($D,{}),(0,U.jsx)(TL,{setting:e.numbersEnabled,setSetting:e.setNumbersEnabled,settingName:"Numbers"}),(0,U.jsx)(TL,{setting:e.sentencesEnabled,setSetting:e.setSentencesEnabled,settingName:"Sentences"}),(0,U.jsx)(TL,{setting:e.wordsEnabled,setSetting:e.setWordsEnabled,settingName:"Words"}),(0,U.jsx)(TL,{setting:e.symbolsEnabled,setSetting:e.setSymbolsEnabled,settingName:"Symbols"}),(0,U.jsx)(TL,{setting:e.lowercaseEnabled,setSetting:e.setLowercaseEnabled,settingName:"Lowercase"})]})})})})};var AL=(0,t.createContext)({starArray:[],setStarArray:()=>{}}),NL=(0,t.createContext)({typedSoFar:"",toType:"",wpm:0,scrollPaneWidth:0,accuracy:0,duration:0,timersArePaused:!0,fontSize:0,wordCount:0,numbersEnabled:!1,wordsEnabled:!1,sentencesEnabled:!0,symbolsEnabled:!1,lowercaseEnabled:!1,setLowercaseEnabled:()=>{},setSymbolsEnabled:()=>{},setSentencesEnabled:()=>{},setWordsEnabled:()=>{},setNumbersEnabled:()=>{},setWordCount:()=>{},setFontSize:()=>{},setTimersArePaused:()=>{},setDuration:()=>{},setAccuracy:()=>{},setScrollPaneWidth:()=>{},setWpm:()=>{},setToType:()=>{},setTypedSoFar:()=>{}}),PL=()=>{};const RL=()=>{const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(""),[o,s]=(0,t.useState)(0),[a,l]=(0,t.useState)(65),[c,u]=(0,t.useState)(100),[d,h]=(0,t.useState)(0),[f,p]=(0,t.useState)(!0),[m,g]=(0,t.useState)(on.getSettings().getFontSize()),[v,y]=(0,t.useState)(on.getSettings().getWordCount()),[w,b]=(0,t.useState)(on.getSettings().getNumbersEnabled()),[_,S]=(0,t.useState)(on.getSettings().getWordsEnabled()),[I,k]=(0,t.useState)(on.getSettings().getSentencesEnabled()),[E,x]=(0,t.useState)(on.getSettings().getSymbolsEnabled()),[T,C]=(0,t.useState)(on.getSettings().getLowercaseEnabled()),A={typedSoFar:r,toType:e,wpm:o,scrollPaneWidth:a,accuracy:c,duration:d,timersArePaused:f,fontSize:m,wordCount:v,numbersEnabled:w,wordsEnabled:_,sentencesEnabled:I,symbolsEnabled:E,lowercaseEnabled:T,setLowercaseEnabled:C,setSymbolsEnabled:x,setSentencesEnabled:k,setWordsEnabled:S,setNumbersEnabled:b,setWordCount:y,setFontSize:g,setTimersArePaused:p,setDuration:h,setAccuracy:u,setScrollPaneWidth:l,setWpm:s,setToType:n,setTypedSoFar:i};PL=()=>{g(on.getSettings().getFontSize()),y(on.getSettings().getWordCount()),b(on.getSettings().getNumbersEnabled()),S(on.getSettings().getWordsEnabled()),k(on.getSettings().getSentencesEnabled()),x(on.getSettings().getSymbolsEnabled()),C(on.getSettings().getLowercaseEnabled())};const[N,P]=(0,t.useState)([]),R={starArray:N,setStarArray:P};(0,t.useEffect)((()=>{(async()=>{const e=await it(A);n(e.toString()),NL=(0,t.createContext)(A),AL=(0,t.createContext)(R)})()}),[]);return(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(UR,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"center",padding:"30px",children:[(0,U.jsxs)(NL.Provider,{value:A,children:[(0,U.jsx)(CL,{}),(0,U.jsx)(xR,{}),(0,U.jsx)(AL.Provider,{value:R,children:(0,U.jsx)(kR,{})}),(0,U.jsx)(YO,{}),(0,U.jsx)(tD,{})]}),(0,U.jsx)(UR,{item:!0,sx:{position:"absolute",bottom:0,width:"100vw",height:"100vh",margin:0,padding:0,zIndex:-2},children:(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(Qe,{sx:{position:"fixed",width:"100vw",height:"100vh"},children:N})})})]})})};var OL=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function DL(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||OL(r)&&OL(i)))return!1;var r,i;return!0}const LL=function(e,t){var n;void 0===t&&(t=DL);var r,i=[],o=!1;return function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return o&&n===this&&t(s,i)||(r=e.apply(this,s),o=!0,n=this,i=s),r}};var ML="object"===typeof performance&&"function"===typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function FL(e){cancelAnimationFrame(e.id)}function jL(e,t){var n=ML();var r={id:requestAnimationFrame((function i(){ML()-n>=t?e.call(null):r.id=requestAnimationFrame(i)}))};return r}var UL=-1;function zL(e){if(void 0===e&&(e=!1),-1===UL||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),UL=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return UL}var VL=null;function BL(e){if(void 0===e&&(e=!1),null===VL||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?VL="positive-descending":(t.scrollLeft=1,VL=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),VL}return VL}var qL=function(e,t){return e};function WL(e){var n,r=e.getItemOffset,i=e.getEstimatedTotalSize,o=e.getItemSize,s=e.getOffsetForIndexAndAlignment,l=e.getStartIndexForOffset,c=e.getStopIndexForStartIndex,u=e.initInstanceProps,d=e.shouldResetStyleCacheOnItemSizeChange,h=e.validateProps;return n=function(e){function n(t){var n;return(n=e.call(this,t)||this)._instanceProps=u(n.props,sO(n)),n._outerRef=void 0,n._resetIsScrollingTimeoutId=null,n.state={instance:sO(n),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"===typeof n.props.initialScrollOffset?n.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},n._callOnItemsRendered=void 0,n._callOnItemsRendered=LL((function(e,t,r,i){return n.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:r,visibleStopIndex:i})})),n._callOnScroll=void 0,n._callOnScroll=LL((function(e,t,r){return n.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:r})})),n._getItemStyle=void 0,n._getItemStyle=function(e){var t,i=n.props,s=i.direction,a=i.itemSize,l=i.layout,c=n._getItemStyleCache(d&&a,d&&l,d&&s);if(c.hasOwnProperty(e))t=c[e];else{var u=r(n.props,e,n._instanceProps),h=o(n.props,e,n._instanceProps),f="horizontal"===s||"horizontal"===l,p="rtl"===s,m=f?u:0;c[e]=t={position:"absolute",left:p?void 0:m,right:p?m:void 0,top:f?0:u,height:f?"100%":h,width:f?h:"100%"}}return t},n._getItemStyleCache=void 0,n._getItemStyleCache=LL((function(e,t,n){return{}})),n._onScrollHorizontal=function(e){var t=e.currentTarget,r=t.clientWidth,i=t.scrollLeft,o=t.scrollWidth;n.setState((function(e){if(e.scrollOffset===i)return null;var t=n.props.direction,s=i;if("rtl"===t)switch(BL()){case"negative":s=-i;break;case"positive-descending":s=o-r-i}return s=Math.max(0,Math.min(s,o-r)),{isScrolling:!0,scrollDirection:e.scrollOffset<s?"forward":"backward",scrollOffset:s,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._onScrollVertical=function(e){var t=e.currentTarget,r=t.clientHeight,i=t.scrollHeight,o=t.scrollTop;n.setState((function(e){if(e.scrollOffset===o)return null;var t=Math.max(0,Math.min(o,i-r));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._outerRefSetter=function(e){var t=n.props.outerRef;n._outerRef=e,"function"===typeof t?t(e):null!=t&&"object"===typeof t&&t.hasOwnProperty("current")&&(t.current=e)},n._resetIsScrollingDebounced=function(){null!==n._resetIsScrollingTimeoutId&&FL(n._resetIsScrollingTimeoutId),n._resetIsScrollingTimeoutId=jL(n._resetIsScrolling,150)},n._resetIsScrolling=function(){n._resetIsScrollingTimeoutId=null,n.setState({isScrolling:!1},(function(){n._getItemStyleCache(-1,null)}))},n}lO(n,e),n.getDerivedStateFromProps=function(e,t){return KL(e,t),h(e),null};var f=n.prototype;return f.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},f.scrollToItem=function(e,t){void 0===t&&(t="auto");var n=this.props,r=n.itemCount,i=n.layout,o=this.state.scrollOffset;e=Math.max(0,Math.min(e,r-1));var a=0;if(this._outerRef){var l=this._outerRef;a="vertical"===i?l.scrollWidth>l.clientWidth?zL():0:l.scrollHeight>l.clientHeight?zL():0}this.scrollTo(s(this.props,e,t,o,this._instanceProps,a))},f.componentDidMount=function(){var e=this.props,t=e.direction,n=e.initialScrollOffset,r=e.layout;if("number"===typeof n&&null!=this._outerRef){var i=this._outerRef;"horizontal"===t||"horizontal"===r?i.scrollLeft=n:i.scrollTop=n}this._callPropsCallbacks()},f.componentDidUpdate=function(){var e=this.props,t=e.direction,n=e.layout,r=this.state,i=r.scrollOffset;if(r.scrollUpdateWasRequested&&null!=this._outerRef){var o=this._outerRef;if("horizontal"===t||"horizontal"===n)if("rtl"===t)switch(BL()){case"negative":o.scrollLeft=-i;break;case"positive-ascending":o.scrollLeft=i;break;default:var s=o.clientWidth,a=o.scrollWidth;o.scrollLeft=a-s-i}else o.scrollLeft=i;else o.scrollTop=i}this._callPropsCallbacks()},f.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&FL(this._resetIsScrollingTimeoutId)},f.render=function(){var e=this.props,n=e.children,r=e.className,o=e.direction,s=e.height,l=e.innerRef,c=e.innerElementType,u=e.innerTagName,d=e.itemCount,h=e.itemData,f=e.itemKey,p=void 0===f?qL:f,m=e.layout,g=e.outerElementType,v=e.outerTagName,y=e.style,w=e.useIsScrolling,b=e.width,_=this.state.isScrolling,S="horizontal"===o||"horizontal"===m,I=S?this._onScrollHorizontal:this._onScrollVertical,k=this._getRangeToRender(),E=k[0],x=k[1],T=[];if(d>0)for(var C=E;C<=x;C++)T.push((0,t.createElement)(n,{data:h,key:p(C,h),index:C,isScrolling:w?_:void 0,style:this._getItemStyle(C)}));var A=i(this.props,this._instanceProps);return(0,t.createElement)(g||v||"div",{className:r,onScroll:I,ref:this._outerRefSetter,style:(0,a.A)({position:"relative",height:s,width:b,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:o},y)},(0,t.createElement)(c||u||"div",{children:T,ref:l,style:{height:S?"100%":A,pointerEvents:_?"none":void 0,width:S?A:"100%"}}))},f._callPropsCallbacks=function(){if("function"===typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],n=e[1],r=e[2],i=e[3];this._callOnItemsRendered(t,n,r,i)}if("function"===typeof this.props.onScroll){var o=this.state,s=o.scrollDirection,a=o.scrollOffset,l=o.scrollUpdateWasRequested;this._callOnScroll(s,a,l)}},f._getRangeToRender=function(){var e=this.props,t=e.itemCount,n=e.overscanCount,r=this.state,i=r.isScrolling,o=r.scrollDirection,s=r.scrollOffset;if(0===t)return[0,0,0,0];var a=l(this.props,s,this._instanceProps),u=c(this.props,a,s,this._instanceProps),d=i&&"backward"!==o?1:Math.max(1,n),h=i&&"forward"!==o?1:Math.max(1,n);return[Math.max(0,a-d),Math.max(0,Math.min(t-1,u+h)),a,u]},n}(t.PureComponent),n.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},n}var KL=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},HL=function(e,t,n){var r=e.itemSize,i=n.itemMetadataMap,o=n.lastMeasuredIndex;if(t>o){var s=0;if(o>=0){var a=i[o];s=a.offset+a.size}for(var l=o+1;l<=t;l++){var c=r(l);i[l]={offset:s,size:c},s+=c}n.lastMeasuredIndex=t}return i[t]},GL=function(e,t,n,r,i){for(;r<=n;){var o=r+Math.floor((n-r)/2),s=HL(e,o,t).offset;if(s===i)return o;s<i?r=o+1:s>i&&(n=o-1)}return r>0?r-1:0},QL=function(e,t,n,r){for(var i=e.itemCount,o=1;n<i&&HL(e,n,t).offset<r;)n+=o,o*=2;return GL(e,t,Math.min(n,i-1),Math.floor(n/2),r)},$L=function(e,t){var n=e.itemCount,r=t.itemMetadataMap,i=t.estimatedItemSize,o=t.lastMeasuredIndex,s=0;if(o>=n&&(o=n-1),o>=0){var a=r[o];s=a.offset+a.size}return s+(n-o-1)*i},JL=WL({getItemOffset:function(e,t,n){return HL(e,t,n).offset},getItemSize:function(e,t,n){return n.itemMetadataMap[t].size},getEstimatedTotalSize:$L,getOffsetForIndexAndAlignment:function(e,t,n,r,i,o){var s=e.direction,a=e.height,l=e.layout,c=e.width,u="horizontal"===s||"horizontal"===l?c:a,d=HL(e,t,i),h=$L(e,i),f=Math.max(0,Math.min(h-u,d.offset)),p=Math.max(0,d.offset-u+d.size+o);switch("smart"===n&&(n=r>=p-u&&r<=f+u?"auto":"center"),n){case"start":return f;case"end":return p;case"center":return Math.round(p+(f-p)/2);default:return r>=p&&r<=f?r:r<p?p:f}},getStartIndexForOffset:function(e,t,n){return function(e,t,n){var r=t.itemMetadataMap,i=t.lastMeasuredIndex;return(i>0?r[i].offset:0)>=n?GL(e,t,i,0,n):QL(e,t,Math.max(0,i),n)}(e,n,t)},getStopIndexForStartIndex:function(e,t,n,r){for(var i=e.direction,o=e.height,s=e.itemCount,a=e.layout,l=e.width,c="horizontal"===i||"horizontal"===a?l:o,u=HL(e,t,r),d=n+c,h=u.offset+u.size,f=t;f<s-1&&h<d;)f++,h+=HL(e,f,r).size;return f},initInstanceProps:function(e,t){var n={itemMetadataMap:{},estimatedItemSize:e.estimatedItemSize||50,lastMeasuredIndex:-1};return t.resetAfterIndex=function(e,r){void 0===r&&(r=!0),n.lastMeasuredIndex=Math.min(n.lastMeasuredIndex,e-1),t._getItemStyleCache(-1),r&&t.forceUpdate()},n},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}});const YL=function(e,n){var r,i;return t.isValidElement(e)&&-1!==n.indexOf(null!=(r=e.type.muiName)?r:null==(i=e.type)||null==(i=i._payload)||null==(i=i.value)?void 0:i.muiName)},XL=qR;const ZL=t.createContext({});function eM(e){return p("MuiListItem",e)}const tM=Le("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);function nM(e){return p("MuiListItemButton",e)}const rM=Le("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function iM(e){return p("MuiListItemSecondaryAction",e)}Le("MuiListItemSecondaryAction",["root","disableGutters"]);const oM=["className"],sM=Ne("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})((e=>{let{ownerState:t}=e;return(0,a.A)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})})),aM=t.forwardRef((function(e,n){const r=Pe({props:e,name:"MuiListItemSecondaryAction"}),{className:i}=r,o=(0,s.A)(r,oM),l=t.useContext(ZL),u=(0,a.A)({},r,{disableGutters:l.disableGutters}),d=(e=>{const{disableGutters:t,classes:n}=e;return m({root:["root",t&&"disableGutters"]},iM,n)})(u);return(0,U.jsx)(sM,(0,a.A)({className:c(d.root,i),ownerState:u,ref:n},o))}));aM.muiName="ListItemSecondaryAction";const lM=aM,cM=["className"],uM=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],dM=Ne("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})((e=>{let{theme:t,ownerState:n}=e;return(0,a.A)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!n.disablePadding&&(0,a.A)({paddingTop:8,paddingBottom:8},n.dense&&{paddingTop:4,paddingBottom:4},!n.disableGutters&&{paddingLeft:16,paddingRight:16},!!n.secondaryAction&&{paddingRight:48}),!!n.secondaryAction&&{["& > .".concat(rM.root)]:{paddingRight:48}},{["&.".concat(tM.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(tM.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,J.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(tM.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,J.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(tM.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"flex-start"===n.alignItems&&{alignItems:"flex-start"},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},n.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(tM.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,J.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,J.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}}},n.hasSecondaryAction&&{paddingRight:48})})),hM=Ne("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),fM=t.forwardRef((function(e,n){const r=Pe({props:e,name:"MuiListItem"}),{alignItems:i="center",autoFocus:o=!1,button:l=!1,children:u,className:d,component:h,components:f={},componentsProps:p={},ContainerComponent:g="li",ContainerProps:{className:v}={},dense:y=!1,disabled:w=!1,disableGutters:b=!1,disablePadding:_=!1,divider:S=!1,focusVisibleClassName:I,secondaryAction:k,selected:E=!1,slotProps:x={},slots:T={}}=r,C=(0,s.A)(r.ContainerProps,cM),A=(0,s.A)(r,uM),N=t.useContext(ZL),P=t.useMemo((()=>({dense:y||N.dense||!1,alignItems:i,disableGutters:b})),[i,N.dense,y,b]),R=t.useRef(null);XL((()=>{o&&R.current&&R.current.focus()}),[o]);const O=t.Children.toArray(u),D=O.length&&YL(O[O.length-1],["ListItemSecondaryAction"]),L=(0,a.A)({},r,{alignItems:i,autoFocus:o,button:l,dense:P.dense,disabled:w,disableGutters:b,disablePadding:_,divider:S,hasSecondaryAction:D,selected:E}),M=(e=>{const{alignItems:t,button:n,classes:r,dense:i,disabled:o,disableGutters:s,disablePadding:a,divider:l,hasSecondaryAction:c,selected:u}=e;return m({root:["root",i&&"dense",!s&&"gutters",!a&&"padding",l&&"divider",o&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",c&&"secondaryAction",u&&"selected"],container:["container"]},eM,r)})(L),F=BR(R,n),j=T.root||f.Root||dM,z=x.root||p.root||{},V=(0,a.A)({className:c(M.root,z.className,d),disabled:w},A);let B=h||"li";return l&&(V.component=h||"div",V.focusVisibleClassName=c(tM.focusVisible,I),B=UO),D?(B=V.component||h?B:"div","li"===g&&("li"===B?B="div":"li"===V.component&&(V.component="div")),(0,U.jsx)(ZL.Provider,{value:P,children:(0,U.jsxs)(hM,(0,a.A)({as:g,className:c(M.container,v),ref:F,ownerState:L},C,{children:[(0,U.jsx)(j,(0,a.A)({},z,!lD(j)&&{as:B,ownerState:(0,a.A)({},L,z.ownerState)},V,{children:O})),O.pop()]}))})):(0,U.jsx)(ZL.Provider,{value:P,children:(0,U.jsxs)(j,(0,a.A)({},z,{as:B,ref:F},!lD(j)&&{ownerState:(0,a.A)({},L,z.ownerState)},V,{children:[O,k&&(0,U.jsx)(lM,{children:k})]}))})})),pM=fM;function mM(e){return p("MuiListItemText",e)}const gM=Le("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),vM=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],yM=Ne("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(gM.primary)]:t.primary},{["& .".concat(gM.secondary)]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})((e=>{let{ownerState:t}=e;return(0,a.A)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})})),wM=t.forwardRef((function(e,n){const r=Pe({props:e,name:"MuiListItemText"}),{children:i,className:o,disableTypography:l=!1,inset:u=!1,primary:d,primaryTypographyProps:h,secondary:f,secondaryTypographyProps:p}=r,g=(0,s.A)(r,vM),{dense:v}=t.useContext(ZL);let y=null!=d?d:i,w=f;const b=(0,a.A)({},r,{disableTypography:l,inset:u,primary:!!y,secondary:!!w,dense:v}),_=(e=>{const{classes:t,inset:n,primary:r,secondary:i,dense:o}=e;return m({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},mM,t)})(b);return null==y||y.type===Be||l||(y=(0,U.jsx)(Be,(0,a.A)({variant:v?"body2":"body1",className:_.primary,component:null!=h&&h.variant?void 0:"span",display:"block"},h,{children:y}))),null==w||w.type===Be||l||(w=(0,U.jsx)(Be,(0,a.A)({variant:"body2",className:_.secondary,color:"text.secondary",display:"block"},p,{children:w}))),(0,U.jsxs)(yM,(0,a.A)({className:c(_.root,o),ownerState:b,ref:n},g,{children:[y,w]}))})),bM=e=>{var t;let{index:n,width:r,fontSize:i}=e;const o=on.getTypingStats().at(n);let s=null,a=null,l=null;o&&(s=(0,U.jsx)(eD,{stat:o.getWpm(),statName:"WPM:",color:"#9287B7"}),a=(0,U.jsx)(eD,{stat:o.getAccuracy(),statName:"Accuracy:",color:"#9287B7"}),l=(0,U.jsx)(U.Fragment,{children:ct(o.getGeneratedPrompt(),o.getTypedPrompt(),!1,i,null)}),console.log(l));const c=()=>(0,U.jsx)(U.Fragment,{children:(0,U.jsx)("div",{style:{height:"15px"}})}),u=(e,t)=>(0,U.jsx)(U.Fragment,{children:d((0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(Be,{sx:{color:"white",paddingTop:"20px",paddingLeft:"20px"},children:e}),(0,U.jsx)("div",{className:"scrollCss",contentEditable:!1,style:{display:"inline-block",width:"calc(".concat(r,"vw - 100px)"),overflow:"hidden",height:"80px",borderRadius:"40px",paddingLeft:"10px",paddingRight:"10px",paddingTop:"10px",whiteSpace:"normal",wordWrap:"break-word",overflowY:"scroll"},children:t},"scrollPane"),c()]}))}),d=e=>(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(Qe,{sx:{width:"calc(".concat(r,"vw - 85px)"),backgroundColor:"#18122B",borderRadius:"40px"},children:e})}),h=u("Accuracy Visual",(0,U.jsx)(U.Fragment,{children:l})),f=u("Generated Prompt",(0,U.jsx)(Be,{sx:{fontSize:"".concat(i,"px"),color:"#9287B7"},children:null===o||void 0===o?void 0:o.getGeneratedPrompt()})),p=u("User Results",(0,U.jsx)(Be,{sx:{fontSize:"".concat(i,"px"),color:"#9287B7"},children:null===o||void 0===o?void 0:o.getTypedPrompt()}));if(null!==o&&void 0!==o&&o.getDuration())XO(+(null===o||void 0===o?void 0:o.getDuration()));return(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(UR,{container:!0,alignItems:"center",direction:"column",sx:{backgroundColor:"#292140",borderRadius:"65px",paddingTop:"25px",paddingBottom:"25px",width:"calc(".concat(r,"vw - 50px)")},children:[(0,U.jsx)(Be,{sx:{color:"#9287B7"},children:"Test #"+(n+1)}),(0,U.jsxs)(Oe,{flexDirection:"row",children:[(0,U.jsx)(Be,{sx:{color:"#9287B7"},children:"Duration:\xa0"}),(0,U.jsx)(Be,{sx:{color:"#B8AAE9"},children:XO(null!==(t=o.getDuration())&&void 0!==t?t:0)})," "]}),s,a,c(),f,c(),p,c(),h]})})},_M=e=>{let{setFontSize:n}=e;const[r,i]=(0,t.useState)(on.getHistorySettings().getFontSize());return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("div",{style:{height:"60px"}}),(0,U.jsxs)(Qe,{sx:{paddingLeft:"30px",paddingRight:"30px",flex:"1",display:"flex",alignItems:"center",flexDirection:"column",boxShadow:"0 0 50px rgba(24, 18, 43, 1)",backdropFilter:"blur(10px)",backgroundColor:"rgba(24, 18, 43, 0.5)",borderRadius:"100px"},children:[(0,U.jsxs)(Qe,{sx:{flexDirection:"row",flex:"1",display:"flex",alignItems:"center"},children:[(0,U.jsxs)(Be,{id:"input-slider",sx:{color:"#635985"},children:["Font Size:","\xa0"]}),(0,U.jsx)(Be,{id:"input-slider",sx:{color:"#9287B7"},children:+r})]}),(0,U.jsx)(GD,{sx:{color:"#9287B7","& .MuiSlider-thumb":{backgroundColor:"#9287B7",width:"15px",height:"15px","&:hover":{boxShadow:"0px 0px 0px 8px rgba(146, 135, 183, 0.5)"},"&:not(:hover)":{boxShadow:"0px 0px 0px 0px rgba(146, 135, 183, 0.5)"},"&:active":{boxShadow:"0px 0px 0px 12px rgba(146, 135, 183, 0.5)"}}},"aria-label":"FontSize",value:on.getHistorySettings().getFontSize(),valueLabelDisplay:"off",min:10,max:50,onChange:(e,t)=>((e,t)=>{"number"==typeof t&&(n(t),on.getHistorySettings().setFontSize(t),i(t),console.log(on.getHistorySettings().getFontSize()))})(0,t),onMouseUp:()=>{(async function(){var e;if(!hR())return void console.log("Can't update user not logged in!");const t=ZN.collection("Users").doc(null===(e=XN.currentUser)||void 0===e?void 0:e.uid).collection("historySettings");try{await t.doc("historySetting").update(on.getHistorySettings().toDoc())}catch(n){}})().then((()=>{console.log("Finished updating online history settings!")}))}})]})]})};var SM=[],IM=[];const kM=e=>{let{index:n,style:r,addSize:i,fontSize:o}=e;const s=(0,t.useRef)(null),a=(0,U.jsx)("div",{style:r,children:(0,U.jsx)(pM,{ref:s,onClick:e=>{var t;return console.log(null===(t=s.current)||void 0===t?void 0:t.clientHeight)},component:"div",disablePadding:!0,children:(0,U.jsx)(wM,{primary:(0,U.jsx)(bM,{index:n,width:85,fontSize:o})})},n)});return IM.push(s),t.useEffect((()=>{var e,t;i(null!==(e=null===(t=s.current)||void 0===t?void 0:t.clientHeight)&&void 0!==e?e:0,n)}),[i,n]),a},EM=()=>{const[e,n]=(0,t.useState)(on.getHistorySettings().getFontSize()),r=(0,t.useRef)(null),i=(e,t)=>{var n;SM.push(e),null===(n=r.current)||void 0===n||n.resetAfterIndex(t)};return(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(Qe,{sx:{width:"".concat(85,"vw"),height:"50vh","&::-webkit-scrollbar-button":{display:"none"}},children:[(0,U.jsx)(JL,{ref:r,height:400,width:"".concat(85,"vw"),itemSize:e=>(e=>SM.at(e)||0)(e),itemCount:on.getTypingStats().length,overscanCount:5,style:{overflowY:"scroll",overflowX:"hidden",scrollbarWidth:"initial",scrollbarColor:"#B6AAD7 transparent",msScrollbarArrowColor:"transparent"},children:t=>{let{index:n,style:r}=t;return(0,U.jsx)(kM,{index:n,style:{...r,paddingRight:"200px"},data:void 0,addSize:i,fontSize:e})}}),(0,U.jsx)(_M,{setFontSize:n})]})})};function xM(e){return fD(e).defaultView||window}function TM(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function CM(e){return parseInt(xM(e).getComputedStyle(e).paddingRight,10)||0}function AM(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,(e=>{const t=-1===o.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&TM(e,i)}))}function NM(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function PM(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=fD(e);return t.body===e?xM(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=function(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}(fD(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(CM(r)+e,"px");const t=fD(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight="".concat(CM(t)+e,"px")}))}let e;if(r.parentNode instanceof DocumentFragment)e=fD(r).body;else{const t=r.parentElement,n=xM(r);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}const RM=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&TM(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);AM(t,e.mount,e.modalRef,r,!0);const i=NM(this.containers,(e=>e.container===t));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=NM(this.containers,(t=>-1!==t.modals.indexOf(e))),r=this.containers[n];r.restore||(r.restore=PM(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=NM(this.containers,(t=>-1!==t.modals.indexOf(e))),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&TM(e.modalRef,t),AM(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=i.modals[i.modals.length-1];e.modalRef&&TM(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};function OM(e){const{container:n,disableEscapeKeyDown:r=!1,disableScrollLock:i=!1,manager:o=RM,closeAfterTransition:s=!1,onTransitionEnter:l,onTransitionExited:c,children:u,onClose:d,open:h,rootRef:f}=e,p=t.useRef({}),m=t.useRef(null),g=t.useRef(null),v=VR(g,f),[y,w]=t.useState(!h),b=function(e){return!!e&&e.props.hasOwnProperty("in")}(u);let _=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(_=!1);const S=()=>(p.current.modalRef=g.current,p.current.mount=m.current,p.current),I=()=>{o.mount(S(),{disableScrollLock:i}),g.current&&(g.current.scrollTop=0)},k=WR((()=>{const e=function(e){return"function"===typeof e?e():e}(n)||fD(m.current).body;o.add(S(),e),g.current&&I()})),E=t.useCallback((()=>o.isTopModal(S())),[o]),x=WR((e=>{m.current=e,e&&(h&&E()?I():g.current&&TM(g.current,_))})),T=t.useCallback((()=>{o.remove(S(),_)}),[_,o]);t.useEffect((()=>()=>{T()}),[T]),t.useEffect((()=>{h?k():b&&s||T()}),[h,T,b,s,k]);const C=e=>t=>{var n;null==(n=e.onKeyDown)||n.call(e,t),"Escape"===t.key&&229!==t.which&&E()&&(r||(t.stopPropagation(),d&&d(t,"escapeKeyDown")))},A=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&d&&d(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=cD(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r=(0,a.A)({},n,t);return(0,a.A)({role:"presentation"},r,{onKeyDown:C(r),ref:v})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.A)({"aria-hidden":!0},e,{onClick:A(e),open:h})},getTransitionProps:()=>({onEnter:gL((()=>{w(!1),l&&l()}),null==u?void 0:u.props.onEnter),onExited:gL((()=>{w(!0),c&&c(),s&&T()}),null==u?void 0:u.props.onExited)}),rootRef:v,portalRef:x,isTopModal:E,exited:y,hasTransition:b}}const DM=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function LM(e){const t=[],n=[];return Array.from(e.querySelectorAll(DM)).forEach(((e,r)=>{const i=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector('input[type="radio"]'.concat(t));let n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function MM(){return!0}function FM(e){const{children:n,disableAutoFocus:r=!1,disableEnforceFocus:i=!1,disableRestoreFocus:o=!1,getTabbable:s=LM,isEnabled:a=MM,open:l}=e,c=t.useRef(!1),u=t.useRef(null),d=t.useRef(null),h=t.useRef(null),f=t.useRef(null),p=t.useRef(!1),m=t.useRef(null),g=VR(n.ref,m),v=t.useRef(null);t.useEffect((()=>{l&&m.current&&(p.current=!r)}),[r,l]),t.useEffect((()=>{if(!l||!m.current)return;const e=fD(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{o||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}}),[l]),t.useEffect((()=>{if(!l||!m.current)return;const e=fD(m.current),t=t=>{v.current=t,!i&&a()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(c.current=!0,d.current&&d.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!a()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(i&&e.activeElement!==u.current&&e.activeElement!==d.current)return;if(e.activeElement!==f.current)f.current=null;else if(null!==f.current)return;if(!p.current)return;let n=[];if(e.activeElement!==u.current&&e.activeElement!==d.current||(n=s(m.current)),n.length>0){var r,o;const e=Boolean((null==(r=v.current)?void 0:r.shiftKey)&&"Tab"===(null==(o=v.current)?void 0:o.key)),t=n[0],i=n[n.length-1];"string"!==typeof t&&"string"!==typeof i&&(e?i.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const r=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[r,i,o,a,l,s]);const y=e=>{null===h.current&&(h.current=e.relatedTarget),p.current=!0};return(0,U.jsxs)(t.Fragment,{children:[(0,U.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),t.cloneElement(n,{ref:g,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),p.current=!0,f.current=e.target;const t=n.props.onFocus;t&&t(e)}}),(0,U.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:d,"data-testid":"sentinelEnd"})]})}var jM=n(7950),UM=n.t(jM,2);const zM=t.forwardRef((function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[s,a]=t.useState(null),l=VR(t.isValidElement(r)?r.ref:null,n);if(qR((()=>{o||a(function(e){return"function"===typeof e?e():e}(i)||document.body)}),[i,o]),qR((()=>{if(s&&!o)return zR(n,s),()=>{zR(n,null)}}),[n,s,o]),o){if(t.isValidElement(r)){const e={ref:l};return t.cloneElement(r,e)}return(0,U.jsx)(t.Fragment,{children:r})}return(0,U.jsx)(t.Fragment,{children:s?jM.createPortal(r,s):s})}));const VM=!1;var BM="unmounted",qM="exited",WM="entering",KM="entered",HM="exiting",GM=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=qM,r.appearStatus=WM):i=KM:i=t.unmountOnExit||t.mountOnEnter?BM:qM,r.state={status:i},r.nextCallback=null,r}lO(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===BM?{status:qM}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==WM&&n!==KM&&(t=WM):n!==WM&&n!==KM||(t=HM)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===WM){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:jM.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===qM&&this.setState({status:BM})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[jM.findDOMNode(this),r],o=i[0],s=i[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!n||VM?this.safeSetState({status:KM},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:WM},(function(){t.props.onEntering(o,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:KM},(function(){t.props.onEntered(o,s)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:jM.findDOMNode(this);t&&!VM?(this.props.onExit(r),this.safeSetState({status:HM},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:qM},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:qM},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:jM.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===BM)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,s.A)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(cO.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function QM(){}GM.contextType=cO,GM.propTypes={},GM.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:QM,onEntering:QM,onEntered:QM,onExit:QM,onExiting:QM,onExited:QM},GM.UNMOUNTED=BM,GM.EXITED=qM,GM.ENTERING=WM,GM.ENTERED=KM,GM.EXITING=HM;const $M=GM,JM=e=>e.scrollTop;function YM(e,t){var n,r;const{timeout:i,easing:o,style:s={}}=e;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof o?o[t.mode]:o,delay:s.transitionDelay}}const XM=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],ZM={entering:{opacity:1},entered:{opacity:1}},eF=t.forwardRef((function(e,n){const r=TR(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:l=!0,children:c,easing:u,in:d,onEnter:h,onEntered:f,onEntering:p,onExit:m,onExited:g,onExiting:v,style:y,timeout:w=i,TransitionComponent:b=$M}=e,_=(0,s.A)(e,XM),S=t.useRef(null),I=BR(S,c.ref,n),k=e=>t=>{if(e){const n=S.current;void 0===t?e(n):e(n,t)}},E=k(p),x=k(((e,t)=>{JM(e);const n=YM({style:y,timeout:w,easing:u},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),h&&h(e,t)})),T=k(f),C=k(v),A=k((e=>{const t=YM({style:y,timeout:w,easing:u},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),m&&m(e)})),N=k(g);return(0,U.jsx)(b,(0,a.A)({appear:l,in:d,nodeRef:S,onEnter:x,onEntered:T,onEntering:E,onExit:A,onExited:N,onExiting:C,addEndListener:e=>{o&&o(S.current,e)},timeout:w},_,{children:(e,n)=>t.cloneElement(c,(0,a.A)({style:(0,a.A)({opacity:0,visibility:"exited"!==e||d?void 0:"hidden"},ZM[e],y,c.props.style),ref:I},n))}))})),tF=eF;function nF(e){return p("MuiBackdrop",e)}Le("MuiBackdrop",["root","invisible"]);const rF=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],iF=Ne("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})((e=>{let{ownerState:t}=e;return(0,a.A)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),oF=t.forwardRef((function(e,t){var n,r,i;const o=Pe({props:e,name:"MuiBackdrop"}),{children:l,className:u,component:d="div",components:h={},componentsProps:f={},invisible:p=!1,open:g,slotProps:v={},slots:y={},TransitionComponent:w=tF,transitionDuration:b}=o,_=(0,s.A)(o,rF),S=(0,a.A)({},o,{component:d,invisible:p}),I=(e=>{const{classes:t,invisible:n}=e;return m({root:["root",n&&"invisible"]},nF,t)})(S),k=null!=(n=v.root)?n:f.root;return(0,U.jsx)(w,(0,a.A)({in:g,timeout:b},_,{children:(0,U.jsx)(iF,(0,a.A)({"aria-hidden":!0},k,{as:null!=(r=null!=(i=y.root)?i:h.Root)?r:d,className:c(I.root,u,null==k?void 0:k.className),ownerState:(0,a.A)({},S,null==k?void 0:k.ownerState),classes:I,ref:t,children:l}))}))}));function sF(e){return p("MuiModal",e)}Le("MuiModal",["root","hidden","backdrop"]);const aF=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],lF=Ne("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})((e=>{let{theme:t,ownerState:n}=e;return(0,a.A)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),cF=Ne(oF,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),uF=t.forwardRef((function(e,n){var r,i,o,l,u,d;const h=Pe({name:"MuiModal",props:e}),{BackdropComponent:f=cF,BackdropProps:p,className:g,closeAfterTransition:v=!1,children:y,container:w,component:b,components:_={},componentsProps:S={},disableAutoFocus:I=!1,disableEnforceFocus:k=!1,disableEscapeKeyDown:E=!1,disablePortal:x=!1,disableRestoreFocus:T=!1,disableScrollLock:C=!1,hideBackdrop:A=!1,keepMounted:N=!1,onBackdropClick:P,open:R,slotProps:O,slots:D}=h,L=(0,s.A)(h,aF),M=(0,a.A)({},h,{closeAfterTransition:v,disableAutoFocus:I,disableEnforceFocus:k,disableEscapeKeyDown:E,disablePortal:x,disableRestoreFocus:T,disableScrollLock:C,hideBackdrop:A,keepMounted:N}),{getRootProps:F,getBackdropProps:j,getTransitionProps:z,portalRef:V,isTopModal:B,exited:q,hasTransition:W}=OM((0,a.A)({},M,{rootRef:n})),K=(0,a.A)({},M,{exited:q}),H=(e=>{const{open:t,exited:n,classes:r}=e;return m({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},sF,r)})(K),G={};if(void 0===y.props.tabIndex&&(G.tabIndex="-1"),W){const{onEnter:e,onExited:t}=z();G.onEnter=e,G.onExited=t}const Q=null!=(r=null!=(i=null==D?void 0:D.root)?i:_.Root)?r:lF,$=null!=(o=null!=(l=null==D?void 0:D.backdrop)?l:_.Backdrop)?o:f,J=null!=(u=null==O?void 0:O.root)?u:S.root,Y=null!=(d=null==O?void 0:O.backdrop)?d:S.backdrop,X=hD({elementType:Q,externalSlotProps:J,externalForwardedProps:L,getSlotProps:F,additionalProps:{ref:n,as:b},ownerState:K,className:c(g,null==J?void 0:J.className,null==H?void 0:H.root,!K.open&&K.exited&&(null==H?void 0:H.hidden))}),Z=hD({elementType:$,externalSlotProps:Y,additionalProps:p,getSlotProps:e=>j((0,a.A)({},e,{onClick:t=>{P&&P(t),null!=e&&e.onClick&&e.onClick(t)}})),className:c(null==Y?void 0:Y.className,null==p?void 0:p.className,null==H?void 0:H.backdrop),ownerState:K});return N||R||W&&!q?(0,U.jsx)(zM,{ref:V,container:w,disablePortal:x,children:(0,U.jsxs)(Q,(0,a.A)({},X,{children:[!A&&f?(0,U.jsx)($,(0,a.A)({},Z)):null,(0,U.jsx)(FM,{disableEnforceFocus:k,disableAutoFocus:I,disableRestoreFocus:T,isEnabled:B,open:R,children:t.cloneElement(y,G)})]}))}):null})),dF=uF;const hF=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];clearTimeout(t),t=setTimeout((()=>{e.apply(this,i)}),n)}return r.clear=()=>{clearTimeout(t)},r},fF=xM,pF=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function mF(e,t,n){var r;const i=function(e,t,n){const r=t.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),o=fF(t);let s;if(t.fakeTransform)s=t.fakeTransform;else{const e=o.getComputedStyle(t);s=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("transform")}let a=0,l=0;if(s&&"none"!==s&&"string"===typeof s){const e=s.split("(")[1].split(")")[0].split(",");a=parseInt(e[4],10),l=parseInt(e[5],10)}return"left"===e?"translateX(".concat(i?i.right+a-r.left:o.innerWidth+a-r.left,"px)"):"right"===e?"translateX(-".concat(i?r.right-i.left-a:r.left+r.width-a,"px)"):"up"===e?"translateY(".concat(i?i.bottom+l-r.top:o.innerHeight+l-r.top,"px)"):"translateY(-".concat(i?r.top-i.top+r.height-l:r.top+r.height-l,"px)")}(e,t,"function"===typeof(r=n)?r():r);i&&(t.style.webkitTransform=i,t.style.transform=i)}const gF=t.forwardRef((function(e,n){const r=TR(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:l,appear:c=!0,children:u,container:d,direction:h="down",easing:f=i,in:p,onEnter:m,onEntered:g,onEntering:v,onExit:y,onExited:w,onExiting:b,style:_,timeout:S=o,TransitionComponent:I=$M}=e,k=(0,s.A)(e,pF),E=t.useRef(null),x=BR(u.ref,E,n),T=e=>t=>{e&&(void 0===t?e(E.current):e(E.current,t))},C=T(((e,t)=>{mF(h,e,d),JM(e),m&&m(e,t)})),A=T(((e,t)=>{const n=YM({timeout:S,style:_,easing:f},{mode:"enter"});e.style.webkitTransition=r.transitions.create("-webkit-transform",(0,a.A)({},n)),e.style.transition=r.transitions.create("transform",(0,a.A)({},n)),e.style.webkitTransform="none",e.style.transform="none",v&&v(e,t)})),N=T(g),P=T(b),R=T((e=>{const t=YM({timeout:S,style:_,easing:f},{mode:"exit"});e.style.webkitTransition=r.transitions.create("-webkit-transform",t),e.style.transition=r.transitions.create("transform",t),mF(h,e,d),y&&y(e)})),O=T((e=>{e.style.webkitTransition="",e.style.transition="",w&&w(e)})),D=t.useCallback((()=>{E.current&&mF(h,E.current,d)}),[h,d]);return t.useEffect((()=>{if(p||"down"===h||"right"===h)return;const e=hF((()=>{E.current&&mF(h,E.current,d)})),t=fF(E.current);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[h,p,d]),t.useEffect((()=>{p||D()}),[p,D]),(0,U.jsx)(I,(0,a.A)({nodeRef:E,onEnter:C,onEntered:N,onEntering:A,onExit:R,onExited:O,onExiting:P,addEndListener:e=>{l&&l(E.current,e)},appear:c,in:p,timeout:S},k,{children:(e,n)=>t.cloneElement(u,(0,a.A)({ref:x,style:(0,a.A)({visibility:"exited"!==e||p?void 0:"hidden"},_,u.props.style)},n))}))})),vF=gF;function yF(e){return p("MuiDrawer",e)}Le("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const wF=["BackdropProps"],bF=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],_F=(e,t)=>{const{ownerState:n}=e;return[t.root,("permanent"===n.variant||"persistent"===n.variant)&&t.docked,t.modal]},SF=Ne(dF,{name:"MuiDrawer",slot:"Root",overridesResolver:_F})((e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.drawer}})),IF=Ne("div",{shouldForwardProp:Ae,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:_F})({flex:"0 0 auto"}),kF=Ne(aD,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t["paperAnchor".concat(De(n.anchor))],"temporary"!==n.variant&&t["paperAnchorDocked".concat(De(n.anchor))]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,a.A)({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},"left"===n.anchor&&{left:0},"top"===n.anchor&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},"right"===n.anchor&&{right:0},"bottom"===n.anchor&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},"left"===n.anchor&&"temporary"!==n.variant&&{borderRight:"1px solid ".concat((t.vars||t).palette.divider)},"top"===n.anchor&&"temporary"!==n.variant&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider)},"right"===n.anchor&&"temporary"!==n.variant&&{borderLeft:"1px solid ".concat((t.vars||t).palette.divider)},"bottom"===n.anchor&&"temporary"!==n.variant&&{borderTop:"1px solid ".concat((t.vars||t).palette.divider)})})),EF={left:"right",right:"left",top:"down",bottom:"up"};const xF=t.forwardRef((function(e,n){const r=Pe({props:e,name:"MuiDrawer"}),i=TR(),o=PD(),l={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:u="left",BackdropProps:d,children:h,className:f,elevation:p=16,hideBackdrop:g=!1,ModalProps:{BackdropProps:v}={},onClose:y,open:w=!1,PaperProps:b={},SlideProps:_,TransitionComponent:S=vF,transitionDuration:I=l,variant:k="temporary"}=r,E=(0,s.A)(r.ModalProps,wF),x=(0,s.A)(r,bF),T=t.useRef(!1);t.useEffect((()=>{T.current=!0}),[]);const C=function(e,t){let{direction:n}=e;return"rtl"===n&&function(e){return-1!==["left","right"].indexOf(e)}(t)?EF[t]:t}({direction:o?"rtl":"ltr"},u),A=u,N=(0,a.A)({},r,{anchor:A,elevation:p,open:w,variant:k},x),P=(e=>{const{classes:t,anchor:n,variant:r}=e;return m({root:["root"],docked:[("permanent"===r||"persistent"===r)&&"docked"],modal:["modal"],paper:["paper","paperAnchor".concat(De(n)),"temporary"!==r&&"paperAnchorDocked".concat(De(n))]},yF,t)})(N),R=(0,U.jsx)(kF,(0,a.A)({elevation:"temporary"===k?p:0,square:!0},b,{className:c(P.paper,b.className),ownerState:N,children:h}));if("permanent"===k)return(0,U.jsx)(IF,(0,a.A)({className:c(P.root,P.docked,f),ownerState:N,ref:n},x,{children:R}));const O=(0,U.jsx)(S,(0,a.A)({in:w,direction:EF[C],timeout:I,appear:T.current},_,{children:R}));return"persistent"===k?(0,U.jsx)(IF,(0,a.A)({className:c(P.root,P.docked,f),ownerState:N,ref:n},x,{children:O})):(0,U.jsx)(SF,(0,a.A)({BackdropProps:(0,a.A)({},d,v,{transitionDuration:I}),className:c(P.root,P.modal,f),open:w,ownerState:N,onClose:y,hideBackdrop:g,ref:n},x,E,{children:O}))})),TF=xF,CF=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],AF=Ne(UO,{shouldForwardProp:e=>Ae(e)||"classes"===e,name:"MuiListItemButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:n}=e;return(0,a.A)({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(rM.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,J.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(rM.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,J.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(rM.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,J.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,J.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(rM.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(rM.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity}},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},"flex-start"===n.alignItems&&{alignItems:"flex-start"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.dense&&{paddingTop:4,paddingBottom:4})})),NF=t.forwardRef((function(e,n){const r=Pe({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:o=!1,component:l="div",children:u,dense:d=!1,disableGutters:h=!1,divider:f=!1,focusVisibleClassName:p,selected:g=!1,className:v}=r,y=(0,s.A)(r,CF),w=t.useContext(ZL),b=t.useMemo((()=>({dense:d||w.dense||!1,alignItems:i,disableGutters:h})),[i,w.dense,d,h]),_=t.useRef(null);XL((()=>{o&&_.current&&_.current.focus()}),[o]);const S=(0,a.A)({},r,{alignItems:i,dense:b.dense,disableGutters:h,divider:f,selected:g}),I=(e=>{const{alignItems:t,classes:n,dense:r,disabled:i,disableGutters:o,divider:s,selected:l}=e,c=m({root:["root",r&&"dense",!o&&"gutters",s&&"divider",i&&"disabled","flex-start"===t&&"alignItemsFlexStart",l&&"selected"]},nM,n);return(0,a.A)({},n,c)})(S),k=BR(_,n);return(0,U.jsx)(ZL.Provider,{value:b,children:(0,U.jsx)(AF,(0,a.A)({ref:k,href:y.href||y.to,component:(y.href||y.to)&&"div"===l?"button":l,focusVisibleClassName:c(I.focusVisible,p),ownerState:S,className:c(I.root,v)},y,{classes:I,children:u}))})}));function PF(e){return p("MuiList",e)}Le("MuiList",["root","padding","dense","subheader"]);const RF=["children","className","component","dense","disablePadding","subheader"],OF=Ne("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((e=>{let{ownerState:t}=e;return(0,a.A)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),DF=t.forwardRef((function(e,n){const r=Pe({props:e,name:"MuiList"}),{children:i,className:o,component:l="ul",dense:u=!1,disablePadding:d=!1,subheader:h}=r,f=(0,s.A)(r,RF),p=t.useMemo((()=>({dense:u})),[u]),g=(0,a.A)({},r,{component:l,dense:u,disablePadding:d}),v=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return m({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},PF,t)})(g);return(0,U.jsx)(ZL.Provider,{value:p,children:(0,U.jsxs)(OF,(0,a.A)({as:l,className:c(v.root,o),ref:n,ownerState:g},f,{children:[h,i]}))})})),LF=e=>{let{setIsDrawerOpen:t}=e;const n=GP(),r=(e,t,n)=>(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(NF,{onClick:()=>i(t),children:[lt(32,32,n),(0,U.jsx)(wM,{primary:(0,U.jsx)("span",{style:{color:"White",marginLeft:"10px"},children:e})})]})}),i=e=>{n(e)};return(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(Qe,{sx:{width:250},onClick:e=>t(!1),children:(0,U.jsxs)(DF,{children:[r("Home","/HomePage","./svgFiles/home.svg"),r("Typing Practice","/TypingPage","./svgFiles/keyboard.svg"),r("History","/HistoryPage","./svgFiles/history.svg"),r("Login Signup","/SignupLoginPage","./svgFiles/account.svg"),r("About","/AboutPage","./svgFiles/information.svg")]})})})},MF=()=>{const[e,n]=(0,t.useState)(!1);return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(JO,{onClick:()=>n(!0),variant:"contained",sx:{color:"White",textEmphasisColor:"#292140",backgroundColor:"#635985","&:hover":{backgroundColor:"#9287B7"}},children:lt(32,32,"./svgFiles/menu.svg")}),(0,U.jsx)(TF,{anchor:"right",open:e,PaperProps:{sx:{backgroundColor:"#9287B7"}},sx:{color:"#635985"},onClose:()=>n(!1),children:(0,U.jsx)(LF,{setIsDrawerOpen:n})})]})},FF=()=>{const[e,n]=(0,t.useState)(!1);return(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(UR,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"flex-start",sx:{padding:"10px",paddingLeft:"100px",paddingTop:"30px",paddingBottom:"20px",paddingRight:"30px"},children:[st(30),(0,U.jsx)(MF,{})]})})},jF=e=>{let{width:t,height:n,opacity:r}=e;const i="data:image/svg+xml;utf8,".concat(encodeURIComponent('\n    <svg viewBox="0 0 1733 168" fill="none" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M895 56.6547C449.5 -34.3453 139.833 -1.67863 0 56.6547V167.655H1733V56.6547C1546.83 114.988 1221.14 123.273 895 56.6547Z" fill="#D9D9D9"/>\n    </svg>\n  '));return(0,U.jsx)("img",{src:i,alt:"One Peak Wave",style:{width:t,height:n,opacity:r}})},UF=e=>{let{width:t,height:n,opacity:r}=e;const i="data:image/svg+xml;utf8,".concat(encodeURIComponent('\n    <svg viewBox="0 0 1733 165" fill="none" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">\n      <rect y="113" width="1733" height="52" fill="#9287B7" />\n      <path d="M351.5 53.0075C199.5 -46.4708 105 18.1901 0 53.0075V118H1733V53.0075C1643.17 85.2827 1426.9 130.468 1280.5 53.0075C1134.1 -24.4529 926.833 20.7323 841.5 53.0075C741.5 94.4568 503.5 152.486 351.5 53.0075Z" fill="#9287B7" />\n    </svg>\n  '));return(0,U.jsx)("img",{src:i,alt:"Two Peak Wave",style:{width:t,height:n,opacity:r}})},zF=()=>{let e;e=0===on.getTypingStats().length?(0,U.jsx)(Be,{color:"white",children:"Empty! Type something first then come back!"}):(0,U.jsx)(EM,{});const[n,r]=(0,t.useState)([]);return(0,t.useEffect)((()=>{setTimeout((()=>{r([...n,ut()])}),300)}),[n]),(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(Oe,{sx:{overflowX:"hidden"},justifyContent:"flex-start",width:"100vw",height:"100vh",alignItems:"center",position:"relative",children:[(0,U.jsx)(FF,{}),e,(0,U.jsxs)(Qe,{sx:{position:"fixed",bottom:0,width:"100vw",margin:0,padding:0,zIndex:-1},children:[at("10vh",.25,"forwards",8,jF),at("15vh",.25,"forwards",5,UF),at("18vh",.25,"backwards",9,UF),at("20vh",.25,"backwards",11,jF),at("15vh",.25,"forwards",8,UF),at("25vh",.25,"forwards",15,UF)]}),(0,U.jsx)(UR,{item:!0,sx:{position:"absolute",bottom:0,width:"100vw",height:"100vh",margin:0,padding:0,zIndex:-2},children:(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(Qe,{sx:{position:"fixed",width:"100vw",height:"100vh"},children:n})})})]})})};function VF(e){return p("MuiLink",e)}const BF=Le("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var qF=n(7162);const WF={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},KF=e=>{let{theme:t,ownerState:n}=e;const r=(e=>WF[e]||e)(n.color),i=(0,qF.Yn)(t,"palette.".concat(r),!1)||n.color,o=(0,qF.Yn)(t,"palette.".concat(r,"Channel"));return"vars"in t&&o?"rgba(".concat(o," / 0.4)"):(0,J.X4)(i,.4)},HF=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],GF=Ne(Be,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["underline".concat(De(n.underline))],"button"===n.component&&t.button]}})((e=>{let{theme:t,ownerState:n}=e;return(0,a.A)({},"none"===n.underline&&{textDecoration:"none"},"hover"===n.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===n.underline&&(0,a.A)({textDecoration:"underline"},"inherit"!==n.color&&{textDecorationColor:KF({theme:t,ownerState:n})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===n.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(BF.focusVisible)]:{outline:"auto"}})})),QF=t.forwardRef((function(e,n){const r=Pe({props:e,name:"MuiLink"}),{className:i,color:o="primary",component:l="a",onBlur:u,onFocus:d,TypographyClasses:h,underline:f="always",variant:p="inherit",sx:g}=r,v=(0,s.A)(r,HF),{isFocusVisibleRef:y,onBlur:w,onFocus:b,ref:_}=oO(),[S,I]=t.useState(!1),k=BR(n,_),E=(0,a.A)({},r,{color:o,component:l,focusVisible:S,underline:f,variant:p}),x=(e=>{const{classes:t,component:n,focusVisible:r,underline:i}=e;return m({root:["root","underline".concat(De(i)),"button"===n&&"button",r&&"focusVisible"]},VF,t)})(E);return(0,U.jsx)(GF,(0,a.A)({color:o,className:c(x.root,i),classes:h,component:l,onBlur:e=>{w(e),!1===y.current&&I(!1),u&&u(e)},onFocus:e=>{b(e),!0===y.current&&I(!0),d&&d(e)},ref:k,ownerState:E,variant:p,sx:[...Object.keys(WF).includes(o)?[]:[{color:o}],...Array.isArray(g)?g:[g]]},v))})),$F=QF,JF=()=>(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(Qe,{sx:{display:"inline-block"},children:(0,U.jsxs)($F,{href:"https://github.com/Jake-Yeo/type-runner",underline:"none",sx:{paddingLeft:"10px",paddingBottom:"10px",color:"#18122B",flex:"1",display:"flex",width:"fit-content",alignItems:"center",flexDirection:"row","&:hover":{color:"white"}},children:[lt(30,30,"./svgFiles/githubColor.svg"),"\xa0GitHub"]})})}),YF=()=>(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(Oe,{direction:"column",justifyContent:"space-between",height:"100vh",width:"100vw",sx:{overflowX:"hidden",position:"relative"},children:[(0,U.jsxs)(UR,{container:!0,direction:"column",justifyContent:"space-between",width:"100vw",children:[(0,U.jsx)(FF,{}),(0,U.jsx)(RL,{})]}),(0,U.jsxs)(UR,{item:!0,sx:{position:"relative"},children:[(0,U.jsx)(JF,{}),(0,U.jsxs)(Qe,{sx:{position:"absolute",bottom:0,width:"100vw",margin:0,padding:0,zIndex:-1},children:[at("7vh",.25,"forwards",8,jF),at("10vh",.25,"forwards",5,UF),at("13vh",.25,"backwards",9,UF),at("15vh",.25,"backwards",11,jF),at("10vh",.25,"forwards",8,UF),at("16vh",.25,"forwards",15,UF)]})]})]})});new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(sj){}new Map;const XF=r.startTransition;UM.flushSync,r.useId;function ZF(e){let{basename:n,children:r,future:i,window:o}=e,s=t.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:o,v5Compat:!0})&&(a={}),cP((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return sP("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:aP(t)}),null,a)));let l=s.current,[c,u]=t.useState({action:l.action,location:l.location}),{v7_startTransition:d}=i||{},h=t.useCallback((e=>{d&&XF?XF((()=>u(e))):u(e)}),[u,d]);return t.useLayoutEffect((()=>l.listen(h)),[l,h]),t.createElement(aR,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:i})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var ej,tj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ej||(ej={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(tj||(tj={}));const nj=()=>{const[e,n]=(0,t.useState)([]);return(0,t.useEffect)((()=>{setTimeout((()=>{n([...e,ut()])}),300)}),[e]),(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(Oe,{direction:"column",justifyContent:"space-between",alignItems:"center",height:"100vh",width:"100vw",sx:{overflowX:"hidden",position:"relative"},children:[(0,U.jsx)(UR,{item:!0,children:(0,U.jsxs)(Oe,{direction:"column",alignItems:"center",justifyContent:"center",children:[(0,U.jsx)(Qe,{style:{height:"30vh",zIndex:1}}),st(45),null!=XN.currentUser?(0,U.jsx)(JO,{sx:{color:"white",backgroundColor:"#292140",borderRadius:"20px",width:"min-content","&:hover":{backgroundColor:"#393055"}},onClick:()=>{fR()},children:"Logout"}):(0,U.jsx)(JO,{sx:{color:"white",backgroundColor:"#292140",borderRadius:"20px",width:"min-content","&:hover":{backgroundColor:"#393055"}},onClick:async()=>{await dR()},children:"Signup/Login with Google"}),(0,U.jsx)("div",{style:{height:"10px"}}),(0,U.jsx)(MF,{})]})}),(0,U.jsx)(UR,{item:!0,sx:{position:"absolute",bottom:0,width:"100vw",height:"100vh",margin:0,padding:0,zIndex:-2},children:(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(Qe,{sx:{position:"fixed",width:"100vw",height:"100vh"},children:e})})}),(0,U.jsx)(UR,{item:!0,sx:{position:"relative",width:"100vw"},children:(0,U.jsxs)(Qe,{sx:{position:"absolute",bottom:0,width:"100vw",margin:0,padding:0,zIndex:-1},children:[at("10vh",.25,"forwards",8,jF),at("15vh",.25,"forwards",5,UF),at("18vh",.25,"backwards",9,UF),at("20vh",.25,"backwards",11,jF),at("15vh",.25,"forwards",8,UF),at("25vh",.25,"forwards",15,UF)]})})]})})},rj=()=>(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(Oe,{justifyContent:"center",alignItems:"center",sx:{width:"100vw",height:"100vh"},children:[(0,U.jsx)(Be,{color:"white",fontSize:65,children:"Loading..."}),(0,U.jsx)(Qe,{sx:{backgroundImage:'url("./svgFiles/infinite-spinner.svg")',backgroundSize:"contain",backgroundRepeat:"no-repeat",width:"".concat(65,"vw"),height:"".concat(32.5,"vw")}})]})});const ij=function(){const e=(0,t.useContext)(NL);return(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(ZF,{children:[(0,U.jsx)(uR,{}),(0,U.jsxs)(lR,{children:[(0,U.jsx)(sR,{index:!0,element:(0,U.jsx)(YF,{})}),(0,U.jsx)(sR,{path:"/TypingPage",element:(0,U.jsx)(YF,{})}),(0,U.jsx)(sR,{path:"/HistoryPage",element:(0,U.jsx)(NL.Provider,{value:e,children:(0,U.jsx)(zF,{})})}),(0,U.jsx)(sR,{path:"/SignupLoginPage",element:(0,U.jsx)(nj,{})}),(0,U.jsx)(sR,{path:"/LoadingPage",element:(0,U.jsx)(rj,{})}),(0,U.jsx)(sR,{path:"*",element:"404 error"})]})]})})},oj=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:s}=t;n(e),r(e),i(e),o(e),s(e)}))};i.createRoot(document.getElementById("root")).render((0,U.jsx)(ij,{})),oj()})()})();
//# sourceMappingURL=main.e9643e8c.js.map